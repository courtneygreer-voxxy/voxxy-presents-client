var eA=Object.defineProperty;var tA=(t,e,n)=>e in t?eA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hx=(t,e,n)=>tA(t,typeof e!="symbol"?e+"":e,n);function nA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function nb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rb={exports:{}},Ph={},sb={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),rA=Symbol.for("react.portal"),sA=Symbol.for("react.fragment"),iA=Symbol.for("react.strict_mode"),oA=Symbol.for("react.profiler"),aA=Symbol.for("react.provider"),lA=Symbol.for("react.context"),cA=Symbol.for("react.forward_ref"),uA=Symbol.for("react.suspense"),dA=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),fx=Symbol.iterator;function fA(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob=Object.assign,ab={};function ma(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||ib}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lb(){}lb.prototype=ma.prototype;function Zg(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||ib}var ey=Zg.prototype=new lb;ey.constructor=Zg;ob(ey,ma.prototype);ey.isPureReactComponent=!0;var px=Array.isArray,cb=Object.prototype.hasOwnProperty,ty={current:null},ub={key:!0,ref:!0,__self:!0,__source:!0};function db(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cb.call(e,r)&&!ub.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tc,type:t,key:i,ref:o,props:s,_owner:ty.current}}function pA(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ny(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function mA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mx=/\/+/g;function ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mA(""+t.key):e.toString(36)}function td(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tc:case rA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ip(o,0):r,px(s)?(n="",t!=null&&(n=t.replace(mx,"$&/")+"/"),td(s,e,n,"",function(d){return d})):s!=null&&(ny(s)&&(s=pA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",px(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+ip(i,a);o+=td(i,e,n,c,s)}else if(c=fA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+ip(i,a++),o+=td(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return td(t,r,"","",function(i){return e.call(n,i,s++)}),r}function gA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},nd={transition:null},yA={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:nd,ReactCurrentOwner:ty};function hb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!ny(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=ma;_e.Fragment=sA;_e.Profiler=oA;_e.PureComponent=Zg;_e.StrictMode=iA;_e.Suspense=uA;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;_e.act=hb;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ob({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ty.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)cb.call(e,c)&&!ub.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Tc,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:lA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aA,_context:t},t.Consumer=t};_e.createElement=db;_e.createFactory=function(t){var e=db.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:cA,render:t}};_e.isValidElement=ny;_e.lazy=function(t){return{$$typeof:hA,_payload:{_status:-1,_result:t},_init:gA}};_e.memo=function(t,e){return{$$typeof:dA,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=nd.transition;nd.transition={};try{t()}finally{nd.transition=e}};_e.unstable_act=hb;_e.useCallback=function(t,e){return tn.current.useCallback(t,e)};_e.useContext=function(t){return tn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return tn.current.useEffect(t,e)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return tn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};_e.useRef=function(t){return tn.current.useRef(t)};_e.useState=function(t){return tn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";sb.exports=_e;var y=sb.exports;const Y=nb(y),fb=nA({__proto__:null,default:Y},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=y,wA=Symbol.for("react.element"),xA=Symbol.for("react.fragment"),_A=Object.prototype.hasOwnProperty,EA=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bA={key:!0,ref:!0,__self:!0,__source:!0};function pb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_A.call(e,r)&&!bA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wA,type:t,key:i,ref:o,props:s,_owner:EA.current}}Ph.Fragment=xA;Ph.jsx=pb;Ph.jsxs=pb;rb.exports=Ph;var l=rb.exports,mb={exports:{}},Sn={},gb={exports:{}},yb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var W=V.length;V.push(L);e:for(;0<W;){var ee=W-1>>>1,ie=V[ee];if(0<s(ie,L))V[ee]=L,V[W]=ie,W=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],W=V.pop();if(W!==L){V[0]=W;e:for(var ee=0,ie=V.length,z=ie>>>1;ee<z;){var ce=2*(ee+1)-1,we=V[ce],be=ce+1,re=V[be];if(0>s(we,W))be<ie&&0>s(re,we)?(V[ee]=re,V[be]=W,ee=be):(V[ee]=we,V[ce]=W,ee=ce);else if(be<ie&&0>s(re,W))V[ee]=re,V[be]=W,ee=be;else break e}}return L}function s(V,L){var W=V.sortIndex-L.sortIndex;return W!==0?W:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,v=!1,_=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=V)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function P(V){if(g=!1,b(V),!_)if(n(c)!==null)_=!0,q(D);else{var L=n(d);L!==null&&Z(P,L.startTime-V)}}function D(V,L){_=!1,g&&(g=!1,w(T),T=-1),v=!0;var W=p;try{for(b(L),f=n(c);f!==null&&(!(f.expirationTime>L)||V&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,p=f.priorityLevel;var ie=ee(f.expirationTime<=L);L=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(c)&&r(c),b(L)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var ce=n(d);ce!==null&&Z(P,ce.startTime-L),z=!1}return z}finally{f=null,p=W,v=!1}}var O=!1,k=null,T=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function j(){if(k!==null){var V=t.unstable_now();N=V;var L=!0;try{L=k(!0,V)}finally{L?A():(O=!1,k=null)}}else O=!1}var A;if(typeof x=="function")A=function(){x(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=j,A=function(){J.postMessage(null)}}else A=function(){S(j,0)};function q(V){k=V,O||(O=!0,A())}function Z(V,L){T=S(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,q(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var W=p;p=L;try{return V()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=p;p=V;try{return L()}finally{p=W}},t.unstable_scheduleCallback=function(V,L,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,V){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,V={id:h++,callback:L,priorityLevel:V,startTime:W,expirationTime:ie,sortIndex:-1},W>ee?(V.sortIndex=W,e(d,V),n(c)===null&&V===n(d)&&(g?(w(T),T=-1):g=!0,Z(P,W-ee))):(V.sortIndex=ie,e(c,V),_||v||(_=!0,q(D))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var L=p;return function(){var W=p;p=L;try{return V.apply(this,arguments)}finally{p=W}}}})(yb);gb.exports=yb;var SA=gb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA=y,bn=SA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vb=new Set,Bl={};function Ji(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(Bl[t]=e,t=0;t<e.length;t++)vb.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,CA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gx={},yx={};function IA(t){return hm.call(yx,t)?!0:hm.call(gx,t)?!1:CA.test(t)?yx[t]=!0:(gx[t]=!0,!1)}function kA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NA(t,e,n,r){if(e===null||typeof e>"u"||kA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ry=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ry,sy);Ot[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ry,sy);Ot[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ry,sy);Ot[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function iy(t,e,n,r){var s=Ot.hasOwnProperty(e)?Ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NA(e,n,s,r)&&(n=null),r||s===null?IA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=TA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),To=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),wb=Symbol.for("react.provider"),xb=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),_b=Symbol.for("react.offscreen"),vx=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=vx&&t[vx]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,op;function ll(t){if(op===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);op=e&&e[1]||""}return`
`+op+t}var ap=!1;function lp(t,e){if(!t||ap)return"";ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ll(t):""}function RA(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=lp(t.type,!1),t;case 11:return t=lp(t.type.render,!1),t;case 1:return t=lp(t.type,!0),t;default:return""}}function gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case To:return"Portal";case fm:return"Profiler";case oy:return"StrictMode";case pm:return"Suspense";case mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xb:return(t.displayName||"Context")+".Consumer";case wb:return(t._context.displayName||"Context")+".Provider";case ay:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ly:return e=t.displayName||null,e!==null?e:gm(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return gm(t(e))}catch{}}return null}function PA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(e);case 8:return e===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AA(t){var e=Eb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Su(t){t._valueTracker||(t._valueTracker=AA(t))}function bb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Eb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ym(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sb(t,e){e=e.checked,e!=null&&iy(t,"checked",e,!1)}function vm(t,e){Sb(t,e);var n=qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&wm(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wm(t,e,n){(e!=="number"||Nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cl=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _x(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(cl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qs(n)}}function Tb(t,e){var n=qs(e.value),r=qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ex(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,Ib=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DA=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){DA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function kb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function Nb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jA=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(t,e){if(e){if(jA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=null;function cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tm=null,Fo=null,Uo=null;function bx(t){if(t=kc(t)){if(typeof Tm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Mh(e),Tm(t.stateNode,t.type,e))}}function Rb(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function Pb(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,bx(t),e)for(t=0;t<e.length;t++)bx(e[t])}}function Ab(t,e){return t(e)}function Db(){}var cp=!1;function jb(t,e,n){if(cp)return t(e,n);cp=!0;try{return Ab(t,e,n)}finally{cp=!1,(Fo!==null||Uo!==null)&&(Db(),Pb())}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Cm=!1;if(Jr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Cm=!1}function OA(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Tl=!1,Rd=null,Pd=!1,Im=null,MA={onError:function(t){Tl=!0,Rd=t}};function LA(t,e,n,r,s,i,o,a,c){Tl=!1,Rd=null,OA.apply(MA,arguments)}function VA(t,e,n,r,s,i,o,a,c){if(LA.apply(this,arguments),Tl){if(Tl){var d=Rd;Tl=!1,Rd=null}else throw Error(H(198));Pd||(Pd=!0,Im=d)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ob(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sx(t){if(Zi(t)!==t)throw Error(H(188))}function FA(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sx(s),t;if(i===r)return Sx(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Mb(t){return t=FA(t),t!==null?Lb(t):null}function Lb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lb(t);if(e!==null)return e;t=t.sibling}return null}var Vb=bn.unstable_scheduleCallback,Tx=bn.unstable_cancelCallback,UA=bn.unstable_shouldYield,$A=bn.unstable_requestPaint,ct=bn.unstable_now,BA=bn.unstable_getCurrentPriorityLevel,uy=bn.unstable_ImmediatePriority,Fb=bn.unstable_UserBlockingPriority,Ad=bn.unstable_NormalPriority,zA=bn.unstable_LowPriority,Ub=bn.unstable_IdlePriority,Ah=null,fr=null;function WA(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ah,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:GA,HA=Math.log,qA=Math.LN2;function GA(t){return t>>>=0,t===0?32:31-(HA(t)/qA|0)|0}var Cu=64,Iu=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ul(a):(i&=o,i!==0&&(r=ul(i)))}else o=n&~s,o!==0?r=ul(o):i!==0&&(r=ul(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),s=1<<n,r|=t[n],e&=~s;return r}function KA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=KA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $b(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function QA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function Bb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zb,hy,Wb,Hb,qb,Nm=!1,ku=[],Ds=null,js=null,Os=null,Hl=new Map,ql=new Map,Ss=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cx(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Xa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kc(e),e!==null&&hy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JA(t,e,n,r,s){switch(e){case"focusin":return Ds=Xa(Ds,t,e,n,r,s),!0;case"dragenter":return js=Xa(js,t,e,n,r,s),!0;case"mouseover":return Os=Xa(Os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,Xa(Hl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ql.set(i,Xa(ql.get(i)||null,t,e,n,r,s)),!0}return!1}function Gb(t){var e=Ii(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=Ob(n),e!==null){t.blockedOn=e,qb(t.priority,function(){Wb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sm=r,n.target.dispatchEvent(r),Sm=null}else return e=kc(n),e!==null&&hy(e),t.blockedOn=n,!1;e.shift()}return!0}function Ix(t,e,n){rd(t)&&n.delete(e)}function ZA(){Nm=!1,Ds!==null&&rd(Ds)&&(Ds=null),js!==null&&rd(js)&&(js=null),Os!==null&&rd(Os)&&(Os=null),Hl.forEach(Ix),ql.forEach(Ix)}function Ja(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,ZA)))}function Gl(t){function e(s){return Ja(s,t)}if(0<ku.length){Ja(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&Ja(Ds,t),js!==null&&Ja(js,t),Os!==null&&Ja(Os,t),Hl.forEach(e),ql.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)Gb(n),n.blockedOn===null&&Ss.shift()}var $o=us.ReactCurrentBatchConfig,jd=!0;function e2(t,e,n,r){var s=Ue,i=$o.transition;$o.transition=null;try{Ue=1,fy(t,e,n,r)}finally{Ue=s,$o.transition=i}}function t2(t,e,n,r){var s=Ue,i=$o.transition;$o.transition=null;try{Ue=4,fy(t,e,n,r)}finally{Ue=s,$o.transition=i}}function fy(t,e,n,r){if(jd){var s=Rm(t,e,n,r);if(s===null)xp(t,e,r,Od,n),Cx(t,r);else if(JA(s,t,e,n,r))r.stopPropagation();else if(Cx(t,r),e&4&&-1<XA.indexOf(t)){for(;s!==null;){var i=kc(s);if(i!==null&&zb(i),i=Rm(t,e,n,r),i===null&&xp(t,e,r,Od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xp(t,e,r,null,n)}}var Od=null;function Rm(t,e,n,r){if(Od=null,t=cy(r),t=Ii(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ob(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function Kb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BA()){case uy:return 1;case Fb:return 4;case Ad:case zA:return 16;case Ub:return 536870912;default:return 16}default:return 16}}var Rs=null,py=null,sd=null;function Yb(){if(sd)return sd;var t,e=py,n=e.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return sd=s.slice(t,1<r?1-r:void 0)}function id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function kx(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nu:kx,this.isPropagationStopped=kx,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=Tn(ga),Ic=st({},ga,{view:0,detail:0}),n2=Tn(Ic),dp,hp,Za,Dh=st({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(dp=t.screenX-Za.screenX,hp=t.screenY-Za.screenY):hp=dp=0,Za=t),dp)},movementY:function(t){return"movementY"in t?t.movementY:hp}}),Nx=Tn(Dh),r2=st({},Dh,{dataTransfer:0}),s2=Tn(r2),i2=st({},Ic,{relatedTarget:0}),fp=Tn(i2),o2=st({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),a2=Tn(o2),l2=st({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c2=Tn(l2),u2=st({},ga,{data:0}),Rx=Tn(u2),d2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f2[t])?!!e[t]:!1}function gy(){return p2}var m2=st({},Ic,{key:function(t){if(t.key){var e=d2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(t){return t.type==="keypress"?id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g2=Tn(m2),y2=st({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=Tn(y2),v2=st({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),w2=Tn(v2),x2=st({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),_2=Tn(x2),E2=st({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b2=Tn(E2),S2=[9,13,27,32],yy=Jr&&"CompositionEvent"in window,Cl=null;Jr&&"documentMode"in document&&(Cl=document.documentMode);var T2=Jr&&"TextEvent"in window&&!Cl,Qb=Jr&&(!yy||Cl&&8<Cl&&11>=Cl),Ax=" ",Dx=!1;function Xb(t,e){switch(t){case"keyup":return S2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function C2(t,e){switch(t){case"compositionend":return Jb(e);case"keypress":return e.which!==32?null:(Dx=!0,Ax);case"textInput":return t=e.data,t===Ax&&Dx?null:t;default:return null}}function I2(t,e){if(Io)return t==="compositionend"||!yy&&Xb(t,e)?(t=Yb(),sd=py=Rs=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qb&&e.locale!=="ko"?null:e.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k2[t.type]:e==="textarea"}function Zb(t,e,n,r){Rb(r),e=Md(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Il=null,Kl=null;function N2(t){uS(t,0)}function jh(t){var e=Ro(t);if(bb(e))return t}function R2(t,e){if(t==="change")return e}var eS=!1;if(Jr){var pp;if(Jr){var mp="oninput"in document;if(!mp){var Ox=document.createElement("div");Ox.setAttribute("oninput","return;"),mp=typeof Ox.oninput=="function"}pp=mp}else pp=!1;eS=pp&&(!document.documentMode||9<document.documentMode)}function Mx(){Il&&(Il.detachEvent("onpropertychange",tS),Kl=Il=null)}function tS(t){if(t.propertyName==="value"&&jh(Kl)){var e=[];Zb(e,Kl,t,cy(t)),jb(N2,e)}}function P2(t,e,n){t==="focusin"?(Mx(),Il=e,Kl=n,Il.attachEvent("onpropertychange",tS)):t==="focusout"&&Mx()}function A2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jh(Kl)}function D2(t,e){if(t==="click")return jh(e)}function j2(t,e){if(t==="input"||t==="change")return jh(e)}function O2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:O2;function Yl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hm.call(e,s)||!Yn(t[s],e[s]))return!1}return!0}function Lx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vx(t,e){var n=Lx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lx(n)}}function nS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rS(){for(var t=window,e=Nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nd(t.document)}return e}function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M2(t){var e=rS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nS(n.ownerDocument.documentElement,n)){if(r!==null&&vy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Vx(n,i);var o=Vx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L2=Jr&&"documentMode"in document&&11>=document.documentMode,ko=null,Pm=null,kl=null,Am=!1;function Fx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Am||ko==null||ko!==Nd(r)||(r=ko,"selectionStart"in r&&vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Yl(kl,r)||(kl=r,r=Md(Pm,"onSelect"),0<r.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ko)))}function Ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var No={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},gp={},sS={};Jr&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Oh(t){if(gp[t])return gp[t];if(!No[t])return t;var e=No[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sS)return gp[t]=e[n];return t}var iS=Oh("animationend"),oS=Oh("animationiteration"),aS=Oh("animationstart"),lS=Oh("transitionend"),cS=new Map,Ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){cS.set(t,e),Ji(e,[t])}for(var yp=0;yp<Ux.length;yp++){var vp=Ux[yp],V2=vp.toLowerCase(),F2=vp[0].toUpperCase()+vp.slice(1);ii(V2,"on"+F2)}ii(iS,"onAnimationEnd");ii(oS,"onAnimationIteration");ii(aS,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(lS,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U2=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function $x(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VA(r,e,void 0,t),t.currentTarget=null}function uS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;$x(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;$x(s,a,d),i=c}}}if(Pd)throw t=Im,Pd=!1,Im=null,t}function Ke(t,e){var n=e[Lm];n===void 0&&(n=e[Lm]=new Set);var r=t+"__bubble";n.has(r)||(dS(e,t,2,!1),n.add(r))}function wp(t,e,n){var r=0;e&&(r|=4),dS(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[Pu]){t[Pu]=!0,vb.forEach(function(n){n!=="selectionchange"&&(U2.has(n)||wp(n,!1,t),wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,wp("selectionchange",!1,e))}}function dS(t,e,n,r){switch(Kb(e)){case 1:var s=e2;break;case 4:s=t2;break;default:s=fy}n=s.bind(null,e,n,t),s=void 0,!Cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ii(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}jb(function(){var d=i,h=cy(n),f=[];e:{var p=cS.get(t);if(p!==void 0){var v=my,_=t;switch(t){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":v=g2;break;case"focusin":_="focus",v=fp;break;case"focusout":_="blur",v=fp;break;case"beforeblur":case"afterblur":v=fp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=s2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=w2;break;case iS:case oS:case aS:v=a2;break;case lS:v=_2;break;case"scroll":v=n2;break;case"wheel":v=b2;break;case"copy":case"cut":case"paste":v=c2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Px}var g=(e&4)!==0,S=!g&&t==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,b;x!==null;){b=x;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,w!==null&&(P=Wl(x,w),P!=null&&g.push(Xl(x,P,b)))),S)break;x=x.return}0<g.length&&(p=new v(p,_,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Sm&&(_=n.relatedTarget||n.fromElement)&&(Ii(_)||_[Zr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=d,_=_?Ii(_):null,_!==null&&(S=Zi(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=d),v!==_)){if(g=Nx,P="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=Px,P="onPointerLeave",w="onPointerEnter",x="pointer"),S=v==null?p:Ro(v),b=_==null?p:Ro(_),p=new g(P,x+"leave",v,n,h),p.target=S,p.relatedTarget=b,P=null,Ii(h)===d&&(g=new g(w,x+"enter",_,n,h),g.target=b,g.relatedTarget=S,P=g),S=P,v&&_)t:{for(g=v,w=_,x=0,b=g;b;b=po(b))x++;for(b=0,P=w;P;P=po(P))b++;for(;0<x-b;)g=po(g),x--;for(;0<b-x;)w=po(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=po(g),w=po(w)}g=null}else g=null;v!==null&&Bx(f,p,v,g,!1),_!==null&&S!==null&&Bx(f,S,_,g,!0)}}e:{if(p=d?Ro(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var D=R2;else if(jx(p))if(eS)D=j2;else{D=A2;var O=P2}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=D2);if(D&&(D=D(t,d))){Zb(f,D,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&wm(p,"number",p.value)}switch(O=d?Ro(d):window,t){case"focusin":(jx(O)||O.contentEditable==="true")&&(ko=O,Pm=d,kl=null);break;case"focusout":kl=Pm=ko=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Fx(f,n,h);break;case"selectionchange":if(L2)break;case"keydown":case"keyup":Fx(f,n,h)}var k;if(yy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Io?Xb(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Qb&&n.locale!=="ko"&&(Io||T!=="onCompositionStart"?T==="onCompositionEnd"&&Io&&(k=Yb()):(Rs=h,py="value"in Rs?Rs.value:Rs.textContent,Io=!0)),O=Md(d,T),0<O.length&&(T=new Rx(T,t,null,n,h),f.push({event:T,listeners:O}),k?T.data=k:(k=Jb(n),k!==null&&(T.data=k)))),(k=T2?C2(t,n):I2(t,n))&&(d=Md(d,"onBeforeInput"),0<d.length&&(h=new Rx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=k))}uS(f,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Md(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wl(t,n),i!=null&&r.unshift(Xl(t,i,s)),i=Wl(t,e),i!=null&&r.push(Xl(t,i,s))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Wl(n,i),c!=null&&o.unshift(Xl(n,c,a))):s||(c=Wl(n,i),c!=null&&o.push(Xl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $2=/\r\n?/g,B2=/\u0000|\uFFFD/g;function zx(t){return(typeof t=="string"?t:""+t).replace($2,`
`).replace(B2,"")}function Au(t,e,n){if(e=zx(e),zx(t)!==e&&n)throw Error(H(425))}function Ld(){}var Dm=null,jm=null;function Om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,z2=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,W2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(t){return Wx.resolve(null).then(t).catch(H2)}:Mm;function H2(t){setTimeout(function(){throw t})}function _p(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gl(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),cr="__reactFiber$"+ya,Jl="__reactProps$"+ya,Zr="__reactContainer$"+ya,Lm="__reactEvents$"+ya,q2="__reactListeners$"+ya,G2="__reactHandles$"+ya;function Ii(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hx(t);t!==null;){if(n=t[cr])return n;t=Hx(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[cr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Mh(t){return t[Jl]||null}var Vm=[],Po=-1;function oi(t){return{current:t}}function Xe(t){0>Po||(t.current=Vm[Po],Vm[Po]=null,Po--)}function He(t,e){Po++,Vm[Po]=t.current,t.current=e}var Gs={},Gt=oi(Gs),ln=oi(!1),Oi=Gs;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cn(t){return t=t.childContextTypes,t!=null}function Vd(){Xe(ln),Xe(Gt)}function qx(t,e,n){if(Gt.current!==Gs)throw Error(H(168));He(Gt,e),He(ln,n)}function hS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,PA(t)||"Unknown",s));return st({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,Oi=Gt.current,He(Gt,t),He(ln,ln.current),!0}function Gx(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=hS(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Xe(ln),Xe(Gt),He(Gt,t)):Xe(ln),He(ln,n)}var Vr=null,Lh=!1,Ep=!1;function fS(t){Vr===null?Vr=[t]:Vr.push(t)}function K2(t){Lh=!0,fS(t)}function ai(){if(!Ep&&Vr!==null){Ep=!0;var t=0,e=Ue;try{var n=Vr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,Lh=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(t+1)),Vb(uy,ai),s}finally{Ue=e,Ep=!1}}return null}var Ao=[],Do=0,Ud=null,$d=0,kn=[],Nn=0,Mi=null,Fr=1,Ur="";function bi(t,e){Ao[Do++]=$d,Ao[Do++]=Ud,Ud=t,$d=e}function pS(t,e,n){kn[Nn++]=Fr,kn[Nn++]=Ur,kn[Nn++]=Mi,Mi=t;var r=Fr;t=Ur;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fr=1<<32-qn(e)+s|n<<s|r,Ur=i+t}else Fr=1<<i|n<<s|r,Ur=t}function wy(t){t.return!==null&&(bi(t,1),pS(t,1,0))}function xy(t){for(;t===Ud;)Ud=Ao[--Do],Ao[Do]=null,$d=Ao[--Do],Ao[Do]=null;for(;t===Mi;)Mi=kn[--Nn],kn[Nn]=null,Ur=kn[--Nn],kn[Nn]=null,Fr=kn[--Nn],kn[Nn]=null}var xn=null,vn=null,Je=!1,zn=null;function mS(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,vn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:Fr,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,vn=null,!0):!1;default:return!1}}function Fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Um(t){if(Je){var e=vn;if(e){var n=e;if(!Kx(t,e)){if(Fm(t))throw Error(H(418));e=Ms(n.nextSibling);var r=xn;e&&Kx(t,e)?mS(r,n):(t.flags=t.flags&-4097|2,Je=!1,xn=t)}}else{if(Fm(t))throw Error(H(418));t.flags=t.flags&-4097|2,Je=!1,xn=t}}}function Yx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function Du(t){if(t!==xn)return!1;if(!Je)return Yx(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Om(t.type,t.memoizedProps)),e&&(e=vn)){if(Fm(t))throw gS(),Error(H(418));for(;e;)mS(t,e),e=Ms(e.nextSibling)}if(Yx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=xn?Ms(t.stateNode.nextSibling):null;return!0}function gS(){for(var t=vn;t;)t=Ms(t.nextSibling)}function ea(){vn=xn=null,Je=!1}function _y(t){zn===null?zn=[t]:zn.push(t)}var Y2=us.ReactCurrentBatchConfig;function el(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qx(t){var e=t._init;return e(t._payload)}function yS(t){function e(w,x){if(t){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Us(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,b,P){return x===null||x.tag!==6?(x=Np(b,w.mode,P),x.return=w,x):(x=s(x,b),x.return=w,x)}function c(w,x,b,P){var D=b.type;return D===Co?h(w,x,b.props.children,P,b.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&Qx(D)===x.type)?(P=s(x,b.props),P.ref=el(w,x,b),P.return=w,P):(P=hd(b.type,b.key,b.props,null,w.mode,P),P.ref=el(w,x,b),P.return=w,P)}function d(w,x,b,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Rp(b,w.mode,P),x.return=w,x):(x=s(x,b.children||[]),x.return=w,x)}function h(w,x,b,P,D){return x===null||x.tag!==7?(x=Di(b,w.mode,P,D),x.return=w,x):(x=s(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Np(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bu:return b=hd(x.type,x.key,x.props,null,w.mode,b),b.ref=el(w,null,x),b.return=w,b;case To:return x=Rp(x,w.mode,b),x.return=w,x;case Es:var P=x._init;return f(w,P(x._payload),b)}if(cl(x)||Ya(x))return x=Di(x,w.mode,b,null),x.return=w,x;ju(w,x)}return null}function p(w,x,b,P){var D=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(w,x,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:return b.key===D?c(w,x,b,P):null;case To:return b.key===D?d(w,x,b,P):null;case Es:return D=b._init,p(w,x,D(b._payload),P)}if(cl(b)||Ya(b))return D!==null?null:h(w,x,b,P,null);ju(w,b)}return null}function v(w,x,b,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(b)||null,a(x,w,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case bu:return w=w.get(P.key===null?b:P.key)||null,c(x,w,P,D);case To:return w=w.get(P.key===null?b:P.key)||null,d(x,w,P,D);case Es:var O=P._init;return v(w,x,b,O(P._payload),D)}if(cl(P)||Ya(P))return w=w.get(b)||null,h(x,w,P,D,null);ju(x,P)}return null}function _(w,x,b,P){for(var D=null,O=null,k=x,T=x=0,C=null;k!==null&&T<b.length;T++){k.index>T?(C=k,k=null):C=k.sibling;var N=p(w,k,b[T],P);if(N===null){k===null&&(k=C);break}t&&k&&N.alternate===null&&e(w,k),x=i(N,x,T),O===null?D=N:O.sibling=N,O=N,k=C}if(T===b.length)return n(w,k),Je&&bi(w,T),D;if(k===null){for(;T<b.length;T++)k=f(w,b[T],P),k!==null&&(x=i(k,x,T),O===null?D=k:O.sibling=k,O=k);return Je&&bi(w,T),D}for(k=r(w,k);T<b.length;T++)C=v(k,w,T,b[T],P),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?T:C.key),x=i(C,x,T),O===null?D=C:O.sibling=C,O=C);return t&&k.forEach(function(I){return e(w,I)}),Je&&bi(w,T),D}function g(w,x,b,P){var D=Ya(b);if(typeof D!="function")throw Error(H(150));if(b=D.call(b),b==null)throw Error(H(151));for(var O=D=null,k=x,T=x=0,C=null,N=b.next();k!==null&&!N.done;T++,N=b.next()){k.index>T?(C=k,k=null):C=k.sibling;var I=p(w,k,N.value,P);if(I===null){k===null&&(k=C);break}t&&k&&I.alternate===null&&e(w,k),x=i(I,x,T),O===null?D=I:O.sibling=I,O=I,k=C}if(N.done)return n(w,k),Je&&bi(w,T),D;if(k===null){for(;!N.done;T++,N=b.next())N=f(w,N.value,P),N!==null&&(x=i(N,x,T),O===null?D=N:O.sibling=N,O=N);return Je&&bi(w,T),D}for(k=r(w,k);!N.done;T++,N=b.next())N=v(k,w,T,N.value,P),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?T:N.key),x=i(N,x,T),O===null?D=N:O.sibling=N,O=N);return t&&k.forEach(function(j){return e(w,j)}),Je&&bi(w,T),D}function S(w,x,b,P){if(typeof b=="object"&&b!==null&&b.type===Co&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:e:{for(var D=b.key,O=x;O!==null;){if(O.key===D){if(D=b.type,D===Co){if(O.tag===7){n(w,O.sibling),x=s(O,b.props.children),x.return=w,w=x;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&Qx(D)===O.type){n(w,O.sibling),x=s(O,b.props),x.ref=el(w,O,b),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}b.type===Co?(x=Di(b.props.children,w.mode,P,b.key),x.return=w,w=x):(P=hd(b.type,b.key,b.props,null,w.mode,P),P.ref=el(w,x,b),P.return=w,w=P)}return o(w);case To:e:{for(O=b.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=s(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Rp(b,w.mode,P),x.return=w,w=x}return o(w);case Es:return O=b._init,S(w,x,O(b._payload),P)}if(cl(b))return _(w,x,b,P);if(Ya(b))return g(w,x,b,P);ju(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,b),x.return=w,w=x):(n(w,x),x=Np(b,w.mode,P),x.return=w,w=x),o(w)):n(w,x)}return S}var ta=yS(!0),vS=yS(!1),Bd=oi(null),zd=null,jo=null,Ey=null;function by(){Ey=jo=zd=null}function Sy(t){var e=Bd.current;Xe(Bd),t._currentValue=e}function $m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){zd=t,Ey=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Ey!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(zd===null)throw Error(H(308));jo=t,zd.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var ki=null;function Ty(t){ki===null?ki=[t]:ki.push(t)}function wS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ty(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function Cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Ty(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}function Xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(p=e,v=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(v,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,p=typeof _=="function"?_.call(v,f,p):_,p==null)break e;f=st({},f,p);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function Jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Nc={},pr=oi(Nc),Zl=oi(Nc),ec=oi(Nc);function Ni(t){if(t===Nc)throw Error(H(174));return t}function Iy(t,e){switch(He(ec,e),He(Zl,t),He(pr,Nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}Xe(pr),He(pr,e)}function na(){Xe(pr),Xe(Zl),Xe(ec)}function _S(t){Ni(ec.current);var e=Ni(pr.current),n=_m(e,t.type);e!==n&&(He(Zl,t),He(pr,n))}function ky(t){Zl.current===t&&(Xe(pr),Xe(Zl))}var tt=oi(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bp=[];function Ny(){for(var t=0;t<bp.length;t++)bp[t]._workInProgressVersionPrimary=null;bp.length=0}var ad=us.ReactCurrentDispatcher,Sp=us.ReactCurrentBatchConfig,Li=0,nt=null,wt=null,Tt=null,qd=!1,Nl=!1,tc=0,Q2=0;function Ft(){throw Error(H(321))}function Ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function Py(t,e,n,r,s,i){if(Li=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ad.current=t===null||t.memoizedState===null?eD:tD,t=n(r,s),Nl){i=0;do{if(Nl=!1,tc=0,25<=i)throw Error(H(301));i+=1,Tt=wt=null,e.updateQueue=null,ad.current=nD,t=n(r,s)}while(Nl)}if(ad.current=Gd,e=wt!==null&&wt.next!==null,Li=0,Tt=wt=nt=null,qd=!1,e)throw Error(H(300));return t}function Ay(){var t=tc!==0;return tc=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Mn(){if(wt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Tt===null?nt.memoizedState:Tt.next;if(e!==null)Tt=e,wt=t;else{if(t===null)throw Error(H(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Tt===null?nt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function nc(t,e){return typeof e=="function"?e(t):e}function Tp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Li&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,nt.lanes|=h,Vi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Yn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,Vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yn(i,e.memoizedState)||(an=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ES(){}function bS(t,e){var n=nt,r=Mn(),s=e(),i=!Yn(r.memoizedState,s);if(i&&(r.memoizedState=s,an=!0),r=r.queue,Dy(CS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,rc(9,TS.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(H(349));Li&30||SS(n,e,s)}return s}function SS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TS(t,e,n,r){e.value=n,e.getSnapshot=r,IS(e)&&kS(t)}function CS(t,e,n){return n(function(){IS(e)&&kS(t)})}function IS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function kS(t){var e=es(t,1);e!==null&&Gn(e,t,1,-1)}function Zx(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:t},e.queue=t,t=t.dispatch=Z2.bind(null,nt,t),[e.memoizedState,t]}function rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NS(){return Mn().memoizedState}function ld(t,e,n,r){var s=or();nt.flags|=t,s.memoizedState=rc(1|e,n,void 0,r===void 0?null:r)}function Vh(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&Ry(r,o.deps)){s.memoizedState=rc(e,n,i,r);return}}nt.flags|=t,s.memoizedState=rc(1|e,n,i,r)}function e_(t,e){return ld(8390656,8,t,e)}function Dy(t,e){return Vh(2048,8,t,e)}function RS(t,e){return Vh(4,2,t,e)}function PS(t,e){return Vh(4,4,t,e)}function AS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DS(t,e,n){return n=n!=null?n.concat([t]):null,Vh(4,4,AS.bind(null,e,t),n)}function jy(){}function jS(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OS(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MS(t,e,n){return Li&21?(Yn(n,e)||(n=$b(),nt.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function X2(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Sp.transition;Sp.transition={};try{t(!1),e()}finally{Ue=n,Sp.transition=r}}function LS(){return Mn().memoizedState}function J2(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VS(t))FS(e,n);else if(n=wS(t,e,n,r),n!==null){var s=Zt();Gn(n,t,r,s),US(n,e,r)}}function Z2(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VS(t))FS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,o)){var c=e.interleaved;c===null?(s.next=s,Ty(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=wS(t,e,s,r),n!==null&&(s=Zt(),Gn(n,t,r,s),US(n,e,r))}}function VS(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function FS(t,e){Nl=qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function US(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}var Gd={readContext:On,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},eD={readContext:On,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:e_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ld(4194308,4,AS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return ld(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J2.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:Zx,useDebugValue:jy,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=Zx(!1),e=t[0];return t=X2.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,s=or();if(Je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ct===null)throw Error(H(349));Li&30||SS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,e_(CS.bind(null,r,i,t),[t]),r.flags|=2048,rc(9,TS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=or(),e=Ct.identifierPrefix;if(Je){var n=Ur,r=Fr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tD={readContext:On,useCallback:jS,useContext:On,useEffect:Dy,useImperativeHandle:DS,useInsertionEffect:RS,useLayoutEffect:PS,useMemo:OS,useReducer:Tp,useRef:NS,useState:function(){return Tp(nc)},useDebugValue:jy,useDeferredValue:function(t){var e=Mn();return MS(e,wt.memoizedState,t)},useTransition:function(){var t=Tp(nc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:ES,useSyncExternalStore:bS,useId:LS,unstable_isNewReconciler:!1},nD={readContext:On,useCallback:jS,useContext:On,useEffect:Dy,useImperativeHandle:DS,useInsertionEffect:RS,useLayoutEffect:PS,useMemo:OS,useReducer:Cp,useRef:NS,useState:function(){return Cp(nc)},useDebugValue:jy,useDeferredValue:function(t){var e=Mn();return wt===null?e.memoizedState=t:MS(e,wt.memoizedState,t)},useTransition:function(){var t=Cp(nc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:ES,useSyncExternalStore:bS,useId:LS,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=Fs(t),i=qr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Gn(e,t,s,r),od(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=Fs(t),i=qr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Gn(e,t,s,r),od(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Fs(t),s=qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Gn(e,t,r,n),od(e,t,r))}};function t_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yl(n,r)||!Yl(s,i):!0}function $S(t,e,n){var r=!1,s=Gs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=cn(e)?Oi:Gt.current,r=e.contextTypes,i=(r=r!=null)?Zo(t,s):Gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function n_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function zm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=cn(e)?Oi:Gt.current,s.context=Zo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fh.enqueueReplaceState(s,s.state,null),Wd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ra(t,e){try{var n="",r=e;do n+=RA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rD=typeof WeakMap=="function"?WeakMap:Map;function BS(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,eg=r),Wm(t,e)},n}function zS(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wm(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function r_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=yD.bind(null,t,e,n),e.then(t,t))}function s_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function i_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var sD=us.ReactCurrentOwner,an=!1;function Jt(t,e,n,r){e.child=t===null?vS(e,null,n,r):ta(e,t.child,n,r)}function o_(t,e,n,r,s){n=n.render;var i=e.ref;return Bo(e,s),r=Py(t,e,n,r,i,s),n=Ay(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Je&&n&&wy(e),e.flags|=1,Jt(t,e,r,s),e.child)}function a_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!By(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WS(t,e,i,r,s)):(t=hd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function WS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Yl(i,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,ts(t,e,s)}return Hm(t,e,n,r,s)}function HS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Mo,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Mo,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(Mo,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He(Mo,fn),fn|=r;return Jt(t,e,s,n),e.child}function qS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hm(t,e,n,r,s){var i=cn(n)?Oi:Gt.current;return i=Zo(e,i),Bo(e,s),n=Py(t,e,n,r,i,s),r=Ay(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Je&&r&&wy(e),e.flags|=1,Jt(t,e,n,s),e.child)}function l_(t,e,n,r,s){if(cn(n)){var i=!0;Fd(e)}else i=!1;if(Bo(e,s),e.stateNode===null)cd(t,e),$S(e,n,r),zm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=cn(n)?Oi:Gt.current,d=Zo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&n_(e,o,r,d),bs=!1;var p=e.memoizedState;o.state=p,Wd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||ln.current||bs?(typeof h=="function"&&(Bm(e,n,h,r),c=e.memoizedState),(a=bs||t_(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:$n(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=On(c):(c=cn(n)?Oi:Gt.current,c=Zo(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&n_(e,o,r,c),bs=!1,p=e.memoizedState,o.state=p,Wd(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||ln.current||bs?(typeof v=="function"&&(Bm(e,n,v,r),_=e.memoizedState),(d=bs||t_(e,n,d,r,p,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return qm(t,e,n,r,i,s)}function qm(t,e,n,r,s,i){qS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gx(e,n,!1),ts(t,e,i);r=e.stateNode,sD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ta(e,t.child,null,i),e.child=ta(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&Gx(e,n,!0),e.child}function GS(t){var e=t.stateNode;e.pendingContext?qx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qx(t,e.context,!1),Iy(t,e.containerInfo)}function c_(t,e,n,r,s){return ea(),_y(s),e.flags|=256,Jt(t,e,n,r),e.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Km(t){return{baseLanes:t,cachePool:null,transitions:null}}function KS(t,e,n){var r=e.pendingProps,s=tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(tt,s&1),t===null)return Um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bh(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Km(n),e.memoizedState=Gm,t):Oy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return iD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Us(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Gm,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oy(t,e){return e=Bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ou(t,e,n,r){return r!==null&&_y(r),ta(e,t.child,null,n),t=Oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ip(Error(H(422))),Ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bh({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ta(e,t.child,null,o),e.child.memoizedState=Km(o),e.memoizedState=Gm,i);if(!(e.mode&1))return Ou(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Ip(i,r,void 0),Ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),Gn(r,t,s,-1))}return $y(),r=Ip(Error(H(421))),Ou(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vn=Ms(s.nextSibling),xn=e,Je=!0,zn=null,t!==null&&(kn[Nn++]=Fr,kn[Nn++]=Ur,kn[Nn++]=Mi,Fr=t.id,Ur=t.overflow,Mi=e),e=Oy(e,r.children),e.flags|=4096,e)}function u_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$m(t.return,e,n)}function kp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function YS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,n,e);else if(t.tag===19)u_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),kp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}kp(e,!0,n,null,i);break;case"together":kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oD(t,e,n){switch(e.tag){case 3:GS(e),ea();break;case 5:_S(e);break;case 1:cn(e.type)&&Fd(e);break;case 4:Iy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(Bd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?KS(t,e,n):(He(tt,tt.current&1),t=ts(t,e,n),t!==null?t.sibling:null);He(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,HS(t,e,n)}return ts(t,e,n)}var QS,Ym,XS,JS;QS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ym=function(){};XS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ni(pr.current);var i=null;switch(n){case"input":s=ym(t,s),r=ym(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=xm(t,s),r=xm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ld)}Em(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ke("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};JS=function(t,e,n,r){n!==r&&(e.flags|=4)};function tl(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aD(t,e,n){var r=e.pendingProps;switch(xy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return cn(e.type)&&Vd(),Ut(e),null;case 3:return r=e.stateNode,na(),Xe(ln),Xe(Gt),Ny(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(rg(zn),zn=null))),Ym(t,e),Ut(e),null;case 5:ky(e);var s=Ni(ec.current);if(n=e.type,t!==null&&e.stateNode!=null)XS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ut(e),null}if(t=Ni(pr.current),Du(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cr]=e,r[Jl]=i,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<dl.length;s++)Ke(dl[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":wx(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":_x(r,i),Ke("invalid",r)}Em(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",""+a]):Bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Su(r),xx(r,i,!0);break;case"textarea":Su(r),Ex(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ld)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[Jl]=r,QS(t,e,!1,!1),e.stateNode=t;e:{switch(o=bm(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),s=r;break;case"iframe":case"object":case"embed":Ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<dl.length;s++)Ke(dl[s],t);s=r;break;case"source":Ke("error",t),s=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),s=r;break;case"details":Ke("toggle",t),s=r;break;case"input":wx(t,r),s=ym(t,r),Ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":_x(t,r),s=xm(t,r),Ke("invalid",t);break;default:s=r}Em(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Nb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ib(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zl(t,c):typeof c=="number"&&zl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",t):c!=null&&iy(t,i,c,o))}switch(n){case"input":Su(t),xx(t,r,!1);break;case"textarea":Su(t),Ex(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)JS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ni(ec.current),Ni(pr.current),Du(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(i=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Xe(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&vn!==null&&e.mode&1&&!(e.flags&128))gS(),ea(),e.flags|=98560,i=!1;else if(i=Du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[cr]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else zn!==null&&(rg(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?xt===0&&(xt=3):$y())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return na(),Ym(t,e),t===null&&Ql(e.stateNode.containerInfo),Ut(e),null;case 10:return Sy(e.type._context),Ut(e),null;case 17:return cn(e.type)&&Vd(),Ut(e),null;case 19:if(Xe(tt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)tl(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hd(t),o!==null){for(e.flags|=128,tl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(tt,tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>sa&&(e.flags|=128,r=!0,tl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return Ut(e),null}else 2*ct()-i.renderingStartTime>sa&&n!==1073741824&&(e.flags|=128,r=!0,tl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=tt.current,He(tt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Uy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function lD(t,e){switch(xy(e),e.tag){case 1:return cn(e.type)&&Vd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(),Xe(ln),Xe(Gt),Ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ky(e),null;case 13:if(Xe(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(tt),null;case 4:return na(),null;case 10:return Sy(e.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var Mu=!1,Wt=!1,cD=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Qm(t,e,n){try{n()}catch(r){at(t,e,r)}}var d_=!1;function uD(t,e){if(Dm=jd,t=rS(),vy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:t,selectionRange:n},jd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,S=_.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:$n(e.type,g),S);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){at(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return _=d_,d_=!1,_}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qm(e,n,i)}s=s.next}while(s!==r)}}function Uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZS(t){var e=t.alternate;e!==null&&(t.alternate=null,ZS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Jl],delete e[Lm],delete e[q2],delete e[G2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eT(t){return t.tag===5||t.tag===3||t.tag===4}function h_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ld));else if(r!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}function Zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zm(t,e,n),t=t.sibling;t!==null;)Zm(t,e,n),t=t.sibling}var Pt=null,Bn=!1;function gs(t,e,n){for(n=n.child;n!==null;)tT(t,e,n),n=n.sibling}function tT(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ah,n)}catch{}switch(n.tag){case 5:Wt||Oo(n,e);case 6:var r=Pt,s=Bn;Pt=null,gs(t,e,n),Pt=r,Bn=s,Pt!==null&&(Bn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Bn?(t=Pt,n=n.stateNode,t.nodeType===8?_p(t.parentNode,n):t.nodeType===1&&_p(t,n),Gl(t)):_p(Pt,n.stateNode));break;case 4:r=Pt,s=Bn,Pt=n.stateNode.containerInfo,Bn=!0,gs(t,e,n),Pt=r,Bn=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qm(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!Wt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,gs(t,e,n),Wt=r):gs(t,e,n);break;default:gs(t,e,n)}}function f_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cD),e.forEach(function(r){var s=wD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Bn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Bn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(Pt===null)throw Error(H(160));tT(i,o,s),Pt=null,Bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){at(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nT(e,t),e=e.sibling}function nT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),ir(t),r&4){try{Rl(3,t,t.return),Uh(3,t)}catch(g){at(t,t.return,g)}try{Rl(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:Fn(e,t),ir(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Fn(e,t),ir(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var s=t.stateNode;try{zl(s,"")}catch(g){at(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sb(s,i),bm(a,o);var d=bm(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Nb(s,f):h==="dangerouslySetInnerHTML"?Ib(s,f):h==="children"?zl(s,f):iy(s,h,f,d)}switch(a){case"input":vm(s,i);break;case"textarea":Tb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Vo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vo(s,!!i.multiple,i.defaultValue,!0):Vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jl]=i}catch(g){at(t,t.return,g)}}break;case 6:if(Fn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){at(t,t.return,g)}}break;case 3:if(Fn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:Fn(e,t),ir(t);break;case 13:Fn(e,t),ir(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vy=ct())),r&4&&f_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(d=Wt)||h,Fn(e,t),Wt=d):Fn(e,t),ir(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(p=ne,v=p.child,p.tag){case 0:case 11:case 14:case 15:Rl(4,p,p.return);break;case 1:Oo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:Oo(p,p.return);break;case 22:if(p.memoizedState!==null){m_(f);continue}}v!==null?(v.return=p,ne=v):m_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=kb("display",o))}catch(g){at(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){at(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),ir(t),r&4&&f_(t);break;case 21:break;default:Fn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zl(s,""),r.flags&=-33);var i=h_(t);Zm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h_(t);Jm(t,a,o);break;default:throw Error(H(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dD(t,e,n){ne=t,rT(t)}function rT(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Wt;a=Mu;var d=Wt;if(Mu=o,(Wt=c)&&!d)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?g_(s):c!==null?(c.return=o,ne=c):g_(s);for(;i!==null;)ne=i,rT(i),i=i.sibling;ne=s,Mu=a,Wt=d}p_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):p_(t)}}function p_(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Wt||e.flags&512&&Xm(e)}catch(p){at(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function m_(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function g_(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uh(4,e)}catch(c){at(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{Xm(e)}catch(c){at(e,i,c)}break;case 5:var o=e.return;try{Xm(e)}catch(c){at(e,o,c)}}}catch(c){at(e,e.return,c)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var hD=Math.ceil,Kd=us.ReactCurrentDispatcher,My=us.ReactCurrentOwner,Dn=us.ReactCurrentBatchConfig,Ae=0,Ct=null,dt=null,jt=0,fn=0,Mo=oi(0),xt=0,sc=null,Vi=0,$h=0,Ly=0,Pl=null,sn=null,Vy=0,sa=1/0,Lr=null,Yd=!1,eg=null,Vs=null,Lu=!1,Ps=null,Qd=0,Al=0,tg=null,ud=-1,dd=0;function Zt(){return Ae&6?ct():ud!==-1?ud:ud=ct()}function Fs(t){return t.mode&1?Ae&2&&jt!==0?jt&-jt:Y2.transition!==null?(dd===0&&(dd=$b()),dd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:Kb(t.type)),t):1}function Gn(t,e,n,r){if(50<Al)throw Al=0,tg=null,Error(H(185));Cc(t,n,r),(!(Ae&2)||t!==Ct)&&(t===Ct&&(!(Ae&2)&&($h|=n),xt===4&&Ts(t,jt)),un(t,r),n===1&&Ae===0&&!(e.mode&1)&&(sa=ct()+500,Lh&&ai()))}function un(t,e){var n=t.callbackNode;YA(t,e);var r=Dd(t,t===Ct?jt:0);if(r===0)n!==null&&Tx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tx(n),e===1)t.tag===0?K2(y_.bind(null,t)):fS(y_.bind(null,t)),W2(function(){!(Ae&6)&&ai()}),n=null;else{switch(Bb(r)){case 1:n=uy;break;case 4:n=Fb;break;case 16:n=Ad;break;case 536870912:n=Ub;break;default:n=Ad}n=dT(n,sT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sT(t,e){if(ud=-1,dd=0,Ae&6)throw Error(H(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=Dd(t,t===Ct?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xd(t,r);else{e=r;var s=Ae;Ae|=2;var i=oT();(Ct!==t||jt!==e)&&(Lr=null,sa=ct()+500,Ai(t,e));do try{mD();break}catch(a){iT(t,a)}while(!0);by(),Kd.current=i,Ae=s,dt!==null?e=0:(Ct=null,jt=0,e=xt)}if(e!==0){if(e===2&&(s=km(t),s!==0&&(r=s,e=ng(t,s))),e===1)throw n=sc,Ai(t,0),Ts(t,r),un(t,ct()),n;if(e===6)Ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!fD(s)&&(e=Xd(t,r),e===2&&(i=km(t),i!==0&&(r=i,e=ng(t,i))),e===1))throw n=sc,Ai(t,0),Ts(t,r),un(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Si(t,sn,Lr);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=Vy+500-ct(),10<e)){if(Dd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Mm(Si.bind(null,t,sn,Lr),e);break}Si(t,sn,Lr);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hD(r/1960))-r,10<r){t.timeoutHandle=Mm(Si.bind(null,t,sn,Lr),r);break}Si(t,sn,Lr);break;case 5:Si(t,sn,Lr);break;default:throw Error(H(329))}}}return un(t,ct()),t.callbackNode===n?sT.bind(null,t):null}function ng(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=sn,sn=n,e!==null&&rg(e)),t}function rg(t){sn===null?sn=t:sn.push.apply(sn,t)}function fD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~Ly,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function y_(t){if(Ae&6)throw Error(H(327));zo();var e=Dd(t,0);if(!(e&1))return un(t,ct()),null;var n=Xd(t,e);if(t.tag!==0&&n===2){var r=km(t);r!==0&&(e=r,n=ng(t,r))}if(n===1)throw n=sc,Ai(t,0),Ts(t,e),un(t,ct()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,sn,Lr),un(t,ct()),null}function Fy(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(sa=ct()+500,Lh&&ai())}}function Fi(t){Ps!==null&&Ps.tag===0&&!(Ae&6)&&zo();var e=Ae;Ae|=1;var n=Dn.transition,r=Ue;try{if(Dn.transition=null,Ue=1,t)return t()}finally{Ue=r,Dn.transition=n,Ae=e,!(Ae&6)&&ai()}}function Uy(){fn=Mo.current,Xe(Mo)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,z2(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(xy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vd();break;case 3:na(),Xe(ln),Xe(Gt),Ny();break;case 5:ky(r);break;case 4:na();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Sy(r.type._context);break;case 22:case 23:Uy()}n=n.return}if(Ct=t,dt=t=Us(t.current,null),jt=fn=e,xt=0,sc=null,Ly=$h=Vi=0,sn=Pl=null,ki!==null){for(e=0;e<ki.length;e++)if(n=ki[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ki=null}return t}function iT(t,e){do{var n=dt;try{if(by(),ad.current=Gd,qd){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qd=!1}if(Li=0,Tt=wt=nt=null,Nl=!1,tc=0,My.current=null,n===null||n.return===null){xt=1,sc=e,dt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=jt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=s_(o);if(v!==null){v.flags&=-257,i_(v,o,a,i,e),v.mode&1&&r_(i,d,e),e=v,c=d;var _=e.updateQueue;if(_===null){var g=new Set;g.add(c),e.updateQueue=g}else _.add(c);break e}else{if(!(e&1)){r_(i,d,e),$y();break e}c=Error(H(426))}}else if(Je&&a.mode&1){var S=s_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),i_(S,o,a,i,e),_y(ra(c,a));break e}}i=c=ra(c,a),xt!==4&&(xt=2),Pl===null?Pl=[i]:Pl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=BS(i,c,e);Xx(i,w);break e;case 1:a=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vs===null||!Vs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=zS(i,a,e);Xx(i,P);break e}}i=i.return}while(i!==null)}lT(n)}catch(D){e=D,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function oT(){var t=Kd.current;return Kd.current=Gd,t===null?Gd:t}function $y(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||!(Vi&268435455)&&!($h&268435455)||Ts(Ct,jt)}function Xd(t,e){var n=Ae;Ae|=2;var r=oT();(Ct!==t||jt!==e)&&(Lr=null,Ai(t,e));do try{pD();break}catch(s){iT(t,s)}while(!0);if(by(),Ae=n,Kd.current=r,dt!==null)throw Error(H(261));return Ct=null,jt=0,xt}function pD(){for(;dt!==null;)aT(dt)}function mD(){for(;dt!==null&&!UA();)aT(dt)}function aT(t){var e=uT(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?lT(t):dt=e,My.current=null}function lT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lD(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,dt=null;return}}else if(n=aD(n,e,fn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);xt===0&&(xt=5)}function Si(t,e,n){var r=Ue,s=Dn.transition;try{Dn.transition=null,Ue=1,gD(t,e,n,r)}finally{Dn.transition=s,Ue=r}return null}function gD(t,e,n,r){do zo();while(Ps!==null);if(Ae&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QA(t,i),t===Ct&&(dt=Ct=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,dT(Ad,function(){return zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=Ue;Ue=1;var a=Ae;Ae|=4,My.current=null,uD(t,n),nT(n,t),M2(jm),jd=!!Dm,jm=Dm=null,t.current=n,dD(n),$A(),Ae=a,Ue=o,Dn.transition=i}else t.current=n;if(Lu&&(Lu=!1,Ps=t,Qd=s),i=t.pendingLanes,i===0&&(Vs=null),WA(n.stateNode),un(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yd)throw Yd=!1,t=eg,eg=null,t;return Qd&1&&t.tag!==0&&zo(),i=t.pendingLanes,i&1?t===tg?Al++:(Al=0,tg=t):Al=0,ai(),null}function zo(){if(Ps!==null){var t=Bb(Qd),e=Dn.transition,n=Ue;try{if(Dn.transition=null,Ue=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Qd=0,Ae&6)throw Error(H(331));var s=Ae;for(Ae|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ne=d;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Rl(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var p=h.sibling,v=h.return;if(ZS(h),h===d){ne=null;break}if(p!==null){p.return=v,ne=p;break}ne=v}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ne=w;break e}ne=i.return}}var x=t.current;for(ne=x;ne!==null;){o=ne;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ne=b;else e:for(o=x;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uh(9,a)}}catch(D){at(a,a.return,D)}if(a===o){ne=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ne=P;break e}ne=a.return}}if(Ae=s,ai(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ah,t)}catch{}r=!0}return r}finally{Ue=n,Dn.transition=e}}return!1}function v_(t,e,n){e=ra(n,e),e=BS(t,e,1),t=Ls(t,e,1),e=Zt(),t!==null&&(Cc(t,1,e),un(t,e))}function at(t,e,n){if(t.tag===3)v_(t,t,n);else for(;e!==null;){if(e.tag===3){v_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=ra(n,t),t=zS(e,t,1),e=Ls(e,t,1),t=Zt(),e!==null&&(Cc(e,1,t),un(e,t));break}}e=e.return}}function yD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(jt&n)===n&&(xt===4||xt===3&&(jt&130023424)===jt&&500>ct()-Vy?Ai(t,0):Ly|=n),un(t,e)}function cT(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=Zt();t=es(t,e),t!==null&&(Cc(t,e,n),un(t,n))}function vD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cT(t,n)}function wD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),cT(t,n)}var uT;uT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,oD(t,e,n);an=!!(t.flags&131072)}else an=!1,Je&&e.flags&1048576&&pS(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cd(t,e),t=e.pendingProps;var s=Zo(e,Gt.current);Bo(e,n),s=Py(null,e,r,t,s,n);var i=Ay();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(i=!0,Fd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cy(e),s.updater=Fh,e.stateNode=s,s._reactInternals=e,zm(e,r,t,n),e=qm(null,e,r,!0,i,n)):(e.tag=0,Je&&i&&wy(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_D(r),t=$n(r,t),s){case 0:e=Hm(null,e,r,t,n);break e;case 1:e=l_(null,e,r,t,n);break e;case 11:e=o_(null,e,r,t,n);break e;case 14:e=a_(null,e,r,$n(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),Hm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),l_(t,e,r,s,n);case 3:e:{if(GS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xS(t,e),Wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ra(Error(H(423)),e),e=c_(t,e,r,n,s);break e}else if(r!==s){s=ra(Error(H(424)),e),e=c_(t,e,r,n,s);break e}else for(vn=Ms(e.stateNode.containerInfo.firstChild),xn=e,Je=!0,zn=null,n=vS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===s){e=ts(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return _S(e),t===null&&Um(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Om(r,s)?o=null:i!==null&&Om(r,i)&&(e.flags|=32),qS(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Um(e),null;case 13:return KS(t,e,n);case 4:return Iy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ta(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),o_(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Bd,r._currentValue),r._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===s.children&&!ln.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$m(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$m(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=On(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),a_(t,e,r,s,n);case 15:return WS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),cd(t,e),e.tag=1,cn(r)?(t=!0,Fd(e)):t=!1,Bo(e,n),$S(e,r,s),zm(e,r,s,n),qm(null,e,r,!0,t,n);case 19:return YS(t,e,n);case 22:return HS(t,e,n)}throw Error(H(156,e.tag))};function dT(t,e){return Vb(t,e)}function xD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new xD(t,e,n,r)}function By(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _D(t){if(typeof t=="function")return By(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ay)return 11;if(t===ly)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")By(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return Di(n.children,s,i,e);case oy:o=8,s|=8;break;case fm:return t=An(12,n,e,s|2),t.elementType=fm,t.lanes=i,t;case pm:return t=An(13,n,e,s),t.elementType=pm,t.lanes=i,t;case mm:return t=An(19,n,e,s),t.elementType=mm,t.lanes=i,t;case _b:return Bh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wb:o=10;break e;case xb:o=9;break e;case ay:o=11;break e;case ly:o=14;break e;case Es:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=An(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Bh(t,e,n,r){return t=An(22,t,r,e),t.elementType=_b,t.lanes=n,t.stateNode={isHidden:!1},t}function Np(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Rp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ED(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zy(t,e,n,r,s,i,o,a,c){return t=new ED(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=An(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(i),t}function bD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hT(t){if(!t)return Gs;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(cn(n))return hS(t,n,e)}return e}function fT(t,e,n,r,s,i,o,a,c){return t=zy(n,r,!0,t,s,i,o,a,c),t.context=hT(null),n=t.current,r=Zt(),s=Fs(n),i=qr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,Cc(t,s,r),un(t,r),t}function zh(t,e,n,r){var s=e.current,i=Zt(),o=Fs(s);return n=hT(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(Gn(t,s,o,i),od(t,s,o)),o}function Jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wy(t,e){w_(t,e),(t=t.alternate)&&w_(t,e)}function SD(){return null}var pT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hy(t){this._internalRoot=t}Wh.prototype.render=Hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));zh(t,e,null,null)};Wh.prototype.unmount=Hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){zh(null,t,null,null)}),e[Zr]=null}};function Wh(t){this._internalRoot=t}Wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&Gb(t)}};function qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x_(){}function TD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Jd(o);i.call(d)}}var o=fT(e,r,t,0,null,!1,!1,"",x_);return t._reactRootContainer=o,t[Zr]=o.current,Ql(t.nodeType===8?t.parentNode:t),Fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Jd(c);a.call(d)}}var c=zy(t,0,!1,null,null,!1,!1,"",x_);return t._reactRootContainer=c,t[Zr]=c.current,Ql(t.nodeType===8?t.parentNode:t),Fi(function(){zh(e,c,n,r)}),c}function qh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Jd(o);a.call(c)}}zh(e,o,t,s)}else o=TD(n,e,t,s,r);return Jd(o)}zb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(dy(e,n|1),un(e,ct()),!(Ae&6)&&(sa=ct()+500,ai()))}break;case 13:Fi(function(){var r=es(t,1);if(r!==null){var s=Zt();Gn(r,t,1,s)}}),Wy(t,1)}};hy=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=Zt();Gn(e,t,134217728,n)}Wy(t,134217728)}};Wb=function(t){if(t.tag===13){var e=Fs(t),n=es(t,e);if(n!==null){var r=Zt();Gn(n,t,e,r)}Wy(t,e)}};Hb=function(){return Ue};qb=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Tm=function(t,e,n){switch(e){case"input":if(vm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Mh(r);if(!s)throw Error(H(90));bb(r),vm(r,s)}}}break;case"textarea":Tb(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};Ab=Fy;Db=Fi;var CD={usingClientEntryPoint:!1,Events:[kc,Ro,Mh,Rb,Pb,Fy]},nl={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ID={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mb(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||SD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Ah=Vu.inject(ID),fr=Vu}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CD;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(e))throw Error(H(200));return bD(t,e,null,n)};Sn.createRoot=function(t,e){if(!qy(t))throw Error(H(299));var n=!1,r="",s=pT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zy(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Hy(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Mb(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Fi(t)};Sn.hydrate=function(t,e,n){if(!Hh(e))throw Error(H(200));return qh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!qy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fT(e,null,t,1,n??null,s,!1,i,o),t[Zr]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wh(e)};Sn.render=function(t,e,n){if(!Hh(e))throw Error(H(200));return qh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!Hh(t))throw Error(H(40));return t._reactRootContainer?(Fi(function(){qh(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};Sn.unstable_batchedUpdates=Fy;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return qh(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function mT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mT)}catch(t){console.error(t)}}mT(),mb.exports=Sn;var va=mb.exports;const kD=nb(va);var gT,__=va;gT=__.createRoot,__.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function ND(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return sg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ic(s)}return PD(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RD(){return Math.random().toString(36).substring(2,10)}function b_(t,e){return{usr:t.state,key:t.key,idx:e}}function sg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:n,key:e&&e.key||r||RD()}}function ic({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PD(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let S=h(),w=S==null?null:S-d;d=S,c&&c({action:a,location:g.location,delta:w})}function p(S,w){a="PUSH";let x=sg(g.location,S,w);d=h()+1;let b=b_(x,d),P=g.createHref(x);try{o.pushState(b,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&c&&c({action:a,location:g.location,delta:1})}function v(S,w){a="REPLACE";let x=sg(g.location,S,w);d=h();let b=b_(x,d),P=g.createHref(x);o.replaceState(b,"",P),i&&c&&c({action:a,location:g.location,delta:0})}function _(S){return AD(S)}let g={get action(){return a},get location(){return t(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(E_,f),c=S,()=>{s.removeEventListener(E_,f),c=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let w=_(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(S){return o.go(S)}};return g}function AD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ic(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yT(t,e,n="/"){return DD(t,e,n,!1)}function DD(t,e,n,r){let s=typeof e=="string"?wa(e):e,i=ns(s.pathname||"/",n);if(i==null)return null;let o=vT(t);jD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=HD(i);a=zD(o[c],d,r)}return a}function vT(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Gr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(rt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vT(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:$D(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of wT(i.path))s(i,o,c)}),e}function wT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function jD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var OD=/^:[\w-]+$/,MD=3,LD=2,VD=1,FD=10,UD=-2,S_=t=>t==="*";function $D(t,e){let n=t.split("/"),r=n.length;return n.some(S_)&&(r+=UD),e&&(r+=LD),n.filter(s=>!S_(s)).reduce((s,i)=>s+(OD.test(i)?MD:i===""?VD:FD),r)}function BD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function zD(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Zd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Zd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Gr([i,f.pathname]),pathnameBase:YD(Gr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Gr([i,f.pathnameBase]))}return o}function Zd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let _=a[p]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[p];return f&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function WD(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?wa(t):t;return{pathname:n?n.startsWith("/")?n:GD(n,e):e,search:QD(r),hash:XD(s)}}function GD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xT(t){let e=KD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _T(t,e,n,r=!1){let s;typeof t=="string"?s=wa(t):(s={...t},rt(!s.pathname||!s.pathname.includes("?"),Pp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Pp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Pp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=qD(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Gr=t=>t.join("/").replace(/\/\/+/g,"/"),YD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var ZD=["GET",...ET];new Set(ZD);var xa=y.createContext(null);xa.displayName="DataRouter";var Gh=y.createContext(null);Gh.displayName="DataRouterState";y.createContext(!1);var bT=y.createContext({isTransitioning:!1});bT.displayName="ViewTransition";var ej=y.createContext(new Map);ej.displayName="Fetchers";var tj=y.createContext(null);tj.displayName="Await";var Ir=y.createContext(null);Ir.displayName="Navigation";var Rc=y.createContext(null);Rc.displayName="Location";var kr=y.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Gy=y.createContext(null);Gy.displayName="RouteError";function nj(t,{relative:e}={}){rt(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Ir),{hash:s,pathname:i,search:o}=Ac(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Gr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Pc(){return y.useContext(Rc)!=null}function eo(){return rt(Pc(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Rc).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TT(t){y.useContext(Ir).static||y.useLayoutEffect(t)}function CT(){let{isDataRoute:t}=y.useContext(kr);return t?mj():rj()}function rj(){rt(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(xa),{basename:e,navigator:n}=y.useContext(Ir),{matches:r}=y.useContext(kr),{pathname:s}=eo(),i=JSON.stringify(xT(r)),o=y.useRef(!1);return TT(()=>{o.current=!0}),y.useCallback((c,d={})=>{if(br(o.current,ST),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=_T(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}y.createContext(null);function IT(){let{matches:t}=y.useContext(kr),e=t[t.length-1];return e?e.params:{}}function Ac(t,{relative:e}={}){let{matches:n}=y.useContext(kr),{pathname:r}=eo(),s=JSON.stringify(xT(n));return y.useMemo(()=>_T(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function sj(t,e){return kT(t,e)}function kT(t,e,n,r){var w;rt(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Ir),{matches:i}=y.useContext(kr),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";NT(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=eo(),p;if(e){let x=typeof e=="string"?wa(e):e;rt(d==="/"||((w=x.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let v=p.pathname||"/",_=v;if(d!=="/"){let x=d.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=yT(t,{pathname:_});br(h||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),br(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=cj(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Gr([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Gr([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&S?y.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},S):S}function ij(){let t=pj(),e=JD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var oj=y.createElement(ij,null),aj=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?y.createElement(kr.Provider,{value:this.props.routeContext},y.createElement(Gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lj({routeContext:t,match:e,children:n}){let r=y.useContext(xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(kr.Provider,{value:t},n)}function cj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);rt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,v=null,_=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||oj,o&&(a<0&&h===0?(NT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):a===h&&(p=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),S=()=>{let w;return f?w=v:p?w=_:d.route.Component?w=y.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,y.createElement(lj,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(aj,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uj(t){let e=y.useContext(xa);return rt(e,Ky(t)),e}function dj(t){let e=y.useContext(Gh);return rt(e,Ky(t)),e}function hj(t){let e=y.useContext(kr);return rt(e,Ky(t)),e}function Yy(t){let e=hj(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fj(){return Yy("useRouteId")}function pj(){var r;let t=y.useContext(Gy),e=dj("useRouteError"),n=Yy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function mj(){let{router:t}=uj("useNavigate"),e=Yy("useNavigate"),n=y.useRef(!1);return TT(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{br(n.current,ST),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var T_={};function NT(t,e,n){!e&&!T_[t]&&(T_[t]=!0,br(!1,n))}y.memo(gj);function gj({routes:t,future:e,state:n}){return kT(t,void 0,n,e)}function hl(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){rt(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=wa(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,v=y.useMemo(()=>{let _=ns(c,o);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return br(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(Ir.Provider,{value:a},y.createElement(Rc.Provider,{children:e,value:v}))}function vj({children:t,location:e}){return sj(ig(t),e)}function ig(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,ig(r.props.children,i));return}rt(r.type===hl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ig(r.props.children,i)),n.push(o)}),n}var fd="get",pd="application/x-www-form-urlencoded";function Kh(t){return t!=null&&typeof t.tagName=="string"}function wj(t){return Kh(t)&&t.tagName.toLowerCase()==="button"}function xj(t){return Kh(t)&&t.tagName.toLowerCase()==="form"}function _j(t){return Kh(t)&&t.tagName.toLowerCase()==="input"}function Ej(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bj(t,e){return t.button===0&&(!e||e==="_self")&&!Ej(t)}var Fu=null;function Sj(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var Tj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(t){return t!=null&&!Tj.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function Cj(t,e){let n,r,s,i,o;if(xj(t)){let a=t.getAttribute("action");r=a?ns(a,e):null,n=t.getAttribute("method")||fd,s=Ap(t.getAttribute("enctype"))||pd,i=new FormData(t)}else if(wj(t)||_j(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?ns(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||fd,s=Ap(t.getAttribute("formenctype"))||Ap(a.getAttribute("enctype"))||pd,i=new FormData(a,t),!Sj()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Kh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fd,r=null,s=pd,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ij(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ns(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Rj(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await kj(i,n);return o.links?o.links():[]}return[]}));return jj(r.flat(1).filter(Nj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function C_(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Pj(t,e,{includeHydrateFallback:n}={}){return Aj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Aj(t){return[...new Set(t)]}function Dj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function jj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Dj(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function RT(){let t=y.useContext(xa);return Qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Oj(){let t=y.useContext(Gh);return Qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xy=y.createContext(void 0);Xy.displayName="FrameworkContext";function PT(){let t=y.useContext(Xy);return Qy(t,"You must render this element inside a <HydratedRouter> element"),t}function Mj(t,e){let n=y.useContext(Xy),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=w=>{w.forEach(x=>{o(x.isIntersecting)})},S=new IntersectionObserver(g,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),y.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let v=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:rl(a,v),onBlur:rl(c,_),onMouseEnter:rl(d,v),onMouseLeave:rl(h,_),onTouchStart:rl(f,v)}]:[!1,p,{}]}function rl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Lj({page:t,...e}){let{router:n}=RT(),r=y.useMemo(()=>yT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(Fj,{page:t,matches:r,...e}):null}function Vj(t){let{manifest:e,routeModules:n}=PT(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return Rj(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Fj({page:t,matches:e,...n}){let r=eo(),{manifest:s,routeModules:i}=PT(),{basename:o}=RT(),{loaderData:a,matches:c}=Oj(),d=y.useMemo(()=>C_(t,e,c,s,r,"data"),[t,e,c,s,r]),h=y.useMemo(()=>C_(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,g=!1;if(e.forEach(w=>{var b;let x=s.routes[w.route.id];!x||!x.hasLoader||(!d.some(P=>P.route.id===w.route.id)&&w.route.id in a&&((b=i[w.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?g=!0:_.add(w.route.id))}),_.size===0)return[];let S=Ij(t,o,"data");return g&&_.size>0&&S.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[o,a,r,s,d,e,t,i]),p=y.useMemo(()=>Pj(h,s),[h,s]),v=Vj(h);return y.createElement(y.Fragment,null,f.map(_=>y.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>y.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:g})=>y.createElement("link",{key:_,...g})))}function Uj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.7.1")}catch{}function $j({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=ND({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(yj,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oc=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},v){let{basename:_}=y.useContext(Ir),g=typeof d=="string"&&DT.test(d),S,w=!1;if(typeof d=="string"&&g&&(S=d,AT))try{let C=new URL(window.location.href),N=d.startsWith("//")?new URL(C.protocol+d):new URL(d),I=ns(N.pathname,_);N.origin===C.origin&&I!=null?d=I+N.search+N.hash:w=!0}catch{br(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=nj(d,{relative:s}),[b,P,D]=Mj(r,p),O=Hj(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function k(C){e&&e(C),C.defaultPrevented||O(C)}let T=y.createElement("a",{...p,...D,href:S||x,onClick:w||i?e:k,ref:Uj(v,P),target:c,"data-discover":!g&&n==="render"?"true":void 0});return b&&!g?y.createElement(y.Fragment,null,T,y.createElement(Lj,{page:x})):T});oc.displayName="Link";var Bj=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},h){let f=Ac(o,{relative:d.relative}),p=eo(),v=y.useContext(Gh),{navigator:_,basename:g}=y.useContext(Ir),S=v!=null&&Qj(f)&&a===!0,w=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,x=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&g&&(b=ns(b,g)||b);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=x===w||!s&&x.startsWith(w)&&x.charAt(P)==="/",O=b!=null&&(b===w||!s&&b.startsWith(w)&&b.charAt(w.length)==="/"),k={isActive:D,isPending:O,isTransitioning:S},T=D?e:void 0,C;typeof r=="function"?C=r(k):C=[r,D?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(k):i;return y.createElement(oc,{...d,"aria-current":T,className:C,ref:h,style:N,to:o,viewTransition:a},typeof c=="function"?c(k):c)});Bj.displayName="NavLink";var zj=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=fd,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},v)=>{let _=Kj(),g=Yj(a,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&DT.test(a),x=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let P=b.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||o;_(P||b.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return y.createElement("form",{ref:v,method:S,action:g,onSubmit:r?c:x,...p,"data-discover":!w&&t==="render"?"true":void 0})});zj.displayName="Form";function Wj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(t){let e=y.useContext(xa);return rt(e,Wj(t)),e}function Hj(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=CT(),c=eo(),d=Ac(t,{relative:i});return y.useCallback(h=>{if(bj(h,e)){h.preventDefault();let f=n!==void 0?n:ic(c)===ic(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,r,e,t,s,i,o])}var qj=0,Gj=()=>`__${String(++qj)}__`;function Kj(){let{router:t}=jT("useSubmit"),{basename:e}=y.useContext(Ir),n=fj();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=Cj(r,e);if(s.navigate===!1){let h=s.fetcherKey||Gj();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Yj(t,{relative:e}={}){let{basename:n}=y.useContext(Ir),r=y.useContext(kr);rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ac(t||".",{relative:e})},o=eo();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Gr([n,i.pathname])),ic(i)}function Qj(t,{relative:e}={}){let n=y.useContext(bT);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jT("useViewTransitionState"),s=Ac(t,{relative:e});if(!n.isTransitioning)return!1;let i=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zd(s.pathname,o)!=null||Zd(s.pathname,i)!=null}const Xj=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},MT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new Zj;const p=i<<2|a>>4;if(r.push(p),d!==64){const v=a<<4&240|d>>2;if(r.push(v),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eO=function(t){const e=OT(t);return MT.encodeByteArray(e,!0)},eh=function(t){return eO(t).replace(/\./g,"")},LT=function(t){try{return MT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=()=>tO().__FIREBASE_DEFAULTS__,rO=()=>{if(typeof process>"u"||typeof I_>"u")return;const t=I_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LT(t[1]);return e&&JSON.parse(e)},Yh=()=>{try{return Xj()||nO()||rO()||sO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VT=t=>{var e,n;return(n=(e=Yh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},iO=t=>{const e=VT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FT=()=>{var t;return(t=Yh())==null?void 0:t.config},UT=t=>{var e;return(e=Yh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $T(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[eh(JSON.stringify(n)),eh(JSON.stringify(o)),""].join(".")}const Dl={};function lO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?t.emulator.push(e):t.prod.push(e);return t}function cO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let k_=!1;function BT(t,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||Dl[t]===e||Dl[t]||k_)return;Dl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=lO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{k_=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=cO(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),S=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(S,g);const P=d();c(x,w),b.append(x,_,S,P),document.body.appendChild(b)}i?(_.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function dO(){var e;const t=(e=Yh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pO(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mO(){return!dO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function gO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yO,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?vO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new tr(s,a,r)}}function vO(t,e){return t.replace(wO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wO=/\{\$([^}]+)}/g;function xO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(N_(i)&&N_(o)){if(!Ks(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _O(t,e){const n=new EO(t,e);return n.subscribe.bind(n)}class EO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dp),s.error===void 0&&(s.error=Dp),s.complete===void 0&&(s.complete=Dp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=1e3,TO=2,CO=4*60*60*1e3,IO=.5;function R_(t,e=SO,n=TO){const r=e*Math.pow(n,t),s=Math.round(IO*r*(Math.random()-.5)*2);return Math.min(CO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NO(t){return t===Ti?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const AO={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},DO=Te.INFO,jO={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},OO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=DO,this._logHandler=OO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const MO=(t,e)=>e.some(n=>t instanceof n);let P_,A_;function LO(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,og=new WeakMap,GT=new WeakMap,jp=new WeakMap,Jy=new WeakMap;function FO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qT.set(n,t)}).catch(()=>{}),Jy.set(e,t),e}function UO(t){if(og.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});og.set(t,e)}let ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $O(t){ag=t(ag)}function BO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Op(this),e,...n);return GT.set(r,e.sort?e.sort():[e]),$s(r)}:VO().includes(t)?function(...e){return t.apply(Op(this),e),$s(qT.get(this))}:function(...e){return $s(t.apply(Op(this),e))}}function zO(t){return typeof t=="function"?BO(t):(t instanceof IDBTransaction&&UO(t),MO(t,LO())?new Proxy(t,ag):t)}function $s(t){if(t instanceof IDBRequest)return FO(t);if(jp.has(t))return jp.get(t);const e=zO(t);return e!==t&&(jp.set(t,e),Jy.set(e,t)),e}const Op=t=>Jy.get(t);function KT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",c=>{r($s(o.result),c.oldVersion,c.newVersion,$s(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const WO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],Mp=new Map;function D_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Mp.set(e,i),i}$O(t=>({...t,get:(e,n,r)=>D_(e,n)||t.get(e,n,r),has:(e,n)=>!!D_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",j_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Qh("@firebase/app"),KO="@firebase/app-compat",YO="@firebase/analytics-compat",QO="@firebase/analytics",XO="@firebase/app-check-compat",JO="@firebase/app-check",ZO="@firebase/auth",eM="@firebase/auth-compat",tM="@firebase/database",nM="@firebase/data-connect",rM="@firebase/database-compat",sM="@firebase/functions",iM="@firebase/functions-compat",oM="@firebase/installations",aM="@firebase/installations-compat",lM="@firebase/messaging",cM="@firebase/messaging-compat",uM="@firebase/performance",dM="@firebase/performance-compat",hM="@firebase/remote-config",fM="@firebase/remote-config-compat",pM="@firebase/storage",mM="@firebase/storage-compat",gM="@firebase/firestore",yM="@firebase/ai",vM="@firebase/firestore-compat",wM="firebase",xM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="[DEFAULT]",_M={[lg]:"fire-core",[KO]:"fire-core-compat",[QO]:"fire-analytics",[YO]:"fire-analytics-compat",[JO]:"fire-app-check",[XO]:"fire-app-check-compat",[ZO]:"fire-auth",[eM]:"fire-auth-compat",[tM]:"fire-rtdb",[nM]:"fire-data-connect",[rM]:"fire-rtdb-compat",[sM]:"fire-fn",[iM]:"fire-fn-compat",[oM]:"fire-iid",[aM]:"fire-iid-compat",[lM]:"fire-fcm",[cM]:"fire-fcm-compat",[uM]:"fire-perf",[dM]:"fire-perf-compat",[hM]:"fire-rc",[fM]:"fire-rc-compat",[pM]:"fire-gcs",[mM]:"fire-gcs-compat",[gM]:"fire-fst",[vM]:"fire-fst-compat",[yM]:"fire-vertex","fire-js":"fire-js",[wM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,EM=new Map,ug=new Map;function O_(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(ug.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,t);for(const n of th.values())O_(n,t);for(const n of EM.values())O_(n,t);return!0}function no(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new to("app","Firebase",bM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=xM;function YT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:cg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=FT()),!n)throw Bs.create("no-options");const i=th.get(s);if(i){if(Ks(n,i.options)&&Ks(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const o=new PO(s);for(const c of ug.values())o.addComponent(c);const a=new SM(n,r,o);return th.set(s,a),a}function Zy(t=cg){const e=th.get(t);if(!e&&t===cg&&FT())return YT();if(!e)throw Bs.create("no-app",{appName:t});return e}function jn(t,e,n){let r=_M[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(o.join(" "));return}Sr(new Qn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="firebase-heartbeat-database",CM=1,ac="firebase-heartbeat-store";let Lp=null;function QT(){return Lp||(Lp=KT(TM,CM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Lp}async function IM(t){try{const n=(await QT()).transaction(ac),r=await n.objectStore(ac).get(XT(t));return await n.done,r}catch(e){if(e instanceof tr)rs.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function M_(t,e){try{const r=(await QT()).transaction(ac,"readwrite");await r.objectStore(ac).put(e,XT(t)),await r.done}catch(n){if(n instanceof tr)rs.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function XT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1024,NM=30;class RM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=L_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>NM){const o=DM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L_(),{heartbeatsToSend:r,unsentEntries:s}=PM(this._heartbeatsCache.heartbeats),i=eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rs.warn(n),""}}}function L_(){return new Date().toISOString().substring(0,10)}function PM(t,e=kM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),V_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),V_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V_(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}function DM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){Sr(new Qn("platform-logger",e=>new qO(e),"PRIVATE")),Sr(new Qn("heartbeat",e=>new RM(e),"PRIVATE")),jn(lg,j_,t),jn(lg,j_,"esm2020"),jn("fire-js","")}jM("");function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OM=JT,ZT=new to("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Qh("@firebase/auth");function MM(t,...e){nh.logLevel<=Te.WARN&&nh.warn(`Auth (${Ea}): ${t}`,...e)}function md(t,...e){nh.logLevel<=Te.ERROR&&nh.error(`Auth (${Ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw ev(t,...e)}function mr(t,...e){return ev(t,...e)}function e1(t,e,n){const r={...OM(),[e]:n};return new to("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return e1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZT.create(t,...e)}function ue(t,e,...n){if(!t)throw ev(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function ss(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function LM(){return F_()==="http:"||F_()==="https:"}function F_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LM()||zT()||"connection"in navigator)?navigator.onLine:!0}function FM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=uO()||fO()}get(){return VM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BM=new jc(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ci(t,e,n,r,s={}){return n1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Dc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return hO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&_a(t.emulatorConfig.host)&&(d.credentials="include"),t1.fetch()(await r1(t,t.config.apiHost,n,a),d)})}async function n1(t,e,n){t._canInitEmulator=!1;const r={...UM,...e};try{const s=new WM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw e1(t,h,d);Xn(t,h)}}catch(s){if(s instanceof tr)throw s;Xn(t,"network-request-failed",{message:String(s)})}}async function Oc(t,e,n,r,s={}){const i=await ci(t,e,n,r,s);return"mfaPendingCredential"in i&&Xn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function r1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?tv(t.config,s):`${t.config.apiScheme}://${s}`;return $M.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function zM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),BM.get())})}}function Uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}function U_(t){return t!==void 0&&t.enterprise!==void 0}class HM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qM(t,e){return ci(t,"GET","/v2/recaptchaConfig",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function rh(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KM(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=nv(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:jl(Vp(s.auth_time)),issuedAtTime:jl(Vp(s.iat)),expirationTime:jl(Vp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Vp(t){return Number(t)*1e3}function nv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const s=LT(n);return s?JSON.parse(s):(md("Failed to decode base64 JWT payload"),null)}catch(s){return md("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $_(t){const e=nv(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&YM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await lc(t,rh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?s1(s.providerUserInfo):[],o=JM(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new hg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function XM(t){const e=mt(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function s1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e){const n=await n1(t,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await r1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&_a(t.emulatorConfig.host)&&(c.credentials="include"),t1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eL(t,e){return ci(t,"POST","/v2/accounts:revokeToken",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ZM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Wo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new QM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KM(this,e)}reload(){return XM(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await lc(this,GM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:_,stsTokenManager:g}=n;ue(f&&g,e,"internal-error");const S=Wo.fromJSON(this.name,g);ue(typeof f=="string",e,"internal-error"),ys(r,e.name),ys(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof v=="boolean",e,"internal-error"),ys(i,e.name),ys(o,e.name),ys(a,e.name),ys(c,e.name),ys(d,e.name),ys(h,e.name);const w=new Wn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:h});return _&&Array.isArray(_)&&(w.providerData=_.map(x=>({...x}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wo;s.updateFromServerResponse(n);const i=new Wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?s1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Wo;a.updateFromIdToken(r);const c=new Wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function Br(t){ss(t instanceof Function,"Expected a class definition");let e=B_.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i1.type="NONE";const z_=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=gd(this.userKey,s.apiKey,i),this.fullPersistenceKey=gd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(Br(z_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Br(z_);const o=gd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await rh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Wn._fromGetAccountInfoResponse(e,p,h)}else f=Wn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ho(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ho(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(h1(e))return"Webos";if(a1(e))return"Safari";if((e.includes("chrome/")||l1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o1(t=Kt()){return/firefox\//i.test(t)}function a1(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l1(t=Kt()){return/crios\//i.test(t)}function c1(t=Kt()){return/iemobile/i.test(t)}function u1(t=Kt()){return/android/i.test(t)}function d1(t=Kt()){return/blackberry/i.test(t)}function h1(t=Kt()){return/webos/i.test(t)}function rv(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tL(t=Kt()){var e;return rv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function nL(){return pO()&&document.documentMode===10}function f1(t=Kt()){return rv(t)||u1(t)||h1(t)||d1(t)||/windows phone/i.test(t)||c1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e=[]){let n;switch(t){case"Browser":n=W_(Kt());break;case"Worker":n=`${W_(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e={}){return ci(t,"GET","/v2/passwordPolicy",li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=6;class oL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new rL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Kr(this));const n=e?mt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sL(this),n=new oL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&MM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ro(t){return mt(t)}class H_{constructor(e){this.auth=e,this.observer=null,this.addObserver=_O(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lL(t){Xh=t}function m1(t){return Xh.loadJS(t)}function cL(){return Xh.recaptchaEnterpriseScript}function uL(){return Xh.gapiScript}function dL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hL{constructor(){this.enterprise=new fL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pL="recaptcha-enterprise",g1="NO_RECAPTCHA";class mL{constructor(e){this.type=pL,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{qM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new HM(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;U_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(g1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&U_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cL();c.length!==0&&(c+=a),m1(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function q_(t,e,n,r=!1,s=!1){const i=new mL(t);let o;if(s)o=g1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await q_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await q_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){const n=no(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ks(i,e??{}))return s;Xn(s,"already-initialized")}return n.initialize({options:e})}function yL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vL(t,e,n){const r=ro(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=y1(e),{host:o,port:a}=wL(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Ks(d,r.config.emulator)&&Ks(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_a(o)?($T(`${i}//${o}${c}`),BT("Auth",!0)):xL()}function y1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wL(t){const e=y1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:G_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:G_(o)}}}function G_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function _L(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){return Oc(t,"POST","/v1/accounts:signInWithPassword",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}async function SL(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends sv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,n,"signInWithPassword",EL);case"emailLink":return bL(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,r,"signUpPassword",_L);case"emailLink":return SL(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return Oc(t,"POST","/v1/accounts:signInWithIdp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="http://localhost";class Ui extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ui(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:TL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IL(t){const e=fl(pl(t)).link,n=e?fl(pl(e)).deep_link_id:null,r=fl(pl(t)).deep_link_id;return(r?fl(pl(r)).link:null)||r||n||e||t}class iv{constructor(e){const n=fl(pl(e)),r=n.apiKey??null,s=n.oobCode??null,i=CL(n.mode??null);ue(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IL(e);try{return new iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iv.parseLink(n);return ue(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends v1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Mc{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ui._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Mc{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Ui._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return Oc(t,"POST","/v1/accounts:signUp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wn._fromIdTokenResponse(e,r,s),o=K_(r);return new $i({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=K_(r);return new $i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function K_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends tr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ih(e,n,r,s)}}function w1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(t,i,e,r):i})}async function NL(t,e,n=!1){const r=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(Kr(r));const s="reauthenticate";try{const i=await lc(t,w1(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=nv(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),$i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,e,n=!1){if(Rn(t.app))return Promise.reject(Kr(t));const r="signIn",s=await w1(t,r,e),i=await $i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function PL(t,e){return x1(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AL(t,e,n){if(Rn(t.app))return Promise.reject(Kr(t));const r=ro(t),o=await fg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_1(t),c}),a=await $i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function DL(t,e,n){return Rn(t.app)?Promise.reject(Kr(t)):PL(mt(t),ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_1(t),r})}function jL(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function OL(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function ML(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function LL(t){return mt(t).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1e3,FL=10;class b1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);nL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const UL=b1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S1.type="SESSION";const T1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await $L(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=ov("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function zL(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function WL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function qL(){return C1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",GL=1,ah="firebaseLocalStorage",k1="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function KL(){const t=indexedDB.deleteDatabase(I1);return new Lc(t).toPromise()}function pg(){const t=indexedDB.open(I1,GL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ah,{keyPath:k1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await KL(),e(await pg()))})})}async function Y_(t,e,n){const r=Zh(t,!0).put({[k1]:e,value:n});return new Lc(r).toPromise()}async function YL(t,e){const n=Zh(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function Q_(t,e){const n=Zh(t,!0).delete(e);return new Lc(n).toPromise()}const QL=800,XL=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(qL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await WL(),!this.activeServiceWorker)return;this.sender=new BL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await Y_(e,oh,"1"),await Q_(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Zh(s,!1).getAll();return new Lc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const JL=N1;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t,e){return e?Br(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e4(t){return x1(t.auth,new av(t),t.bypassAuthState)}function t4(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),RL(n,new av(t),t.bypassAuthState)}async function n4(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),NL(n,new av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e4;case"linkViaPopup":case"linkViaRedirect":return n4;case"reauthViaPopup":case"reauthViaRedirect":return t4;default:Xn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new jc(2e3,1e4);class Lo extends R1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r4.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="pendingRedirect",yd=new Map;class i4 extends R1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const r=await o4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o4(t,e){const n=c4(e),r=l4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function a4(t,e){yd.set(t._key(),e)}function l4(t){return Br(t._redirectPersistence)}function c4(t){return gd(s4,t.config.apiKey,t.name)}async function u4(t,e,n=!1){if(Rn(t.app))return Promise.reject(Kr(t));const r=ro(t),s=ZL(r,e),o=await new i4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=10*60*1e3;class h4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d4&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g4=/^https?/;async function y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await p4(t);for(const n of e)try{if(v4(n))return}catch{}Xn(t,"unauthorized-domain")}function v4(t){const e=dg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!g4.test(n))return!1;if(m4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new jc(3e4,6e4);function J_(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x4(t){return new Promise((e,n)=>{var s,i,o;function r(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(mr(t,"network-request-failed"))},timeout:w4.get()})}if((i=(s=gr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=gr().gapi)!=null&&o.load)r();else{const a=dL("iframefcb");return gr()[a]=()=>{gapi.load?r():n(mr(t,"network-request-failed"))},m1(`${uL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vd=null,e})}let vd=null;function _4(t){return vd=vd||x4(t),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new jc(5e3,15e3),b4="__/auth/iframe",S4="emulator/auth/iframe",T4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I4(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tv(e,S4):`https://${t.config.authDomain}/${b4}`,r={apiKey:e.apiKey,appName:t.name,v:Ea},s=C4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Dc(r).slice(1)}`}async function k4(t){const e=await _4(t),n=gr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:I4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{i(o)},E4.get());function c(){gr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R4=500,P4=600,A4="_blank",D4="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j4(t,e,n,r=R4,s=P4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...N4,width:r.toString(),height:s.toString(),top:i,left:o},d=Kt().toLowerCase();n&&(a=l1(d)?A4:n),o1(d)&&(e=e||D4,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,_])=>`${p}${v}=${_},`,"");if(tL(d)&&a!=="_self")return O4(e||"",a),new Z_(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new Z_(f)}function O4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="__/auth/handler",L4="emulator/auth/handler",V4=encodeURIComponent("fac");async function e0(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ea,eventId:s};if(e instanceof v1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Mc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${V4}=${encodeURIComponent(c)}`:"";return`${F4(t)}?${Dc(a).slice(1)}${d}`}function F4({config:t}){return t.emulator?tv(t,L4):`https://${t.authDomain}/${M4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class U4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T1,this._completeRedirectFn=u4,this._overrideRedirectResult=a4}async _openPopup(e,n,r,s){var o;ss((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await e0(e,n,r,dg(),s);return j4(e,i,ov())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await e0(e,n,r,dg(),s);return zL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await k4(e),r=new h4(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Fp];i!==void 0&&n(!!i),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f1()||a1()||rv()}}const $4=U4;var t0="@firebase/auth",n0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W4(t){Sr(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(t)},d=new aL(r,s,i,c);return yL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new Qn("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new B4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(t0,n0,z4(t)),jn(t0,n0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=5*60,q4=UT("authIdTokenMaxAge")||H4;let r0=null;const G4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q4)return;const s=n==null?void 0:n.token;r0!==s&&(r0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function K4(t=Zy()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gL(t,{popupRedirectResolver:$4,persistence:[JL,UL,T1]}),r=UT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=G4(i.toString());OL(n,o,()=>o(n.currentUser)),jL(n,a=>o(a))}}const s=VT("auth");return s&&vL(n,`http://${s}`),n}function Y4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}lL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Y4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W4("Browser");var Q4="firebase",X4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(Q4,X4,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,A1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function C(){}C.prototype=T.prototype,k.D=T.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,I,j){for(var A=Array(arguments.length-2),$=2;$<arguments.length;$++)A[$-2]=arguments[$];return T.prototype[I].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,T,C){C||(C=0);var N=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)N[I]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(I=0;16>I;++I)N[I]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=k.g[0],C=k.g[1],I=k.g[2];var j=k.g[3],A=T+(j^C&(I^j))+N[0]+3614090360&4294967295;T=C+(A<<7&4294967295|A>>>25),A=j+(I^T&(C^I))+N[1]+3905402710&4294967295,j=T+(A<<12&4294967295|A>>>20),A=I+(C^j&(T^C))+N[2]+606105819&4294967295,I=j+(A<<17&4294967295|A>>>15),A=C+(T^I&(j^T))+N[3]+3250441966&4294967295,C=I+(A<<22&4294967295|A>>>10),A=T+(j^C&(I^j))+N[4]+4118548399&4294967295,T=C+(A<<7&4294967295|A>>>25),A=j+(I^T&(C^I))+N[5]+1200080426&4294967295,j=T+(A<<12&4294967295|A>>>20),A=I+(C^j&(T^C))+N[6]+2821735955&4294967295,I=j+(A<<17&4294967295|A>>>15),A=C+(T^I&(j^T))+N[7]+4249261313&4294967295,C=I+(A<<22&4294967295|A>>>10),A=T+(j^C&(I^j))+N[8]+1770035416&4294967295,T=C+(A<<7&4294967295|A>>>25),A=j+(I^T&(C^I))+N[9]+2336552879&4294967295,j=T+(A<<12&4294967295|A>>>20),A=I+(C^j&(T^C))+N[10]+4294925233&4294967295,I=j+(A<<17&4294967295|A>>>15),A=C+(T^I&(j^T))+N[11]+2304563134&4294967295,C=I+(A<<22&4294967295|A>>>10),A=T+(j^C&(I^j))+N[12]+1804603682&4294967295,T=C+(A<<7&4294967295|A>>>25),A=j+(I^T&(C^I))+N[13]+4254626195&4294967295,j=T+(A<<12&4294967295|A>>>20),A=I+(C^j&(T^C))+N[14]+2792965006&4294967295,I=j+(A<<17&4294967295|A>>>15),A=C+(T^I&(j^T))+N[15]+1236535329&4294967295,C=I+(A<<22&4294967295|A>>>10),A=T+(I^j&(C^I))+N[1]+4129170786&4294967295,T=C+(A<<5&4294967295|A>>>27),A=j+(C^I&(T^C))+N[6]+3225465664&4294967295,j=T+(A<<9&4294967295|A>>>23),A=I+(T^C&(j^T))+N[11]+643717713&4294967295,I=j+(A<<14&4294967295|A>>>18),A=C+(j^T&(I^j))+N[0]+3921069994&4294967295,C=I+(A<<20&4294967295|A>>>12),A=T+(I^j&(C^I))+N[5]+3593408605&4294967295,T=C+(A<<5&4294967295|A>>>27),A=j+(C^I&(T^C))+N[10]+38016083&4294967295,j=T+(A<<9&4294967295|A>>>23),A=I+(T^C&(j^T))+N[15]+3634488961&4294967295,I=j+(A<<14&4294967295|A>>>18),A=C+(j^T&(I^j))+N[4]+3889429448&4294967295,C=I+(A<<20&4294967295|A>>>12),A=T+(I^j&(C^I))+N[9]+568446438&4294967295,T=C+(A<<5&4294967295|A>>>27),A=j+(C^I&(T^C))+N[14]+3275163606&4294967295,j=T+(A<<9&4294967295|A>>>23),A=I+(T^C&(j^T))+N[3]+4107603335&4294967295,I=j+(A<<14&4294967295|A>>>18),A=C+(j^T&(I^j))+N[8]+1163531501&4294967295,C=I+(A<<20&4294967295|A>>>12),A=T+(I^j&(C^I))+N[13]+2850285829&4294967295,T=C+(A<<5&4294967295|A>>>27),A=j+(C^I&(T^C))+N[2]+4243563512&4294967295,j=T+(A<<9&4294967295|A>>>23),A=I+(T^C&(j^T))+N[7]+1735328473&4294967295,I=j+(A<<14&4294967295|A>>>18),A=C+(j^T&(I^j))+N[12]+2368359562&4294967295,C=I+(A<<20&4294967295|A>>>12),A=T+(C^I^j)+N[5]+4294588738&4294967295,T=C+(A<<4&4294967295|A>>>28),A=j+(T^C^I)+N[8]+2272392833&4294967295,j=T+(A<<11&4294967295|A>>>21),A=I+(j^T^C)+N[11]+1839030562&4294967295,I=j+(A<<16&4294967295|A>>>16),A=C+(I^j^T)+N[14]+4259657740&4294967295,C=I+(A<<23&4294967295|A>>>9),A=T+(C^I^j)+N[1]+2763975236&4294967295,T=C+(A<<4&4294967295|A>>>28),A=j+(T^C^I)+N[4]+1272893353&4294967295,j=T+(A<<11&4294967295|A>>>21),A=I+(j^T^C)+N[7]+4139469664&4294967295,I=j+(A<<16&4294967295|A>>>16),A=C+(I^j^T)+N[10]+3200236656&4294967295,C=I+(A<<23&4294967295|A>>>9),A=T+(C^I^j)+N[13]+681279174&4294967295,T=C+(A<<4&4294967295|A>>>28),A=j+(T^C^I)+N[0]+3936430074&4294967295,j=T+(A<<11&4294967295|A>>>21),A=I+(j^T^C)+N[3]+3572445317&4294967295,I=j+(A<<16&4294967295|A>>>16),A=C+(I^j^T)+N[6]+76029189&4294967295,C=I+(A<<23&4294967295|A>>>9),A=T+(C^I^j)+N[9]+3654602809&4294967295,T=C+(A<<4&4294967295|A>>>28),A=j+(T^C^I)+N[12]+3873151461&4294967295,j=T+(A<<11&4294967295|A>>>21),A=I+(j^T^C)+N[15]+530742520&4294967295,I=j+(A<<16&4294967295|A>>>16),A=C+(I^j^T)+N[2]+3299628645&4294967295,C=I+(A<<23&4294967295|A>>>9),A=T+(I^(C|~j))+N[0]+4096336452&4294967295,T=C+(A<<6&4294967295|A>>>26),A=j+(C^(T|~I))+N[7]+1126891415&4294967295,j=T+(A<<10&4294967295|A>>>22),A=I+(T^(j|~C))+N[14]+2878612391&4294967295,I=j+(A<<15&4294967295|A>>>17),A=C+(j^(I|~T))+N[5]+4237533241&4294967295,C=I+(A<<21&4294967295|A>>>11),A=T+(I^(C|~j))+N[12]+1700485571&4294967295,T=C+(A<<6&4294967295|A>>>26),A=j+(C^(T|~I))+N[3]+2399980690&4294967295,j=T+(A<<10&4294967295|A>>>22),A=I+(T^(j|~C))+N[10]+4293915773&4294967295,I=j+(A<<15&4294967295|A>>>17),A=C+(j^(I|~T))+N[1]+2240044497&4294967295,C=I+(A<<21&4294967295|A>>>11),A=T+(I^(C|~j))+N[8]+1873313359&4294967295,T=C+(A<<6&4294967295|A>>>26),A=j+(C^(T|~I))+N[15]+4264355552&4294967295,j=T+(A<<10&4294967295|A>>>22),A=I+(T^(j|~C))+N[6]+2734768916&4294967295,I=j+(A<<15&4294967295|A>>>17),A=C+(j^(I|~T))+N[13]+1309151649&4294967295,C=I+(A<<21&4294967295|A>>>11),A=T+(I^(C|~j))+N[4]+4149444226&4294967295,T=C+(A<<6&4294967295|A>>>26),A=j+(C^(T|~I))+N[11]+3174756917&4294967295,j=T+(A<<10&4294967295|A>>>22),A=I+(T^(j|~C))+N[2]+718787259&4294967295,I=j+(A<<15&4294967295|A>>>17),A=C+(j^(I|~T))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+I&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var C=T-this.blockSize,N=this.B,I=this.h,j=0;j<T;){if(I==0)for(;j<=C;)s(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<T;)if(N[I++]=k.charCodeAt(j++),I==this.blockSize){s(this,N),I=0;break}}else for(;j<T;)if(N[I++]=k[j++],I==this.blockSize){s(this,N),I=0;break}}this.h=I,this.o+=T},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var C=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=C&255,C/=256;for(this.u(k),k=Array(16),T=C=0;4>T;++T)for(var N=0;32>N;N+=8)k[C++]=this.g[T]>>>N&255;return k};function i(k,T){var C=a;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=T(k)}function o(k,T){this.h=T;for(var C=[],N=!0,I=k.length-1;0<=I;I--){var j=k[I]|0;N&&j==T||(C[I]=j,N=!1)}this.g=C}var a={};function c(k){return-128<=k&&128>k?i(k,function(T){return new o([T|0],0>T?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return S(d(-k));for(var T=[],C=1,N=0;k>=C;N++)T[N]=k/C|0,C*=4294967296;return new o(T,0)}function h(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return S(h(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(T,8)),N=f,I=0;I<k.length;I+=8){var j=Math.min(8,k.length-I),A=parseInt(k.substring(I,I+j),T);8>j?(j=d(Math.pow(T,j)),N=N.j(j).add(d(A))):(N=N.j(C),N=N.add(d(A)))}return N}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-S(this).m();for(var k=0,T=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*T,T*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(g(this))return"-"+S(this).toString(k);for(var T=d(Math.pow(k,6)),C=this,N="";;){var I=P(C,T).g;C=w(C,I.j(T));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=I,_(C))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function g(k){return k.h==-1}t.l=function(k){return k=w(this,k),g(k)?-1:_(k)?0:1};function S(k){for(var T=k.g.length,C=[],N=0;N<T;N++)C[N]=~k.g[N];return new o(C,~k.h).add(p)}t.abs=function(){return g(this)?S(this):this},t.add=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],N=0,I=0;I<=T;I++){var j=N+(this.i(I)&65535)+(k.i(I)&65535),A=(j>>>16)+(this.i(I)>>>16)+(k.i(I)>>>16);N=A>>>16,j&=65535,A&=65535,C[I]=A<<16|j}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(k,T){return k.add(S(T))}t.j=function(k){if(_(this)||_(k))return f;if(g(this))return g(k)?S(this).j(S(k)):S(S(this).j(k));if(g(k))return S(this.j(S(k)));if(0>this.l(v)&&0>k.l(v))return d(this.m()*k.m());for(var T=this.g.length+k.g.length,C=[],N=0;N<2*T;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var I=0;I<k.g.length;I++){var j=this.i(N)>>>16,A=this.i(N)&65535,$=k.i(I)>>>16,J=k.i(I)&65535;C[2*N+2*I]+=A*J,x(C,2*N+2*I),C[2*N+2*I+1]+=j*J,x(C,2*N+2*I+1),C[2*N+2*I+1]+=A*$,x(C,2*N+2*I+1),C[2*N+2*I+2]+=j*$,x(C,2*N+2*I+2)}for(N=0;N<T;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=T;N<2*T;N++)C[N]=0;return new o(C,0)};function x(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function b(k,T){this.g=k,this.h=T}function P(k,T){if(_(T))throw Error("division by zero");if(_(k))return new b(f,f);if(g(k))return T=P(S(k),T),new b(S(T.g),S(T.h));if(g(T))return T=P(k,S(T)),new b(S(T.g),T.h);if(30<k.g.length){if(g(k)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var C=p,N=T;0>=N.l(k);)C=D(C),N=D(N);var I=O(C,1),j=O(N,1);for(N=O(N,2),C=O(C,2);!_(N);){var A=j.add(N);0>=A.l(k)&&(I=I.add(C),j=A),N=O(N,1),C=O(C,1)}return T=w(k,I.j(T)),new b(I,T)}for(I=f;0<=k.l(T);){for(C=Math.max(1,Math.floor(k.m()/T.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=d(C),A=j.j(T);g(A)||0<A.l(k);)C-=N,j=d(C),A=j.j(T);_(j)&&(j=p),I=I.add(j),k=w(k,A)}return new b(I,k)}t.A=function(k){return P(this,k).h},t.and=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],N=0;N<T;N++)C[N]=this.i(N)&k.i(N);return new o(C,this.h&k.h)},t.or=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],N=0;N<T;N++)C[N]=this.i(N)|k.i(N);return new o(C,this.h|k.h)},t.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],N=0;N<T;N++)C[N]=this.i(N)^k.i(N);return new o(C,this.h^k.h)};function D(k){for(var T=k.g.length+1,C=[],N=0;N<T;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new o(C,k.h)}function O(k,T){var C=T>>5;T%=32;for(var N=k.g.length-C,I=[],j=0;j<N;j++)I[j]=0<T?k.i(j+C)>>>T|k.i(j+C+1)<<32-T:k.i(j+C);return new o(I,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,zs=o}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D1,ml,j1,wd,mg,O1,M1,L1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,E){return u==Array.prototype||u==Object.prototype||(u[m]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var E=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var M=u[R];if(!(M in E))break e;E=E[M]}u=u[u.length-1],R=E[u],m=m(R),m!=R&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var E=0,R=!1,M={next:function(){if(!R&&E<u.length){var F=E++;return{value:m(F,u[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,E){return u.call.apply(u.bind,arguments)}function f(u,m,E){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function v(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function _(u,m){function E(){}E.prototype=m.prototype,u.aa=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(R,M,F){for(var G=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)G[ze-2]=arguments[ze];return m.prototype[M].apply(R,G)}}function g(u){const m=u.length;if(0<m){const E=Array(m);for(let R=0;R<m;R++)E[R]=u[R];return E}return[]}function S(u,m){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(c(R)){const M=u.length||0,F=R.length||0;u.length=M+F;for(let G=0;G<F;G++)u[M+G]=R[G]}else u.push(R)}}class w{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,m,E){for(const R in u)m.call(E,u[R],R,u)}function k(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function T(u){const m={};for(const E in u)m[E]=u[E];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let E,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(E in R)u[E]=R[E];for(let F=0;F<C.length;F++)E=C[F],Object.prototype.hasOwnProperty.call(R,E)&&(u[E]=R[E])}}function I(u){var m=1;u=u.split(":");const E=[];for(;0<m&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function j(u){a.setTimeout(()=>{throw u},0)}function A(){var u=L;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,E){const R=J.get();R.set(m,E),this.h?this.h.next=R:this.g=R,this.h=R}}var J=new w(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,V=!1,L=new $,W=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(ee)}};var ee=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(E){j(E)}var m=J;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}V=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return u}();function we(u,m){if(z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{P(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}_(we,z);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ze(u,m,E,R,M){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!R,this.ha=M,this.key=++De,this.da=this.fa=!1}function Pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u){this.src=u,this.g={},this.h=0}ke.prototype.add=function(u,m,E,R,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=gt(u,m,R,M);return-1<G?(m=u[G],E||(m.fa=!1)):(m=new Ze(m,this.src,F,!!R,M),m.fa=E,u.push(m)),m};function Ne(u,m){var E=m.type;if(E in u.g){var R=u.g[E],M=Array.prototype.indexOf.call(R,m,void 0),F;(F=0<=M)&&Array.prototype.splice.call(R,M,1),F&&(Pe(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function gt(u,m,E,R){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==m&&F.capture==!!E&&F.ha==R)return M}return-1}var It="closure_lm_"+(1e6*Math.random()|0),Ln={};function sr(u,m,E,R,M){if(Array.isArray(m)){for(var F=0;F<m.length;F++)sr(u,m[F],E,R,M);return null}return E=tu(E),u&&u[re]?u.K(m,E,d(R)?!!R.capture:!1,M):Pr(u,m,E,!1,R,M)}function Pr(u,m,E,R,M,F){if(!m)throw Error("Invalid event type");var G=d(M)?!!M.capture:!!M,ze=gi(u);if(ze||(u[It]=ze=new ke(u)),E=ze.add(m,E,R,G,F),E.proxy)return E;if(R=La(),E.proxy=R,R.src=u,R.listener=E,u.addEventListener)ce||(M=G),M===void 0&&(M=!1),u.addEventListener(m.toString(),R,M);else if(u.attachEvent)u.attachEvent(Zc(m.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function La(){function u(E){return m.call(u.src,u.listener,E)}const m=eu;return u}function Ar(u,m,E,R,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ar(u,m[F],E,R,M);else R=d(R)?!!R.capture:!!R,E=tu(E),u&&u[re]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],E=gt(F,E,R,M),-1<E&&(Pe(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=gi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,E,R,M)),(E=-1<u?m[u]:null)&&Va(E))}function Va(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])Ne(m.i,u);else{var E=u.type,R=u.proxy;m.removeEventListener?m.removeEventListener(E,R,u.capture):m.detachEvent?m.detachEvent(Zc(E),R):m.addListener&&m.removeListener&&m.removeListener(R),(E=gi(m))?(Ne(E,u),E.h==0&&(E.src=null,m[It]=null)):Pe(u)}}}function Zc(u){return u in Ln?Ln[u]:Ln[u]="on"+u}function eu(u,m){if(u.da)u=!0;else{m=new we(m,this);var E=u.listener,R=u.ha||u.src;u.fa&&Va(u),u=E.call(R,m)}return u}function gi(u){return u=u[It],u instanceof ke?u:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(u){return typeof u=="function"?u:(u[yi]||(u[yi]=function(m){return u.handleEvent(m)}),u[yi])}function bt(){ie.call(this),this.i=new ke(this),this.M=this,this.F=null}_(bt,ie),bt.prototype[re]=!0,bt.prototype.removeEventListener=function(u,m,E,R){Ar(this,u,m,E,R)};function kt(u,m){var E,R=u.F;if(R)for(E=[];R;R=R.F)E.push(R);if(u=u.M,R=m.type||m,typeof m=="string")m=new z(m,u);else if(m instanceof z)m.target=m.target||u;else{var M=m;m=new z(R,u),N(m,M)}if(M=!0,E)for(var F=E.length-1;0<=F;F--){var G=m.g=E[F];M=oo(G,R,!0,m)&&M}if(G=m.g=u,M=oo(G,R,!0,m)&&M,M=oo(G,R,!1,m)&&M,E)for(F=0;F<E.length;F++)G=m.g=E[F],M=oo(G,R,!1,m)&&M}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var E=u.g[m],R=0;R<E.length;R++)Pe(E[R]);delete u.g[m],u.h--}}this.F=null},bt.prototype.K=function(u,m,E,R){return this.i.add(String(u),m,!1,E,R)},bt.prototype.L=function(u,m,E,R){return this.i.add(String(u),m,!0,E,R)};function oo(u,m,E,R){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,F=0;F<m.length;++F){var G=m[F];if(G&&!G.da&&G.capture==E){var ze=G.listener,Rt=G.ha||G.src;G.fa&&Ne(u.i,G),M=ze.call(Rt,R)!==!1&&M}}return M&&!R.defaultPrevented}function nu(u,m,E){if(typeof u=="function")E&&(u=p(u,E));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function ru(u){u.g=nu(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Hf extends ie{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(u){ie.call(this),this.h=u,this.g={}}_(vi,ie);var su=[];function iu(u){O(u.g,function(m,E){this.g.hasOwnProperty(E)&&Va(m)},u),u.g={}}vi.prototype.N=function(){vi.aa.N.call(this),iu(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fa=a.JSON.stringify,ou=a.JSON.parse,qf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function ve(u){return u.h||(u.h=u.i())}function Be(){}var Se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cn(){z.call(this,"d")}_(Cn,z);function Qt(){z.call(this,"c")}_(Qt,z);var In={},yt=null;function Xt(){return yt=yt||new bt}In.La="serverreachability";function je(u){z.call(this,In.La,u)}_(je,z);function wi(u){const m=Xt();kt(m,new je(m))}In.STAT_EVENT="statevent";function au(u,m){z.call(this,In.STAT_EVENT,u),this.stat=m}_(au,z);function Nt(u){const m=Xt();kt(m,new au(m,u))}In.Ma="timingevent";function lo(u,m){z.call(this,In.Ma,u),this.size=m}_(lo,z);function Dr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Ua(){this.g=!0}Ua.prototype.xa=function(){this.g=!1};function PP(u,m,E,R,M,F){u.info(function(){if(u.g)if(F)for(var G="",ze=F.split("&"),Rt=0;Rt<ze.length;Rt++){var Oe=ze[Rt].split("=");if(1<Oe.length){var Lt=Oe[0];Oe=Oe[1];var Vt=Lt.split("_");G=2<=Vt.length&&Vt[1]=="type"?G+(Lt+"="+Oe+"&"):G+(Lt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+m+`
`+E+`
`+G})}function AP(u,m,E,R,M,F,G){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+m+`
`+E+`
`+F+" "+G})}function co(u,m,E,R){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jP(u,E)+(R?" "+R:"")})}function DP(u,m){u.info(function(){return"TIMEOUT: "+m})}Ua.prototype.info=function(){};function jP(u,m){if(!u.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var R=E[u];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return Fa(E)}catch{return m}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gf;function cu(){}_(cu,ao),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Gf=new cu;function fs(u,m,E,R){this.j=u,this.i=m,this.l=E,this.R=R||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kw}function kw(){this.i=null,this.g="",this.h=!1}var Nw={},Kf={};function Yf(u,m,E){u.L=1,u.v=fu(jr(m)),u.m=E,u.P=!0,Rw(u,null)}function Rw(u,m){u.F=Date.now(),uu(u),u.A=jr(u.v);var E=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),Ww(E.i,"t",R),u.C=0,E=u.j.J,u.h=new kw,u.g=lx(u.j,E?m:null,!u.m),0<u.O&&(u.M=new Hf(p(u.Y,u,u.g),u.O)),m=u.U,E=u.g,R=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(su[0]=M.toString()),M=su);for(var F=0;F<M.length;F++){var G=sr(E,M[F],R||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wi(),PP(u.i,u.u,u.A,u.l,u.R,u.m)}fs.prototype.ca=function(u){u=u.target;const m=this.M;m&&Or(u)==3?m.j():this.Y(u)},fs.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Or(this.g);var m=this.g.Ba();const fo=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Xw(this.g)))){this.J||Vt!=4||m==7||(m==8||0>=fo?wi(3):wi(2)),Qf(this);var E=this.g.Z();this.X=E;t:if(Pw(this)){var R=Xw(this.g);u="";var M=R.length,F=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),$a(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(R[m],{stream:!(F&&m==M-1)});R.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=E==200,AP(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Rt=this.g;if((ze=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ze)){var Oe=ze;break t}}Oe=null}if(E=Oe)co(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xf(this,E);else{this.o=!1,this.s=3,Nt(12),xi(this),$a(this);break e}}if(this.P){E=!0;let Vn;for(;!this.J&&this.C<G.length;)if(Vn=OP(this,G),Vn==Kf){Vt==4&&(this.s=4,Nt(14),E=!1),co(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Nw){this.s=4,Nt(15),co(this.i,this.l,G,"[Invalid Chunk]"),E=!1;break}else co(this.i,this.l,Vn,null),Xf(this,Vn);if(Pw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||G.length!=0||this.h.h||(this.s=1,Nt(16),E=!1),this.o=this.o&&E,!E)co(this.i,this.l,G,"[Invalid Chunked Response]"),xi(this),$a(this);else if(0<G.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),rp(Lt),Lt.M=!0,Nt(11))}}else co(this.i,this.l,G,null),Xf(this,G);Vt==4&&xi(this),this.o&&!this.J&&(Vt==4?sx(this.j,this):(this.o=!1,uu(this)))}else JP(this.g),E==400&&0<G.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),xi(this),$a(this)}}}catch{}finally{}};function Pw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function OP(u,m){var E=u.C,R=m.indexOf(`
`,E);return R==-1?Kf:(E=Number(m.substring(E,R)),isNaN(E)?Nw:(R+=1,R+E>m.length?Kf:(m=m.slice(R,R+E),u.C=R+E,m)))}fs.prototype.cancel=function(){this.J=!0,xi(this)};function uu(u){u.S=Date.now()+u.I,Aw(u,u.I)}function Aw(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dr(p(u.ba,u),m)}function Qf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}fs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(DP(this.i,this.A),this.L!=2&&(wi(),Nt(17)),xi(this),this.s=2,$a(this)):Aw(this,this.S-u)};function $a(u){u.j.G==0||u.J||sx(u.j,u)}function xi(u){Qf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,iu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xf(u,m){try{var E=u.j;if(E.G!=0&&(E.g==u||Jf(E.h,u))){if(!u.K&&Jf(E.h,u)&&E.G==3){try{var R=E.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)wu(E),yu(E);else break e;np(E),Nt(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=Dr(p(E.Za,E),6e3));if(1>=Ow(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ei(E,11)}else if((u.K||E.g==u)&&wu(E),!x(m))for(M=E.Da.g.parse(m),m=0;m<M.length;m++){let Oe=M[m];if(E.T=Oe[0],Oe=Oe[1],E.G==2)if(Oe[0]=="c"){E.K=Oe[1],E.ia=Oe[2];const Lt=Oe[3];Lt!=null&&(E.la=Lt,E.j.info("VER="+E.la));const Vt=Oe[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const fo=Oe[5];fo!=null&&typeof fo=="number"&&0<fo&&(R=1.5*fo,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Vn=u.g;if(Vn){const _u=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var F=R.h;F.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zf(F,F.h),F.h=null))}if(R.D){const sp=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;sp&&(R.ya=sp,qe(R.I,R.D,sp))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var G=u;if(R.qa=ax(R,R.J?R.ia:null,R.W),G.K){Mw(R.h,G);var ze=G,Rt=R.L;Rt&&(ze.I=Rt),ze.B&&(Qf(ze),uu(ze)),R.g=G}else nx(R);0<E.i.length&&vu(E)}else Oe[0]!="stop"&&Oe[0]!="close"||Ei(E,7);else E.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ei(E,7):tp(E):Oe[0]!="noop"&&E.l&&E.l.ta(Oe),E.v=0)}}wi(4)}catch{}}var MP=class{constructor(u,m){this.g=u,this.map=m}};function Dw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ow(u){return u.h?1:u.g?u.g.size:0}function Jf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zf(u,m){u.g?u.g.add(m):u.h=m}function Mw(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dw.prototype.cancel=function(){if(this.i=Lw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.D);return m}return g(u.i)}function LP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],E=u.length,R=0;R<E;R++)m.push(u[R]);return m}m=[],E=0;for(R in u)m[E++]=u[R];return m}function VP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var E=0;E<u;E++)m.push(E);return m}m=[],E=0;for(const R in u)m[E++]=R;return m}}}function Vw(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var E=VP(u),R=LP(u),M=R.length,F=0;F<M;F++)m.call(void 0,R[F],E&&E[F],u)}var Fw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FP(u,m){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var R=u[E].indexOf("="),M=null;if(0<=R){var F=u[E].substring(0,R);M=u[E].substring(R+1)}else F=u[E];m(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,du(this,u.j),this.o=u.o,this.g=u.g,hu(this,u.s),this.l=u.l;var m=u.i,E=new Wa;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Uw(this,E),this.m=u.m}else u&&(m=String(u).match(Fw))?(this.h=!1,du(this,m[1]||"",!0),this.o=Ba(m[2]||""),this.g=Ba(m[3]||"",!0),hu(this,m[4]),this.l=Ba(m[5]||"",!0),Uw(this,m[6]||"",!0),this.m=Ba(m[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(za(m,$w,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(za(m,$w,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(za(E,E.charAt(0)=="/"?BP:$P,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",za(E,WP)),u.join("")};function jr(u){return new _i(u)}function du(u,m,E){u.j=E?Ba(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Uw(u,m,E){m instanceof Wa?(u.i=m,HP(u.i,u.h)):(E||(m=za(m,zP)),u.i=new Wa(m,u.h))}function qe(u,m,E){u.i.set(m,E)}function fu(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ba(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function za(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,UP),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function UP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $w=/[#\/\?@]/g,$P=/[#\?:]/g,BP=/[#\?]/g,zP=/[#\?@]/g,WP=/#/g;function Wa(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ps(u){u.g||(u.g=new Map,u.h=0,u.i&&FP(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=Wa.prototype,t.add=function(u,m){ps(this),this.i=null,u=uo(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function Bw(u,m){ps(u),m=uo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zw(u,m){return ps(u),m=uo(u,m),u.g.has(m)}t.forEach=function(u,m){ps(this),this.g.forEach(function(E,R){E.forEach(function(M){u.call(m,M,R,this)},this)},this)},t.na=function(){ps(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let R=0;R<m.length;R++){const M=u[R];for(let F=0;F<M.length;F++)E.push(m[R])}return E},t.V=function(u){ps(this);let m=[];if(typeof u=="string")zw(this,u)&&(m=m.concat(this.g.get(uo(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)m=m.concat(u[E])}return m},t.set=function(u,m){return ps(this),this.i=null,u=uo(this,u),zw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ww(u,m,E){Bw(u,m),0<E.length&&(u.i=null,u.g.set(uo(u,m),g(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var R=m[E];const F=encodeURIComponent(String(R)),G=this.V(R);for(R=0;R<G.length;R++){var M=F;G[R]!==""&&(M+="="+encodeURIComponent(String(G[R]))),u.push(M)}}return this.i=u.join("&")};function uo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function HP(u,m){m&&!u.j&&(ps(u),u.i=null,u.g.forEach(function(E,R){var M=R.toLowerCase();R!=M&&(Bw(this,R),Ww(this,M,E))},u)),u.j=m}function qP(u,m){const E=new Ua;if(a.Image){const R=new Image;R.onload=v(ms,E,"TestLoadImage: loaded",!0,m,R),R.onerror=v(ms,E,"TestLoadImage: error",!1,m,R),R.onabort=v(ms,E,"TestLoadImage: abort",!1,m,R),R.ontimeout=v(ms,E,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else m(!1)}function GP(u,m){const E=new Ua,R=new AbortController,M=setTimeout(()=>{R.abort(),ms(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:R.signal}).then(F=>{clearTimeout(M),F.ok?ms(E,"TestPingServer: ok",!0,m):ms(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),ms(E,"TestPingServer: error",!1,m)})}function ms(u,m,E,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(E)}catch{}}function KP(){this.g=new qf}function YP(u,m,E){const R=E||"";try{Vw(u,function(M,F){let G=M;d(M)&&(G=Fa(M)),m.push(R+F+"="+encodeURIComponent(G))})}catch(M){throw m.push(R+"type="+encodeURIComponent("_badmap")),M}}function pu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(pu,ao),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(u){return function(){return u}}({});function mu(u,m){bt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(mu,bt),t=mu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,qa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ha(this):qa(this),this.readyState==3&&Hw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ha(this))},t.Qa=function(u){this.g&&(this.response=u,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qa(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function qa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qw(u){let m="";return O(u,function(E,R){m+=R,m+=":",m+=E,m+=`\r
`}),m}function ep(u,m,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=qw(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):qe(u,m,E))}function ot(u){bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ot,bt);var QP=/^https?$/i,XP=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gf.g(),this.v=this.o?ve(this.o):ve(Gf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Gw(this,F);return}if(u=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)E.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())E.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XP,m,void 0))||R||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of E)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Gw(this,F)}};function Gw(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Kw(u),gu(u)}function Kw(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yw(this):this.bb())},t.bb=function(){Yw(this)};function Yw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Or(u)!=4||u.Z()!=2)){if(u.u&&Or(u)==4)nu(u.Ea,0,u);else if(kt(u,"readystatechange"),Or(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var R;if(R=G===0){var M=String(u.D).match(Fw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!QP.test(M?M.toLowerCase():"")}E=R}if(E)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var F=2<Or(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Kw(u)}}finally{gu(u)}}}}function gu(u,m){if(u.g){Qw(u);const E=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{E.onreadystatechange=R}catch{}}}function Qw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ou(m)}};function Xw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function JP(u){const m={};u=(u.g&&2<=Or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(x(u[R]))continue;var E=I(u[R]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=m[M]||[];m[M]=F,F.push(E)}k(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function Jw(u){this.Aa=0,this.i=[],this.j=new Ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,u),this.cb=Ga("retryDelaySeedMs",1e4,u),this.Wa=Ga("forwardChannelMaxRetries",2,u),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Dw(u&&u.concurrentRequestLimit),this.Da=new KP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jw.prototype,t.la=8,t.G=1,t.connect=function(u,m,E,R){Nt(0),this.W=u,this.H=m||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=ax(this,null,this.W),vu(this)};function tp(u){if(Zw(u),u.G==3){var m=u.U++,E=jr(u.I);if(qe(E,"SID",u.K),qe(E,"RID",m),qe(E,"TYPE","terminate"),Ka(u,E),m=new fs(u,u.j,m),m.L=2,m.v=fu(jr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=lx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),uu(m)}ox(u)}function yu(u){u.g&&(rp(u),u.g.cancel(),u.g=null)}function Zw(u){yu(u),u.u&&(a.clearTimeout(u.u),u.u=null),wu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function vu(u){if(!jw(u.h)&&!u.s){u.s=!0;var m=u.Ga;Z||W(),V||(Z(),V=!0),L.add(m,u),u.B=0}}function ZP(u,m){return Ow(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dr(p(u.Ga,u,m),ix(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new fs(this,this.j,u);let F=this.o;if(this.S&&(F?(F=T(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=tx(this,M,m),E=jr(this.I),qe(E,"RID",u),qe(E,"CVER",22),this.D&&qe(E,"X-HTTP-Session-Id",this.D),Ka(this,E),F&&(this.O?m="headers="+encodeURIComponent(String(qw(F)))+"&"+m:this.m&&ep(E,this.m,F)),Zf(this.h,M),this.Ua&&qe(E,"TYPE","init"),this.P?(qe(E,"$req",m),qe(E,"SID","null"),M.T=!0,Yf(M,E,null)):Yf(M,E,m),this.G=2}}else this.G==3&&(u?ex(this,u):this.i.length==0||jw(this.h)||ex(this))};function ex(u,m){var E;m?E=m.l:E=u.U++;const R=jr(u.I);qe(R,"SID",u.K),qe(R,"RID",E),qe(R,"AID",u.T),Ka(u,R),u.m&&u.o&&ep(R,u.m,u.o),E=new fs(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tx(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zf(u.h,E),Yf(E,R,m)}function Ka(u,m){u.H&&O(u.H,function(E,R){qe(m,R,E)}),u.l&&Vw({},function(E,R){qe(m,R,E)})}function tx(u,m,E){E=Math.min(u.i.length,E);var R=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const G=["count="+E];F==-1?0<E?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let ze=!0;for(let Rt=0;Rt<E;Rt++){let Oe=M[Rt].g;const Lt=M[Rt].map;if(Oe-=F,0>Oe)F=Math.max(0,M[Rt].g-100),ze=!1;else try{YP(Lt,G,"req"+Oe+"_")}catch{R&&R(Lt)}}if(ze){R=G.join("&");break e}}}return u=u.i.splice(0,E),m.D=u,R}function nx(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Z||W(),V||(Z(),V=!0),L.add(m,u),u.v=0}}function np(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dr(p(u.Fa,u),ix(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,rx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dr(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),yu(this),rx(this))};function rp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function rx(u){u.g=new fs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=jr(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),Ka(u,m),u.m&&u.o&&ep(m,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=fu(jr(m)),E.m=null,E.P=!0,Rw(E,u)}t.Za=function(){this.C!=null&&(this.C=null,yu(this),np(this),Nt(19))};function wu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function sx(u,m){var E=null;if(u.g==m){wu(u),rp(u),u.g=null;var R=2}else if(Jf(u.h,m))E=m.D,Mw(u.h,m),R=1;else return;if(u.G!=0){if(m.o)if(R==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;R=Xt(),kt(R,new lo(R,E)),vu(u)}else nx(u);else if(M=m.s,M==3||M==0&&0<m.X||!(R==1&&ZP(u,m)||R==2&&np(u)))switch(E&&0<E.length&&(m=u.h,m.i=m.i.concat(E)),M){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function ix(u,m){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var E=p(u.fb,u),R=u.Xa;const M=!R;R=new _i(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(R,"https"),fu(R),M?qP(R.toString(),E):GP(R.toString(),E)}else Nt(2);u.G=0,u.l&&u.l.sa(m),ox(u),Zw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function ox(u){if(u.G=0,u.ka=[],u.l){const m=Lw(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function ax(u,m,E){var R=E instanceof _i?jr(E):new _i(E);if(R.g!="")m&&(R.g=m+"."+R.g),hu(R,R.s);else{var M=a.location;R=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var F=new _i(null);R&&du(F,R),m&&(F.g=m),M&&hu(F,M),E&&(F.l=E),R=F}return E=u.D,m=u.ya,E&&m&&qe(R,E,m),qe(R,"VER",u.la),Ka(u,R),R}function lx(u,m,E){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ot(new pu({eb:E})):new ot(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cx(){}t=cx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xu(){}xu.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){bt.call(this),this.g=new Jw(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ho(this)}_(hn,bt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){tp(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Fa(u),u=E);m.i.push(new MP(m.Ya++,u)),m.G==3&&vu(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,tp(this.g),delete this.g,hn.aa.N.call(this)};function ux(u){Cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(ux,Cn);function dx(){Qt.call(this),this.status=1}_(dx,Qt);function ho(u){this.g=u}_(ho,cx),ho.prototype.ua=function(){kt(this.g,"a")},ho.prototype.ta=function(u){kt(this.g,new ux(u))},ho.prototype.sa=function(u){kt(this.g,new dx)},ho.prototype.ra=function(){kt(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,L1=function(){return new xu},M1=function(){return Xt()},O1=In,mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,wd=lu,Iw.COMPLETE="complete",j1=Iw,Be.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",bt.prototype.listen=bt.prototype.K,ml=Be,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,D1=ot}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",o0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Qh("@firebase/firestore");function wo(){return Bi.logLevel}function te(t,...e){if(Bi.logLevel<=Te.DEBUG){const n=e.map(lv);Bi.debug(`Firestore (${Sa}): ${t}`,...n)}}function is(t,...e){if(Bi.logLevel<=Te.ERROR){const n=e.map(lv);Bi.error(`Firestore (${Sa}): ${t}`,...n)}}function ia(t,...e){if(Bi.logLevel<=Te.WARN){const n=e.map(lv);Bi.warn(`Firestore (${Sa}): ${t}`,...n)}}function lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,V1(t,r,n)}function V1(t,e,n){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||V1(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class Z4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eV{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new F1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class tV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=sV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function gg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Up(s)===Up(i)?Ce(s,i):Up(s)?1:-1}return Ce(t.length,e.length)}const iV=55296,oV=57343;function Up(t){const e=t.charCodeAt(0);return e>=iV&&e<=oV}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__name__";class lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=lr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ce(e.length,n.length)}static compareSegments(e,n){const r=lr.isNumericId(e),s=lr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?lr.extractNumericId(e).compare(lr.extractNumericId(n)):gg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class We extends lr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const aV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends lr{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return aV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new Dt([l0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(We.fromString(e))}static fromName(e){return new ae(We.fromString(e).popFirst(5))}static empty(){return new ae(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lV(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c0(t){if(!ae.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u0(t){if(ae.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vc(t,e){if(!$1(t))throw new Q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,h0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*h0);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:ft("string",Me._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Me(0,0))}static max(){return new he(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function cV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Qs(s,ae.empty(),e)}function uV(t){return new Qs(t.readTime,t.key,uc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(he.min(),ae.empty(),uc)}static max(){return new Qs(he.max(),ae.empty(),uc)}}function dV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==hV)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function pV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-1;function nf(t){return t==null}function lh(t){return t===0&&1/t==-1/0}function mV(t){return typeof t=="number"&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="";function gV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=f0(e)),e=yV(t.get(n),e);return f0(e)}function yV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case B1:n+="";break;default:n+=i}}return n}function f0(t){return t+B1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??At.RED,this.left=s??At.EMPTY,this.right=i??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new At(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new _t(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new W1("Invalid base64 string: "+i):i}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const vV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=vV.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",q1="__type__",G1="__previous_value__",K1="__local_write_time__";function dv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[q1])==null?void 0:r.stringValue)===H1}function rf(t){const e=t.mapValue.fields[G1];return dv(e)?rf(e):e}function dc(t){const e=Xs(t.mapValue.fields[K1].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const ch="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="__type__",xV="__max__",zu={mapValue:{}},Q1="__vector__",uh="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:EV(t)?9007199254740991:_V(t)?10:11:de(28295,{value:t})}function Tr(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xs(s.timestampValue),a=Xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Js(s.bytesValue).isEqual(Js(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?lh(o)===lh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(p0(o)!==p0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Tr(o[c],a[c])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),c=lt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return g0(t.timestampValue,e.timestampValue);case 4:return g0(dc(t),dc(e));case 5:return gg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Js(i),c=Js(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ce(a[d],c[d]);if(h!==0)return h}return Ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ce(lt(i.latitude),lt(o.latitude));return a!==0?a:Ce(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return y0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,_,g;const a=i.fields||{},c=o.fields||{},d=(p=a[uh])==null?void 0:p.arrayValue,h=(v=c[uh])==null?void 0:v.arrayValue,f=Ce(((_=d==null?void 0:d.values)==null?void 0:_.length)||0,((g=h==null?void 0:h.values)==null?void 0:g.length)||0);return f!==0?f:y0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zu.mapValue&&o===zu.mapValue)return 0;if(i===zu.mapValue)return 1;if(o===zu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=gg(c[f],h[f]);if(p!==0)return p;const v=aa(a[c[f]],d[h[f]]);if(v!==0)return v}return Ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function g0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Xs(t),r=Xs(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function y0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=aa(n[s],r[s]);if(i)return i}return Ce(n.length,r.length)}function la(t){return yg(t)}function yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=yg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${yg(n.fields[o])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function xd(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+xd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ui(r.fields,(i,o)=>{s+=i.length+xd(o)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function v0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vg(t){return!!t&&"integerValue"in t}function hv(t){return!!t&&"arrayValue"in t}function w0(t){return!!t&&"nullValue"in t}function x0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function _V(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Y1])==null?void 0:r.stringValue)===Q1}function Ol(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return{...t}}function EV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ui(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new on(Ol(this.value))}}function X1(t){const e=[];return ui(t.fields,(n,r)=>{const s=new Dt([n]);if(_d(r)){const i=X1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,he.min(),he.min(),he.min(),on.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,he.min(),he.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,he.min(),he.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function _0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function bV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class ht extends J1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TV(e,n,r):n==="array-contains"?new kV(e,r):n==="in"?new NV(e,r):n==="not-in"?new RV(e,r):n==="array-contains-any"?new PV(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CV(e,r):new IV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(aa(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends J1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return Z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z1(t){return t.op==="and"}function eC(t){return SV(t)&&Z1(t)}function SV(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function wg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+la(t.value);if(eC(t))return t.filters.map(e=>wg(e)).join(",");{const e=t.filters.map(n=>wg(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof Jn?function(r,s){return s instanceof Jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&tC(o,s.filters[a]),!0):!1}(t,e):void de(19439)}function nC(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class TV extends ht{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class CV extends ht{constructor(e,n){super(e,"in",n),this.keys=rC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IV extends ht{constructor(e,n){super(e,"not-in",n),this.keys=rC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class kV extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hv(n)&&fc(n.arrayValue,this.value)}}class NV extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class RV extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class PV extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function b0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new AV(t,e,n,r,s,i,o)}function fv(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.Te=n}return e.Te}function pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E0(t.startAt,e.startAt)&&E0(t.endAt,e.endAt)}function xg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DV(t,e,n,r,s,i,o,a){return new Ia(t,e,n,r,s,i,o,a)}function mv(t){return new Ia(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sC(t){return t.collectionGroup!==null}function Ml(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Dt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new pc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new pc(Dt.keyField(),r))}return e.Ie}function yr(t){const e=pe(t);return e.Ee||(e.Ee=jV(e,Ml(t))),e.Ee}function jV(t,e){if(t.limitType==="F")return b0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pc(s.field,i)});const n=t.endAt?new dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dh(t.startAt.position,t.startAt.inclusive):null;return b0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _g(t,e){const n=t.filters.concat([e]);return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hh(t,e,n){return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return pv(yr(t),yr(e))&&t.limitType===e.limitType}function iC(t){return`${fv(yr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>nC(s)).join(", ")}]`),nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function of(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ml(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=_0(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Ml(r),s)||r.endAt&&!function(o,a,c){const d=_0(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Ml(r),s))}(t,e)}function OV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oC(t){return(e,n)=>{let r=!1;for(const s of Ml(t)){const i=MV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function MV(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?aa(c,d):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new it(ae.comparator);function os(){return LV}const aC=new it(ae.comparator);function gl(...t){let e=aC;for(const n of t)e=e.insert(n.key,n);return e}function lC(t){let e=aC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ri(){return Ll()}function cC(){return Ll()}function Ll(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const VV=new it(ae.comparator),FV=new _t(ae.comparator);function Ie(...t){let e=FV;for(const n of t)e=e.add(n);return e}const UV=new _t(Ce);function $V(){return UV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function BV(t,e){return mV(e)?uC(e):gv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function zV(t,e,n){return t instanceof fh?function(s,i){const o={fields:{[q1]:{stringValue:H1},[K1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dv(i)&&(i=rf(i)),i&&(o.fields[G1]=i),{mapValue:o}}(n,e):t instanceof mc?hC(t,e):t instanceof gc?fC(t,e):function(s,i){const o=dC(s,i),a=T0(o)+T0(s.Ae);return vg(o)&&vg(s.Ae)?uC(a):gv(s.serializer,a)}(t,e)}function WV(t,e,n){return t instanceof mc?hC(t,e):t instanceof gc?fC(t,e):n}function dC(t,e){return t instanceof ph?function(r){return vg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fh extends af{}class mc extends af{constructor(e){super(),this.elements=e}}function hC(t,e){const n=pC(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class gc extends af{constructor(e){super(),this.elements=e}}function fC(t,e){let n=pC(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class ph extends af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T0(t){return lt(t.integerValue||t.doubleValue)}function pC(t){return hv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof mc&&s instanceof mc||r instanceof gc&&s instanceof gc?oa(r.elements,s.elements,Tr):r instanceof ph&&s instanceof ph?Tr(r.Ae,s.Ae):r instanceof fh&&s instanceof fh}(t.transform,e.transform)}class qV{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lf{}function mC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yC(t.key,vr.none()):new Fc(t.key,t.data,vr.none());{const n=t.data,r=on.empty();let s=new _t(Dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new di(t.key,r,new wn(s.toArray()),vr.none())}}function GV(t,e,n){t instanceof Fc?function(s,i,o){const a=s.value.clone(),c=I0(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof di?function(s,i,o){if(!Ed(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=I0(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(gC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,r){return t instanceof Fc?function(i,o,a,c){if(!Ed(i.precondition,o))return a;const d=i.value.clone(),h=k0(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,o,a,c){if(!Ed(i.precondition,o))return a;const d=k0(i.fieldTransforms,c,o),h=o.data;return h.setAll(gC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Ed(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function KV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dC(r.transform,s||null);i!=null&&(n===null&&(n=on.empty()),n.set(r.field,i))}return n||null}function C0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>HV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fc extends lf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class di extends lf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I0(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,WV(o,a,n[s]))}return r}function k0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,zV(i,o,e))}return r}class yC extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YV extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&GV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=mC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>C0(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>C0(n,r))}}class yv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return VV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new yv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Re;function ZV(t){switch(t){case U.OK:return de(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function vC(t){if(t===void 0)return is("GRPC error has no .code"),U.UNKNOWN;switch(t){case ut.OK:return U.OK;case ut.CANCELLED:return U.CANCELLED;case ut.UNKNOWN:return U.UNKNOWN;case ut.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ut.INTERNAL:return U.INTERNAL;case ut.UNAVAILABLE:return U.UNAVAILABLE;case ut.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ut.NOT_FOUND:return U.NOT_FOUND;case ut.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ut.ABORTED:return U.ABORTED;case ut.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ut.DATA_LOSS:return U.DATA_LOSS;default:return de(39323,{code:t})}}(Re=ut||(ut={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new zs([4294967295,4294967295],0);function N0(t){const e=eF().encode(t),n=new A1;return n.update(e),new Uint8Array(n.digest())}function R0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zs([n,r],0),new zs([s,i],0)]}class vv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zs.fromNumber(r)));return s.compare(tF)===1&&(s=new zs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=N0(e),[r,s]=R0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=N0(e),[r,s]=R0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cf(he.min(),s,new it(Ce),os(),Ie())}}class Uc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wC{constructor(e,n){this.targetId=e,this.Ce=n}}class xC{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class P0{constructor(){this.ve=0,this.Fe=A0(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new Uc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=A0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nF{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=Wu(),this.He=Wu(),this.Ye=new it(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(xg(i))if(r===0){const o=new ae(i.path);this.et(n,o,Ht.newNoDocument(o,he.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Js(r).toUint8Array()}catch(c){if(c instanceof W1)return ia("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new vv(o,s,i)}catch(c){return ia(c instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&xg(a.target)){const c=new ae(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ht.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new cf(e,n,this.Ye,this.je,r);return this.je=os(),this.Je=Wu(),this.He=Wu(),this.Ye=new it(Ce),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new P0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wu(){return new it(ae.comparator)}function A0(){return new it(ae.comparator)}const rF={asc:"ASCENDING",desc:"DESCENDING"},sF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iF={and:"AND",or:"OR"};class oF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Eg(t,e){return t.useProto3Json||nf(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aF(t,e){return mh(t,e.toTimestamp())}function wr(t){return Ve(!!t,49232),he.fromTimestamp(function(n){const r=Xs(n);return new Me(r.seconds,r.nanos)}(t))}function wv(t,e){return bg(t,e).canonicalString()}function bg(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EC(t){const e=We.fromString(t);return Ve(IC(e),10190,{key:e.toString()}),e}function Sg(t,e){return wv(t.databaseId,e.path)}function $p(t,e){const n=EC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(SC(n))}function bC(t,e){return wv(t.databaseId,e)}function lF(t){const e=EC(t);return e.length===4?We.emptyPath():SC(e)}function Tg(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SC(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D0(t,e,n){return{name:Sg(t,e),fields:n.value.mapValue.fields}}function cF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Mt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:vC(d.code);return new Q(h,d.message||"")}(o);n=new xC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$p(t,r.document.name),i=wr(r.document.updateTime),o=r.document.createTime?wr(r.document.createTime):he.min(),a=new on({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new bd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$p(t,r.document),i=r.readTime?wr(r.readTime):he.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$p(t,r.document),i=r.removedTargetIds||[];n=new bd([],i,s,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new JV(s,i),a=r.targetId;n=new wC(a,o)}}return n}function uF(t,e){let n;if(e instanceof Fc)n={update:D0(t,e.key,e.value)};else if(e instanceof yC)n={delete:Sg(t,e.key)};else if(e instanceof di)n={update:D0(t,e.key,e.data),updateMask:wF(e.fieldMask)};else{if(!(e instanceof YV))return de(16599,{Vt:e.type});n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof fh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ph)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:aF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function dF(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?wr(s.updateTime):wr(i);return o.isEqual(he.min())&&(o=wr(i)),new qV(o,s.transformResults||[])}(n,e))):[]}function hF(t,e){return{documents:[bC(t,e.path)]}}function fF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bC(t,s);const i=function(d){if(d.length!==0)return CC(Jn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:_o(p.field),direction:gF(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Eg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function pF(t){let e=lF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=TC(f);return p instanceof Jn&&eC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new pc(Eo(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,nf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new dh(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new dh(v,p)}(n.endAt)),DV(e,s,o,i,a,"F",c,d)}function mF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Eo(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eo(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Eo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>TC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function gF(t){return rF[t]}function yF(t){return sF[t]}function vF(t){return iF[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Eo(t){return Dt.fromServerFormat(t.fieldPath)}function CC(t){return t instanceof ht?function(n){if(n.op==="=="){if(x0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:yF(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(s=>CC(s));return r.length===1?r[0]:{compositeFilter:{op:vF(n.op),filters:r}}}(t):de(54877,{filter:t})}function wF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,s,i=he.min(),o=he.min(),a=Mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.yt=e}}function _F(t){const e=pF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.Cn=new bF}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class bF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kC=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(kC,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ca(0)}static cr(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="LruGarbageCollector",SF=1048576;function M0([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class TF{constructor(e){this.Ir=e,this.buffer=new _t(M0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(O0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ca(n)?te(O0,"Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.Vr(3e5)})}}class IF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(tf.ce);const r=new TF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(j0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),wo()<=Te.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function kF(t,e){return new IF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vl(r.mutation,s,wn.empty(),Me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Ri();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=gl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=os();const o=Ll(),a=function(){return Ll()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof di)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Vl(h.mutation,d,h.mutation.getFieldMask(),Me.now())):o.set(d.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new RF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let s=new it((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||wn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Ie()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=cC();h.forEach(p=>{if(!i.has(p)){const v=mC(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ri());let a=uc,c=i;return o.next(d=>B.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ie())).next(h=>({batchId:a,changes:lC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=gl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=gl();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const d=function(f,p){return new Ia(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=gl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Vl(h.mutation,d,wn.empty(),Me.now()),of(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:_F(s.bundledQuery),readTime:wr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.overlays=new it(ae.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ri();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ri(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ri(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ri(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XV(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.Qr=new _t(St.$r),this.Ur=new _t(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new We([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new We([])),r=new St(n,e),s=new St(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(St.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?uv:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Ce);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new St(new ae(i),0);let a=new _t(Ce);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.ri=e,this.docs=function(){return new it(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=os();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||dV(uV(h),r)<=0||(s.has(h.key)||of(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LF(this)}getSize(e){return B.resolve(this.size)}}class LF extends NF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.persistence=e,this.si=new so(n=>fv(n),pv),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new xv,this.targetCount=0,this.ai=ca.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new jF,this.referenceDelegate=e(this),this.Pi=new VF(this),this.indexManager=new EF,this.remoteDocumentCache=function(s){return new MF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new xF(n),this.Ii=new AF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new OF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new FF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class FF extends fV{constructor(e){super(),this.currentSequenceNumber=e}}class _v{constructor(e){this.persistence=e,this.Ri=new xv,this.Vi=null}static mi(e){return new _v(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.pi=new so(r=>gV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kF(this,n)}static mi(e,n){return new gh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ev(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mO()?8:pV(Kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new UF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(wo()<=Te.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(wo()<=Te.DEBUG&&te("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(wo()<=Te.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):B.resolve())}ys(e,n){if(S0(n))return B.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hh(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,hh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return S0(n)||s.isEqual(he.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(wo()<=Te.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xo(n)),this.vs(e,o,n,cV(s,uc)).next(a=>a))})}Ds(e,n){let r=new _t(oC(e));return n.forEach((s,i)=>{of(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return wo()<=Te.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LocalStore",BF=3e8;class zF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new it(Ce),this.xs=new so(i=>fv(i),pv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function WF(t,e,n,r){return new zF(t,e,n,r)}async function RC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ie();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function HF(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let v=B.resolve();return p.forEach(_=>{v=v.next(()=>h.getEntry(c,_)).next(g=>{const S=d.docVersions.get(_);Ve(S!==null,48541),g.version.compareTo(S)<0&&(f.applyToRemoteDocument(g,d),g.isValidDocument()&&(g.setReadTime(d.commitVersion),h.addEntry(g)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ie();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function qF(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Mt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(g,S,w){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=BF?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let c=os(),d=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(GF(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(he.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function GF(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=os();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te(bv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function KF(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YF(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new As(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Cg(t,e,n){const r=pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ca(o))throw o;te(bv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function L0(t,e,n){const r=pe(t);let s=he.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=pe(c),p=f.xs.get(h);return p!==void 0?B.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,yr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ie())).next(a=>(QF(r,OV(e),a),{documents:a,Qs:i})))}function QF(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class V0{constructor(){this.activeTargetIds=$V()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XF{constructor(){this.Mo=new V0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(F0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Ig(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",ZF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ig(),a=this.zo(e,n.toUriEncodedString());te(Bp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=_a(d);return this.Jo(e,a,c,r,h).then(f=>(te(Bp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ia(Bp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=ZF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class n6 extends e6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ig();return new Promise((a,c)=>{const d=new D1;d.setWithCredentials(!0),d.listenOnce(j1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case wd.NO_ERROR:const f=d.getResponseJson();te($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case wd.TIMEOUT:te($t,`RPC '${e}' ${o} timed out`),c(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const p=d.getStatus();if(te($t,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const g=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(_.status);c(new Q(g,_.message))}else c(new Q(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Q(U.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{te($t,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);te($t,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Ig(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L1(),a=M1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");te($t,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const _=new t6({Yo:S=>{v?te($t,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(te($t,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),te($t,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),g=(S,w,x)=>{S.listen(w,b=>{try{x(b)}catch(P){setTimeout(()=>{throw P},0)}})};return g(f,ml.EventType.OPEN,()=>{v||(te($t,`RPC '${e}' stream ${s} transport opened.`),_.o_())}),g(f,ml.EventType.CLOSE,()=>{v||(v=!0,te($t,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(f))}),g(f,ml.EventType.ERROR,S=>{v||(v=!0,ia($t,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),_.a_(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),g(f,ml.EventType.MESSAGE,S=>{var w;if(!v){const x=S.data[0];Ve(!!x,16349);const b=x,P=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(P){te($t,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let O=function(C){const N=ut[C];if(N!==void 0)return vC(N)}(D),k=P.message;O===void 0&&(O=U.INTERNAL,k="Unknown error status: "+D+" with message "+P.message),v=!0,_.a_(new Q(O,k)),f.close()}else te($t,`RPC '${e}' stream ${s} received:`,x),_.u_(x)}}),g(a,O1.STAT_EVENT,S=>{S.stat===mg.PROXY?te($t,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===mg.NOPROXY&&te($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return new oF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="PersistentStream";class DC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r6 extends DC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cF(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?wr(o.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Tg(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=xg(c)?{documents:hF(i,c)}:{query:fF(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_C(i,o.resumeToken);const d=Eg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=mh(i,o.snapshotVersion.toTimestamp());const d=Eg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=mF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Tg(this.serializer),n.removeTarget=e,this.q_(n)}}class s6 extends DC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dF(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Tg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{}class o6 extends i6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,bg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,bg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class a6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class l6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{io(this)&&(te(zi,"Restarting streams for network reachability change."),await async function(c){const d=pe(c);d.Ea.add(4),await $c(d),d.Ra.set("Unknown"),d.Ea.delete(4),await df(d)}(this))})}),this.Ra=new a6(r,s)}}async function df(t){if(io(t))for(const e of t.da)await e(!0)}async function $c(t){for(const e of t.da)await e(!1)}function jC(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Iv(n)?Cv(n):ka(n).O_()&&Tv(n,e))}function Sv(t,e){const n=pe(t),r=ka(n);n.Ia.delete(e),r.O_()&&OC(n,e),n.Ia.size===0&&(r.O_()?r.L_():io(n)&&n.Ra.set("Unknown"))}function Tv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).Y_(e)}function OC(t,e){t.Va.Ue(e),ka(t).Z_(e)}function Cv(t){t.Va=new nF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.Ra.ua()}function Iv(t){return io(t)&&!ka(t).x_()&&t.Ia.size>0}function io(t){return pe(t).Ea.size===0}function MC(t){t.Va=void 0}async function c6(t){t.Ra.set("Online")}async function u6(t){t.Ia.forEach((e,n)=>{Tv(t,e)})}async function d6(t,e){MC(t),Iv(t)?(t.Ra.ha(e),Cv(t)):t.Ra.set("Unknown")}async function h6(t,e,n){if(t.Ra.set("Online"),e instanceof xC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){te(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(t,r)}else if(e instanceof bd?t.Va.Ze(e):e instanceof wC?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await PC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),OC(i,c);const f=new As(h.target,c,d,h.sequenceNumber);Tv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(zi,"Failed to raise snapshot:",r),await yh(t,r)}}async function yh(t,e,n){if(!Ca(e))throw e;t.Ea.add(1),await $c(t),t.Ra.set("Offline"),n||(n=()=>PC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(zi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await df(t)})}function LC(t,e){return e().catch(n=>yh(t,n,e))}async function hf(t){const e=pe(t),n=ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uv;for(;f6(e);)try{const s=await KF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,p6(e,s)}catch(s){await yh(e,s)}VC(e)&&FC(e)}function f6(t){return io(t)&&t.Ta.length<10}function p6(t,e){t.Ta.push(e);const n=ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VC(t){return io(t)&&!ei(t).x_()&&t.Ta.length>0}function FC(t){ei(t).start()}async function m6(t){ei(t).ra()}async function g6(t){const e=ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function y6(t,e,n){const r=t.Ta.shift(),s=yv.from(r,e,n);await LC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hf(t)}async function v6(t,e){e&&ei(t).X_&&await async function(r,s){if(function(o){return ZV(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();ei(r).B_(),await LC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hf(r)}}(t,e),VC(t)&&FC(t)}async function B0(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te(zi,"RemoteStore received new credentials");const r=io(n);n.Ea.add(3),await $c(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function w6(t,e){const n=pe(t);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await $c(n),n.Ra.set("Unknown"))}function ka(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new r6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:c6.bind(null,t),t_:u6.bind(null,t),r_:d6.bind(null,t),H_:h6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Iv(t)?Cv(t):t.Ra.set("Unknown")):(await t.ma.stop(),MC(t))})),t.ma}function ei(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new s6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:m6.bind(null,t),r_:v6.bind(null,t),ta:g6.bind(null,t),na:y6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hf(t)):(await t.fa.stop(),t.Ta.length>0&&(te(zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new kv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(t,e){if(is("AsyncQueue",`${e}: ${t}`),Ca(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=gl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ga=new it(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Go.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class _6{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=W0(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function W0(){return new so(t=>iC(t),sf)}async function UC(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new x6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Nv(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Rv(n)}async function $C(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E6(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Rv(n)}function b6(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Rv(t){t.Ca.forEach(e=>{e.next()})}var kg,H0;(H0=kg||(kg={})).Ma="default",H0.Cache="cache";class BC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.key=e}}class WC{constructor(e){this.key=e}}class S6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=oC(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new z0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=of(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),g=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?_!==g&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(c||d)&&(a=!0)),S&&(v?(o=o.add(v),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,_){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:S})}};return g(v)-g(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ua(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new WC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new zC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pv="SyncEngine";class T6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C6{constructor(e){this.key=e,this.hu=!1}}class I6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new so(a=>iC(a),sf),this.Iu=new Map,this.Eu=new Set,this.du=new it(ae.comparator),this.Au=new Map,this.Ru=new xv,this.Vu={},this.mu=new Map,this.fu=ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k6(t,e,n=!0){const r=QC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await HC(r,e,n,!0),s}async function N6(t,e){const n=QC(t);await HC(n,e,!0,!1)}async function HC(t,e,n,r){const s=await YF(t.localStore,yr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await R6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&jC(t.remoteStore,s),a}async function R6(t,e,n,r,s){t.pu=(f,p,v)=>async function(g,S,w,x){let b=S.view.ru(w);b.Cs&&(b=await L0(g.localStore,S.query,!1).then(({documents:k})=>S.view.ru(k,b)));const P=x&&x.targetChanges.get(S.targetId),D=x&&x.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(b,g.isPrimaryClient,P,D);return G0(g,S.targetId,O.au),O.snapshot}(t,f,p,v);const i=await L0(t.localStore,e,!0),o=new S6(e,i.Qs),a=o.ru(i.documents),c=Uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);G0(t,n,d.au);const h=new T6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function P6(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!sf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Sv(r.remoteStore,s.targetId),Ng(r,s.targetId)}).catch(Ta)):(Ng(r,s.targetId),await Cg(r.localStore,s.targetId,!0))}async function A6(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sv(n.remoteStore,r.targetId))}async function D6(t,e,n){const r=U6(t);try{const s=await function(o,a){const c=pe(o),d=Me.now(),h=a.reduce((v,_)=>v.add(_.key),Ie());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let _=os(),g=Ie();return c.Ns.getEntries(v,h).next(S=>{_=S,_.forEach((w,x)=>{x.isValidDocument()||(g=g.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,_)).next(S=>{f=S;const w=[];for(const x of a){const b=KV(x,f.get(x.key).overlayedDocument);b!=null&&w.push(new di(x.key,b,X1(b.value.mapValue),vr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,w,a)}).next(S=>{p=S;const w=S.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(v,S.batchId,w)})}).then(()=>({batchId:p.batchId,changes:lC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new it(Ce)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Bc(r,s.changes),await hf(r.remoteStore)}catch(s){const i=Nv(s,"Failed to persist write");n.reject(i)}}async function qC(t,e){const n=pe(t);try{const r=await qF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await Bc(n,r,e)}catch(r){await Ta(r)}}function q0(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&Rv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j6(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new it(ae.comparator);o=o.insert(i,Ht.newNoDocument(i,he.min()));const a=Ie().add(i),c=new cf(he.min(),new Map,new it(Ce),o,a);await qC(r,c),r.du=r.du.remove(i),r.Au.delete(e),Av(r)}else await Cg(r.localStore,e,!1).then(()=>Ng(r,e,n)).catch(Ta)}async function O6(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await HF(n.localStore,e);KC(n,r,null),GC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,s)}catch(s){await Ta(s)}}async function M6(t,e,n){const r=pe(t);try{const s=await function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);KC(r,e,n),GC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,s)}catch(s){await Ta(s)}}function GC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function KC(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||YC(t,r)})}function YC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Av(t))}function G0(t,e,n){for(const r of n)r instanceof zC?(t.Ru.addReference(r.key,e),L6(t,r)):r instanceof WC?(te(Pv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YC(t,r.key)):de(19791,{wu:r})}function L6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(Pv,"New document in limbo: "+n),t.Eu.add(r),Av(t))}function Av(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(We.fromString(e)),r=t.fu.next();t.Au.set(r,new C6(n)),t.du=t.du.insert(n,r),jC(t.remoteStore,new As(yr(mv(n.path)),r,"TargetPurposeLimboResolution",tf.ce))}}async function Bc(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Ev.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>B.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Ca(f))throw f;te(bv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),_=v.snapshotVersion,g=v.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(p,g)}}}(r.localStore,i))}async function V6(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te(Pv,"User change. New user:",e.toKey());const r=await RC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Q(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.Ls)}}function F6(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function QC(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j6.bind(null,e),e.Pu.H_=E6.bind(null,e.eventManager),e.Pu.yu=b6.bind(null,e.eventManager),e}function U6(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M6.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WF(this.persistence,new $F,e.initialUser,this.serializer)}Cu(e){return new NC(_v.mi,this.serializer)}Du(e){return new XF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class $6 extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new NC(r=>gh.mi(r,n),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V6.bind(null,this.syncEngine),await w6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _6}()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),r=function(i){return new n6(i)}(e.databaseInfo);return function(i,o,a,c){return new o6(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new l6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>q0(this.syncEngine,n,0),function(){return U0.v()?new U0:new JF}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new I6(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);te(zi,"RemoteStore shutting down."),i.Ea.add(5),await $c(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirestoreClient";class B6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wp(t,e){t.asyncQueue.verifyOperationInProgress(),te(ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z6(t);te(ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>B0(e.remoteStore,s)),t._onlineComponents=e}async function z6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(ti,"Using user provided OfflineComponentProvider");try{await Wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await Wp(t,new vh)}}else te(ti,"Using default OfflineComponentProvider"),await Wp(t,new $6(void 0));return t._offlineComponents}async function JC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(ti,"Using user provided OnlineComponentProvider"),await K0(t,t._uninitializedComponentsProvider._online)):(te(ti,"Using default OnlineComponentProvider"),await K0(t,new Rg))),t._onlineComponents}function W6(t){return JC(t).then(e=>e.syncEngine)}async function ZC(t){const e=await JC(t),n=e.eventManager;return n.onListen=k6.bind(null,e.syncEngine),n.onUnlisten=P6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A6.bind(null,e.syncEngine),n}function H6(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new XC({next:p=>{h.Nu(),o.enqueueAndForget(()=>$C(i,f));const v=p.docs.has(a);!v&&p.fromCache?d.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new BC(mv(a.path),h,{includeMetadataChanges:!0,qa:!0});return UC(i,f)}(await ZC(t),t.asyncQueue,e,n,r)),r.promise}function q6(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new XC({next:p=>{h.Nu(),o.enqueueAndForget(()=>$C(i,f)),p.fromCache&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new BC(a,h,{includeMetadataChanges:!0,qa:!0});return UC(i,f)}(await ZC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firestore.googleapis.com",Q0=!0;class X0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tI,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SF)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new J4;switch(r.type){case"firstParty":return new nV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y0.get(n);r&&(te("ComponentProvider","Removing Datastore"),Y0.delete(n),r.terminate())}(this),Promise.resolve()}}function G6(t,e,n,r={}){var d;t=Ys(t,ff);const s=_a(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&($T(`https://${a}`),BT("Firestore",!0)),i.host!==tI&&i.host!==a&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ks(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zt.MOCK_USER;else{h=aO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(p)}t._authCredentials=new Z4(new F1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vc(n,pt._jsonSchema))return new pt(e,r||null,new ae(We.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ft("string",pt._jsonSchemaVersion),referencePath:ft("string")};class Ws extends hi{constructor(e,n,r){super(e,n,mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ae(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function pf(t,e,...n){if(t=mt(t),U1("collection","path",e),t instanceof ff){const r=We.fromString(e,...n);return u0(r),new Ws(t,null,r)}{if(!(t instanceof pt||t instanceof Ws))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return u0(r),new Ws(t.firestore,null,r)}}function nI(t,e,...n){if(t=mt(t),arguments.length===1&&(e=cv.newId()),U1("doc","path",e),t instanceof ff){const r=We.fromString(e,...n);return c0(r),new pt(t,null,new ae(r))}{if(!(t instanceof pt||t instanceof Ws))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return c0(r),new pt(t.firestore,t instanceof Ws?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AC(this,"async_queue_retry"),this._c=()=>{const r=zp();r&&te(J0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;te(J0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",eE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=kv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:eE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zc extends ff{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Z0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function K6(t,e){const n=typeof t=="object"?t:Zy(),r=typeof t=="string"?t:ch,s=no(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iO("firestore");i&&G6(s,...i)}return s}function Dv(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y6(t),t._firestoreClient}function Y6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new wV(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new B6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Mt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:ft("string",Pn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:ft("string",xr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _r(e.vectorValues);throw new Q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:ft("string",_r._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=/^__.*__$/;class X6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}class rI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class Ov{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ov({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sI(this.Ac)&&Q6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uf(e)}Cc(e,n,r,s=!1){return new Ov({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(t){const e=t._freezeSettings(),n=uf(t._databaseId);return new J6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z6(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Lv("Data must be an object, but it was:",o,r);const a=iI(r,o);let c,d;if(i.merge)c=new wn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Pg(e,f,n);if(!o.contains(p))throw new Q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);aI(h,p)||h.push(p)}c=new wn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new X6(new on(a),c,d)}class gf extends jv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function e3(t,e,n,r){const s=t.Cc(1,e,n);Lv("Data must be an object, but it was:",s,r);const i=[],o=on.empty();ui(r,(c,d)=>{const h=Vv(e,c,n);d=mt(d);const f=s.yc(h);if(d instanceof gf)i.push(h);else{const p=Wc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new wn(i);return new rI(o,a,s.fieldTransforms)}function t3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Pg(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Pg(e,i[p])),c.push(i[p+1]);const d=[],h=on.empty();for(let p=a.length-1;p>=0;--p)if(!aI(d,a[p])){const v=a[p];let _=c[p];_=mt(_);const g=o.yc(v);if(_ instanceof gf)d.push(v);else{const S=Wc(_,g);S!=null&&(d.push(v),h.set(v,S))}}const f=new wn(d);return new rI(h,f,o.fieldTransforms)}function n3(t,e,n,r=!1){return Wc(n,t.Cc(r?4:3,e))}function Wc(t,e){if(oI(t=mt(t)))return Lv("Unsupported field value:",e,t),iI(t,e);if(t instanceof jv)return function(r,s){if(!sI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Wc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Me.fromDate(r);return{timestampValue:mh(s.serializer,i)}}if(r instanceof Me){const i=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(s.serializer,i)}}if(r instanceof xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:_C(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _r)return function(o,a){return{mapValue:{fields:{[Y1]:{stringValue:Q1},[uh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return gv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${ef(r)}`)}(t,e)}function iI(t,e){const n={};return z1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(r,s)=>{const i=Wc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function oI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof xr||t instanceof Pn||t instanceof pt||t instanceof jv||t instanceof _r)}function Lv(t,e,n){if(!oI(n)||!$1(n)){const r=ef(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Pg(t,e,n){if((e=mt(e))instanceof mf)return e._internalPath;if(typeof e=="string")return Vv(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const r3=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,n){if(e.search(r3)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Q(U.INVALID_ARGUMENT,a+t+c)}function aI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s3 extends lI{data(){return super.data()}}function yf(t,e){return typeof e=="string"?Vv(t,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class Uv extends Fv{}function cI(t,e,...n){let r=[];e instanceof Fv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof $v).length,a=i.filter(c=>c instanceof vf).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vf extends Uv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vf(e,n,r)}_apply(e){const n=this._parse(e);return dI(e._query,n),new hi(e.firestore,e.converter,_g(e._query,n))}_parse(e){const n=Mv(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){nE(f,h);const _=[];for(const g of f)_.push(tE(c,i,g));p={arrayValue:{values:_}}}else p=tE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||nE(f,h),p=n3(a,o,f,h==="in"||h==="not-in");return ht.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uI(t,e,n){const r=e,s=yf("where",t);return vf._create(s,r,n)}class $v extends Fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $v(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)dI(o,c),o=_g(o,c)}(e._query,n),new hi(e.firestore,e.converter,_g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bv extends Uv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(i,o)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ia(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function o3(t,e="asc"){const n=e,r=yf("orderBy",t);return Bv._create(r,n)}class zv extends Uv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zv(e,n,r)}_apply(e){return new hi(e.firestore,e.converter,hh(e._query,this._limit,this._limitType))}}function a3(t){return zv._create("limit",t,"F")}function tE(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ae.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v0(t,new ae(r))}if(n instanceof pt)return v0(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function nE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l3{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ui(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[uh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>lt(o.doubleValue));return new _r(n)}convertGeoPoint(e){return new xr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ve(IC(r),9688,{name:e});const s=new hc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||is(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ji extends lI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ji._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",ji._jsonSchema={type:ft("string",ji._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class Sd extends ji{data(e={}){return super.data(e)}}class Ko{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Sd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Sd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:u3(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){t=Ys(t,pt);const e=Ys(t.firestore,zc);return H6(Dv(e),t._key).then(n=>f3(e,t,n))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:ft("string",Ko._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class hI extends l3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function fI(t){t=Ys(t,hi);const e=Ys(t.firestore,zc),n=Dv(e),r=new hI(e);return i3(t._query),q6(n,t._query).then(s=>new Ko(e,r,t,s))}function h3(t,e,n,...r){t=Ys(t,pt);const s=Ys(t.firestore,zc),i=Mv(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof mf?t3(i,"updateDoc",t._key,e,n,r):e3(i,"updateDoc",t._key,e),mI(s,[o.toMutation(t._key,vr.exists(!0))])}function pI(t,e){const n=Ys(t.firestore,zc),r=nI(t),s=c3(t.converter,e);return mI(n,[Z6(Mv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function mI(t,e){return function(r,s){const i=new Yr;return r.asyncQueue.enqueueAndForget(async()=>D6(await W6(r),s,i)),i.promise}(Dv(t),e)}function f3(t,e,n){const r=n.docs.get(e._key),s=new hI(t);return new ji(t,s,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Sa=s})(Ea),Sr(new Qn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new zc(new eV(r.getProvider("auth-internal")),new rV(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jn(i0,o0,e),jn(i0,o0,"esm2020")})();const gI="@firebase/installations",Wv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e4,vI=`w:${Wv}`,wI="FIS_v2",p3="https://firebaseinstallations.googleapis.com/v1",m3=60*60*1e3,g3="installations",y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new to(g3,y3,v3);function xI(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I({projectId:t}){return`${p3}/projects/${t}/installations`}function EI(t){return{token:t.token,requestStatus:2,expiresIn:x3(t.expiresIn),creationTime:Date.now()}}async function bI(t,e){const r=(await e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w3(t,{refreshToken:e}){const n=SI(t);return n.append("Authorization",_3(e)),n}async function TI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function x3(t){return Number(t.replace("s","000"))}function _3(t){return`${wI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_I(t),s=SI(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:wI,appId:t.appId,sdkVersion:vI},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await TI(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:EI(d.authToken)}}else throw await bI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^[cdef][\w-]{21}$/,Ag="";function T3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=C3(t);return S3.test(n)?n:Ag}catch{return Ag}}function C3(t){return b3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Map;function kI(t,e){const n=wf(t);NI(n,e),I3(n,e)}function NI(t,e){const n=II.get(t);if(n)for(const r of n)r(e)}function I3(t,e){const n=k3();n&&n.postMessage({key:t,fid:e}),N3()}let Pi=null;function k3(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=t=>{NI(t.data.key,t.data.fid)}),Pi}function N3(){II.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="firebase-installations-database",P3=1,Hi="firebase-installations-store";let Hp=null;function Hv(){return Hp||(Hp=KT(R3,P3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}})),Hp}async function xh(t,e){const n=wf(t),s=(await Hv()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&kI(t,e.fid),e}async function RI(t){const e=wf(t),r=(await Hv()).transaction(Hi,"readwrite");await r.objectStore(Hi).delete(e),await r.done}async function xf(t,e){const n=wf(t),s=(await Hv()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&kI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t){let e;const n=await xf(t.appConfig,r=>{const s=A3(r),i=D3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ag?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function A3(t){const e=t||{fid:T3(),registrationStatus:0};return PI(e)}function D3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=j3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:O3(t)}:{installationEntry:e}}async function j3(t,e){try{const n=await E3(t,e);return xh(t.appConfig,n)}catch(n){throw xI(n)&&n.customData.serverCode===409?await RI(t.appConfig):await xh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function O3(t){let e=await rE(t.appConfig);for(;e.registrationStatus===1;)await CI(100),e=await rE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qv(t);return r||n}return e}function rE(t){return xf(t,e=>{if(!e)throw Wi.create("installation-not-found");return PI(e)})}function PI(t){return M3(t)?{fid:t.fid,registrationStatus:0}:t}function M3(t){return t.registrationStatus===1&&t.registrationTime+yI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3({appConfig:t,heartbeatServiceProvider:e},n){const r=V3(t,n),s=w3(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:vI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await TI(()=>fetch(r,a));if(c.ok){const d=await c.json();return EI(d)}else throw await bI("Generate Auth Token",c)}function V3(t,{fid:e}){return`${_I(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(t,e=!1){let n;const r=await xf(t.appConfig,i=>{if(!AI(i))throw Wi.create("not-registered");const o=i.authToken;if(!e&&$3(o))return i;if(o.requestStatus===1)return n=F3(t,e),i;{if(!navigator.onLine)throw Wi.create("app-offline");const a=z3(i);return n=U3(t,a),a}});return n?await n:r.authToken}async function F3(t,e){let n=await sE(t.appConfig);for(;n.authToken.requestStatus===1;)await CI(100),n=await sE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Gv(t,e):r}function sE(t){return xf(t,e=>{if(!AI(e))throw Wi.create("not-registered");const n=e.authToken;return W3(n)?{...e,authToken:{requestStatus:0}}:e})}async function U3(t,e){try{const n=await L3(t,e),r={...e,authToken:n};return await xh(t.appConfig,r),n}catch(n){if(xI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await xh(t.appConfig,r)}throw n}}function AI(t){return t!==void 0&&t.registrationStatus===2}function $3(t){return t.requestStatus===2&&!B3(t)}function B3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+m3}function z3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function W3(t){return t.requestStatus===1&&t.requestTime+yI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t){const e=t,{installationEntry:n,registrationPromise:r}=await qv(e);return r?r.catch(console.error):Gv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e=!1){const n=t;return await G3(n),(await Gv(n,e)).token}async function G3(t){const{registrationPromise:e}=await qv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){if(!t||!t.options)throw qp("App Configuration");if(!t.name)throw qp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qp(t){return Wi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="installations",Y3="installations-internal",Q3=t=>{const e=t.getProvider("app").getImmediate(),n=K3(e),r=no(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},X3=t=>{const e=t.getProvider("app").getImmediate(),n=no(e,DI).getImmediate();return{getId:()=>H3(n),getToken:s=>q3(n,s)}};function J3(){Sr(new Qn(DI,Q3,"PUBLIC")),Sr(new Qn(Y3,X3,"PRIVATE"))}J3();jn(gI,Wv);jn(gI,Wv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="analytics",Z3="firebase_id",eU="origin",tU=60*1e3,nU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new to("analytics","Analytics",rU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){if(!t.startsWith(Kv)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function jI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oU(t,e){const n=iU("firebase-js-sdk-policy",{createScriptURL:sU}),r=document.createElement("script"),s=`${Kv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function aU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lU(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await jI(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){dn.error(a)}t("config",s,i)}async function cU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await jI(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){dn.error(i)}}function uU(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await cU(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await lU(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){dn.error(a)}}return s}function dU(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=uU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function hU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=30,pU=1e3;class mU{constructor(e={},n=pU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OI=new mU;function gU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yU(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:gU(n)},s=nU.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(a=c.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function vU(t,e=OI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw _n.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw _n.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _U;return setTimeout(async()=>{a.abort()},tU),MI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function MI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=OI){var a;const{appId:i,measurementId:o}=t;try{await wU(r,e)}catch(c){if(o)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await yU(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!xU(d)){if(s.deleteThrottleMetadata(i),o)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?R_(n,s.intervalMillis,fU):R_(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),dn.debug(`Calling attemptFetch again in ${h} millis`),MI(t,f,r,s)}}function wU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xU(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _U{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(){if(WT())try{await HT()}catch(t){return dn.warn(_n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dn.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SU(t,e,n,r,s,i,o){const a=vU(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>dn.error(p)),e.push(a);const c=bU().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,c]);hU(i)||oU(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[eU]="firebase",f.update=!0,h!=null&&(f[Z3]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.app=e}_delete(){return delete Fl[this.app.options.appId],Promise.resolve()}}let Fl={},iE=[];const oE={};let Gp="dataLayer",CU="gtag",aE,LI,lE=!1;function IU(){const t=[];if(zT()&&t.push("This is a browser extension environment."),gO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function kU(t,e,n){IU();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Fl[r]!=null)throw _n.create("already-exists",{id:r});if(!lE){aU(Gp);const{wrappedGtag:i,gtagCore:o}=dU(Fl,iE,oE,Gp,CU);LI=i,aE=o,lE=!0}return Fl[r]=SU(t,iE,oE,e,aE,Gp,n),new TU(t)}function NU(t=Zy()){t=mt(t);const e=no(t,_h);return e.isInitialized()?e.getImmediate():RU(t)}function RU(t,e={}){const n=no(t,_h);if(n.isInitialized()){const s=n.getImmediate();if(Ks(e,n.getOptions()))return s;throw _n.create("already-initialized")}return n.initialize({options:e})}function PU(t,e,n,r){t=mt(t),EU(LI,Fl[t.app.options.appId],e,n,r).catch(s=>dn.error(s))}const cE="@firebase/analytics",uE="0.10.18";function AU(){Sr(new Qn(_h,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return kU(r,s,n)},"PUBLIC")),Sr(new Qn("analytics-internal",t,"PRIVATE")),jn(cE,uE),jn(cE,uE,"esm2020");function t(e){try{const n=e.getProvider(_h).getImmediate();return{logEvent:(r,s,i)=>PU(n,r,s,i)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}AU();const DU={apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},Yv=YT(DU),qu=K4(Yv),Hc=K6(Yv);typeof window<"u"&&NU(Yv);const VI=y.createContext(void 0),jU=()=>{const t=y.useContext(VI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},OU=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>ML(qu,h=>{n(h),s(!1)}),[]);const c={user:e,login:async(d,h)=>{await DL(qu,d,h)},register:async(d,h)=>{await AL(qu,d,h)},logout:async()=>{await LL(qu)},loading:r};return l.jsx(VI.Provider,{value:c,children:!r&&t})};function dE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=dE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():dE(t[s],null)}}}}function Le(...t){return y.useCallback(FI(...t),t)}function qi(t){const e=LU(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(FU);if(c){const d=c.props.children,h=a.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var MU=qi("Slot");function LU(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=$U(s),a=UU(i,s.props);return s.type!==y.Fragment&&(a.ref=r?FI(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VU=Symbol("radix.slottable");function FU(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VU}function UU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $U(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=UI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $I(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=UI(t))&&(r&&(r+=" "),r+=e);return r}const hE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fE=$I,Qv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return fE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=hE(h)||hE(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(_=>{let[g,S]=_;return Array.isArray(S)?S.includes({...i,...a}[g]):{...i,...a}[g]===S})?[...d,f,p]:d},[]);return fE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Xv="-",BU=t=>{const e=WU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Xv);return a[0]===""&&a.length!==1&&a.shift(),BI(a,e)||zU(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},BI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?BI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Xv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},pE=/^\[(.+)\]$/,zU=t=>{if(pE.test(t)){const e=pE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},WU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qU(Object.entries(t.classGroups),n).forEach(([i,o])=>{Dg(o,r,i,e)}),r},Dg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:mE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(HU(s)){Dg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Dg(o,mE(e,i),n,r)})})},mE=(t,e)=>{let n=t;return e.split(Xv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HU=t=>t.isThemeGetter,qU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,GU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},zI="!",KU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let S=0;S<a.length;S++){let w=a[S];if(d===0){if(w===s&&(r||a.slice(S,S+i)===e)){c.push(a.slice(h,S)),h=S+i;continue}if(w==="/"){f=S;continue}}w==="["?d++:w==="]"&&d--}const p=c.length===0?a:a.substring(h),v=p.startsWith(zI),_=v?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},YU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},QU=t=>({cache:GU(t.cacheSize),parseClassName:KU(t),...BU(t)}),XU=/\s+/,JU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(XU);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let _=!!v,g=r(_?p.substring(0,v):p);if(!g){if(!_){a=d+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=d+(a.length>0?" "+a:a);continue}_=!1}const S=YU(h).join(":"),w=f?S+zI:S,x=w+g;if(i.includes(x))continue;i.push(x);const b=s(g,_);for(let P=0;P<b.length;++P){const D=b[P];i.push(w+D)}a=d+(a.length>0?" "+a:a)}return a};function ZU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=WI(e))&&(r&&(r+=" "),r+=n);return r}const WI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=WI(t[r]))&&(n&&(n+=" "),n+=e);return n};function e5(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=QU(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=JU(c,n);return s(c,h),h}return function(){return i(ZU.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HI=/^\[(?:([a-z-]+):)?(.+)\]$/i,t5=/^\d+\/\d+$/,n5=new Set(["px","full","screen"]),r5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=t=>Yo(t)||n5.has(t)||t5.test(t),vs=t=>Na(t,"length",m5),Yo=t=>!!t&&!Number.isNaN(Number(t)),Kp=t=>Na(t,"number",Yo),sl=t=>!!t&&Number.isInteger(Number(t)),l5=t=>t.endsWith("%")&&Yo(t.slice(0,-1)),ge=t=>HI.test(t),ws=t=>r5.test(t),c5=new Set(["length","size","percentage"]),u5=t=>Na(t,c5,qI),d5=t=>Na(t,"position",qI),h5=new Set(["image","url"]),f5=t=>Na(t,h5,y5),p5=t=>Na(t,"",g5),il=()=>!0,Na=(t,e,n)=>{const r=HI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m5=t=>s5.test(t)&&!i5.test(t),qI=()=>!1,g5=t=>o5.test(t),y5=t=>a5.test(t),v5=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),c=Ge("contrast"),d=Ge("grayscale"),h=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),v=Ge("gradientColorStops"),_=Ge("gradientColorStopPositions"),g=Ge("inset"),S=Ge("margin"),w=Ge("opacity"),x=Ge("padding"),b=Ge("saturate"),P=Ge("scale"),D=Ge("sepia"),O=Ge("skew"),k=Ge("space"),T=Ge("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ge,e],j=()=>[ge,e],A=()=>["",Mr,vs],$=()=>["auto",Yo,ge],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ge],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Yo,ge];return{cacheSize:500,separator:":",theme:{colors:[il],spacing:[Mr,vs],blur:["none","",ws,ge],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ws,ge],borderSpacing:j(),borderWidth:A(),contrast:ee(),grayscale:L(),hueRotate:ee(),invert:L(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[l5,vs],inset:I(),margin:I(),opacity:ee(),padding:j(),saturate:ee(),scale:ee(),sepia:L(),skew:ee(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ge]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sl,ge]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",sl,ge]}],"grid-cols":[{"grid-cols":[il]}],"col-start-end":[{col:["auto",{span:["full",sl,ge]},ge]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[il]}],"row-start-end":[{row:["auto",{span:[sl,ge]},ge]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kp]}],"font-family":[{font:[il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Yo,Kp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,vs]}],"underline-offset":[{"underline-offset":["auto",Mr,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),d5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Mr,ge]}],"outline-w":[{outline:[Mr,vs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Mr,vs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,p5]}],"shadow-color":[{shadow:[il]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ws,ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[sl,ge]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mr,vs,Kp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},w5=e5(v5);function X(...t){return w5($I(t))}const jg=Qv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?MU:"button";return l.jsx(o,{className:X(jg({variant:e,size:n,className:t})),ref:i,...s})});se.displayName="Button";const ye=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ye.displayName="Card";const Ye=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("flex flex-col space-y-1.5 p-6",t),...e}));Ye.displayName="CardHeader";const Qe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qe.displayName="CardTitle";const qt=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("text-sm text-muted-foreground",t),...e}));qt.displayName="CardDescription";const xe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("p-6 pt-0",t),...e}));xe.displayName="CardContent";const x5=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("flex items-center p-6 pt-0",t),...e}));x5.displayName="CardFooter";const _5=Qv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yn({className:t,variant:e,...n}){return l.jsx("div",{className:X(_5({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...b5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:GI("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(S5,{ref:i,iconNode:e,className:GI(`lucide-${E5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ee("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=Ee("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Ee("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function z5(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[l.jsx("section",{className:"relative py-20 px-4",children:l.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(yn,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[l.jsx(F5,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(se,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",l.jsx(Gu,{className:"ml-2 h-5 w-5"})]}),l.jsx(se,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:l.jsxs(oc,{to:"/brooklyn-hearts-club",children:["View Live Example",l.jsx(Gu,{className:"ml-2 h-5 w-5"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Ye,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(en,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Qe,{className:"text-xl",children:"Custom Event Pages"}),l.jsx(qt,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),l.jsx(ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Ye,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(zr,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Qe,{className:"text-xl",children:"Automated Waitlists"}),l.jsx(qt,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),l.jsx(ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Ye,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Ul,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Qe,{className:"text-xl",children:"Community Messaging"}),l.jsx(qt,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),l.jsx(ye,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:l.jsx(xe,{className:"p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx(yn,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l.jsx(se,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:l.jsxs(oc,{to:"/brooklyn-hearts-club",children:["Visit Brooklyn Hearts Club",l.jsx(Gu,{className:"ml-2 h-4 w-4"})]})})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),l.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:l.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),l.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),l.jsxs(se,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",l.jsx(Gu,{className:"ml-2 h-5 w-5"})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),l.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:l.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}function Ku(){return{apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const JI={development:{name:"development",dataSource:"firebase",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function Eh(){const t="development";if(JI[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")||e.includes("voxxy-presents-client-staging")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function Zv(){const t=Eh();return JI[t]}function ZI(t){return Zv().features[t]}function vE(){return Zv().dataSource}function Lg(){return Zv().apiBaseUrl}const W5=Lg()||void 0||"http://localhost:3001/api";class Td extends Error{constructor(n,r){super(n);hx(this,"status");this.status=r,this.name="ApiError"}}async function mn(t,e){const n=`${W5}${t}`;try{console.log("API Request:",{url:n,method:(e==null?void 0:e.method)||"GET",timestamp:new Date().toISOString()});const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e});if(!r.ok){let i={};try{i=await r.json()}catch{i={message:`HTTP ${r.status}: ${r.statusText}`}}console.error("API Error Response:",{url:n,status:r.status,statusText:r.statusText,errorData:i,timestamp:new Date().toISOString()});const o=i.message||i.error||`API request failed (${r.status})`;throw new Td(o,r.status)}const s=await r.json();return console.log("API Success:",{url:n,dataKeys:Object.keys(s||{}),timestamp:new Date().toISOString()}),s}catch(r){throw r instanceof Td?r:(console.error("Network Error:",{url:n,error:r instanceof Error?r.message:"Unknown error",timestamp:new Date().toISOString()}),new Td(`Network error: ${r instanceof Error?r.message:"Unknown error"}`,0))}}const wE={async getBySlug(t){return mn(`/organizations/${t}`)},async create(t){return mn("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return mn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})},async updateBySlug(t,e){return mn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},vc={async getById(t){return mn(`/events/${t}`)},async getByOrganization(t){return mn(`/events?organization=${t}`)},async getAll(){return mn("/events")},async create(t){return mn("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return mn(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return mn(`/events/${t}`,{method:"DELETE"})}},ek={async create(t){return mn("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return mn(`/registrations/event/${t}`)},async markEmailSent(t){return mn(`/registrations/${t}/email-sent`,{method:"PATCH"})}},tk=pf(Hc,"organizations"),nk=pf(Hc,"events");pf(Hc,"registrations");pf(Hc,"users");const H5=async t=>(await pI(tk,{...t,createdAt:Me.now(),updatedAt:Me.now()})).id,wl=async t=>{const e=cI(tk,uI("slug","==",t),a3(1)),n=await fI(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},q5=async(t,e)=>{const n=nI(Hc,"organizations",t),r={...e,updatedAt:Me.now()};await h3(n,r);const s=await d3(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},G5=async t=>(await pI(nk,{...t,date:Me.fromDate(t.date),endDate:t.endDate?Me.fromDate(t.endDate):null,createdAt:Me.now(),updatedAt:Me.now()})).id,Vg=async t=>{const e=cI(nk,uI("organizationId","==",t),o3("date","desc"));return(await fI(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})};function rk(t){const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState(!0),[a,c]=y.useState(null),d=y.useCallback(async()=>{try{o(!0),c(null);const p=Eh(),v=vE(),_=Lg();if(console.log(`Loading data for ${t} in ${p} environment using ${v}`),v==="firebase"){console.log("Using Firebase directly");const g=await wl(t);if(!g)throw new Error(`Organization '${t}' not found in ${p} environment`);n(g);const S=await Vg(g.id);s(S)}else if(v==="api"&&_){console.log(`Using API: ${_}`);const g=await wE.getBySlug(t);n(g);const S=await vc.getByOrganization(g.id);s(S)}else throw new Error(`Invalid data source configuration for ${p} environment`)}catch(p){console.error(`Error loading ${t} data:`,p),c(p instanceof Error?p.message:"Failed to load data")}finally{o(!1)}},[t]);return y.useEffect(()=>{t&&d()},[t,d]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const p=await vc.getByOrganization(e.id);s(p)}catch(p){console.error("Error refreshing events:",p)}},updateOrganization:async p=>{if(e)try{const v=Eh(),_=vE(),g=Lg();if(console.log(`Updating organization in ${v} environment using ${_}`),_==="firebase"){console.log("Updating organization via Firebase (development/sandbox)");const S=await q5(e.id,p);n(S),console.log(`✅ Organization updated successfully in Firebase (${v})`)}else if(_==="api"&&g){console.log(`Updating organization via API: ${g}`);const S=await wE.update(e.id,p);n(S)}else throw new Error(`Invalid update configuration for ${v} environment`)}catch(v){throw console.error("Error updating organization:",v),v}},reload:d}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function K5(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function nr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const d=f=>{var w;const{scope:p,children:v,..._}=f,g=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,S=y.useMemo(()=>_,Object.values(_));return l.jsx(g.Provider,{value:S,children:v})};d.displayName=i+"Provider";function h(f,p){var g;const v=((g=p==null?void 0:p[t])==null?void 0:g[c])||a,_=y.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Y5(s,...e)]}function Y5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Yt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Q5=fb[" useId ".trim().toString()]||(()=>{}),X5=0;function Xr(t){const[e,n]=y.useState(Q5());return Yt(()=>{n(r=>r??String(X5++))},[t]),e?`radix-${e}`:""}var J5=fb[" useInsertionEffect ".trim().toString()]||Yt;function as({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Z5({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const p=e9(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[c,d]}function Z5({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return J5(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function e9(t){return typeof t=="function"}var t9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=t9.reduce((t,e)=>{const n=qi(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function n9(t,e){t&&va.flushSync(()=>t.dispatchEvent(e))}function ni(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function r9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var s9="DismissableLayer",Fg="dismissableLayer.update",i9="dismissableLayer.pointerDownOutside",o9="dismissableLayer.focusOutside",xE,sk=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_f=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=y.useContext(sk),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),_=Le(e,k=>f(k)),g=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(S),x=h?g.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,P=x>=w,D=c9(k=>{const T=k.target,C=[...d.branches].some(N=>N.contains(T));!P||C||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},p),O=u9(k=>{const T=k.target;[...d.branches].some(N=>N.contains(T))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},p);return r9(k=>{x===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(xE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),_E(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=xE)}},[h,p,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),_E())},[h,d]),y.useEffect(()=>{const k=()=>v({});return document.addEventListener(Fg,k),()=>document.removeEventListener(Fg,k)},[]),l.jsx(me.div,{...c,ref:_,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,D.onPointerDownCapture)})});_f.displayName=s9;var a9="DismissableLayerBranch",l9=y.forwardRef((t,e)=>{const n=y.useContext(sk),r=y.useRef(null),s=Le(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(me.div,{...t,ref:s})});l9.displayName=a9;function c9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){ik(i9,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function u9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&ik(o9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _E(){const t=new CustomEvent(Fg);document.dispatchEvent(t)}function ik(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?n9(s,i):s.dispatchEvent(i)}var Xp="focusScope.autoFocusOnMount",Jp="focusScope.autoFocusOnUnmount",EE={bubbles:!1,cancelable:!0},d9="FocusScope",Ef=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),d=ni(s),h=ni(i),f=y.useRef(null),p=Le(e,g=>c(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(v.paused||!a)return;const P=b.target;a.contains(P)?f.current=P:_s(f.current,{select:!0})},S=function(b){if(v.paused||!a)return;const P=b.relatedTarget;P!==null&&(a.contains(P)||_s(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&_s(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),x.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){SE.add(v);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Xp,EE);a.addEventListener(Xp,d),a.dispatchEvent(w),w.defaultPrevented||(h9(y9(ok(a)),{select:!0}),document.activeElement===g&&_s(a))}return()=>{a.removeEventListener(Xp,d),setTimeout(()=>{const w=new CustomEvent(Jp,EE);a.addEventListener(Jp,h),a.dispatchEvent(w),w.defaultPrevented||_s(g??document.body,{select:!0}),a.removeEventListener(Jp,h),SE.remove(v)},0)}}},[a,d,h,v]);const _=y.useCallback(g=>{if(!n&&!r||v.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(S&&w){const x=g.currentTarget,[b,P]=f9(x);b&&P?!g.shiftKey&&w===P?(g.preventDefault(),n&&_s(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),n&&_s(P,{select:!0})):w===x&&g.preventDefault()}},[n,r,v.paused]);return l.jsx(me.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});Ef.displayName=d9;function h9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_s(r,{select:e}),document.activeElement!==n)return}function f9(t){const e=ok(t),n=bE(e,t),r=bE(e.reverse(),t);return[n,r]}function ok(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bE(t,e){for(const n of t)if(!p9(n,{upTo:e}))return n}function p9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function m9(t){return t instanceof HTMLInputElement&&"select"in t}function _s(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&m9(t)&&e&&t.select()}}var SE=g9();function g9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=TE(t,e),t.unshift(e)},remove(e){var n;t=TE(t,e),(n=t[0])==null||n.resume()}}}function TE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function y9(t){return t.filter(e=>e.tagName!=="A")}var v9="Portal",bf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Yt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kD.createPortal(l.jsx(me.div,{...r,ref:e}),o):null});bf.displayName=v9;function w9(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ds=t=>{const{present:e,children:n}=t,r=x9(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Le(r.ref,_9(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ds.displayName="Presence";function x9(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=w9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Yu(r.current);i.current=a==="mounted"?d:"none"},[a]),Yt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,v=Yu(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Yt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const g=Yu(r.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=Yu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Yu(t){return(t==null?void 0:t.animationName)||"none"}function _9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Zp=0;function ew(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??CE()),document.body.insertAdjacentElement("beforeend",t[1]??CE()),Zp++,()=>{Zp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zp--}},[])}function CE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ur=function(){return ur=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ur.apply(this,arguments)};function ak(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function E9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Cd="right-scroll-bar-position",Id="width-before-scroll-bar",b9="with-scroll-bars-hidden",S9="--removed-body-scroll-bar-size";function em(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T9(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var C9=typeof window<"u"?y.useLayoutEffect:y.useEffect,IE=new WeakMap;function I9(t,e){var n=T9(null,function(r){return t.forEach(function(s){return em(s,r)})});return C9(function(){var r=IE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||em(a,null)}),i.forEach(function(a){s.has(a)||em(a,o)})}IE.set(n,t)},[t]),n}function k9(t){return t}function N9(t,e){e===void 0&&(e=k9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function R9(t){t===void 0&&(t={});var e=N9(null);return e.options=ur({async:!0,ssr:!1},t),e}var lk=function(t){var e=t.sideCar,n=ak(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,ur({},n))};lk.isSideCarExport=!0;function P9(t,e){return t.useMedium(e),lk}var ck=R9(),tm=function(){},Sf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:tm,onWheelCapture:tm,onTouchMoveCapture:tm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noRelative,_=t.noIsolation,g=t.inert,S=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,b=t.gapMode,P=ak(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,O=I9([n,e]),k=ur(ur({},P),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:ck,removeScrollBar:d,shards:f,noRelative:v,noIsolation:_,inert:g,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(a),ur(ur({},k),{ref:O})):y.createElement(x,ur({},k,{className:c,ref:O}),a))});Sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sf.classNames={fullWidth:Id,zeroRight:Cd};var A9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A9();return e&&t.setAttribute("nonce",e),t}function j9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D9())&&(j9(e,n),O9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},L9=function(){var t=M9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uk=function(){var t=L9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},V9={left:0,top:0,right:0,gap:0},nm=function(t){return parseInt(t||"",10)||0},F9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[nm(n),nm(r),nm(s)]},U9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V9;var e=F9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$9=uk(),Qo="data-scroll-locked",B9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(b9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(S9,": ").concat(a,`px;
  }
`)},kE=function(){var t=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(t)?t:0},z9=function(){y.useEffect(function(){return document.body.setAttribute(Qo,(kE()+1).toString()),function(){var t=kE()-1;t<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,t.toString())}},[])},W9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;z9();var i=y.useMemo(function(){return U9(s)},[s]);return y.createElement($9,{styles:B9(i,!e,s,n?"":"!important")})},Ug=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{Ug=!1}var mo=Ug?{passive:!1}:!1,H9=function(t){return t.tagName==="TEXTAREA"},dk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H9(t)&&n[e]==="visible")},q9=function(t){return dk(t,"overflowY")},G9=function(t){return dk(t,"overflowX")},NE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hk(t,r);if(s){var i=fk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},K9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Y9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hk=function(t,e){return t==="v"?q9(e):G9(e)},fk=function(t,e){return t==="v"?K9(e):Y9(e)},Q9=function(t,e){return t==="h"&&e==="rtl"?-1:1},X9=function(t,e,n,r,s){var i=Q9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var v=fk(t,a),_=v[0],g=v[1],S=v[2],w=g-S-i*_;(_||w)&&hk(t,a)&&(f+=w,p+=_);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Xu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RE=function(t){return[t.deltaX,t.deltaY]},PE=function(t){return t&&"current"in t?t.current:t},J9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Z9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},e$=0,go=[];function t$(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(e$++)[0],i=y.useState(uk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=E9([t.lockRef.current],(t.shards||[]).map(PE),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Xu(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-w[0],P="deltaY"in g?g.deltaY:x[1]-w[1],D,O=g.target,k=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in g&&k==="h"&&O.type==="range")return!1;var T=NE(k,O);if(!T)return!0;if(T?D=k:(D=k==="v"?"h":"v",T=NE(k,O)),!T)return!1;if(!r.current&&"changedTouches"in g&&(b||P)&&(r.current=D),!D)return!0;var C=r.current||D;return X9(C,S,g,C==="h"?b:P)},[]),c=y.useCallback(function(g){var S=g;if(!(!go.length||go[go.length-1]!==i)){var w="deltaY"in S?RE(S):Xu(S),x=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&J9(D.delta,w)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(PE).filter(Boolean).filter(function(D){return D.contains(S.target)}),P=b.length>0?a(S,b[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),d=y.useCallback(function(g,S,w,x){var b={name:g,delta:S,target:w,should:x,shadowParent:n$(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),h=y.useCallback(function(g){n.current=Xu(g),r.current=void 0},[]),f=y.useCallback(function(g){d(g.type,RE(g),g.target,a(g,t.lockRef.current))},[]),p=y.useCallback(function(g){d(g.type,Xu(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return go.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,mo),document.addEventListener("touchmove",c,mo),document.addEventListener("touchstart",h,mo),function(){go=go.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,mo),document.removeEventListener("touchmove",c,mo),document.removeEventListener("touchstart",h,mo)}},[]);var v=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(i,{styles:Z9(s)}):null,v?y.createElement(W9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function n$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const r$=P9(ck,t$);var Tf=y.forwardRef(function(t,e){return y.createElement(Sf,ur({},t,{ref:e,sideCar:r$}))});Tf.classNames=Sf.classNames;var s$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yo=new WeakMap,Ju=new WeakMap,Zu={},rm=0,pk=function(t){return t&&(t.host||pk(t.parentNode))},i$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=pk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o$=function(t,e,n,r){var s=i$(e,Array.isArray(t)?t:[t]);Zu[n]||(Zu[n]=new WeakMap);var i=Zu[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var v=p.getAttribute(r),_=v!==null&&v!=="false",g=(yo.get(p)||0)+1,S=(i.get(p)||0)+1;yo.set(p,g),i.set(p,S),o.push(p),g===1&&_&&Ju.set(p,!0),S===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),a.clear(),rm++,function(){o.forEach(function(f){var p=yo.get(f)-1,v=i.get(f)-1;yo.set(f,p),i.set(f,v),p||(Ju.has(f)||f.removeAttribute(r),Ju.delete(f)),v||f.removeAttribute(n)}),rm--,rm||(yo=new WeakMap,yo=new WeakMap,Ju=new WeakMap,Zu={})}},tw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=s$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),o$(r,s,n,"aria-hidden")):function(){return null}},Cf="Dialog",[mk,RH]=nr(Cf),[a$,rr]=mk(Cf),gk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[d,h]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Cf});return l.jsx(a$,{scope:e,triggerRef:a,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};gk.displayName=Cf;var yk="DialogTrigger",l$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(yk,n),i=Le(e,s.triggerRef);return l.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sw(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});l$.displayName=yk;var nw="DialogPortal",[c$,vk]=mk(nw,{forceMount:void 0}),wk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=rr(nw,e);return l.jsx(c$,{scope:e,forceMount:n,children:y.Children.map(r,o=>l.jsx(ds,{present:n||i.open,children:l.jsx(bf,{asChild:!0,container:s,children:o})}))})};wk.displayName=nw;var bh="DialogOverlay",xk=y.forwardRef((t,e)=>{const n=vk(bh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(bh,t.__scopeDialog);return i.modal?l.jsx(ds,{present:r||i.open,children:l.jsx(d$,{...s,ref:e})}):null});xk.displayName=bh;var u$=qi("DialogOverlay.RemoveScroll"),d$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(bh,n);return l.jsx(Tf,{as:u$,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(me.div,{"data-state":sw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",_k=y.forwardRef((t,e)=>{const n=vk(Ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(Ki,t.__scopeDialog);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(h$,{...s,ref:e}):l.jsx(f$,{...s,ref:e})})});_k.displayName=Ki;var h$=y.forwardRef((t,e)=>{const n=rr(Ki,t.__scopeDialog),r=y.useRef(null),s=Le(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return tw(i)},[]),l.jsx(Ek,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),f$=y.forwardRef((t,e)=>{const n=rr(Ki,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(Ek,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ek=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=rr(Ki,n),c=y.useRef(null),d=Le(e,c);return ew(),l.jsxs(l.Fragment,{children:[l.jsx(Ef,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(_f,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(p$,{titleId:a.titleId}),l.jsx(g$,{contentRef:c,descriptionId:a.descriptionId})]})]})}),rw="DialogTitle",bk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(rw,n);return l.jsx(me.h2,{id:s.titleId,...r,ref:e})});bk.displayName=rw;var Sk="DialogDescription",Tk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Sk,n);return l.jsx(me.p,{id:s.descriptionId,...r,ref:e})});Tk.displayName=Sk;var Ck="DialogClose",Ik=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Ck,n);return l.jsx(me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});Ik.displayName=Ck;function sw(t){return t?"open":"closed"}var kk="DialogTitleWarning",[PH,Nk]=K5(kk,{contentName:Ki,titleName:rw,docsSlug:"dialog"}),p$=({titleId:t})=>{const e=Nk(kk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},m$="DialogDescriptionWarning",g$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nk(m$).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},y$=gk,v$=wk,Rk=xk,Pk=_k,Ak=bk,Dk=Tk,w$=Ik;const qc=y$,x$=v$,jk=y.forwardRef(({className:t,...e},n)=>l.jsx(Rk,{ref:n,className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));jk.displayName=Rk.displayName;const Ra=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(x$,{children:[l.jsx(jk,{}),l.jsxs(Pk,{ref:r,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(w$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(da,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ra.displayName=Pk.displayName;const Pa=({className:t,...e})=>l.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Pa.displayName="DialogHeader";const Aa=y.forwardRef(({className:t,...e},n)=>l.jsx(Ak,{ref:n,className:X("text-lg font-semibold leading-none tracking-tight",t),...e}));Aa.displayName=Ak.displayName;const If=y.forwardRef(({className:t,...e},n)=>l.jsx(Dk,{ref:n,className:X("text-sm text-muted-foreground",t),...e}));If.displayName=Dk.displayName;const le=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));le.displayName="Input";var _$="Label",Ok=y.forwardRef((t,e)=>l.jsx(me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ok.displayName=_$;var Mk=Ok;const E$=Qv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=y.forwardRef(({className:t,...e},n)=>l.jsx(Mk,{ref:n,className:X(E$(),t),...e}));K.displayName=Mk.displayName;const Kn=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Kn.displayName="Textarea";function kf(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Nf(t){const[e,n]=y.useState(void 0);return Yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Rf="Checkbox",[b$,AH]=nr(Rf),[S$,iw]=b$(Rf);function T$(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=t,[p,v]=as({prop:n,defaultProp:s??!1,onChange:c,caller:Rf}),[_,g]=y.useState(null),[S,w]=y.useState(null),x=y.useRef(!1),b=_?!!o||!!_.closest("form"):!0,P={checked:p,disabled:i,setChecked:v,control:_,setControl:g,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Hs(s)?!1:s,isFormControl:b,bubbleInput:S,setBubbleInput:w};return l.jsx(S$,{scope:e,...P,children:C$(f)?f(P):r})}var Lk="CheckboxTrigger",Vk=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:c,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:_}=iw(Lk,t),g=Le(s,h),S=y.useRef(c);return y.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>f(S.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,f]),l.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Hs(c)?"mixed":c,"aria-required":d,"data-state":zk(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:fe(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:fe(n,w=>{f(x=>Hs(x)?!0:!x),_&&v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});Vk.displayName=Lk;var ow=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:d,form:h,...f}=t;return l.jsx(T$,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(Vk,{...f,ref:e,__scopeCheckbox:n}),p&&l.jsx(Bk,{__scopeCheckbox:n})]})})});ow.displayName=Rf;var Fk="CheckboxIndicator",Uk=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=iw(Fk,n);return l.jsx(ds,{present:r||Hs(i.checked)||i.checked===!0,children:l.jsx(me.span,{"data-state":zk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Uk.displayName=Fk;var $k="CheckboxBubbleInput",Bk=y.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:v}=iw($k,t),_=Le(n,v),g=kf(i),S=Nf(r);y.useEffect(()=>{const x=p;if(!x)return;const b=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(b,"checked").set,O=!s.current;if(g!==i&&D){const k=new Event("click",{bubbles:O});x.indeterminate=Hs(i),D.call(x,Hs(i)?!1:i),x.dispatchEvent(k)}},[p,g,i,s]);const w=y.useRef(Hs(i)?!1:i);return l.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:c,name:d,value:h,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bk.displayName=$k;function C$(t){return typeof t=="function"}function Hs(t){return t==="indeterminate"}function zk(t){return Hs(t)?"indeterminate":t?"checked":"unchecked"}const $g=y.forwardRef(({className:t,...e},n)=>l.jsx(ow,{ref:n,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(Uk,{className:X("flex items-center justify-center text-current"),children:l.jsx(KI,{className:"h-4 w-4"})})}));$g.displayName=ow.displayName;function Wk(t){const e=t+"CollectionProvider",[n,r]=nr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:S,children:w}=g,x=Y.useRef(null),b=Y.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:b,collectionRef:x,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=qi(a),d=Y.forwardRef((g,S)=>{const{scope:w,children:x}=g,b=i(a,w),P=Le(S,b.collectionRef);return l.jsx(c,{ref:P,children:x})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=qi(h),v=Y.forwardRef((g,S)=>{const{scope:w,children:x,...b}=g,P=Y.useRef(null),D=Le(S,P),O=i(h,w);return Y.useEffect(()=>(O.itemMap.set(P,{ref:P,...b}),()=>void O.itemMap.delete(P))),l.jsx(p,{[f]:"",ref:D,children:x})});v.displayName=h;function _(g){const S=i(t+"CollectionConsumer",g);return Y.useCallback(()=>{const x=S.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((O,k)=>b.indexOf(O.ref.current)-b.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},_,r]}var I$=y.createContext(void 0);function Pf(t){const e=y.useContext(I$);return t||e||"ltr"}var sm="rovingFocusGroup.onEntryFocus",k$={bubbles:!1,cancelable:!0},Gc="RovingFocusGroup",[Bg,Hk,N$]=Wk(Gc),[R$,Af]=nr(Gc,[N$]),[P$,A$]=R$(Gc),qk=y.forwardRef((t,e)=>l.jsx(Bg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Bg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(D$,{...t,ref:e})})}));qk.displayName=Gc;var D$=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=y.useRef(null),v=Le(e,p),_=Pf(i),[g,S]=as({prop:o,defaultProp:a??null,onChange:c,caller:Gc}),[w,x]=y.useState(!1),b=ni(d),P=Hk(n),D=y.useRef(!1),[O,k]=y.useState(0);return y.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(sm,b),()=>T.removeEventListener(sm,b)},[b]),l.jsx(P$,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(T=>S(T),[S]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>k(T=>T-1),[]),children:l.jsx(me.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{D.current=!0}),onFocus:fe(t.onFocus,T=>{const C=!D.current;if(T.target===T.currentTarget&&C&&!w){const N=new CustomEvent(sm,k$);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const I=P().filter(q=>q.focusable),j=I.find(q=>q.active),A=I.find(q=>q.id===g),J=[j,A,...I].filter(Boolean).map(q=>q.ref.current);Yk(J,h)}}D.current=!1}),onBlur:fe(t.onBlur,()=>x(!1))})})}),Gk="RovingFocusGroupItem",Kk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Xr(),d=i||c,h=A$(Gk,n),f=h.currentTabStopId===d,p=Hk(n),{onFocusableItemAdd:v,onFocusableItemRemove:_,currentTabStopId:g}=h;return y.useEffect(()=>{if(r)return v(),()=>_()},[r,v,_]),l.jsx(Bg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:fe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:fe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=M$(S,h.orientation,h.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let b=p().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const P=b.indexOf(S.currentTarget);b=h.loop?L$(b,P+1):b.slice(P+1)}setTimeout(()=>Yk(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Kk.displayName=Gk;var j$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function M$(t,e,n){const r=O$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return j$[r]}function Yk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function L$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Qk=qk,Xk=Kk,aw="Radio",[V$,Jk]=nr(aw),[F$,U$]=V$(aw),Zk=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:c,form:d,...h}=t,[f,p]=y.useState(null),v=Le(e,S=>p(S)),_=y.useRef(!1),g=f?d||!!f.closest("form"):!0;return l.jsxs(F$,{scope:n,checked:s,disabled:o,children:[l.jsx(me.button,{type:"button",role:"radio","aria-checked":s,"data-state":rN(s),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:v,onClick:fe(t.onClick,S=>{s||c==null||c(),g&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),g&&l.jsx(nN,{control:f,bubbles:!_.current,name:r,value:a,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Zk.displayName=aw;var eN="RadioIndicator",tN=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=U$(eN,n);return l.jsx(ds,{present:r||i.checked,children:l.jsx(me.span,{"data-state":rN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});tN.displayName=eN;var $$="RadioBubbleInput",nN=y.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Le(o,i),c=kf(n),d=Nf(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const _=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(_)}},[c,n,r]),l.jsx(me.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nN.displayName=$$;function rN(t){return t?"checked":"unchecked"}var B$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Df="RadioGroup",[z$,DH]=nr(Df,[Af,Jk]),sN=Af(),iN=Jk(),[W$,H$]=z$(Df),oN=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...p}=t,v=sN(n),_=Pf(d),[g,S]=as({prop:i,defaultProp:s??null,onChange:f,caller:Df});return l.jsx(W$,{scope:n,name:r,required:o,disabled:a,value:g,onValueChange:S,children:l.jsx(Qk,{asChild:!0,...v,orientation:c,dir:_,loop:h,children:l.jsx(me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:_,...p,ref:e})})})});oN.displayName=Df;var aN="RadioGroupItem",lN=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=H$(aN,n),o=i.disabled||r,a=sN(n),c=iN(n),d=y.useRef(null),h=Le(e,d),f=i.value===s.value,p=y.useRef(!1);return y.useEffect(()=>{const v=g=>{B$.includes(g.key)&&(p.current=!0)},_=()=>p.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",_)}},[]),l.jsx(Xk,{asChild:!0,...a,focusable:!o,active:f,children:l.jsx(Zk,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:fe(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:fe(s.onFocus,()=>{var v;p.current&&((v=d.current)==null||v.click())})})})});lN.displayName=aN;var q$="RadioGroupIndicator",cN=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=iN(n);return l.jsx(tN,{...s,...r,ref:e})});cN.displayName=q$;var uN=oN,dN=lN,G$=cN;const hN=y.forwardRef(({className:t,...e},n)=>l.jsx(uN,{className:X("grid gap-2",t),...e,ref:n}));hN.displayName=uN.displayName;const fN=y.forwardRef(({className:t,...e},n)=>l.jsx(dN,{ref:n,className:X("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(G$,{className:"flex items-center justify-center",children:l.jsx(N5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));fN.displayName=dN.displayName;const K$=[{value:"friend",label:"Friend or word of mouth"},{value:"instagram",label:"Instagram"},{value:"eventbrite",label:"Eventbrite"},{value:"google",label:"Google search"},{value:"flyer",label:"Flyer or poster"},{value:"website",label:"Organization website"},{value:"newsletter",label:"Email newsletter"},{value:"other",label:"Other"}];function Y$({isOpen:t,onClose:e,eventTitle:n}){const[r,s]=y.useState(""),[i,o]=y.useState(""),[a,c]=y.useState(!1),d=async()=>{if(r){c(!0);try{console.log("How did you hear about us submission:",{eventTitle:n,source:r,otherDetails:r==="other"?i:void 0}),await new Promise(p=>setTimeout(p,500)),e()}catch(p){console.error("Error submitting feedback:",p)}finally{c(!1)}}},h=()=>{e()},f=()=>{s(""),o(""),e()};return l.jsx(qc,{open:t,onOpenChange:f,children:l.jsxs(Ra,{className:"sm:max-w-md",children:[l.jsx(Pa,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Aa,{className:"flex items-center gap-2",children:[l.jsx(L5,{className:"h-5 w-5 text-purple-600"}),"Quick Question"]}),l.jsx(se,{variant:"ghost",size:"sm",onClick:f,className:"h-6 w-6 p-0",children:l.jsx(da,{className:"h-4 w-4"})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["How did you hear about ",l.jsx("strong",{children:n}),"?"]}),l.jsx(hN,{value:r,onValueChange:s,children:l.jsx("div",{className:"space-y-3",children:K$.map(p=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fN,{value:p.value,id:p.value}),l.jsx(K,{htmlFor:p.value,className:"text-sm font-normal cursor-pointer",children:p.label})]},p.value))})}),r==="other"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{htmlFor:"other-details",className:"text-sm",children:"Please specify:"}),l.jsx(Kn,{id:"other-details",placeholder:"Tell us how you heard about this event...",value:i,onChange:p=>o(p.target.value),rows:2})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(se,{type:"button",variant:"ghost",onClick:h,className:"flex-1",disabled:a,children:"Skip"}),l.jsx(se,{onClick:d,disabled:!r||a,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":"Submit"})]})]})]})})}function AE({event:t}){const[e,n]=y.useState(!1),[r,s]=y.useState("interest"),[i,o]=y.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(null),[v,_]=y.useState(!1),g=()=>t.eventbriteUrl?"eventbrite":t.status==="presale"?"presale":t.registrationRequired||t.price.type==="free"?"interest":null,S=b=>{s(b),n(!0),h(!1),p(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1})},w=async b=>{b.preventDefault(),c(!0),p(null);try{let P;r==="presale"?P="presale_request":P=i.rsvpType,await ek.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:P,notes:i.notes||void 0,subscribeToUpdates:i.subscribeToUpdates,subscribeToNewsletter:i.subscribeToNewsletter}),h(!0),setTimeout(()=>{n(!1),h(!1),_(!0)},2e3)}catch(P){console.error("Error submitting registration:",P),P instanceof Td?p(P.message):p("Failed to submit registration. Please try again.")}finally{c(!1)}},x=g();return x?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[x==="eventbrite"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",l.jsx(Mg,{className:"ml-2 h-4 w-4"})]}),x==="presale"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>S("presale"),children:["Presale",l.jsx(Qr,{className:"ml-2 h-4 w-4"})]}),x==="interest"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>S("interest"),children:["I'm Interested",l.jsx(en,{className:"ml-2 h-4 w-4"})]})]}),l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"sm:max-w-md",children:[l.jsxs(Pa,{children:[l.jsx(Aa,{className:"flex items-center gap-2",children:r==="presale"?l.jsxs(l.Fragment,{children:[l.jsx(Qr,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):l.jsxs(l.Fragment,{children:[l.jsx(en,{className:"h-5 w-5 text-purple-600"}),"Express Interest"]})}),l.jsx(If,{children:r==="presale"?l.jsxs(l.Fragment,{children:["Get notified when tickets become available for ",l.jsx("strong",{children:t.title})]}):l.jsxs(l.Fragment,{children:["Let us know your level of interest in ",l.jsx("strong",{children:t.title})]})})]}),d?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(YI,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="presale"?"Request Sent!":"Interest Submitted!"}),l.jsx("p",{className:"text-gray-600",children:r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for expressing your interest! This helps the organizer gauge event popularity."})]}):l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{htmlFor:"name",children:"Name *"}),l.jsx(le,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:b=>o(P=>({...P,name:b.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(K,{htmlFor:"email",children:["Email ",r==="presale"?"*":"(optional)"]}),l.jsx(le,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:b=>o(P=>({...P,email:b.target.value})),required:r==="presale"})]}),r==="interest"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{children:"How interested are you?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(b=>({...b,rsvpType:"rsvp_yes"})),children:"Very Interested"}),l.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(b=>({...b,rsvpType:"rsvp_maybe"})),children:"Somewhat Interested"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(Kn,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:b=>o(P=>({...P,notes:b.target.value})),rows:2})]}),i.email&&l.jsxs("div",{className:"space-y-3 border-t pt-4",children:[l.jsx(K,{className:"text-sm font-medium",children:"Email Alerts (optional)"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($g,{id:"subscribe-updates",checked:i.subscribeToUpdates,onCheckedChange:b=>o(P=>({...P,subscribeToUpdates:!!b}))}),l.jsx(K,{htmlFor:"subscribe-updates",className:"text-sm font-normal cursor-pointer",children:"Get updates about this event"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($g,{id:"subscribe-newsletter",checked:i.subscribeToNewsletter,onCheckedChange:b=>o(P=>({...P,subscribeToNewsletter:!!b}))}),l.jsx(K,{htmlFor:"subscribe-newsletter",className:"text-sm font-normal cursor-pointer",children:"Subscribe to organization newsletter"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Managed by event organizers. You can unsubscribe at any time."})]}),f&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(se,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),l.jsx(se,{type:"submit",disabled:a||!i.name||r==="presale"&&!i.email,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":r==="presale"?"Send Request":"Submit Interest"})]})]})]})}),l.jsx(Y$,{isOpen:v,onClose:()=>_(!1),eventTitle:t.title})]}):null}function Q$({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:c,error:d}=rk(t),[h,f]=y.useState([]),p=v=>{f(_=>_.includes(v)?_.filter(g=>g!==v):[..._,v])};return c?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Gi,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):d?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",d]}),l.jsx(se,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?l.jsxs("div",{className:"min-h-screen bg-white",children:[s&&ZI("adminControls")&&l.jsx("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:l.jsx(oc,{to:`/${t}/admin`,children:l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[l.jsx(XI,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})})}),l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:o.name}),l.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.background})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("All events:",a.map(S=>({id:S.id,title:S.title,status:S.status})));const v=a.filter(S=>{const w=S.status||"published";return["published","presale","sold_out"].includes(w)});console.log("Published events:",v.map(S=>({id:S.id,title:S.title,status:S.status})));const _=v.filter(S=>!S.isRecurring),g=v.filter(S=>S.isRecurring);return{publishedEvents:v,mainEvents:_,recurringEvents:g}})().publishedEvents.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsxs("div",{className:"space-y-12",children:[(()=>{const _=a.filter(g=>{const S=g.status||"published";return["published","presale","sold_out"].includes(S)}).filter(g=>!g.isRecurring);return _.length>0&&l.jsx("div",{className:"space-y-6",children:_.map(g=>l.jsx(ye,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.isRecurring&&l.jsxs(yn,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Qp,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(en,{className:"h-4 w-4 mr-2"}),g.date instanceof Date?g.date.toLocaleDateString():new Date(g.date).toLocaleDateString()," • ",g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ul,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.type==="group_deal"&&g.price.groupDealDetails?`${g.price.groupDealDetails.minimumPeople}+ people: $${g.price.groupDealDetails.pricePerPerson}/person (reg. $${g.price.groupDealDetails.normalPricePerPerson}/person)`:g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(AE,{event:g}),l.jsxs(se,{variant:"outline",onClick:()=>p(g.id),className:"flex items-center gap-2",children:["Details",h.includes(g.id)?l.jsx(Og,{className:"h-4 w-4"}):l.jsx(yc,{className:"h-4 w-4"})]})]})]}),h.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:g.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",g.address]})})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((S,w)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:S.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[S.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:S.description})]})]},w))})]})]})]})})},g.id))})})(),(()=>{const _=a.filter(g=>{const S=g.status||"published";return["published","presale","sold_out"].includes(S)}).filter(g=>g.isRecurring);return _.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[l.jsx(Qp,{className:"h-6 w-6"}),"Recurring Events"]}),l.jsx("div",{className:"space-y-6",children:_.map(g=>l.jsx(ye,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs(yn,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Qp,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(en,{className:"h-4 w-4 mr-2"}),g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ul,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.type==="group_deal"&&g.price.groupDealDetails?`${g.price.groupDealDetails.minimumPeople}+ people: $${g.price.groupDealDetails.pricePerPerson}/person (reg. $${g.price.groupDealDetails.normalPricePerPerson}/person)`:g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(AE,{event:g}),l.jsxs(se,{variant:"outline",onClick:()=>p(g.id),className:"flex items-center gap-2",children:["Details & Schedule",h.includes(g.id)?l.jsx(Og,{className:"h-4 w-4"}):l.jsx(yc,{className:"h-4 w-4"})]})]})]}),h.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-700",children:g.series.description})]}),g.fullDescription&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.fullDescription})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Location"}),l.jsx("p",{className:"text-gray-700",children:g.address})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Upcoming Schedule"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((S,w)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:S.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[S.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:S.description})]})]},w))})]})]})]})})},g.id))})]})})()]})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?l.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),l.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&l.jsxs(l.Fragment,{children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((v,_)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),v]},_))})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&l.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:l.jsx(O5,{className:"h-6 w-6"})}),o.socialLinks.website&&l.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Mg,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&l.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:l.jsx(en,{className:"h-6 w-6"})}),o.socialLinks.venmo&&l.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:l.jsx(P5,{className:"h-6 w-6"})}),o.socialLinks.other&&l.jsx("a",{href:o.socialLinks.other,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Other Social Link",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Mg,{className:"h-6 w-6"})}),l.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:l.jsx(Qr,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(Ul,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(Qr,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function X$(){const{orgSlug:t}=IT();return t?l.jsx(Q$,{organizationSlug:t,showAdminControls:!1}):l.jsx("div",{children:"Organization not found"})}var jf="Tabs",[J$,jH]=nr(jf,[Af]),pN=Af(),[Z$,lw]=J$(jf),mN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Pf(a),[f,p]=as({prop:r,onChange:s,defaultProp:i??"",caller:jf});return l.jsx(Z$,{scope:n,baseId:Xr(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:l.jsx(me.div,{dir:h,"data-orientation":o,...d,ref:e})})});mN.displayName=jf;var gN="TabsList",yN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=lw(gN,n),o=pN(n);return l.jsx(Qk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});yN.displayName=gN;var vN="TabsTrigger",wN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=lw(vN,n),a=pN(n),c=EN(o.baseId,r),d=bN(o.baseId,r),h=r===o.value;return l.jsx(Xk,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(me.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:fe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});wN.displayName=vN;var xN="TabsContent",_N=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=lw(xN,n),c=EN(a.baseId,r),d=bN(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(ds,{present:s||h,children:({present:p})=>l.jsx(me.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});_N.displayName=xN;function EN(t,e){return`${t}-trigger-${e}`}function bN(t,e){return`${t}-content-${e}`}var eB=mN,SN=yN,TN=wN,CN=_N;const tB=eB,IN=y.forwardRef(({className:t,...e},n)=>l.jsx(SN,{ref:n,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));IN.displayName=SN.displayName;const xl=y.forwardRef(({className:t,...e},n)=>l.jsx(TN,{ref:n,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));xl.displayName=TN.displayName;const _l=y.forwardRef(({className:t,...e},n)=>l.jsx(CN,{ref:n,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_l.displayName=CN.displayName;function nB({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=y.useState({name:t.name,description:t.description,background:t.background,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",aboutImageUrl:t.aboutImageUrl||"",aboutStory:t.aboutStory||"",aboutOfferings:t.aboutOfferings||[""],socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||"",other:t.socialLinks.other||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress}}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(!1),[v,_]=y.useState(!1),g=s||a,S=(C,N)=>{o(I=>({...I,[C]:N}))},w=(C,N,I)=>{o(j=>({...j,[C]:{...j[C],[N]:I}}))},x=async C=>{var A;const N=(A=C.target.files)==null?void 0:A[0];if(!N)return;if(!["image/svg+xml","image/jpeg","image/jpg","image/png"].includes(N.type)){alert("Please upload a valid image file (SVG, JPEG, or PNG)");return}const j=5*1024*1024;if(N.size>j){alert("File size must be less than 5MB");return}h(!0);try{const $=new FileReader;$.onload=J=>{var Z;const q=(Z=J.target)==null?void 0:Z.result;o(V=>({...V,logoUrl:q})),h(!1)},$.onerror=()=>{alert("Error reading file"),h(!1)},$.readAsDataURL(N)}catch($){console.error("Error uploading logo:",$),alert("Error uploading file"),h(!1)}},b=async C=>{var A;const N=(A=C.target.files)==null?void 0:A[0];if(!N)return;if(!["image/jpeg","image/jpg","image/png"].includes(N.type)){alert("Please upload a valid image file (JPEG or PNG)");return}const j=10*1024*1024;if(N.size>j){alert("File size must be less than 10MB");return}p(!0);try{const $=new FileReader;$.onload=J=>{var Z;const q=(Z=J.target)==null?void 0:Z.result;o(V=>({...V,bannerUrl:q})),p(!1)},$.onerror=()=>{alert("Error reading file"),p(!1)},$.readAsDataURL(N)}catch($){console.error("Error uploading hero image:",$),alert("Error uploading file"),p(!1)}},P=async C=>{var A;const N=(A=C.target.files)==null?void 0:A[0];if(!N)return;if(!["image/jpeg","image/jpg","image/png"].includes(N.type)){alert("Please upload a valid image file (JPEG or PNG)");return}const j=10*1024*1024;if(N.size>j){alert("File size must be less than 10MB");return}_(!0);try{const $=new FileReader;$.onload=J=>{var Z;const q=(Z=J.target)==null?void 0:Z.result;o(V=>({...V,aboutImageUrl:q})),_(!1)},$.onerror=()=>{alert("Error reading file"),_(!1)},$.readAsDataURL(N)}catch($){console.error("Error uploading about image:",$),alert("Error uploading file"),_(!1)}},D=()=>{o(C=>({...C,aboutOfferings:[...C.aboutOfferings,""]}))},O=C=>{o(N=>({...N,aboutOfferings:N.aboutOfferings.filter((I,j)=>j!==C)}))},k=(C,N)=>{o(I=>({...I,aboutOfferings:I.aboutOfferings.map((j,A)=>A===C?N:j)}))},T=async C=>{C.preventDefault(),s||c(!0);try{const N=i.aboutOfferings.filter($=>$.trim()!==""),I={...i,settings:{...i.settings,theme:{primaryColor:"#8b5cf6",backgroundColor:"#ffffff"}}};N.length>0&&(I.aboutOfferings=N);const j=$=>{if($===null||typeof $!="object")return $;const J={};for(const[q,Z]of Object.entries($))Z!==void 0&&(typeof Z=="object"&&Z!==null?J[q]=j(Z):J[q]=Z);return J},A=j(I);await e(A)}catch(N){console.error("Failed to save organization:",N)}finally{s||c(!1)}};return l.jsxs("div",{className:r?"":"p-6",children:[!r&&l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),l.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),l.jsxs(se,{onClick:n,variant:"outline",size:"sm",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),l.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Basic Information"}),l.jsx(qt,{children:"Core details about your organization"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"name",children:"Organization Name"}),l.jsx(le,{id:"name",value:i.name,onChange:C=>S("name",C.target.value),placeholder:"Organization Name"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"contactEmail",children:"Contact Email"}),l.jsx(le,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:C=>S("contactEmail",C.target.value),placeholder:"contact@organization.com"})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"description",children:"Short Description"}),l.jsx(le,{id:"description",value:i.description,onChange:C=>S("description",C.target.value),placeholder:"Brief description for headers and previews"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"background",children:"Background"}),l.jsx(Kn,{id:"background",value:i.background,onChange:C=>S("background",C.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Default Location"}),l.jsx(qt,{children:"Default venue information for events"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"defaultLocation",children:"Venue Name"}),l.jsx(le,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:C=>w("settings","defaultLocation",C.target.value),placeholder:"Venue Name"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"defaultAddress",children:"Address"}),l.jsx(le,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:C=>w("settings","defaultAddress",C.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Media & Branding"}),l.jsx(qt,{children:"Images and visual identity for your organization"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"logoFile",children:"Logo Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"logoFile",type:"file",accept:".svg,.jpeg,.jpg,.png",onChange:x,disabled:d,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),d&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading logo..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: SVG, JPEG, PNG. Max size: 5MB"}),i.logoUrl&&!d&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("img",{src:i.logoUrl,alt:"Logo preview",className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Current logo"})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"heroFile",children:"Hero Background Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"heroFile",type:"file",accept:".jpeg,.jpg,.png",onChange:b,disabled:f,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),f&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading hero background..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPEG, PNG. Max size: 10MB. Recommended: 1200x400px or larger"}),i.bannerUrl&&!f&&l.jsxs("div",{className:"mt-3",children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Preview:"}),l.jsxs("div",{className:"mt-1 relative h-32 rounded-lg overflow-hidden border border-gray-200",children:[l.jsx("img",{src:i.bannerUrl,alt:"Hero background preview",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium",children:"Hero Background Preview"})})]})]})]})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"About Section"}),l.jsx(qt,{children:"Content and images for your organization's about section"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"aboutImageFile",children:"About Image Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"aboutImageFile",type:"file",accept:".jpeg,.jpg,.png",onChange:P,disabled:v,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),v&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading about image..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPEG, PNG. Max size: 10MB. Recommended: 600x400px or larger"}),i.aboutImageUrl&&!v&&l.jsxs("div",{className:"mt-3",children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Preview:"}),l.jsx("div",{className:"mt-1 relative h-32 rounded-lg overflow-hidden border border-gray-200",children:l.jsx("img",{src:i.aboutImageUrl,alt:"About image preview",className:"w-full h-full object-cover"})})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"aboutStory",children:"Our Story"}),l.jsx(Kn,{id:"aboutStory",value:i.aboutStory,onChange:C=>S("aboutStory",C.target.value),placeholder:"Tell the story of your organization - how it started, your mission, and what makes you unique...",rows:6})]}),l.jsxs("div",{children:[l.jsx(K,{children:"What We Offer"}),l.jsxs("div",{className:"space-y-2",children:[i.aboutOfferings.map((C,N)=>l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(le,{value:C,onChange:I=>k(N,I.target.value),placeholder:"e.g., Weekly open studio sessions with shared materials",className:"flex-1"}),i.aboutOfferings.length>1&&l.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:()=>O(N),children:l.jsx(da,{className:"h-4 w-4"})})]},N)),l.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:D,className:"mt-2",children:"Add Offering"})]})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Social Media & Links"}),l.jsx(qt,{children:"Connect your social media accounts and external links"})]}),l.jsx(xe,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"instagram",children:"Instagram Handle"}),l.jsx(le,{id:"instagram",value:i.socialLinks.instagram,onChange:C=>w("socialLinks","instagram",C.target.value),placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"website",children:"Website URL"}),l.jsx(le,{id:"website",value:i.socialLinks.website,onChange:C=>w("socialLinks","website",C.target.value),placeholder:"https://yourwebsite.com"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"eventbrite",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:C=>w("socialLinks","eventbrite",C.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"venmo",children:"Venmo Handle"}),l.jsx(le,{id:"venmo",value:i.socialLinks.venmo,onChange:C=>w("socialLinks","venmo",C.target.value),placeholder:"@yourvenmo"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"other",children:"Other Social Link"}),l.jsx(le,{id:"other",value:i.socialLinks.other,onChange:C=>w("socialLinks","other",C.target.value),placeholder:"https://linktr.ee/yourpage"})]})]})})]}),!r&&l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:g,children:[l.jsx(yE,{className:"h-4 w-4 mr-2"}),g?"Saving...":"Save Changes"]})]}),r&&l.jsx("div",{className:"sticky bottom-6 flex justify-center",children:l.jsxs(se,{type:"submit",disabled:g,className:"shadow-lg",size:"lg",children:[l.jsx(yE,{className:"h-4 w-4 mr-2"}),g?"Saving...":"Save Changes"]})})]})]})}function DE(t,[e,n]){return Math.min(n,Math.max(e,t))}const rB=["top","right","bottom","left"],ri=Math.min,gn=Math.max,Sh=Math.round,ed=Math.floor,Er=t=>({x:t,y:t}),sB={left:"right",right:"left",bottom:"top",top:"bottom"},iB={start:"end",end:"start"};function zg(t,e,n){return gn(t,ri(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function Da(t){return t.split("-")[1]}function cw(t){return t==="x"?"y":"x"}function uw(t){return t==="y"?"height":"width"}const oB=new Set(["top","bottom"]);function dr(t){return oB.has(cs(t))?"y":"x"}function dw(t){return cw(dr(t))}function aB(t,e,n){n===void 0&&(n=!1);const r=Da(t),s=dw(t),i=uw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Th(o)),[o,Th(o)]}function lB(t){const e=Th(t);return[Wg(t),e,Wg(e)]}function Wg(t){return t.replace(/start|end/g,e=>iB[e])}const jE=["left","right"],OE=["right","left"],cB=["top","bottom"],uB=["bottom","top"];function dB(t,e,n){switch(t){case"top":case"bottom":return n?e?OE:jE:e?jE:OE;case"left":case"right":return e?cB:uB;default:return[]}}function hB(t,e,n,r){const s=Da(t);let i=dB(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Wg)))),i}function Th(t){return t.replace(/left|right|bottom|top/g,e=>sB[e])}function fB(t){return{top:0,right:0,bottom:0,left:0,...t}}function kN(t){return typeof t!="number"?fB(t):{top:t,right:t,bottom:t,left:t}}function Ch(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ME(t,e,n){let{reference:r,floating:s}=t;const i=dr(e),o=dw(e),a=uw(o),c=cs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Da(e)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const pB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=ME(d,r,c),p=r,v={},_=0;for(let g=0;g<a.length;g++){const{name:S,fn:w}=a[g],{x,y:b,data:P,reset:D}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=x??h,f=b??f,v={...v,[S]:{...v[S],...P}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=ME(d,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function wc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=ls(e,t),_=kN(v),S=a[p?f==="floating"?"reference":"floating":f],w=Ch(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Ch(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-D.top+_.top)/P.y,bottom:(D.bottom-w.bottom+_.bottom)/P.y,left:(w.left-D.left+_.left)/P.x,right:(D.right-w.right+_.right)/P.x}}const mB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=ls(t,e)||{};if(d==null)return{};const f=kN(h),p={x:n,y:r},v=dw(s),_=uw(v),g=await o.getDimensions(d),S=v==="y",w=S?"top":"left",x=S?"bottom":"right",b=S?"clientHeight":"clientWidth",P=i.reference[_]+i.reference[v]-p[v]-i.floating[_],D=p[v]-i.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=O?O[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(O)))&&(k=a.floating[b]||i.floating[_]);const T=P/2-D/2,C=k/2-g[_]/2-1,N=ri(f[w],C),I=ri(f[x],C),j=N,A=k-g[_]-I,$=k/2-g[_]/2+T,J=zg(j,$,A),q=!c.arrow&&Da(s)!=null&&$!==J&&i.reference[_]/2-($<j?N:I)-g[_]/2<0,Z=q?$<j?$-j:$-A:0;return{[v]:p[v]+Z,data:{[v]:J,centerOffset:$-J-Z,...q&&{alignmentOffset:Z}},reset:q}}}),gB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...S}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=cs(s),x=dr(a),b=cs(a)===a,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=p||(b||!g?[Th(a)]:lB(a)),O=_!=="none";!p&&O&&D.push(...hB(a,g,_,P));const k=[a,...D],T=await wc(e,S),C=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(T[w]),f){const $=aB(s,o,P);C.push(T[$[0]],T[$[1]])}if(N=[...N,{placement:s,overflows:C}],!C.every($=>$<=0)){var I,j;const $=(((I=i.flip)==null?void 0:I.index)||0)+1,J=k[$];if(J&&(!(f==="alignment"?x!==dr(J):!1)||N.every(V=>dr(V.placement)===x?V.overflows[0]>0:!0)))return{data:{index:$,overflows:N},reset:{placement:J}};let q=(j=N.filter(Z=>Z.overflows[0]<=0).sort((Z,V)=>Z.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!q)switch(v){case"bestFit":{var A;const Z=(A=N.filter(V=>{if(O){const L=dr(V.placement);return L===x||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:A[0];Z&&(q=Z);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function LE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VE(t){return rB.some(e=>t[e]>=0)}const yB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await wc(e,{...s,elementContext:"reference"}),o=LE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:VE(o)}}}case"escaped":{const i=await wc(e,{...s,altBoundary:!0}),o=LE(i,n.floating);return{data:{escapedOffsets:o,escaped:VE(o)}}}default:return{}}}}},NN=new Set(["left","top"]);async function vB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=Da(n),c=dr(n)==="y",d=NN.has(o)?-1:1,h=i&&c?-1:1,f=ls(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(v=a==="end"?_*-1:_),c?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const wB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await vB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},xB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:w,y:x}=S;return{x:w,y:x}}},...c}=ls(t,e),d={x:n,y:r},h=await wc(e,c),f=dr(cs(s)),p=cw(f);let v=d[p],_=d[f];if(i){const S=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+h[S],b=v-h[w];v=zg(x,v,b)}if(o){const S=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=_+h[S],b=_-h[w];_=zg(x,_,b)}const g=a.fn({...e,[p]:v,[f]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},_B=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ls(t,e),h={x:n,y:r},f=dr(s),p=cw(f);let v=h[p],_=h[f];const g=ls(a,e),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=p==="y"?"height":"width",P=i.reference[p]-i.floating[b]+S.mainAxis,D=i.reference[p]+i.reference[b]-S.mainAxis;v<P?v=P:v>D&&(v=D)}if(d){var w,x;const b=p==="y"?"width":"height",P=NN.has(cs(s)),D=i.reference[f]-i.floating[b]+(P&&((w=o.offset)==null?void 0:w[f])||0)+(P?0:S.crossAxis),O=i.reference[f]+i.reference[b]+(P?0:((x=o.offset)==null?void 0:x[f])||0)-(P?S.crossAxis:0);_<D?_=D:_>O&&(_=O)}return{[p]:v,[f]:_}}}},EB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=ls(t,e),h=await wc(e,d),f=cs(s),p=Da(s),v=dr(s)==="y",{width:_,height:g}=i.floating;let S,w;f==="top"||f==="bottom"?(S=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,S=p==="end"?"top":"bottom");const x=g-h.top-h.bottom,b=_-h.left-h.right,P=ri(g-h[S],x),D=ri(_-h[w],b),O=!e.middlewareData.shift;let k=P,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=x),O&&!p){const N=gn(h.left,0),I=gn(h.right,0),j=gn(h.top,0),A=gn(h.bottom,0);v?T=_-2*(N!==0||I!==0?N+I:gn(h.left,h.right)):k=g-2*(j!==0||A!==0?j+A:gn(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:k});const C=await o.getDimensions(a.floating);return _!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Of(){return typeof window<"u"}function ja(t){return RN(t)?(t.nodeName||"").toLowerCase():"#document"}function En(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Nr(t){var e;return(e=(RN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RN(t){return Of()?t instanceof Node||t instanceof En(t).Node:!1}function Zn(t){return Of()?t instanceof Element||t instanceof En(t).Element:!1}function Cr(t){return Of()?t instanceof HTMLElement||t instanceof En(t).HTMLElement:!1}function FE(t){return!Of()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof En(t).ShadowRoot}const bB=new Set(["inline","contents"]);function Kc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!bB.has(s)}const SB=new Set(["table","td","th"]);function TB(t){return SB.has(ja(t))}const CB=[":popover-open",":modal"];function Mf(t){return CB.some(e=>{try{return t.matches(e)}catch{return!1}})}const IB=["transform","translate","scale","rotate","perspective"],kB=["transform","translate","scale","rotate","perspective","filter"],NB=["paint","layout","strict","content"];function hw(t){const e=fw(),n=Zn(t)?er(t):t;return IB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||kB.some(r=>(n.willChange||"").includes(r))||NB.some(r=>(n.contain||"").includes(r))}function RB(t){let e=si(t);for(;Cr(e)&&!ha(e);){if(hw(e))return e;if(Mf(e))return null;e=si(e)}return null}function fw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PB=new Set(["html","body","#document"]);function ha(t){return PB.has(ja(t))}function er(t){return En(t).getComputedStyle(t)}function Lf(t){return Zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function si(t){if(ja(t)==="html")return t;const e=t.assignedSlot||t.parentNode||FE(t)&&t.host||Nr(t);return FE(e)?e.host:e}function PN(t){const e=si(t);return ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cr(e)&&Kc(e)?e:PN(e)}function xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=PN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=En(s);if(i){const a=Hg(o);return e.concat(o,o.visualViewport||[],Kc(s)?s:[],a&&n?xc(a):[])}return e.concat(s,xc(s,[],n))}function Hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AN(t){const e=er(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sh(n)!==i||Sh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function pw(t){return Zn(t)?t:t.contextElement}function Xo(t){const e=pw(t);if(!Cr(e))return Er(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=AN(e);let o=(i?Sh(n.width):n.width)/r,a=(i?Sh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AB=Er(0);function DN(t){const e=En(t);return!fw()||!e.visualViewport?AB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==En(t)?!1:e}function Yi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=pw(t);let o=Er(1);e&&(r?Zn(r)&&(o=Xo(r)):o=Xo(t));const a=DB(i,n,r)?DN(i):Er(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=En(i),v=r&&Zn(r)?En(r):r;let _=p,g=Hg(_);for(;g&&r&&v!==_;){const S=Xo(g),w=g.getBoundingClientRect(),x=er(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*S.x,P=w.top+(g.clientTop+parseFloat(x.paddingTop))*S.y;c*=S.x,d*=S.y,h*=S.x,f*=S.y,c+=b,d+=P,_=En(g),g=Hg(_)}}return Ch({width:h,height:f,x:c,y:d})}function mw(t,e){const n=Lf(t).scrollLeft;return e?e.left+n:Yi(Nr(t)).left+n}function jN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:mw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function jB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Nr(r),a=e?Mf(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Er(1);const h=Er(0),f=Cr(r);if((f||!f&&!i)&&((ja(r)!=="body"||Kc(o))&&(c=Lf(r)),Cr(r))){const v=Yi(r);d=Xo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=o&&!f&&!i?jN(o,c,!0):Er(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function OB(t){return Array.from(t.getClientRects())}function MB(t){const e=Nr(t),n=Lf(t),r=t.ownerDocument.body,s=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+mw(t);const a=-n.scrollTop;return er(r).direction==="rtl"&&(o+=gn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function LB(t,e){const n=En(t),r=Nr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=fw();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const VB=new Set(["absolute","fixed"]);function FB(t,e){const n=Yi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cr(t)?Xo(t):Er(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function UE(t,e,n){let r;if(e==="viewport")r=LB(t,n);else if(e==="document")r=MB(Nr(t));else if(Zn(e))r=FB(e,n);else{const s=DN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ch(r)}function ON(t,e){const n=si(t);return n===e||!Zn(n)||ha(n)?!1:er(n).position==="fixed"||ON(n,e)}function UB(t,e){const n=e.get(t);if(n)return n;let r=xc(t,[],!1).filter(a=>Zn(a)&&ja(a)!=="body"),s=null;const i=er(t).position==="fixed";let o=i?si(t):t;for(;Zn(o)&&!ha(o);){const a=er(o),c=hw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&VB.has(s.position)||Kc(o)&&!c&&ON(t,o))?r=r.filter(h=>h!==o):s=a,o=si(o)}return e.set(t,r),r}function $B(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Mf(e)?[]:UB(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=UE(e,h,s);return d.top=gn(f.top,d.top),d.right=ri(f.right,d.right),d.bottom=ri(f.bottom,d.bottom),d.left=gn(f.left,d.left),d},UE(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BB(t){const{width:e,height:n}=AN(t);return{width:e,height:n}}function zB(t,e,n){const r=Cr(e),s=Nr(e),i=n==="fixed",o=Yi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Er(0);function d(){c.x=mw(s)}if(r||!r&&!i)if((ja(e)!=="body"||Kc(s))&&(a=Lf(e)),r){const v=Yi(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?jN(s,a):Er(0),f=o.left+a.scrollLeft-c.x-h.x,p=o.top+a.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function im(t){return er(t).position==="static"}function $E(t,e){if(!Cr(t)||er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Nr(t)===n&&(n=n.ownerDocument.body),n}function MN(t,e){const n=En(t);if(Mf(t))return n;if(!Cr(t)){let s=si(t);for(;s&&!ha(s);){if(Zn(s)&&!im(s))return s;s=si(s)}return n}let r=$E(t,e);for(;r&&TB(r)&&im(r);)r=$E(r,e);return r&&ha(r)&&im(r)&&!hw(r)?n:r||RB(t)||n}const WB=async function(t){const e=this.getOffsetParent||MN,n=this.getDimensions,r=await n(t.floating);return{reference:zB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HB(t){return er(t).direction==="rtl"}const qB={convertOffsetParentRelativeRectToViewportRelativeRect:jB,getDocumentElement:Nr,getClippingRect:$B,getOffsetParent:MN,getElementRects:WB,getClientRects:OB,getDimensions:BB,getScale:Xo,isElement:Zn,isRTL:HB};function LN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function GB(t,e){let n=null,r;const s=Nr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=d;if(a||e(),!p||!v)return;const _=ed(f),g=ed(s.clientWidth-(h+p)),S=ed(s.clientHeight-(f+v)),w=ed(h),b={rootMargin:-_+"px "+-g+"px "+-S+"px "+-w+"px",threshold:gn(0,ri(1,c))||1};let P=!0;function D(O){const k=O[0].intersectionRatio;if(k!==c){if(!P)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!LN(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return o(!0),i}function KB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=pw(t),h=s||i?[...d?xc(d):[],...xc(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=d&&a?GB(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let _,g=c?Yi(t):null;c&&S();function S(){const w=Yi(t);g&&!LN(g,w)&&n(),g=w,_=requestAnimationFrame(S)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(_)}}const YB=wB,QB=xB,XB=gB,JB=EB,ZB=yB,BE=mB,ez=_B,tz=(t,e,n)=>{const r=new Map,s={platform:qB,...n},i={...s.platform,_c:r};return pB(t,e,{...s,platform:i})};var nz=typeof document<"u",rz=function(){},kd=nz?y.useLayoutEffect:rz;function Ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ih(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ih(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function VN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zE(t,e){const n=VN(t);return Math.round(e*n)/n}function om(t){const e=y.useRef(t);return kd(()=>{e.current=t}),e}function sz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=y.useState(r);Ih(p,r)||v(r);const[_,g]=y.useState(null),[S,w]=y.useState(null),x=y.useCallback(V=>{V!==O.current&&(O.current=V,g(V))},[]),b=y.useCallback(V=>{V!==k.current&&(k.current=V,w(V))},[]),P=i||_,D=o||S,O=y.useRef(null),k=y.useRef(null),T=y.useRef(h),C=c!=null,N=om(c),I=om(s),j=om(d),A=y.useCallback(()=>{if(!O.current||!k.current)return;const V={placement:e,strategy:n,middleware:p};I.current&&(V.platform=I.current),tz(O.current,k.current,V).then(L=>{const W={...L,isPositioned:j.current!==!1};$.current&&!Ih(T.current,W)&&(T.current=W,va.flushSync(()=>{f(W)}))})},[p,e,n,I,j]);kd(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const $=y.useRef(!1);kd(()=>($.current=!0,()=>{$.current=!1}),[]),kd(()=>{if(P&&(O.current=P),D&&(k.current=D),P&&D){if(N.current)return N.current(P,D,A);A()}},[P,D,A,N,C]);const J=y.useMemo(()=>({reference:O,floating:k,setReference:x,setFloating:b}),[x,b]),q=y.useMemo(()=>({reference:P,floating:D}),[P,D]),Z=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!q.floating)return V;const L=zE(q.floating,h.x),W=zE(q.floating,h.y);return a?{...V,transform:"translate("+L+"px, "+W+"px)",...VN(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:W}},[n,a,q.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:A,refs:J,elements:q,floatingStyles:Z}),[h,A,J,q,Z])}const iz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?BE({element:r.current,padding:s}).fn(n):{}:r?BE({element:r,padding:s}).fn(n):{}}}},oz=(t,e)=>({...YB(t),options:[t,e]}),az=(t,e)=>({...QB(t),options:[t,e]}),lz=(t,e)=>({...ez(t),options:[t,e]}),cz=(t,e)=>({...XB(t),options:[t,e]}),uz=(t,e)=>({...JB(t),options:[t,e]}),dz=(t,e)=>({...ZB(t),options:[t,e]}),hz=(t,e)=>({...iz(t),options:[t,e]});var fz="Arrow",FN=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});FN.displayName=fz;var pz=FN,gw="Popper",[UN,Vf]=nr(gw),[mz,$N]=UN(gw),BN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return l.jsx(mz,{scope:e,anchor:r,onAnchorChange:s,children:n})};BN.displayName=gw;var zN="PopperAnchor",WN=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$N(zN,n),o=y.useRef(null),a=Le(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(me.div,{...s,ref:a})});WN.displayName=zN;var yw="PopperContent",[gz,yz]=UN(yw),HN=y.forwardRef((t,e)=>{var re,De,Ze,Pe,ke,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:_,...g}=t,S=$N(yw,n),[w,x]=y.useState(null),b=Le(e,gt=>x(gt)),[P,D]=y.useState(null),O=Nf(P),k=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(d)?d:[d],j=I.length>0,A={padding:N,boundary:I.filter(wz),altBoundary:j},{refs:$,floatingStyles:J,placement:q,isPositioned:Z,middlewareData:V}=sz({strategy:"fixed",placement:C,whileElementsMounted:(...gt)=>KB(...gt,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[oz({mainAxis:s+T,alignmentAxis:o}),c&&az({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lz():void 0,...A}),c&&cz({...A}),uz({...A,apply:({elements:gt,rects:It,availableWidth:Ln,availableHeight:sr})=>{const{width:Pr,height:La}=It.reference,Ar=gt.floating.style;Ar.setProperty("--radix-popper-available-width",`${Ln}px`),Ar.setProperty("--radix-popper-available-height",`${sr}px`),Ar.setProperty("--radix-popper-anchor-width",`${Pr}px`),Ar.setProperty("--radix-popper-anchor-height",`${La}px`)}}),P&&hz({element:P,padding:a}),xz({arrowWidth:k,arrowHeight:T}),p&&dz({strategy:"referenceHidden",...A})]}),[L,W]=KN(q),ee=ni(_);Yt(()=>{Z&&(ee==null||ee())},[Z,ee]);const ie=(re=V.arrow)==null?void 0:re.x,z=(De=V.arrow)==null?void 0:De.y,ce=((Ze=V.arrow)==null?void 0:Ze.centerOffset)!==0,[we,be]=y.useState();return Yt(()=>{w&&be(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Z?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Pe=V.transformOrigin)==null?void 0:Pe.x,(ke=V.transformOrigin)==null?void 0:ke.y].join(" "),...((Ne=V.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(gz,{scope:n,placedSide:L,onArrowChange:D,arrowX:ie,arrowY:z,shouldHideArrow:ce,children:l.jsx(me.div,{"data-side":L,"data-align":W,...g,ref:b,style:{...g.style,animation:Z?void 0:"none"}})})})});HN.displayName=yw;var qN="PopperArrow",vz={top:"bottom",right:"left",bottom:"top",left:"right"},GN=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=yz(qN,r),o=vz[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(pz,{...s,ref:n,style:{...s.style,display:"block"}})})});GN.displayName=qN;function wz(t){return t!==null}var xz=t=>({name:"transformOrigin",options:t,fn(e){var S,w,x;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=KN(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let _="",g="";return d==="bottom"?(_=o?f:`${p}px`,g=`${-c}px`):d==="top"?(_=o?f:`${p}px`,g=`${r.floating.height+c}px`):d==="right"?(_=`${-c}px`,g=o?f:`${v}px`):d==="left"&&(_=`${r.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:_,y:g}}}});function KN(t){const[e,n="center"]=t.split("-");return[e,n]}var YN=BN,vw=WN,QN=HN,XN=GN,JN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_z="VisuallyHidden",Ez=y.forwardRef((t,e)=>l.jsx(me.span,{...t,ref:e,style:{...JN,...t.style}}));Ez.displayName=_z;var bz=[" ","Enter","ArrowUp","ArrowDown"],Sz=[" ","Enter"],Qi="Select",[Ff,Uf,Tz]=Wk(Qi),[Oa,OH]=nr(Qi,[Tz,Vf]),$f=Vf(),[Cz,fi]=Oa(Qi),[Iz,kz]=Oa(Qi),ZN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:v,form:_}=t,g=$f(e),[S,w]=y.useState(null),[x,b]=y.useState(null),[P,D]=y.useState(!1),O=Pf(d),[k,T]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Qi}),[C,N]=as({prop:o,defaultProp:a,onChange:c,caller:Qi}),I=y.useRef(null),j=S?_||!!S.closest("form"):!0,[A,$]=y.useState(new Set),J=Array.from(A).map(q=>q.props.value).join(";");return l.jsx(YN,{...g,children:l.jsxs(Cz,{required:v,scope:e,trigger:S,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:Xr(),value:C,onValueChange:N,open:k,onOpenChange:T,dir:O,triggerPointerDownPosRef:I,disabled:p,children:[l.jsx(Ff.Provider,{scope:e,children:l.jsx(Iz,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(q=>{$(Z=>new Set(Z).add(q))},[]),onNativeOptionRemove:y.useCallback(q=>{$(Z=>{const V=new Set(Z);return V.delete(q),V})},[]),children:n})}),j?l.jsxs(bR,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:q=>N(q.target.value),disabled:p,form:_,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(A)]},J):null]})})};ZN.displayName=Qi;var eR="SelectTrigger",tR=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=$f(n),o=fi(eR,n),a=o.disabled||r,c=Le(e,o.onTriggerChange),d=Uf(n),h=y.useRef("touch"),[f,p,v]=TR(g=>{const S=d().filter(b=>!b.disabled),w=S.find(b=>b.value===o.value),x=CR(S,g,w);x!==void 0&&o.onValueChange(x.value)}),_=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(vw,{asChild:!0,...i,children:l.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":SR(o.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&_(g)}),onPointerDown:fe(s.onPointerDown,g=>{h.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(_(g),g.preventDefault())}),onKeyDown:fe(s.onKeyDown,g=>{const S=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(S&&g.key===" ")&&bz.includes(g.key)&&(_(),g.preventDefault())})})})});tR.displayName=eR;var nR="SelectValue",rR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=fi(nR,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Le(e,c.onValueNodeChange);return Yt(()=>{d(h)},[d,h]),l.jsx(me.span,{...a,ref:f,style:{pointerEvents:"none"},children:SR(c.value)?l.jsx(l.Fragment,{children:o}):i})});rR.displayName=nR;var Nz="SelectIcon",sR=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(me.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});sR.displayName=Nz;var Rz="SelectPortal",iR=t=>l.jsx(bf,{asChild:!0,...t});iR.displayName=Rz;var Xi="SelectContent",oR=y.forwardRef((t,e)=>{const n=fi(Xi,t.__scopeSelect),[r,s]=y.useState();if(Yt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?va.createPortal(l.jsx(aR,{scope:t.__scopeSelect,children:l.jsx(Ff.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(lR,{...t,ref:e})});oR.displayName=Xi;var Un=10,[aR,pi]=Oa(Xi),Pz="SelectContentImpl",Az=qi("SelectContent.RemoveScroll"),lR=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:S,...w}=t,x=fi(Xi,n),[b,P]=y.useState(null),[D,O]=y.useState(null),k=Le(e,re=>P(re)),[T,C]=y.useState(null),[N,I]=y.useState(null),j=Uf(n),[A,$]=y.useState(!1),J=y.useRef(!1);y.useEffect(()=>{if(b)return tw(b)},[b]),ew();const q=y.useCallback(re=>{const[De,...Ze]=j().map(Ne=>Ne.ref.current),[Pe]=Ze.slice(-1),ke=document.activeElement;for(const Ne of re)if(Ne===ke||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===De&&D&&(D.scrollTop=0),Ne===Pe&&D&&(D.scrollTop=D.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==ke))return},[j,D]),Z=y.useCallback(()=>q([T,b]),[q,T,b]);y.useEffect(()=>{A&&Z()},[A,Z]);const{onOpenChange:V,triggerPointerDownPosRef:L}=x;y.useEffect(()=>{if(b){let re={x:0,y:0};const De=Pe=>{var ke,Ne;re={x:Math.abs(Math.round(Pe.pageX)-(((ke=L.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Ne=L.current)==null?void 0:Ne.y)??0))}},Ze=Pe=>{re.x<=10&&re.y<=10?Pe.preventDefault():b.contains(Pe.target)||V(!1),document.removeEventListener("pointermove",De),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[b,V,L]),y.useEffect(()=>{const re=()=>V(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[V]);const[W,ee]=TR(re=>{const De=j().filter(ke=>!ke.disabled),Ze=De.find(ke=>ke.ref.current===document.activeElement),Pe=CR(De,re,Ze);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ie=y.useCallback((re,De,Ze)=>{const Pe=!J.current&&!Ze;(x.value!==void 0&&x.value===De||Pe)&&(C(re),Pe&&(J.current=!0))},[x.value]),z=y.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=y.useCallback((re,De,Ze)=>{const Pe=!J.current&&!Ze;(x.value!==void 0&&x.value===De||Pe)&&I(re)},[x.value]),we=r==="popper"?qg:cR,be=we===qg?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:S}:{};return l.jsx(aR,{scope:n,content:b,viewport:D,onViewportChange:O,itemRefCallback:ie,selectedItem:T,onItemLeave:z,itemTextRefCallback:ce,focusSelectedItem:Z,selectedItemText:N,position:r,isPositioned:A,searchRef:W,children:l.jsx(Tf,{as:Az,allowPinchZoom:!0,children:l.jsx(Ef,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:fe(s,re=>{var De;(De=x.trigger)==null||De.focus({preventScroll:!0}),re.preventDefault()}),children:l.jsx(_f,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(we,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault(),...w,...be,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:fe(w.onKeyDown,re=>{const De=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!De&&re.key.length===1&&ee(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Pe=j().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ke=re.target,Ne=Pe.indexOf(ke);Pe=Pe.slice(Ne+1)}setTimeout(()=>q(Pe)),re.preventDefault()}})})})})})})});lR.displayName=Pz;var Dz="SelectItemAlignedPosition",cR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=fi(Xi,n),o=pi(Xi,n),[a,c]=y.useState(null),[d,h]=y.useState(null),f=Le(e,k=>h(k)),p=Uf(n),v=y.useRef(!1),_=y.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:w,focusSelectedItem:x}=o,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&g&&S&&w){const k=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(i.dir!=="rtl"){const ke=N.left-T.left,Ne=C.left-ke,gt=k.left-Ne,It=k.width+gt,Ln=Math.max(It,T.width),sr=window.innerWidth-Un,Pr=DE(Ne,[Un,Math.max(Un,sr-Ln)]);a.style.minWidth=It+"px",a.style.left=Pr+"px"}else{const ke=T.right-N.right,Ne=window.innerWidth-C.right-ke,gt=window.innerWidth-k.right-Ne,It=k.width+gt,Ln=Math.max(It,T.width),sr=window.innerWidth-Un,Pr=DE(Ne,[Un,Math.max(Un,sr-Ln)]);a.style.minWidth=It+"px",a.style.right=Pr+"px"}const I=p(),j=window.innerHeight-Un*2,A=g.scrollHeight,$=window.getComputedStyle(d),J=parseInt($.borderTopWidth,10),q=parseInt($.paddingTop,10),Z=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),L=J+q+A+V+Z,W=Math.min(S.offsetHeight*5,L),ee=window.getComputedStyle(g),ie=parseInt(ee.paddingTop,10),z=parseInt(ee.paddingBottom,10),ce=k.top+k.height/2-Un,we=j-ce,be=S.offsetHeight/2,re=S.offsetTop+be,De=J+q+re,Ze=L-De;if(De<=ce){const ke=I.length>0&&S===I[I.length-1].ref.current;a.style.bottom="0px";const Ne=d.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(we,be+(ke?z:0)+Ne+Z),It=De+gt;a.style.height=It+"px"}else{const ke=I.length>0&&S===I[0].ref.current;a.style.top="0px";const gt=Math.max(ce,J+g.offsetTop+(ke?ie:0)+be)+Ze;a.style.height=gt+"px",g.scrollTop=De-ce+g.offsetTop}a.style.margin=`${Un}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,d,g,S,w,i.dir,r]);Yt(()=>b(),[b]);const[P,D]=y.useState();Yt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=y.useCallback(k=>{k&&_.current===!0&&(b(),x==null||x(),_.current=!1)},[b,x]);return l.jsx(Oz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:l.jsx(me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});cR.displayName=Dz;var jz="SelectPopperPosition",qg=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=t,o=$f(n);return l.jsx(QN,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qg.displayName=jz;var[Oz,ww]=Oa(Xi,{}),Gg="SelectViewport",uR=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pi(Gg,n),o=ww(Gg,n),a=Le(e,i.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Ff.Slot,{scope:n,children:l.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const _=window.innerHeight-Un*2,g=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),w=Math.max(g,S);if(w<_){const x=w+v,b=Math.min(_,x),P=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});uR.displayName=Gg;var dR="SelectGroup",[Mz,Lz]=Oa(dR),Vz=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xr();return l.jsx(Mz,{scope:n,id:s,children:l.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Vz.displayName=dR;var hR="SelectLabel",fR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Lz(hR,n);return l.jsx(me.div,{id:s.id,...r,ref:e})});fR.displayName=hR;var kh="SelectItem",[Fz,pR]=Oa(kh),mR=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=fi(kh,n),c=pi(kh,n),d=a.value===r,[h,f]=y.useState(i??""),[p,v]=y.useState(!1),_=Le(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),g=Xr(),S=y.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Fz,{scope:n,value:r,disabled:s,textId:g,isSelected:d,onItemTextChange:y.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Ff.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(me.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:fe(o.onFocus,()=>v(!0)),onBlur:fe(o.onBlur,()=>v(!1)),onClick:fe(o.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:fe(o.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:fe(o.onPointerDown,x=>{S.current=x.pointerType}),onPointerMove:fe(o.onPointerMove,x=>{var b;S.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):S.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:fe(o.onKeyDown,x=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&x.key===" "||(Sz.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});mR.displayName=kh;var El="SelectItemText",gR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=fi(El,n),a=pi(El,n),c=pR(El,n),d=kz(El,n),[h,f]=y.useState(null),p=Le(e,w=>f(w),c.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,c.value,c.disabled)}),v=h==null?void 0:h.textContent,_=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=d;return Yt(()=>(g(_),()=>S(_)),[g,S,_]),l.jsxs(l.Fragment,{children:[l.jsx(me.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?va.createPortal(i.children,o.valueNode):null]})});gR.displayName=El;var yR="SelectItemIndicator",vR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pR(yR,n).isSelected?l.jsx(me.span,{"aria-hidden":!0,...r,ref:e}):null});vR.displayName=yR;var Kg="SelectScrollUpButton",wR=y.forwardRef((t,e)=>{const n=pi(Kg,t.__scopeSelect),r=ww(Kg,t.__scopeSelect),[s,i]=y.useState(!1),o=Le(e,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(_R,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});wR.displayName=Kg;var Yg="SelectScrollDownButton",xR=y.forwardRef((t,e)=>{const n=pi(Yg,t.__scopeSelect),r=ww(Yg,t.__scopeSelect),[s,i]=y.useState(!1),o=Le(e,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(_R,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});xR.displayName=Yg;var _R=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pi("SelectScrollButton",n),o=y.useRef(null),a=Uf(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Yt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),Uz="SelectSeparator",ER=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});ER.displayName=Uz;var Qg="SelectArrow",$z=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$f(n),i=fi(Qg,n),o=pi(Qg,n);return i.open&&o.position==="popper"?l.jsx(XN,{...s,...r,ref:e}):null});$z.displayName=Qg;var Bz="SelectBubbleInput",bR=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=Le(r,s),o=kf(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(me.select,{...n,style:{...JN,...n.style},ref:i,defaultValue:e})});bR.displayName=Bz;function SR(t){return t===""||t===void 0}function TR(t){const e=ni(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function CR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=zz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function zz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Wz=ZN,IR=tR,Hz=rR,qz=sR,Gz=iR,kR=oR,Kz=uR,NR=fR,RR=mR,Yz=gR,Qz=vR,PR=wR,AR=xR,DR=ER;const Nh=Wz,Rh=Hz,_c=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(IR,{ref:r,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(qz,{asChild:!0,children:l.jsx(yc,{className:"h-4 w-4 opacity-50"})})]}));_c.displayName=IR.displayName;const jR=y.forwardRef(({className:t,...e},n)=>l.jsx(PR,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Og,{className:"h-4 w-4"})}));jR.displayName=PR.displayName;const OR=y.forwardRef(({className:t,...e},n)=>l.jsx(AR,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(yc,{className:"h-4 w-4"})}));OR.displayName=AR.displayName;const Ec=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(Gz,{children:l.jsxs(kR,{ref:s,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(jR,{}),l.jsx(Kz,{className:X("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(OR,{})]})}));Ec.displayName=kR.displayName;const Xz=y.forwardRef(({className:t,...e},n)=>l.jsx(NR,{ref:n,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Xz.displayName=NR.displayName;const vt=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(RR,{ref:r,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Qz,{children:l.jsx(KI,{className:"h-4 w-4"})})}),l.jsx(Yz,{children:e})]}));vt.displayName=RR.displayName;const Jz=y.forwardRef(({className:t,...e},n)=>l.jsx(DR,{ref:n,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));Jz.displayName=DR.displayName;var Bf="Switch",[Zz,MH]=nr(Bf),[eW,tW]=Zz(Bf),MR=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,v]=y.useState(null),_=Le(e,b=>v(b)),g=y.useRef(!1),S=p?h||!!p.closest("form"):!0,[w,x]=as({prop:s,defaultProp:i??!1,onChange:d,caller:Bf});return l.jsxs(eW,{scope:n,checked:w,disabled:a,children:[l.jsx(me.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":UR(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:_,onClick:fe(t.onClick,b=>{x(P=>!P),S&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),S&&l.jsx(FR,{control:p,bubbles:!g.current,name:r,value:c,checked:w,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});MR.displayName=Bf;var LR="SwitchThumb",VR=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=tW(LR,n);return l.jsx(me.span,{"data-state":UR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});VR.displayName=LR;var nW="SwitchBubbleInput",FR=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Le(o,i),c=kf(n),d=Nf(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const _=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(_)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FR.displayName=nW;function UR(t){return t?"checked":"unchecked"}var $R=MR,rW=VR;const xw=y.forwardRef(({className:t,...e},n)=>l.jsx($R,{className:X("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(rW,{className:X("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xw.displayName=$R.displayName;const am={},bl={};function $l(t,e){try{const r=(am[t]||(am[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in bl?bl[r]:WE(r,r.split(":"))}catch{if(t in bl)return bl[t];const n=t==null?void 0:t.match(sW);return n?WE(t,n.slice(1)):NaN}}const sW=/([+-]\d\d):?(\d\d)?/;function WE(t,e){const n=+e[0],r=+(e[1]||0);return bl[t]=n>0?n*60+r:n*60-r}class hr extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN($l(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),BR(this),Xg(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new hr(...n,e):new hr(Date.now(),e)}withTimeZone(e){return new hr(+this,e)}getTimezoneOffset(){return-$l(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Xg(this),+this}[Symbol.for("constructDateFrom")](e){return new hr(+new Date(e),this.timeZone)}}const HE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!HE.test(t))return;const e=t.replace(HE,"$1UTC");hr.prototype[e]&&(t.startsWith("get")?hr.prototype[t]=function(){return this.internal[e]()}:(hr.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),iW(this),+this},hr.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Xg(this),+this}))});function Xg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function iW(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),BR(t)}function BR(t){const e=$l(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const c=$l(t.timeZone,t),h=-new Date(+t).getTimezoneOffset()-c,f=c!==e,p=h-a;if(f&&p){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p);const v=$l(t.timeZone,t),_=c-v;_&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+_))}}class Bt extends hr{static tz(e,...n){return n.length?new Bt(...n,e):new Bt(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${oW(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new Bt(+this,e)}[Symbol.for("constructDateFrom")](e){return new Bt(+new Date(e),this.timeZone)}}function oW(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var oe;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(oe||(oe={}));var et;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(et||(et={}));var Hn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Hn||(Hn={}));var pn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(pn||(pn={}));const zR=6048e5,aW=864e5,qE=Symbol.for("constructDateFrom");function Et(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qE in t?t[qE](e):t instanceof Date?new t.constructor(e):new Date(e)}function $e(t,e){return Et(e||t,t)}function WR(t,e,n){const r=$e(t,n==null?void 0:n.in);return isNaN(e)?Et(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function HR(t,e,n){const r=$e(t,n==null?void 0:n.in);if(isNaN(e))return Et(t,NaN);if(!e)return r;const s=r.getDate(),i=Et(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let lW={};function Yc(){return lW}function fa(t,e){var a,c,d,h;const n=Yc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$e(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function bc(t,e){return fa(t,{...e,weekStartsOn:1})}function qR(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=Et(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=bc(s),o=Et(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=bc(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function GE(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ma(t,...e){const n=Et.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Sc(t,e){const n=$e(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function GR(t,e,n){const[r,s]=Ma(n==null?void 0:n.in,t,e),i=Sc(r),o=Sc(s),a=+i-GE(i),c=+o-GE(o);return Math.round((a-c)/aW)}function cW(t,e){const n=qR(t,e),r=Et(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),bc(r)}function uW(t,e,n){return WR(t,e*7,n)}function dW(t,e,n){return HR(t,e*12,n)}function hW(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=$e(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function fW(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=$e(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function pW(t,e,n){const[r,s]=Ma(n==null?void 0:n.in,t,e);return+Sc(r)==+Sc(s)}function KR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mW(t){return!(!KR(t)&&typeof t!="number"||isNaN(+$e(t)))}function gW(t,e,n){const[r,s]=Ma(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function yW(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function vW(t,e){const[n,r]=Ma(t,e.start,e.end);return{start:n,end:r}}function wW(t,e){const{start:n,end:r}=vW(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(Et(n,o)),o.setMonth(o.getMonth()+a);return s?c.reverse():c}function xW(t,e){const n=$e(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function _W(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function YR(t,e){const n=$e(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function QR(t,e){var a,c,d,h;const n=Yc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$e(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function EW(t,e){return QR(t,{...e,weekStartsOn:1})}const bW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SW=(t,e,n)=>{let r;const s=bW[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const TW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kW={date:lm({formats:TW,defaultWidth:"full"}),time:lm({formats:CW,defaultWidth:"full"}),dateTime:lm({formats:IW,defaultWidth:"full"})},NW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RW=(t,e,n,r)=>NW[t];function ol(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const PW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LW=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VW={ordinalNumber:LW,era:ol({values:PW,defaultWidth:"wide"}),quarter:ol({values:AW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ol({values:DW,defaultWidth:"wide"}),day:ol({values:jW,defaultWidth:"wide"}),dayPeriod:ol({values:OW,defaultWidth:"wide",formattingValues:MW,defaultFormattingWidth:"wide"})};function al(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?UW(a,f=>f.test(o)):FW(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function FW(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function UW(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $W(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const BW=/^(\d+)(th|st|nd|rd)?/i,zW=/\d+/i,WW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HW={any:[/^b/i,/^(a|c)/i]},qW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GW={any:[/1/i,/2/i,/3/i,/4/i]},KW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e8={ordinalNumber:$W({matchPattern:BW,parsePattern:zW,valueCallback:t=>parseInt(t,10)}),era:al({matchPatterns:WW,defaultMatchWidth:"wide",parsePatterns:HW,defaultParseWidth:"any"}),quarter:al({matchPatterns:qW,defaultMatchWidth:"wide",parsePatterns:GW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:al({matchPatterns:KW,defaultMatchWidth:"wide",parsePatterns:YW,defaultParseWidth:"any"}),day:al({matchPatterns:QW,defaultMatchWidth:"wide",parsePatterns:XW,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:JW,defaultMatchWidth:"any",parsePatterns:ZW,defaultParseWidth:"any"})},_w={code:"en-US",formatDistance:SW,formatLong:kW,formatRelative:RW,localize:VW,match:e8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t8(t,e){const n=$e(t,e==null?void 0:e.in);return GR(n,YR(n))+1}function XR(t,e){const n=$e(t,e==null?void 0:e.in),r=+bc(n)-+cW(n);return Math.round(r/zR)+1}function JR(t,e){var h,f,p,v;const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=Yc(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(p=s.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=Et((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=fa(o,e),c=Et((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=fa(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function n8(t,e){var a,c,d,h;const n=Yc(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=JR(t,e),i=Et((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),fa(i,e)}function ZR(t,e){const n=$e(t,e==null?void 0:e.in),r=+fa(n,e)-+n8(n,e);return Math.round(r/zR)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Fe(s,e.length)}},vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return xs.y(t,e)},Y:function(t,e,n,r){const s=JR(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Fe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Fe(i,e.length)},R:function(t,e){const n=qR(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=ZR(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},I:function(t,e,n){const r=XR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xs.d(t,e)},D:function(t,e,n){const r=t8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Fe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=vo.noon:r===0?s=vo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=vo.evening:r>=12?s=vo.afternoon:r>=4?s=vo.morning:s=vo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xs.s(t,e)},S:function(t,e){return xs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return QE(r);case"XXXX":case"XX":return Ci(r);case"XXXXX":case"XXX":default:return Ci(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return QE(r);case"xxxx":case"xx":return Ci(r);case"xxxxx":case"xxx":default:return Ci(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YE(r,":");case"OOOO":default:return"GMT"+Ci(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YE(r,":");case"zzzz":default:return"GMT"+Ci(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Fe(r,e.length)},T:function(t,e,n){return Fe(+t,e.length)}};function YE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Fe(i,2)}function QE(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):Ci(t,e)}function Ci(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Fe(Math.trunc(r/60),2),i=Fe(r%60,2);return n+s+e+i}const XE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},r8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return XE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",XE(r,e)).replace("{{time}}",eP(s,e))},s8={p:eP,P:r8},i8=/^D+$/,o8=/^Y+$/,a8=["D","DD","YY","YYYY"];function l8(t){return i8.test(t)}function c8(t){return o8.test(t)}function u8(t,e,n){const r=d8(t,e,n);if(console.warn(r),a8.includes(t))throw new RangeError(r)}function d8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p8=/^'([^]*?)'?$/,m8=/''/g,g8=/[a-zA-Z]/;function Ew(t,e,n){var h,f,p,v,_,g,S,w;const r=Yc(),s=(n==null?void 0:n.locale)??r.locale??_w,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(S=r.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,a=$e(t,n==null?void 0:n.in);if(!mW(a))throw new RangeError("Invalid time value");let c=e.match(f8).map(x=>{const b=x[0];if(b==="p"||b==="P"){const P=s8[b];return P(x,s.formatLong)}return x}).join("").match(h8).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:y8(x)};if(KE[b])return{isToken:!0,value:x};if(b.match(g8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&c8(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&l8(b))&&u8(b,e,String(t));const P=KE[b[0]];return P(a,b,s.localize,d)}).join("")}function y8(t){const e=t.match(p8);return e?e[1].replace(m8,"'"):t}function v8(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=Et(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function w8(t,e){return $e(t,e==null?void 0:e.in).getMonth()}function x8(t,e){return $e(t,e==null?void 0:e.in).getFullYear()}function _8(t,e){return+$e(t)>+$e(e)}function E8(t,e){return+$e(t)<+$e(e)}function b8(t,e,n){const[r,s]=Ma(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function S8(t,e,n){const[r,s]=Ma(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function T8(t,e,n){const r=$e(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=Et(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=v8(o);return r.setMonth(e,Math.min(i,a)),r}function C8(t,e,n){const r=$e(t,n==null?void 0:n.in);return isNaN(+r)?Et(t,NaN):(r.setFullYear(e),r)}const JE=5,I8=4;function k8(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,JE*7-1);return e.getMonth(t)===e.getMonth(i)?JE:I8}function tP(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function N8(t,e){const n=tP(t,e),r=k8(t,e);return e.addDays(n,r*7-1)}class hs{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Bt.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new Bt(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):WR(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):HR(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):uW(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):dW(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):GR(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):gW(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):wW(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):N8(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):EW(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):yW(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):QR(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):_W(r)},this.format=(r,s,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(r,s,this.options):Ew(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):XR(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):w8(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):x8(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):ZR(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):_8(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):E8(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):KR(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):pW(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):b8(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):S8(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):hW(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):fW(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):T8(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):C8(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):tP(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Sc(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):bc(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):xW(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):fa(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):YR(r)},this.options={locale:_w,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Rr=new hs;class nP{constructor(e,n,r=Rr){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class R8{constructor(e,n){this.date=e,this.weeks=n}}class P8{constructor(e,n){this.days=n,this.weekNumber=e}}function Wr(t,e,n=!1,r=Rr){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&s?a(s,e):!1}function rP(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function bw(t){return!!(t&&typeof t=="object"&&"from"in t)}function sP(t){return!!(t&&typeof t=="object"&&"after"in t)}function iP(t){return!!(t&&typeof t=="object"&&"before"in t)}function oP(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function aP(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Hr(t,e,n=Rr){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(t,a);if(aP(a,n))return a.includes(t);if(bw(a))return Wr(a,t,!1,n);if(oP(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(rP(a)){const c=i(a.before,t),d=i(a.after,t),h=c>0,f=d<0;return o(a.before,a.after)?f&&h:h||f}return sP(a)?i(t,a.after)>0:iP(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function A8(t,e,n,r,s){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:c,broadcastCalendar:d,today:h}=e,{isSameDay:f,isSameMonth:p,startOfMonth:v,isBefore:_,endOfMonth:g,isAfter:S}=s,w=n&&v(n),x=r&&g(r),b={[et.focused]:[],[et.outside]:[],[et.disabled]:[],[et.hidden]:[],[et.today]:[]},P={};for(const D of t){const{date:O,displayMonth:k}=D,T=!!(k&&!p(O,k)),C=!!(w&&_(O,w)),N=!!(x&&S(O,x)),I=!!(i&&Hr(O,i,s)),j=!!(o&&Hr(O,o,s))||C||N||!d&&!c&&T||d&&c===!1&&T,A=f(O,h??s.today());T&&b.outside.push(D),I&&b.disabled.push(D),j&&b.hidden.push(D),A&&b.today.push(D),a&&Object.keys(a).forEach($=>{const J=a==null?void 0:a[$];J&&Hr(O,J,s)&&(P[$]?P[$].push(D):P[$]=[D])})}return D=>{const O={[et.focused]:!1,[et.disabled]:!1,[et.hidden]:!1,[et.outside]:!1,[et.today]:!1},k={};for(const T in b){const C=b[T];O[T]=C.some(N=>N===D)}for(const T in P)k[T]=P[T].some(C=>C===D);return{...O,...k}}}function D8(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[et[i]]?s.push(e[et[i]]):e[Hn[i]]&&s.push(e[Hn[i]]),s),[e[oe.Day]])}function j8(t){return Y.createElement("button",{...t})}function O8(t){return Y.createElement("span",{...t})}function M8(t){const{size:e=24,orientation:n="left",className:r}=t;return Y.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Y.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Y.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Y.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Y.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function L8(t){const{day:e,modifiers:n,...r}=t;return Y.createElement("td",{...r})}function V8(t){const{day:e,modifiers:n,...r}=t,s=Y.useRef(null);return Y.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),Y.createElement("button",{ref:s,...r})}function F8(t){const{options:e,className:n,components:r,classNames:s,...i}=t,o=[s[oe.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return Y.createElement("span",{"data-disabled":i.disabled,className:s[oe.DropdownRoot]},Y.createElement(r.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:d,disabled:h})=>Y.createElement(r.Option,{key:c,value:c,disabled:h},d))),Y.createElement("span",{className:s[oe.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,Y.createElement(r.Chevron,{orientation:"down",size:18,className:s[oe.Chevron]})))}function U8(t){return Y.createElement("div",{...t})}function $8(t){return Y.createElement("div",{...t})}function B8(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Y.createElement("div",{...r},t.children)}function z8(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Y.createElement("div",{...r})}function W8(t){return Y.createElement("table",{...t})}function H8(t){return Y.createElement("div",{...t})}const lP=y.createContext(void 0);function Qc(){const t=y.useContext(lP);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function q8(t){const{components:e}=Qc();return Y.createElement(e.Dropdown,{...t})}function G8(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:d}}=Qc(),h=y.useCallback(p=>{s&&(n==null||n(p))},[s,n]),f=y.useCallback(p=>{r&&(e==null||e(p))},[r,e]);return Y.createElement("nav",{...i},Y.createElement(o.PreviousMonthButton,{type:"button",className:a[oe.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},Y.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[oe.Chevron],orientation:"left"})),Y.createElement(o.NextMonthButton,{type:"button",className:a[oe.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:h},Y.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[oe.Chevron]})))}function K8(t){const{components:e}=Qc();return Y.createElement(e.Button,{...t})}function Y8(t){return Y.createElement("option",{...t})}function Q8(t){const{components:e}=Qc();return Y.createElement(e.Button,{...t})}function X8(t){const{rootRef:e,...n}=t;return Y.createElement("div",{...n,ref:e})}function J8(t){return Y.createElement("select",{...t})}function Z8(t){const{week:e,...n}=t;return Y.createElement("tr",{...n})}function e7(t){return Y.createElement("th",{...t})}function t7(t){return Y.createElement("thead",{"aria-hidden":!0},Y.createElement("tr",{...t}))}function n7(t){const{week:e,...n}=t;return Y.createElement("th",{...n})}function r7(t){return Y.createElement("th",{...t})}function s7(t){return Y.createElement("tbody",{...t})}function i7(t){const{components:e}=Qc();return Y.createElement(e.Dropdown,{...t})}const o7=Object.freeze(Object.defineProperty({__proto__:null,Button:j8,CaptionLabel:O8,Chevron:M8,Day:L8,DayButton:V8,Dropdown:F8,DropdownNav:U8,Footer:$8,Month:B8,MonthCaption:z8,MonthGrid:W8,Months:H8,MonthsDropdown:q8,Nav:G8,NextMonthButton:K8,Option:Y8,PreviousMonthButton:Q8,Root:X8,Select:J8,Week:Z8,WeekNumber:n7,WeekNumberHeader:r7,Weekday:e7,Weekdays:t7,Weeks:s7,YearsDropdown:i7},Symbol.toStringTag,{value:"Module"}));function a7(t){return{...o7,...t}}function l7(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Sw(){const t={};for(const e in oe)t[oe[e]]=`rdp-${oe[e]}`;for(const e in et)t[et[e]]=`rdp-${et[e]}`;for(const e in Hn)t[Hn[e]]=`rdp-${Hn[e]}`;for(const e in pn)t[pn[e]]=`rdp-${pn[e]}`;return t}function cP(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const c7=cP;function u7(t,e,n){return(n??new hs(e)).format(t,"d")}function d7(t,e=Rr){return e.format(t,"LLLL")}function h7(t,e=Rr){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function f7(){return""}function p7(t,e,n){return(n??new hs(e)).format(t,"cccccc")}function uP(t,e=Rr){return e.format(t,"yyyy")}const m7=uP,g7=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:cP,formatDay:u7,formatMonthCaption:c7,formatMonthDropdown:d7,formatWeekNumber:h7,formatWeekNumberHeader:f7,formatWeekdayName:p7,formatYearCaption:m7,formatYearDropdown:uP},Symbol.toStringTag,{value:"Module"}));function y7(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...g7,...t}}function v7(t,e,n,r,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:d}=s;return c({start:o(t),end:a(t)}).map(p=>{const v=r.formatMonthDropdown(p,s),_=d(p),g=e&&p<i(e)||n&&p>i(n)||!1;return{value:_,label:v,disabled:g}})}function w7(t,e={},n={}){let r={...e==null?void 0:e[oe.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function x7(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function _7(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:c,isSameYear:d}=r,h=s(t),f=i(e),p=[];let v=h;for(;c(v,f)||d(v,f);)p.push(v),v=o(v,1);return p.map(_=>{const g=n.formatYearDropdown(_,r);return{value:a(_),label:g,disabled:!1}})}function dP(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const E7=dP;function b7(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function hP(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const S7=hP;function T7(){return""}function C7(t){return"Choose the Month"}function I7(t){return"Go to the Next Month"}function k7(t){return"Go to the Previous Month"}function N7(t,e,n){return(n??new hs(e)).format(t,"cccc")}function R7(t,e){return`Week ${t}`}function P7(t){return"Week Number"}function A7(t){return"Choose the Year"}const D7=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:E7,labelDay:S7,labelDayButton:hP,labelGrid:dP,labelGridcell:b7,labelMonthDropdown:C7,labelNav:T7,labelNext:I7,labelPrevious:k7,labelWeekNumber:R7,labelWeekNumberHeader:P7,labelWeekday:N7,labelYearDropdown:A7},Symbol.toStringTag,{value:"Module"})),Xc=t=>t instanceof HTMLElement?t:null,cm=t=>[...t.querySelectorAll("[data-animated-month]")??[]],j7=t=>Xc(t.querySelector("[data-animated-month]")),um=t=>Xc(t.querySelector("[data-animated-caption]")),dm=t=>Xc(t.querySelector("[data-animated-weeks]")),O7=t=>Xc(t.querySelector("[data-animated-nav]")),M7=t=>Xc(t.querySelector("[data-animated-weekdays]"));function L7(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const o=y.useRef(null),a=y.useRef(r),c=y.useRef(!1);y.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const h=i.isSameMonth(r[0].date,d[0].date),f=i.isAfter(r[0].date,d[0].date),p=f?n[pn.caption_after_enter]:n[pn.caption_before_enter],v=f?n[pn.weeks_after_enter]:n[pn.weeks_before_enter],_=o.current,g=t.current.cloneNode(!0);if(g instanceof HTMLElement?(cm(g).forEach(b=>{if(!(b instanceof HTMLElement))return;const P=j7(b);P&&b.contains(P)&&b.removeChild(P);const D=um(b);D&&D.classList.remove(p);const O=dm(b);O&&O.classList.remove(v)}),o.current=g):o.current=null,c.current||h||s)return;const S=_ instanceof HTMLElement?cm(_):[],w=cm(t.current);if(w&&w.every(x=>x instanceof HTMLElement)&&S&&S.every(x=>x instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const x=O7(t.current);x&&(x.style.zIndex="1"),w.forEach((b,P)=>{const D=S[P];if(!D)return;b.style.position="relative",b.style.overflow="hidden";const O=um(b);O&&O.classList.add(p);const k=dm(b);k&&k.classList.add(v);const T=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),x&&(x.style.zIndex=""),O&&O.classList.remove(p),k&&k.classList.remove(v),b.style.position="",b.style.overflow="",b.contains(D)&&b.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const C=M7(D);C&&(C.style.opacity="0");const N=um(D);N&&(N.classList.add(f?n[pn.caption_before_exit]:n[pn.caption_after_exit]),N.addEventListener("animationend",T));const I=dm(D);I&&I.classList.add(f?n[pn.weeks_before_exit]:n[pn.weeks_after_exit]),b.insertBefore(D,b.firstChild)})}})}function V7(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:v,endOfMonth:_,endOfWeek:g,isAfter:S,startOfBroadcastWeek:w,startOfISOWeek:x,startOfWeek:b}=r,P=c?w(s,r):o?x(s):b(s),D=c?p(i):o?v(_(i)):g(_(i)),O=h(D,P),k=f(i,s)+1,T=[];for(let I=0;I<=O;I++){const j=d(P,I);if(e&&S(j,e))break;T.push(j)}const N=(c?35:42)*k;if(a&&T.length<N){const I=N-T.length;for(let j=0;j<I;j++){const A=d(T[T.length-1],1);T.push(A)}}return T}function F7(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,o)=>[...i,...o.days],e);return[...n,...s]},e)}function U7(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let o=0;o<s;o++){const a=r.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function ZE(t,e,n,r){const{month:s,defaultMonth:i,today:o=r.today(),numberOfMonths:a=1}=t;let c=s||i||o;const{differenceInCalendarMonths:d,addMonths:h,startOfMonth:f}=r;if(n&&d(n,c)<a-1){const p=-1*(a-1);c=h(n,p)}return e&&d(c,e)<0&&(c=e),f(c)}function $7(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:d,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:v}=r,_=t.reduce((g,S)=>{const w=n.broadcastCalendar?f(S,r):n.ISOWeek?p(S):v(S),x=n.broadcastCalendar?i(S):n.ISOWeek?o(a(S)):c(a(S)),b=e.filter(k=>k>=w&&k<=x),P=n.broadcastCalendar?35:42;if(n.fixedWeeks&&b.length<P){const k=e.filter(T=>{const C=P-b.length;return T>x&&T<=s(x,C)});b.push(...k)}const D=b.reduce((k,T)=>{const C=n.ISOWeek?d(T):h(T),N=k.find(j=>j.weekNumber===C),I=new nP(T,S,r);return N?N.days.push(I):k.push(new P8(C,[I])),k},[]),O=new R8(S,D);return g.push(O),g},[]);return n.reverseMonths?_.reverse():_}function B7(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:d,newDate:h,today:f}=e,{fromYear:p,toYear:v,fromMonth:_,toMonth:g}=t;!n&&_&&(n=_),!n&&p&&(n=e.newDate(p,0,1)),!r&&g&&(r=g),!r&&v&&(r=h(v,11,31));const S=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):p?n=h(p,0,1):!n&&S&&(n=s(c(t.today??f(),-100))),r?r=a(r):v?r=h(v,11,31):!r&&S&&(r=d(t.today??f())),[n&&i(n),r&&i(r)]}function z7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i:1,h=o(t);if(!e)return a(h,d);if(!(c(e,t)<i))return a(h,d)}function W7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i??1:1,h=o(t);if(!e)return a(h,-d);if(!(c(h,e)<=0))return a(h,-d)}function H7(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function zf(t,e){const[n,r]=y.useState(t);return[e===void 0?n:e,r]}function q7(t,e){const[n,r]=B7(t,e),{startOfMonth:s,endOfMonth:i}=e,o=ZE(t,n,r,e),[a,c]=zf(o,t.month?o:void 0);y.useEffect(()=>{const O=ZE(t,n,r,e);c(O)},[t.timeZone]);const d=U7(a,r,t,e),h=V7(d,t.endMonth?i(t.endMonth):void 0,t,e),f=$7(d,h,t,e),p=H7(f),v=F7(f),_=W7(a,n,t,e),g=z7(a,r,t,e),{disableNavigation:S,onMonthChange:w}=t,x=O=>p.some(k=>k.days.some(T=>T.isEqualTo(O))),b=O=>{if(S)return;let k=s(O);n&&k<s(n)&&(k=s(n)),r&&k>s(r)&&(k=s(r)),c(k),w==null||w(k)};return{months:f,weeks:p,days:v,navStart:n,navEnd:r,previousMonth:_,nextMonth:g,goToMonth:b,goToDay:O=>{x(O)||b(O.date)}}}var ar;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(ar||(ar={}));function eb(t){return!t[et.disabled]&&!t[et.hidden]&&!t[et.outside]}function G7(t,e,n,r){let s,i=-1;for(const o of t){const a=e(o);eb(a)&&(a[et.focused]&&i<ar.FocusedModifier?(s=o,i=ar.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<ar.LastFocused?(s=o,i=ar.LastFocused):n(o.date)&&i<ar.Selected?(s=o,i=ar.Selected):a[et.today]&&i<ar.Today&&(s=o,i=ar.Today))}return s||(s=t.find(o=>eb(e(o)))),s}function K7(t,e,n,r,s,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:d,addMonths:h,addWeeks:f,addYears:p,endOfBroadcastWeek:v,endOfISOWeek:_,endOfWeek:g,max:S,min:w,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:P}=o;let O={day:d,week:f,month:h,year:p,startOfWeek:k=>c?x(k,o):a?b(k):P(k),endOfWeek:k=>c?v(k):a?_(k):g(k)}[t](n,e==="after"?1:-1);return e==="before"&&r?O=S([r,O]):e==="after"&&s&&(O=w([s,O])),O}function fP(t,e,n,r,s,i,o,a=0){if(a>365)return;const c=K7(t,e,n.date,r,s,i,o),d=!!(i.disabled&&Hr(c,i.disabled,o)),h=!!(i.hidden&&Hr(c,i.hidden,o)),f=c,p=new nP(c,f,o);return!d&&!h?p:fP(t,e,p,r,s,i,o,a+1)}function Y7(t,e,n,r,s){const{autoFocus:i}=t,[o,a]=y.useState(),c=G7(e.days,n,r||(()=>!1),o),[d,h]=y.useState(i?c:void 0);return{isFocusTarget:g=>!!(c!=null&&c.isEqualTo(g)),setFocused:h,focused:d,blur:()=>{a(d),h(void 0)},moveFocus:(g,S)=>{if(!d)return;const w=fP(g,S,d,e.navStart,e.navEnd,t,s);w&&(e.goToDay(w),h(w))}}}function Q7(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=zf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e,d=v=>(a==null?void 0:a.some(_=>c(_,v)))??!1,{min:h,max:f}=t;return{selected:a,select:(v,_,g)=>{let S=[...a??[]];if(d(v)){if((a==null?void 0:a.length)===h||r&&(a==null?void 0:a.length)===1)return;S=a==null?void 0:a.filter(w=>!c(w,v))}else(a==null?void 0:a.length)===f?S=[v]:S=[...S,v];return s||o(S),s==null||s(S,v,_,g),S},isSelected:d}}function X7(t,e,n=0,r=0,s=!1,i=Rr){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:d,isBefore:h}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)c(o,t)?s?f={from:o,to:void 0}:f=void 0:h(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))s?f={from:o,to:a}:f=void 0;else if(c(o,t))f={from:o,to:n>0?void 0:t};else if(c(a,t))f={from:t,to:n>0?void 0:t};else if(h(t,o))f={from:t,to:a};else if(d(t,o))f={from:o,to:t};else if(d(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const p=i.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:t,to:void 0}:n>1&&p<n&&(f={from:t,to:void 0})}return f}function J7(t,e,n=Rr){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function tb(t,e,n=Rr){return Wr(t,e.from,!1,n)||Wr(t,e.to,!1,n)||Wr(e,t.from,!1,n)||Wr(e,t.to,!1,n)}function Z7(t,e,n=Rr){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Wr(t,a,!1,n):aP(a,n)?a.some(c=>Wr(t,c,!1,n)):bw(a)?a.from&&a.to?tb(t,{from:a.from,to:a.to},n):!1:oP(a)?J7(t,a.dayOfWeek,n):rP(a)?n.isAfter(a.before,a.after)?tb(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):Hr(t.from,a,n)||Hr(t.to,a,n):sP(a)||iP(a)?Hr(t.from,a,n)||Hr(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=c;d++){if(o.some(h=>h(a)))return!0;a=n.addDays(a,1)}}return!1}function eH(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:o}=t,[a,c]=zf(s,o?s:void 0),d=o?s:a;return{selected:d,select:(p,v,_)=>{const{min:g,max:S}=t,w=p?X7(p,d,g,S,i,e):void 0;return r&&n&&(w!=null&&w.from)&&w.to&&Z7({from:w.from,to:w.to},n,e)&&(w.from=p,w.to=void 0),o||c(w),o==null||o(w,p,v,_),w},isSelected:p=>d&&Wr(d,p,!1,e)}}function tH(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=zf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e;return{selected:a,select:(f,p,v)=>{let _=f;return!r&&a&&a&&c(f,a)&&(_=void 0),s||o(_),s==null||s(_,f,p,v),_},isSelected:f=>a?c(a,f):!1}}function nH(t,e){const n=tH(t,e),r=Q7(t,e),s=eH(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function rH(t){var ao;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new Bt(e.today,e.timeZone)),e.month&&(e.month=new Bt(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Bt(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Bt(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Bt(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Bt(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(ao=e.selected)==null?void 0:ao.map(ve=>new Bt(ve,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Bt(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Bt(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:o,classNames:a}=y.useMemo(()=>{const ve={..._w,...e.locale};return{dateLib:new hs({locale:ve,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:a7(e.components),formatters:y7(e.formatters),labels:{...D7,...e.labels},locale:ve,classNames:{...Sw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:d,navLayout:h,numberOfMonths:f=1,onDayBlur:p,onDayClick:v,onDayFocus:_,onDayKeyDown:g,onDayMouseEnter:S,onDayMouseLeave:w,onNextClick:x,onPrevClick:b,showWeekNumber:P,styles:D}=e,{formatCaption:O,formatDay:k,formatMonthDropdown:T,formatWeekNumber:C,formatWeekNumberHeader:N,formatWeekdayName:I,formatYearDropdown:j}=r,A=q7(e,i),{days:$,months:J,navStart:q,navEnd:Z,previousMonth:V,nextMonth:L,goToMonth:W}=A,ee=A8($,e,q,Z,i),{isSelected:ie,select:z,selected:ce}=nH(e,i)??{},{blur:we,focused:be,isFocusTarget:re,moveFocus:De,setFocused:Ze}=Y7(e,A,ee,ie??(()=>!1),i),{labelDayButton:Pe,labelGridcell:ke,labelGrid:Ne,labelMonthDropdown:gt,labelNav:It,labelPrevious:Ln,labelNext:sr,labelWeekday:Pr,labelWeekNumber:La,labelWeekNumberHeader:Ar,labelYearDropdown:Va}=s,Zc=y.useMemo(()=>x7(i,e.ISOWeek),[i,e.ISOWeek]),eu=d!==void 0||v!==void 0,gi=y.useCallback(()=>{V&&(W(V),b==null||b(V))},[V,W,b]),yi=y.useCallback(()=>{L&&(W(L),x==null||x(L))},[W,L,x]),tu=y.useCallback((ve,Be)=>Se=>{Se.preventDefault(),Se.stopPropagation(),Ze(ve),z==null||z(ve.date,Be,Se),v==null||v(ve.date,Be,Se)},[z,v,Ze]),bt=y.useCallback((ve,Be)=>Se=>{Ze(ve),_==null||_(ve.date,Be,Se)},[_,Ze]),kt=y.useCallback((ve,Be)=>Se=>{we(),p==null||p(ve.date,Be,Se)},[we,p]),oo=y.useCallback((ve,Be)=>Se=>{const Cn={ArrowLeft:[Se.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Se.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Se.shiftKey?"year":"week","after"],ArrowUp:[Se.shiftKey?"year":"week","before"],PageUp:[Se.shiftKey?"year":"month","before"],PageDown:[Se.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Cn[Se.key]){Se.preventDefault(),Se.stopPropagation();const[Qt,In]=Cn[Se.key];De(Qt,In)}g==null||g(ve.date,Be,Se)},[De,g,e.dir]),nu=y.useCallback((ve,Be)=>Se=>{S==null||S(ve.date,Be,Se)},[S]),ru=y.useCallback((ve,Be)=>Se=>{w==null||w(ve.date,Be,Se)},[w]),Hf=y.useCallback(ve=>Be=>{const Se=Number(Be.target.value),Cn=i.setMonth(i.startOfMonth(ve),Se);W(Cn)},[i,W]),vi=y.useCallback(ve=>Be=>{const Se=Number(Be.target.value),Cn=i.setYear(i.startOfMonth(ve),Se);W(Cn)},[i,W]),{className:su,style:iu}=y.useMemo(()=>({className:[a[oe.Root],e.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[oe.Root],...e.style}}),[a,e.className,e.style,D]),Fa=l7(e),ou=y.useRef(null);L7(ou,!!e.animate,{classNames:a,months:J,focused:be,dateLib:i});const qf={dayPickerProps:e,selected:ce,select:z,isSelected:ie,months:J,nextMonth:L,previousMonth:V,goToMonth:W,getModifiers:ee,components:n,classNames:a,styles:D,labels:s,formatters:r};return Y.createElement(lP.Provider,{value:qf},Y.createElement(n.Root,{rootRef:e.animate?ou:void 0,className:su,style:iu,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Fa},Y.createElement(n.Months,{className:a[oe.Months],style:D==null?void 0:D[oe.Months]},!e.hideNavigation&&!h&&Y.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[oe.Nav],style:D==null?void 0:D[oe.Nav],"aria-label":It(),onPreviousClick:gi,onNextClick:yi,previousMonth:V,nextMonth:L}),J.map((ve,Be)=>{const Se=v7(ve.date,q,Z,r,i),Cn=_7(q,Z,r,i);return Y.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[oe.Month],style:D==null?void 0:D[oe.Month],key:Be,displayIndex:Be,calendarMonth:ve},h==="around"&&!e.hideNavigation&&Be===0&&Y.createElement(n.PreviousMonthButton,{type:"button",className:a[oe.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Ln(V),onClick:gi,"data-animated-button":e.animate?"true":void 0},Y.createElement(n.Chevron,{disabled:V?void 0:!0,className:a[oe.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Y.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[oe.MonthCaption],style:D==null?void 0:D[oe.MonthCaption],calendarMonth:ve,displayIndex:Be},c!=null&&c.startsWith("dropdown")?Y.createElement(n.DropdownNav,{className:a[oe.Dropdowns],style:D==null?void 0:D[oe.Dropdowns]},c==="dropdown"||c==="dropdown-months"?Y.createElement(n.MonthsDropdown,{className:a[oe.MonthsDropdown],"aria-label":gt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:Hf(ve.date),options:Se,style:D==null?void 0:D[oe.Dropdown],value:i.getMonth(ve.date)}):Y.createElement("span",null,T(ve.date,i)),c==="dropdown"||c==="dropdown-years"?Y.createElement(n.YearsDropdown,{className:a[oe.YearsDropdown],"aria-label":Va(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:vi(ve.date),options:Cn,style:D==null?void 0:D[oe.Dropdown],value:i.getYear(ve.date)}):Y.createElement("span",null,j(ve.date,i)),Y.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(ve.date,i.options,i))):Y.createElement(n.CaptionLabel,{className:a[oe.CaptionLabel],role:"status","aria-live":"polite"},O(ve.date,i.options,i))),h==="around"&&!e.hideNavigation&&Be===f-1&&Y.createElement(n.NextMonthButton,{type:"button",className:a[oe.NextMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":sr(L),onClick:yi,"data-animated-button":e.animate?"true":void 0},Y.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[oe.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Be===f-1&&h==="after"&&!e.hideNavigation&&Y.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[oe.Nav],style:D==null?void 0:D[oe.Nav],"aria-label":It(),onPreviousClick:gi,onNextClick:yi,previousMonth:V,nextMonth:L}),Y.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Ne(ve.date,i.options,i)||void 0,className:a[oe.MonthGrid],style:D==null?void 0:D[oe.MonthGrid]},!e.hideWeekdays&&Y.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[oe.Weekdays],style:D==null?void 0:D[oe.Weekdays]},P&&Y.createElement(n.WeekNumberHeader,{"aria-label":Ar(i.options),className:a[oe.WeekNumberHeader],style:D==null?void 0:D[oe.WeekNumberHeader],scope:"col"},N()),Zc.map((Qt,In)=>Y.createElement(n.Weekday,{"aria-label":Pr(Qt,i.options,i),className:a[oe.Weekday],key:In,style:D==null?void 0:D[oe.Weekday],scope:"col"},I(Qt,i.options,i)))),Y.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[oe.Weeks],style:D==null?void 0:D[oe.Weeks]},ve.weeks.map((Qt,In)=>Y.createElement(n.Week,{className:a[oe.Week],key:Qt.weekNumber,style:D==null?void 0:D[oe.Week],week:Qt},P&&Y.createElement(n.WeekNumber,{week:Qt,style:D==null?void 0:D[oe.WeekNumber],"aria-label":La(Qt.weekNumber,{locale:o}),className:a[oe.WeekNumber],scope:"row",role:"rowheader"},C(Qt.weekNumber,i)),Qt.days.map(yt=>{const{date:Xt}=yt,je=ee(yt);if(je[et.focused]=!je.hidden&&!!(be!=null&&be.isEqualTo(yt)),je[Hn.selected]=(ie==null?void 0:ie(Xt))||je.selected,bw(ce)){const{from:lo,to:Dr}=ce;je[Hn.range_start]=!!(lo&&Dr&&i.isSameDay(Xt,lo)),je[Hn.range_end]=!!(lo&&Dr&&i.isSameDay(Xt,Dr)),je[Hn.range_middle]=Wr(ce,Xt,!0,i)}const wi=w7(je,D,e.modifiersStyles),au=D8(je,a,e.modifiersClassNames),Nt=!eu&&!je.hidden?ke(Xt,je,i.options,i):void 0;return Y.createElement(n.Day,{key:`${i.format(Xt,"yyyy-MM-dd")}_${i.format(yt.displayMonth,"yyyy-MM")}`,day:yt,modifiers:je,className:au.join(" "),style:wi,role:"gridcell","aria-selected":je.selected||void 0,"aria-label":Nt,"data-day":i.format(Xt,"yyyy-MM-dd"),"data-month":yt.outside?i.format(Xt,"yyyy-MM"):void 0,"data-selected":je.selected||void 0,"data-disabled":je.disabled||void 0,"data-hidden":je.hidden||void 0,"data-outside":yt.outside||void 0,"data-focused":je.focused||void 0,"data-today":je.today||void 0},!je.hidden&&eu?Y.createElement(n.DayButton,{className:a[oe.DayButton],style:D==null?void 0:D[oe.DayButton],type:"button",day:yt,modifiers:je,disabled:je.disabled||void 0,tabIndex:re(yt)?0:-1,"aria-label":Pe(Xt,je,i.options,i),onClick:tu(yt,je),onBlur:kt(yt,je),onFocus:bt(yt,je),onKeyDown:oo(yt,je),onMouseEnter:nu(yt,je),onMouseLeave:ru(yt,je)},k(Xt,i.options,i)):!je.hidden&&k(yt.date,i.options,i))}))))))})),e.footer&&Y.createElement(n.Footer,{className:a[oe.Footer],style:D==null?void 0:D[oe.Footer],role:"status","aria-live":"polite"},e.footer)))}function pP({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:i,components:o,...a}){const c=Sw();return l.jsx(rH,{showOutsideDays:n,className:X("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:X("w-fit",c.root),months:X("flex gap-4 flex-col md:flex-row relative",c.months),month:X("flex flex-col w-full gap-4",c.month),nav:X("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:X(jg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:X(jg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:X("flex items-center justify-center h-[--cell-size] w-full px-[--cell-size]",c.month_caption),dropdowns:X("w-full flex items-center text-sm font-medium justify-center h-[--cell-size] gap-1.5",c.dropdowns),dropdown_root:X("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:X("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:X("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:X("flex",c.weekdays),weekday:X("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:X("flex w-full mt-2",c.week),week_number_header:X("select-none w-[--cell-size]",c.week_number_header),week_number:X("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:X("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:X("rounded-l-md bg-accent",c.range_start),range_middle:X("rounded-none",c.range_middle),range_end:X("rounded-r-md bg-accent",c.range_end),today:X("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:X("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:X("text-muted-foreground opacity-50",c.disabled),hidden:X("invisible",c.hidden),...e},components:{Root:({className:d,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:X(d),...f}),Chevron:({className:d,orientation:h,...f})=>h==="left"?l.jsx(C5,{className:X("size-4",d),...f}):h==="right"?l.jsx(I5,{className:X("size-4",d),...f}):l.jsx(yc,{className:X("size-4",d),...f}),DayButton:sH,WeekNumber:({children:d,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:d})}),...o},...a})}function sH({className:t,day:e,modifiers:n,...r}){const s=Sw(),i=y.useRef(null);return y.useEffect(()=>{var o;n.focused&&((o=i.current)==null||o.focus())},[n.focused]),l.jsx(se,{ref:i,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:X("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square w-full min-w-[--cell-size] flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Wf="Popover",[mP,LH]=nr(Wf,[Vf]),Jc=Vf(),[iH,mi]=mP(Wf),gP=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Jc(e),c=y.useRef(null),[d,h]=y.useState(!1),[f,p]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Wf});return l.jsx(YN,{...a,children:l.jsx(iH,{scope:e,contentId:Xr(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(v=>!v),[p]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};gP.displayName=Wf;var yP="PopoverAnchor",oH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mi(yP,n),i=Jc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(vw,{...i,...r,ref:e})});oH.displayName=yP;var vP="PopoverTrigger",wP=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mi(vP,n),i=Jc(n),o=Le(e,s.triggerRef),a=l.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SP(s.open),...r,ref:o,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(vw,{asChild:!0,...i,children:a})});wP.displayName=vP;var Tw="PopoverPortal",[aH,lH]=mP(Tw,{forceMount:void 0}),xP=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=mi(Tw,e);return l.jsx(aH,{scope:e,forceMount:n,children:l.jsx(ds,{present:n||i.open,children:l.jsx(bf,{asChild:!0,container:s,children:r})})})};xP.displayName=Tw;var pa="PopoverContent",_P=y.forwardRef((t,e)=>{const n=lH(pa,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=mi(pa,t.__scopePopover);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(uH,{...s,ref:e}):l.jsx(dH,{...s,ref:e})})});_P.displayName=pa;var cH=qi("PopoverContent.RemoveScroll"),uH=y.forwardRef((t,e)=>{const n=mi(pa,t.__scopePopover),r=y.useRef(null),s=Le(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return tw(o)},[]),l.jsx(Tf,{as:cH,allowPinchZoom:!0,children:l.jsx(EP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),dH=y.forwardRef((t,e)=>{const n=mi(pa,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(EP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),EP=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...f}=t,p=mi(pa,n),v=Jc(n);return ew(),l.jsx(Ef,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(_f,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(QN,{"data-state":SP(p.open),role:"dialog",id:p.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bP="PopoverClose",hH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mi(bP,n);return l.jsx(me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});hH.displayName=bP;var fH="PopoverArrow",pH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Jc(n);return l.jsx(XN,{...s,...r,ref:e})});pH.displayName=fH;function SP(t){return t?"open":"closed"}var mH=gP,gH=wP,yH=xP,TP=_P;const CP=mH,IP=gH,Cw=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(yH,{children:l.jsx(TP,{ref:s,align:e,sideOffset:n,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Cw.displayName=TP.displayName;function vH({organization:t,isOpen:e,onClose:n,onSuccess:r}){var D,O,k,T,C,N,I,j,A,$,J,q,Z,V;const[s,i]=y.useState(!1),[o,a]=y.useState(null),[c,d]=y.useState(),[h,f]=y.useState(),[p,v]=y.useState([]),[_,g]=y.useState({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,eventbriteUrl:"",series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),S=(L,W)=>{if(L.startsWith("price.groupDealDetails.")){const ee=L.split(".")[2];g(ie=>{var z;return{...ie,price:{...ie.price,groupDealDetails:{...(z=ie.price)==null?void 0:z.groupDealDetails,[ee]:W}}}})}else if(L.startsWith("price.")){const ee=L.split(".")[1];g(ie=>({...ie,price:{...ie.price,[ee]:W}}))}else if(L.startsWith("series.")){const ee=L.split(".")[1];g(ie=>({...ie,series:{...ie.series,[ee]:W}}))}else g(ee=>({...ee,[L]:W}))},w=()=>{v(L=>[...L,{date:"",theme:"",description:""}])},x=(L,W,ee)=>{v(ie=>ie.map((z,ce)=>ce===L?{...z,[W]:ee}:z))},b=L=>{v(W=>W.filter((ee,ie)=>ie!==L))},P=async L=>{L.preventDefault(),i(!0),a(null);try{if(!c)throw new Error("Please select an event date");const W={..._,date:c,endDate:h,recurringDates:_.isRecurring&&p.length>0?p:void 0},ee=await vc.create(W);r(ee),n(),g({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,eventbriteUrl:"",series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),d(void 0),f(void 0),v([])}catch(W){console.error("Failed to create event:",W),a(W instanceof Error?W.message:"Failed to create event")}finally{i(!1)}};return l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Pa,{children:[l.jsx(Aa,{children:"Create New Event"}),l.jsxs(If,{children:["Create a new event for ",t.name,". Fill out the details below."]})]}),l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:o})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(K,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:_.title,onChange:L=>S("title",L.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"status",children:"Status"}),l.jsxs(Nh,{value:_.status,onValueChange:L=>S("status",L),children:[l.jsx(_c,{children:l.jsx(Rh,{})}),l.jsxs(Ec,{children:[l.jsx(vt,{value:"draft",children:"Draft"}),l.jsx(vt,{value:"presale",children:"PreSale"}),l.jsx(vt,{value:"published",children:"Published"}),l.jsx(vt,{value:"sold_out",children:"Sold Out"}),l.jsx(vt,{value:"cancelled",children:"Canceled"}),l.jsx(vt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"description",children:"Short Description *"}),l.jsx(Kn,{id:"description",value:_.description,onChange:L=>S("description",L.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Kn,{id:"fullDescription",value:_.fullDescription,onChange:L=>S("fullDescription",L.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Event Date *"}),l.jsxs(CP,{children:[l.jsx(IP,{asChild:!0,children:l.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(en,{className:"mr-2 h-4 w-4"}),c?Ew(c,"PPP"):"Pick a date"]})}),l.jsx(Cw,{className:"w-auto p-0",children:l.jsx(pP,{mode:"single",selected:c,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:_.time,onChange:L=>S("time",L.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:_.duration,onChange:L=>S("duration",L.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:_.location,onChange:L=>S("location",L.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:_.address,onChange:L=>S("address",L.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Ticketing"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Price Type"}),l.jsxs(Nh,{value:(D=_.price)==null?void 0:D.type,onValueChange:L=>S("price.type",L),children:[l.jsx(_c,{children:l.jsx(Rh,{})}),l.jsxs(Ec,{children:[l.jsx(vt,{value:"free",children:"Free"}),l.jsx(vt,{value:"paid",children:"Paid"}),l.jsx(vt,{value:"group_deal",children:"Group Ticket Deal"})]})]})]}),((O=_.price)==null?void 0:O.type)==="paid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((k=_.price)==null?void 0:k.amount)||"",onChange:L=>S("price.amount",parseFloat(L.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((T=_.price)==null?void 0:T.advancePrice)||"",onChange:L=>S("price.advancePrice",parseFloat(L.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",_.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:_.eventbriteUrl,onChange:L=>S("eventbriteUrl",L.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:_.status==="published"})]})]}),((C=_.price)==null?void 0:C.type)==="group_deal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"minimumPeople",children:"Minimum People *"}),l.jsx(le,{id:"minimumPeople",type:"number",value:((I=(N=_.price)==null?void 0:N.groupDealDetails)==null?void 0:I.minimumPeople)||"",onChange:L=>S("price.groupDealDetails.minimumPeople",parseInt(L.target.value)||void 0),placeholder:"4",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"pricePerPerson",children:"Group Price Per Person"}),l.jsx(le,{id:"pricePerPerson",type:"number",step:"0.01",value:((A=(j=_.price)==null?void 0:j.groupDealDetails)==null?void 0:A.pricePerPerson)||"",onChange:L=>S("price.groupDealDetails.pricePerPerson",parseFloat(L.target.value)||void 0),placeholder:"15.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"normalPricePerPerson",children:"Normal Price Per Person"}),l.jsx(le,{id:"normalPricePerPerson",type:"number",step:"0.01",value:((J=($=_.price)==null?void 0:$.groupDealDetails)==null?void 0:J.normalPricePerPerson)||"",onChange:L=>S("price.groupDealDetails.normalPricePerPerson",parseFloat(L.target.value)||void 0),placeholder:"20.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",_.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:_.eventbriteUrl,onChange:L=>S("eventbriteUrl",L.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:_.status==="published"})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:(q=_.price)==null?void 0:q.description,onChange:L=>S("price.description",L.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:_.capacity||"",onChange:L=>S("capacity",parseInt(L.target.value)||void 0),placeholder:"Maximum attendees"})]})]})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((Z=_.series)==null?void 0:Z.name)||"",onChange:L=>S("series.name",L.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Kn,{id:"seriesDescription",value:((V=_.series)==null?void 0:V.description)||"",onChange:L=>S("series.description",L.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(xw,{id:"isRecurring",checked:_.isRecurring,onCheckedChange:L=>{S("isRecurring",L),L||v([])}}),l.jsx(K,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),_.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(K,{children:"Recurring Dates & Themes"}),l.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:w,children:[l.jsx(Jv,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),p.map((L,W)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:L.date,onChange:ee=>x(W,"date",ee.target.value)}),l.jsx(le,{placeholder:"Theme",value:L.theme,onChange:ee=>x(W,"theme",ee.target.value)}),l.jsx(le,{placeholder:"Description",value:L.description,onChange:ee=>x(W,"description",ee.target.value)})]}),l.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(W),children:l.jsx(da,{className:"h-4 w-4"})})]},W))]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:_.imageUrl,onChange:L=>S("imageUrl",L.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:s,children:[s&&l.jsx(Gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})]})]})]})})}function wH({event:t,isOpen:e,onClose:n,onSuccess:r,onDelete:s}){var C,N,I,j,A,$,J,q,Z,V,L,W,ee,ie;const[i,o]=y.useState(!1),[a,c]=y.useState(!1),[d,h]=y.useState(null),[f,p]=y.useState(),[v,_]=y.useState(),[g,S]=y.useState([]),[w,x]=y.useState({});y.useEffect(()=>{t&&(x({title:t.title,description:t.description,fullDescription:t.fullDescription,time:t.time,duration:t.duration,location:t.location,address:t.address,price:{...t.price},capacity:t.capacity,eventbriteUrl:t.eventbriteUrl,series:t.series?{...t.series}:void 0,isRecurring:t.isRecurring,imageUrl:t.imageUrl,status:t.status}),p(t.date instanceof Date?t.date:new Date(t.date)),_(t.endDate?t.endDate instanceof Date?t.endDate:new Date(t.endDate):void 0),S(t.recurringDates||[]))},[t]);const b=(z,ce)=>{if(z.startsWith("price.groupDealDetails.")){const we=z.split(".")[2];x(be=>{var re;return{...be,price:{...be.price,groupDealDetails:{...(re=be.price)==null?void 0:re.groupDealDetails,[we]:ce}}}})}else if(z.startsWith("price.")){const we=z.split(".")[1];x(be=>({...be,price:{...be.price,[we]:ce}}))}else if(z.startsWith("series.")){const we=z.split(".")[1];x(be=>({...be,series:{...be.series,[we]:ce}}))}else x(we=>({...we,[z]:ce}))},P=()=>{S(z=>[...z,{date:"",theme:"",description:""}])},D=(z,ce,we)=>{S(be=>be.map((re,De)=>De===z?{...re,[ce]:we}:re))},O=z=>{S(ce=>ce.filter((we,be)=>be!==z))},k=async z=>{z.preventDefault(),o(!0),h(null);try{if(!f)throw new Error("Please select an event date");const ce={...w,date:f,endDate:v,recurringDates:w.isRecurring&&g.length>0?g:void 0},we=await vc.update(t.id,ce);r(we),n()}catch(ce){console.error("Failed to update event:",ce),h(ce instanceof Error?ce.message:"Failed to update event")}finally{o(!1)}},T=async()=>{if(!(!s||!window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`))){c(!0),h(null);try{await vc.delete(t.id),s(t.id),n()}catch(ce){console.error("Failed to delete event:",ce),h(ce instanceof Error?ce.message:"Failed to delete event")}finally{c(!1)}}};return l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Pa,{children:[l.jsx(Aa,{children:"Edit Event"}),l.jsxs(If,{children:['Update the details for "',t.title,'".']})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:d})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(K,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:w.title||"",onChange:z=>b("title",z.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"status",children:"Status"}),l.jsxs(Nh,{value:w.status,onValueChange:z=>b("status",z),children:[l.jsx(_c,{children:l.jsx(Rh,{})}),l.jsxs(Ec,{children:[l.jsx(vt,{value:"draft",children:"Draft"}),l.jsx(vt,{value:"presale",children:"PreSale"}),l.jsx(vt,{value:"published",children:"Published"}),l.jsx(vt,{value:"sold_out",children:"Sold Out"}),l.jsx(vt,{value:"cancelled",children:"Canceled"}),l.jsx(vt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"description",children:"Short Description *"}),l.jsx(Kn,{id:"description",value:w.description||"",onChange:z=>b("description",z.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Kn,{id:"fullDescription",value:w.fullDescription||"",onChange:z=>b("fullDescription",z.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Event Date *"}),l.jsxs(CP,{children:[l.jsx(IP,{asChild:!0,children:l.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(en,{className:"mr-2 h-4 w-4"}),f?Ew(f,"PPP"):"Pick a date"]})}),l.jsx(Cw,{className:"w-auto p-0",children:l.jsx(pP,{mode:"single",selected:f,onSelect:p,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:w.time||"",onChange:z=>b("time",z.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:w.duration||"",onChange:z=>b("duration",z.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:w.location||"",onChange:z=>b("location",z.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:w.address||"",onChange:z=>b("address",z.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Ticketing"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Price Type"}),l.jsxs(Nh,{value:(C=w.price)==null?void 0:C.type,onValueChange:z=>b("price.type",z),children:[l.jsx(_c,{children:l.jsx(Rh,{})}),l.jsxs(Ec,{children:[l.jsx(vt,{value:"free",children:"Free"}),l.jsx(vt,{value:"paid",children:"Paid"}),l.jsx(vt,{value:"group_deal",children:"Group Ticket Deal"})]})]})]}),((N=w.price)==null?void 0:N.type)==="paid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((I=w.price)==null?void 0:I.amount)||"",onChange:z=>b("price.amount",parseFloat(z.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((j=w.price)==null?void 0:j.advancePrice)||"",onChange:z=>b("price.advancePrice",parseFloat(z.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",w.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:w.eventbriteUrl||"",onChange:z=>b("eventbriteUrl",z.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:w.status==="published"})]})]}),((A=w.price)==null?void 0:A.type)==="group_deal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"minimumPeople",children:"Minimum People *"}),l.jsx(le,{id:"minimumPeople",type:"number",value:((J=($=w.price)==null?void 0:$.groupDealDetails)==null?void 0:J.minimumPeople)||"",onChange:z=>b("price.groupDealDetails.minimumPeople",parseInt(z.target.value)||void 0),placeholder:"4",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"pricePerPerson",children:"Group Price Per Person"}),l.jsx(le,{id:"pricePerPerson",type:"number",step:"0.01",value:((Z=(q=w.price)==null?void 0:q.groupDealDetails)==null?void 0:Z.pricePerPerson)||"",onChange:z=>b("price.groupDealDetails.pricePerPerson",parseFloat(z.target.value)||void 0),placeholder:"15.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"normalPricePerPerson",children:"Normal Price Per Person"}),l.jsx(le,{id:"normalPricePerPerson",type:"number",step:"0.01",value:((L=(V=w.price)==null?void 0:V.groupDealDetails)==null?void 0:L.normalPricePerPerson)||"",onChange:z=>b("price.groupDealDetails.normalPricePerPerson",parseFloat(z.target.value)||void 0),placeholder:"20.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",w.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:w.eventbriteUrl||"",onChange:z=>b("eventbriteUrl",z.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:w.status==="published"})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:((W=w.price)==null?void 0:W.description)||"",onChange:z=>b("price.description",z.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:w.capacity||"",onChange:z=>b("capacity",parseInt(z.target.value)||void 0),placeholder:"Maximum attendees"})]})]})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((ee=w.series)==null?void 0:ee.name)||"",onChange:z=>b("series.name",z.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Kn,{id:"seriesDescription",value:((ie=w.series)==null?void 0:ie.description)||"",onChange:z=>b("series.description",z.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(xw,{id:"isRecurring",checked:w.isRecurring||!1,onCheckedChange:z=>{b("isRecurring",z),z||S([])}}),l.jsx(K,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),w.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(K,{children:"Recurring Dates & Themes"}),l.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:P,children:[l.jsx(Jv,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),g.map((z,ce)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:z.date,onChange:we=>D(ce,"date",we.target.value)}),l.jsx(le,{placeholder:"Theme",value:z.theme,onChange:we=>D(ce,"theme",we.target.value)}),l.jsx(le,{placeholder:"Description",value:z.description,onChange:we=>D(ce,"description",we.target.value)})]}),l.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(ce),children:l.jsx(da,{className:"h-4 w-4"})})]},ce))]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:w.imageUrl||"",onChange:z=>b("imageUrl",z.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsx("div",{children:s&&l.jsxs(se,{type:"button",variant:"destructive",onClick:T,disabled:a,children:[a&&l.jsx(Gi,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(U5,{className:"mr-2 h-4 w-4"}),"Delete Event"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:i,children:[i&&l.jsx(Gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})]})]})]})]})})}const kP=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:X("w-full caption-bottom text-sm",t),...e})}));kP.displayName="Table";const NP=y.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:X("[&_tr]:border-b",t),...e}));NP.displayName="TableHeader";const RP=y.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:X("[&_tr:last-child]:border-0",t),...e}));RP.displayName="TableBody";const xH=y.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xH.displayName="TableFooter";const Jg=y.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Jg.displayName="TableRow";const bo=y.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));bo.displayName="TableHead";const So=y.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:X("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));So.displayName="TableCell";const _H=y.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:X("mt-4 text-sm text-muted-foreground",t),...e}));_H.displayName="TableCaption";function EH({event:t,isOpen:e,onClose:n}){const[r,s]=y.useState([]),[i,o]=y.useState({veryInterested:0,somewhatInterested:0,presaleRequests:0,totalRegistrations:0}),[a,c]=y.useState(0),[d,h]=y.useState(!1),[f,p]=y.useState(null),[v,_]=y.useState(0);y.useEffect(()=>{e&&g()},[e,t.id]),y.useEffect(()=>{const I=localStorage.getItem(`manual-sales-${t.id}`);I&&c(parseInt(I,10)||0)},[t.id]);const g=async()=>{h(!0),p(null);try{console.log("Loading registrations for event:",t.id);const I=await ek.getByEvent(t.id);console.log("Raw API Response:",JSON.stringify(I,null,2)),console.log("Response type:",typeof I),console.log("Response keys:",I?Object.keys(I):"none");let j=[];if(Array.isArray(I))console.log("Response is array, length:",I.length),j=I;else if(I&&Array.isArray(I.data))console.log("Response.data is array, length:",I.data.length),j=I.data;else if(I&&I.registrations&&Array.isArray(I.registrations))console.log("Response.registrations is array, length:",I.registrations.length),j=I.registrations;else if(I&&I.registrations&&typeof I.registrations=="object"){console.log("Converting registrations object to array"),console.log("Registrations object:",JSON.stringify(I.registrations,null,2)),console.log("Object keys:",Object.keys(I.registrations));const $=Object.values(I.registrations);console.log("Object values:",JSON.stringify($,null,2)),console.log("Values length:",$.length);const J=[];$.forEach(q=>{Array.isArray(q)&&J.push(...q)}),console.log("Flattened registrations:",J.length),j=J}else console.warn("No registrations found or unexpected format"),console.log("Response structure check:"),console.log("- response exists:",!!I),console.log("- response.registrations exists:",!!(I&&I.registrations)),console.log("- response.registrations type:",I&&I.registrations?typeof I.registrations:"none"),j=[];console.log("Final registration data:",j),console.log("Final data length:",j.length),console.log("Sample registration:",j[0]),console.log("All registrations mapped:",j.map(($,J)=>({index:J,id:$==null?void 0:$.id,name:$==null?void 0:$.name,type:$==null?void 0:$.registrationType}))),s(j);const A={veryInterested:j.filter($=>$.registrationType==="rsvp_yes").length,somewhatInterested:j.filter($=>$.registrationType==="rsvp_maybe").length,presaleRequests:j.filter($=>$.registrationType==="presale_request").length,totalRegistrations:j.length};o(A)}catch(I){console.error("Failed to load registrations:",I);let j="Failed to load registration data";I instanceof Error&&(j=I.message);const A=`${j} (Event: ${t.id}, Attempt: ${v+1})`;p(A),console.error("Registration Load Error Details:",{eventId:t.id,eventTitle:t.title,error:I,retryCount:v,timestamp:new Date().toISOString()})}finally{h(!1)}},S=()=>{_(I=>I+1),g()},w=I=>{const j=parseInt(I,10)||0;c(j),localStorage.setItem(`manual-sales-${t.id}`,j.toString())},x=()=>t.capacity?Math.max(0,t.capacity-i.totalRegistrations-a):null,b=()=>{const I=x();return I===null?null:I===0?{color:"destructive",text:"Full"}:I<=5?{color:"secondary",text:"Almost Full"}:{color:"default",text:"Available"}},P=I=>{switch(I){case"rsvp_yes":return l.jsx($5,{className:"h-4 w-4 text-green-600"});case"rsvp_maybe":return l.jsx(B5,{className:"h-4 w-4 text-yellow-600"});case"presale_request":return l.jsx(M5,{className:"h-4 w-4 text-blue-600"});default:return l.jsx(zr,{className:"h-4 w-4 text-gray-400"})}},D=I=>{switch(I){case"rsvp_yes":return"Very Interested";case"rsvp_maybe":return"Somewhat Interested";case"presale_request":return"Presale Request";default:return I}},O=I=>{switch(I){case"rsvp_yes":return l.jsx(yn,{className:"bg-green-600",children:"Very Interested"});case"rsvp_maybe":return l.jsx(yn,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Somewhat Interested"});case"presale_request":return l.jsx(yn,{variant:"outline",className:"border-blue-500 text-blue-700",children:"Presale"});default:return l.jsx(yn,{variant:"outline",children:I})}},k=()=>{if(r.length===0)return;const j=[["Name","Email","Phone","Type","Notes","Registered At"],...r.map(q=>[q.name||"",q.email||"",q.phone||"",D(q.registrationType),q.notes||"",new Date(q.registeredAt||q.createdAt||"").toLocaleDateString()])].map(q=>q.map(Z=>`"${Z}"`).join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),$=URL.createObjectURL(A),J=document.createElement("a");J.href=$,J.download=`${t.title}-registrations.csv`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL($)},T=I=>{try{return new Date(I).toLocaleString()}catch{return I}},C=x(),N=b();return l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Pa,{children:l.jsxs(Aa,{className:"flex items-center gap-2",children:[l.jsx(zr,{className:"h-5 w-5"}),"Registration Management - ",t.title]})}),l.jsxs("div",{className:"space-y-6",children:[d&&l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(Gi,{className:"h-6 w-6 animate-spin mr-2"}),"Loading registrations..."]}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(k5,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Unable to Load Registration Data"}),l.jsx("p",{className:"text-sm text-red-700 mb-3",children:f}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(se,{size:"sm",variant:"outline",onClick:S,disabled:d,className:"text-red-700 border-red-300 hover:bg-red-100",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Gi,{className:"h-4 w-4 animate-spin mr-2"}),"Retrying..."]}):"Retry"}),l.jsx(se,{size:"sm",variant:"ghost",onClick:()=>p(null),className:"text-red-700 hover:bg-red-100",children:"Dismiss"})]})]})]})}),f&&l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:[l.jsx(en,{className:"h-5 w-5"}),"Event Information"]})}),l.jsx(xe,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Event:"})," ",t.title]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),t.capacity&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Capacity:"})," ",t.capacity]})]})})]}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(YI,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Very Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.veryInterested})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(en,{className:"h-8 w-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Somewhat Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.somewhatInterested})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Qr,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presale Requests"}),l.jsx("p",{className:"text-2xl font-bold",children:i.presaleRequests})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(zr,{className:"h-8 w-8 text-gray-700"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:i.totalRegistrations})]})]})})]}),t.capacity&&l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsx(Qe,{className:"text-lg",children:"Capacity Management"})}),l.jsx(xe,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Event Capacity"}),l.jsx("p",{className:"text-xl font-semibold",children:t.capacity})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"manual-sales",className:"text-sm text-gray-600",children:"External Sales"}),l.jsx(le,{id:"manual-sales",type:"number",min:"0",value:a,onChange:I=>w(I.target.value),className:"mt-1",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(K,{className:"text-sm text-gray-600",children:"App Registrations"}),l.jsx("p",{className:"text-xl font-semibold",children:i.totalRegistrations})]}),l.jsxs("div",{children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Remaining"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[N&&l.jsx(yn,{variant:N.color,children:N.text}),l.jsx("span",{className:"text-xl font-semibold",children:C!==null?C:"Unlimited"})]})]})]})})]}),l.jsxs(ye,{children:[l.jsx(Ye,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Qe,{className:"text-lg",children:"Registration Details"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:g,children:[l.jsx(R5,{className:"h-4 w-4 mr-2"}),"Refresh"]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:k,disabled:r.length===0,children:[l.jsx(A5,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),l.jsx(xe,{children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(zr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-500 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Registrations will appear here when people express interest or request presale info."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(kP,{children:[l.jsx(NP,{children:l.jsxs(Jg,{children:[l.jsx(bo,{children:"Type"}),l.jsx(bo,{children:"Name"}),l.jsx(bo,{children:"Contact"}),l.jsx(bo,{children:"Registered"}),l.jsx(bo,{children:"Notes"})]})}),l.jsx(RP,{children:r.map((I,j)=>(console.log(`Rendering registration ${j}:`,I),console.log(`- ID: ${I==null?void 0:I.id}`),console.log(`- Name: ${I==null?void 0:I.name}`),console.log(`- Email: ${I==null?void 0:I.email}`),console.log(`- Type: ${I==null?void 0:I.registrationType}`),console.log(`- Created: ${I==null?void 0:I.createdAt}`),l.jsxs(Jg,{children:[l.jsx(So,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[P((I==null?void 0:I.registrationType)||""),O((I==null?void 0:I.registrationType)||"")]})}),l.jsx(So,{className:"font-medium",children:(I==null?void 0:I.name)||"No name provided"}),l.jsx(So,{children:l.jsxs("div",{className:"space-y-1",children:[(I==null?void 0:I.email)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Qr,{className:"h-3 w-3"}),l.jsx("a",{href:`mailto:${I.email}`,className:"text-blue-600 hover:underline",children:I.email})]}),(I==null?void 0:I.phone)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(V5,{className:"h-3 w-3"}),l.jsx("a",{href:`tel:${I.phone}`,className:"text-blue-600 hover:underline",children:I.phone})]}),!(I!=null&&I.email)&&!(I!=null&&I.phone)&&l.jsx("span",{className:"text-gray-400 text-sm",children:"No contact info"})]})}),l.jsx(So,{className:"text-sm text-gray-600",children:T((I==null?void 0:I.registeredAt)||(I==null?void 0:I.createdAt)||"")}),l.jsx(So,{children:I!=null&&I.notes?l.jsxs("div",{className:"flex items-start gap-1",children:[l.jsx(j5,{className:"h-3 w-3 mt-0.5 text-gray-400"}),l.jsx("span",{className:"text-sm",children:I.notes})]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"No notes"})})]},(I==null?void 0:I.id)||`reg-${j}`)))})]})})})]})]})]})]})})}function bH(){const{orgSlug:t}=IT(),e=CT(),{organization:n,events:r,loading:s,error:i,updateOrganization:o,refreshEvents:a}=rk(t||""),[c,d]=y.useState(!1),[h,f]=y.useState(null),[p,v]=y.useState(!1),[_,g]=y.useState(null),[S,w]=y.useState(null),x=Eh(),b=ZI("adminControls"),P=async C=>{d(!0),f(null);try{await o(C),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(N){console.error("Failed to save organization:",N);const I=N instanceof Error?N.message:"Unknown error occurred";f(`❌ Failed to save changes: ${I}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{d(!1)}},D=C=>{f("✅ Event created successfully!"),setTimeout(()=>f(null),4e3),a()},O=C=>{f("✅ Event updated successfully!"),setTimeout(()=>f(null),4e3),a(),g(null)},k=C=>{f("✅ Event deleted successfully!"),setTimeout(()=>f(null),4e3),a(),g(null)},T=C=>{w(C)};return b?s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Gi,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),l.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[l.jsx(T5,{className:"h-4 w-4"}),"Back to Public Page"]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(yn,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),x]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[l.jsx(D5,{className:"h-4 w-4"}),"Preview"]})]})]}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg border ${h.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:l.jsx("p",{className:"text-sm font-medium",children:h})})]})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(tB,{defaultValue:"organization",className:"flex gap-8",orientation:"vertical",children:[l.jsx("div",{className:"w-64 flex-shrink-0",children:l.jsxs(IN,{className:"flex flex-col h-fit w-full",children:[l.jsxs(xl,{value:"organization",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(QI,{className:"h-4 w-4"}),"Organization"]}),l.jsxs(xl,{value:"events",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(en,{className:"h-4 w-4"}),"Events"]}),l.jsxs(xl,{value:"subscribers",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Qr,{className:"h-4 w-4"}),"Subscribers"]}),l.jsxs(xl,{value:"analytics",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Yp,{className:"h-4 w-4"}),"Analytics"]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(_l,{value:"organization",children:l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Organization Settings"}),l.jsx(qt,{children:"Update your organization's information, branding, and contact details."})]}),l.jsx(xe,{children:l.jsx(nB,{organization:n,onSave:P,onCancel:()=>{},isFullPage:!0,isSaving:c})})]})}),l.jsx(_l,{value:"events",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),l.jsxs(se,{className:"flex items-center gap-2",onClick:()=>v(!0),children:[l.jsx(Jv,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?l.jsx(ye,{children:l.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(en,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),l.jsx(se,{onClick:()=>v(!0),children:"Create Your First Event"})]})}):l.jsx("div",{className:"space-y-4",children:r.map(C=>l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsx("div",{className:"flex flex-col",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(yn,{variant:C.status==="published"?"default":C.status==="presale"?"secondary":C.status==="sold_out"||C.status==="cancelled"?"destructive":C.status==="completed"?"outline":"secondary",children:C.status==="presale"?"PreSale":C.status==="sold_out"?"Sold Out":C.status==="cancelled"?"Canceled":C.status==="completed"?"Complete":C.status==="published"?"Published":C.status==="draft"?"Draft":C.status}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:C.title})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:C.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(en,{className:"h-4 w-4 mr-2"}),C.date instanceof Date?C.date.toLocaleDateString():new Date(C.date).toLocaleDateString()," • ",C.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ul,{className:"h-4 w-4 mr-2"}),C.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",C.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>g(C),children:[l.jsx(XI,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>T(C),children:[l.jsx(zr,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]})})})},C.id))})]})}),l.jsx(_l,{value:"subscribers",children:l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Subscriber Management"}),l.jsx(qt,{children:"Manage email subscribers and send newsletters to your audience."})]}),l.jsx(xe,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Qr,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Event Updates"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(zr,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Newsletter"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Yp,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Subscribers"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{className:"text-lg",children:"Send Email Blast"}),l.jsx(qt,{children:"Send newsletters or updates to your subscribers"})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Qr,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email Management"}),l.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Email blast functionality will be available soon. Subscribers from event registrations will appear here automatically."}),l.jsx(se,{disabled:!0,variant:"outline",children:"Compose Email"})]})})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{className:"text-lg",children:"Subscriber List"}),l.jsx(qt,{children:"View and manage your email subscribers"})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(zr,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Subscribers Yet"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Subscribers will appear here when people opt-in during event registration."})]})})]})]})})]})}),l.jsx(_l,{value:"analytics",children:l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsx(Qe,{children:"Analytics"}),l.jsx(qt,{children:"Track your organization's performance and audience engagement."})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Yp,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Analytics and insights will be available soon."})]})})]})})]})]})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(vH,{organization:n,isOpen:p,onClose:()=>v(!1),onSuccess:D}),_&&l.jsx(wH,{event:_,isOpen:!!_,onClose:()=>g(null),onSuccess:O,onDelete:k}),S&&l.jsx(EH,{event:S,isOpen:!!S,onClose:()=>w(null)})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",x," environment."]}),l.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})})}function SH(){const{user:t}=jU(),[e,n]=y.useState([]),[r,s]=y.useState(!1),[i,o]=y.useState([]),a=async()=>{s(!0);try{const v=await wl("voxxy-presents-nyc");if(v){o(g=>[...g,`✅ Voxxy Presents NYC found: ${v.name}`]);const _=await Vg(v.id);n(_),o(g=>[...g,`✅ Found ${_.length} events for Voxxy Presents NYC`])}else o(_=>[..._,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(v){o(_=>[..._,`❌ Error testing Voxxy Presents NYC: ${v}`])}s(!1)},c=async()=>{s(!0);try{const v=await H5({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",background:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(_=>[..._,`✅ Organization created with ID: ${v}`])}catch(v){o(_=>[..._,`❌ Error creating organization: ${v}`])}s(!1)},d=async()=>{s(!0);try{const v=await wl("brooklyn-hearts-club");return v?(o(_=>[..._,`✅ Organization found: ${v.name}`]),v):(o(_=>[..._,"❌ Organization not found"]),null)}catch(v){return o(_=>[..._,`❌ Error retrieving organization: ${v}`]),null}finally{s(!1)}},h=async()=>{s(!0);try{const v=await wl("brooklyn-hearts-club");if(!v){o(g=>[...g,"❌ Need to create organization first"]),s(!1);return}const _=await G5({organizationId:v.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(g=>[...g,`✅ Event created with ID: ${_}`])}catch(v){o(_=>[..._,`❌ Error creating event: ${v}`])}s(!1)},f=async()=>{s(!0);try{const v=await wl("brooklyn-hearts-club");if(!v){o(g=>[...g,"❌ Need to create organization first"]),s(!1);return}const _=await Vg(v.id);n(_),o(g=>[...g,`✅ Found ${_.length} events`])}catch(v){o(_=>[..._,`❌ Error retrieving events: ${v}`])}s(!1)},p=()=>{o([]),n([])};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(yn,{variant:"secondary",children:t.email}),l.jsx(se,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsxs(Qe,{className:"flex items-center gap-2",children:[l.jsx(gE,{className:"h-5 w-5"}),"Database Testing"]}),l.jsx(qt,{children:"Test Firebase Firestore connection and basic operations"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(se,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),l.jsx(se,{onClick:c,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),l.jsx(se,{onClick:d,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),l.jsx(se,{onClick:h,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),l.jsx(se,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),l.jsx(se,{onClick:p,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?l.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((v,_)=>l.jsx("div",{className:"mb-1",children:v},_))})]})]}),l.jsxs(ye,{children:[l.jsxs(Ye,{children:[l.jsxs(Qe,{className:"flex items-center gap-2",children:[l.jsx(en,{className:"h-5 w-5"}),"Events"]}),l.jsx(qt,{children:"Events retrieved from database"})]}),l.jsx(xe,{children:e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):l.jsx("div",{className:"space-y-4",children:e.map(v=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:v.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsx("span",{children:v.date.toLocaleDateString()}),l.jsx("span",{children:v.time})]})]}),l.jsx(yn,{variant:v.status==="published"?"default":"secondary",children:v.status})]})},v.id))})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(zr,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(en,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(gE,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(QI,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function TH(){return l.jsx(OU,{children:l.jsx($j,{children:l.jsxs(vj,{children:[l.jsx(hl,{path:"/",element:l.jsx(z5,{})}),l.jsx(hl,{path:"/:orgSlug",element:l.jsx(X$,{})}),l.jsx(hl,{path:"/:orgSlug/admin",element:l.jsx(bH,{})}),l.jsx(hl,{path:"/admin",element:l.jsx(SH,{})})]})})})}gT(document.getElementById("root")).render(l.jsx(y.StrictMode,{children:l.jsx(TH,{})}));
