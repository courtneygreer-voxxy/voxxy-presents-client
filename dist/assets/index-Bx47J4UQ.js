var tA=Object.defineProperty;var nA=(t,e,n)=>e in t?tA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mx=(t,e,n)=>nA(t,typeof e!="symbol"?e+"":e,n);function rA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sb={exports:{}},Dh={},ib={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),sA=Symbol.for("react.portal"),iA=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),lA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),dA=Symbol.for("react.suspense"),hA=Symbol.for("react.memo"),fA=Symbol.for("react.lazy"),gx=Symbol.iterator;function pA(t){return t===null||typeof t!="object"?null:(t=gx&&t[gx]||t["@@iterator"],typeof t=="function"?t:null)}var ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ab=Object.assign,lb={};function va(t,e,n){this.props=t,this.context=e,this.refs=lb,this.updater=n||ob}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cb(){}cb.prototype=va.prototype;function ty(t,e,n){this.props=t,this.context=e,this.refs=lb,this.updater=n||ob}var ny=ty.prototype=new cb;ny.constructor=ty;ab(ny,va.prototype);ny.isPureReactComponent=!0;var yx=Array.isArray,ub=Object.prototype.hasOwnProperty,ry={current:null},db={key:!0,ref:!0,__self:!0,__source:!0};function hb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ub.call(e,r)&&!db.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tc,type:t,key:i,ref:o,props:s,_owner:ry.current}}function mA(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function gA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vx=/\/+/g;function lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gA(""+t.key):e.toString(36)}function td(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tc:case sA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+lp(o,0):r,yx(s)?(n="",t!=null&&(n=t.replace(vx,"$&/")+"/"),td(s,e,n,"",function(d){return d})):s!=null&&(sy(s)&&(s=mA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+lp(i,a);o+=td(i,e,n,c,s)}else if(c=pA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+lp(i,a++),o+=td(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return td(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},nd={transition:null},vA={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:nd,ReactCurrentOwner:ry};function fb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!sy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=va;_e.Fragment=iA;_e.Profiler=aA;_e.PureComponent=ty;_e.StrictMode=oA;_e.Suspense=dA;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vA;_e.act=fb;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ab({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ry.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)ub.call(e,c)&&!db.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Tc,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:cA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lA,_context:t},t.Consumer=t};_e.createElement=hb;_e.createFactory=function(t){var e=hb.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:uA,render:t}};_e.isValidElement=sy;_e.lazy=function(t){return{$$typeof:fA,_payload:{_status:-1,_result:t},_init:yA}};_e.memo=function(t,e){return{$$typeof:hA,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=nd.transition;nd.transition={};try{t()}finally{nd.transition=e}};_e.unstable_act=fb;_e.useCallback=function(t,e){return nn.current.useCallback(t,e)};_e.useContext=function(t){return nn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return nn.current.useEffect(t,e)};_e.useId=function(){return nn.current.useId()};_e.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return nn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};_e.useRef=function(t){return nn.current.useRef(t)};_e.useState=function(t){return nn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return nn.current.useTransition()};_e.version="18.3.1";ib.exports=_e;var y=ib.exports;const K=rb(y),pb=rA({__proto__:null,default:K},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA=y,xA=Symbol.for("react.element"),_A=Symbol.for("react.fragment"),EA=Object.prototype.hasOwnProperty,bA=wA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TA={key:!0,ref:!0,__self:!0,__source:!0};function mb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EA.call(e,r)&&!TA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:xA,type:t,key:i,ref:o,props:s,_owner:bA.current}}Dh.Fragment=_A;Dh.jsx=mb;Dh.jsxs=mb;sb.exports=Dh;var l=sb.exports,gb={exports:{}},bn={},yb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var z=V.length;V.push(L);e:for(;0<z;){var J=z-1>>>1,se=V[J];if(0<s(se,L))V[J]=L,V[z]=se,z=J;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],z=V.pop();if(z!==L){V[0]=z;e:for(var J=0,se=V.length,B=se>>>1;J<B;){var ce=2*(J+1)-1,we=V[ce],be=ce+1,te=V[be];if(0>s(we,z))be<se&&0>s(te,we)?(V[J]=te,V[be]=z,J=be):(V[J]=we,V[ce]=z,J=ce);else if(be<se&&0>s(te,z))V[J]=te,V[be]=z,J=be;else break e}}return L}function s(V,L){var z=V.sortIndex-L.sortIndex;return z!==0?z:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,v=!1,E=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=V)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function R(V){if(g=!1,b(V),!E)if(n(c)!==null)E=!0,G(A);else{var L=n(d);L!==null&&oe(R,L.startTime-V)}}function A(V,L){E=!1,g&&(g=!1,w(S),S=-1),v=!0;var z=p;try{for(b(L),f=n(c);f!==null&&(!(f.expirationTime>L)||V&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var se=J(f.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(c)&&r(c),b(L)}else r(c);f=n(c)}if(f!==null)var B=!0;else{var ce=n(d);ce!==null&&oe(R,ce.startTime-L),B=!1}return B}finally{f=null,p=z,v=!1}}var O=!1,C=null,S=-1,N=5,P=-1;function I(){return!(t.unstable_now()-P<N)}function D(){if(C!==null){var V=t.unstable_now();P=V;var L=!0;try{L=C(!0,V)}finally{L?j():(O=!1,C=null)}}else O=!1}var j;if(typeof x=="function")j=function(){x(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=D,j=function(){ne.postMessage(null)}}else j=function(){_(D,0)};function G(V){C=V,O||(O=!0,j())}function oe(V,L){S=_(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,G(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var z=p;p=L;try{return V()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=p;p=V;try{return L()}finally{p=z}},t.unstable_scheduleCallback=function(V,L,z){var J=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,V){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=z+se,V={id:h++,callback:L,priorityLevel:V,startTime:z,expirationTime:se,sortIndex:-1},z>J?(V.sortIndex=z,e(d,V),n(c)===null&&V===n(d)&&(g?(w(S),S=-1):g=!0,oe(R,z-J))):(V.sortIndex=se,e(c,V),E||v||(E=!0,G(A))),V},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(V){var L=p;return function(){var z=p;p=L;try{return V.apply(this,arguments)}finally{p=z}}}})(vb);yb.exports=vb;var SA=yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=y,En=SA;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wb=new Set,zl={};function eo(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(zl[t]=e,t=0;t<e.length;t++)wb.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,IA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wx={},xx={};function NA(t){return pm.call(xx,t)?!0:pm.call(wx,t)?!1:IA.test(t)?xx[t]=!0:(wx[t]=!0,!1)}function kA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RA(t,e,n,r){if(e===null||typeof e>"u"||kA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function oy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,oy);Mt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,oy);Mt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,oy);Mt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ay(t,e,n,r){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RA(e,n,s,r)&&(n=null),r||s===null?NA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=CA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),No=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),xb=Symbol.for("react.provider"),_b=Symbol.for("react.context"),cy=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),Eb=Symbol.for("react.offscreen"),_x=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=_x&&t[_x]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,cp;function dl(t){if(cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cp=e&&e[1]||""}return`
`+cp+t}var up=!1;function dp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dl(t):""}function PA(t){switch(t.tag){case 5:return dl(t.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return t=dp(t.type,!1),t;case 11:return t=dp(t.type.render,!1),t;case 1:return t=dp(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case No:return"Portal";case mm:return"Profiler";case ly:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _b:return(t.displayName||"Context")+".Consumer";case xb:return(t._context.displayName||"Context")+".Provider";case cy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uy:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function AA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jA(t){var e=bb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tu(t){t._valueTracker||(t._valueTracker=jA(t))}function Tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ex(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sb(t,e){e=e.checked,e!=null&&ay(t,"checked",e,!1)}function xm(t,e){Sb(t,e);var n=qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_m(t,e.type,n):e.hasOwnProperty("defaultValue")&&_m(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _m(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hl=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(hl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qs(n)}}function Cb(t,e){var n=qs(e.value),r=qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Su,Nb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DA=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){DA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function kb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function Rb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var OA=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tm(t,e){if(e){if(OA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function dy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Im=null,Bo=null,zo=null;function Cx(t){if(t=Ic(t)){if(typeof Im!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Fh(e),Im(t.stateNode,t.type,e))}}function Pb(t){Bo?zo?zo.push(t):zo=[t]:Bo=t}function Ab(){if(Bo){var t=Bo,e=zo;if(zo=Bo=null,Cx(t),e)for(t=0;t<e.length;t++)Cx(e[t])}}function jb(t,e){return t(e)}function Db(){}var hp=!1;function Ob(t,e,n){if(hp)return t(e,n);hp=!0;try{return jb(t,e,n)}finally{hp=!1,(Bo!==null||zo!==null)&&(Db(),Ab())}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Nm=!1;if(Jr)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Nm=!1}function MA(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Il=!1,Pd=null,Ad=!1,km=null,LA={onError:function(t){Il=!0,Pd=t}};function VA(t,e,n,r,s,i,o,a,c){Il=!1,Pd=null,MA.apply(LA,arguments)}function FA(t,e,n,r,s,i,o,a,c){if(VA.apply(this,arguments),Il){if(Il){var d=Pd;Il=!1,Pd=null}else throw Error(W(198));Ad||(Ad=!0,km=d)}}function to(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ix(t){if(to(t)!==t)throw Error(W(188))}function UA(t){var e=t.alternate;if(!e){if(e=to(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ix(s),t;if(i===r)return Ix(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Lb(t){return t=UA(t),t!==null?Vb(t):null}function Vb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vb(t);if(e!==null)return e;t=t.sibling}return null}var Fb=En.unstable_scheduleCallback,Nx=En.unstable_cancelCallback,$A=En.unstable_shouldYield,BA=En.unstable_requestPaint,ct=En.unstable_now,zA=En.unstable_getCurrentPriorityLevel,hy=En.unstable_ImmediatePriority,Ub=En.unstable_UserBlockingPriority,jd=En.unstable_NormalPriority,WA=En.unstable_LowPriority,$b=En.unstable_IdlePriority,Oh=null,hr=null;function HA(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:KA,qA=Math.log,GA=Math.LN2;function KA(t){return t>>>=0,t===0?32:31-(qA(t)/GA|0)|0}var Cu=64,Iu=4194304;function fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fl(a):(i&=o,i!==0&&(r=fl(i)))}else o=n&~s,o!==0?r=fl(o):i!==0&&(r=fl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),s=1<<n,r|=t[n],e&=~s;return r}function YA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=YA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Rm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bb(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function XA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function fy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function zb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wb,py,Hb,qb,Gb,Pm=!1,Nu=[],js=null,Ds=null,Os=null,ql=new Map,Gl=new Map,Ts=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kx(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function el(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ic(e),e!==null&&py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZA(t,e,n,r,s){switch(e){case"focusin":return js=el(js,t,e,n,r,s),!0;case"dragenter":return Ds=el(Ds,t,e,n,r,s),!0;case"mouseover":return Os=el(Os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ql.set(i,el(ql.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gl.set(i,el(Gl.get(i)||null,t,e,n,r,s)),!0}return!1}function Kb(t){var e=Ni(t.target);if(e!==null){var n=to(e);if(n!==null){if(e=n.tag,e===13){if(e=Mb(n),e!==null){t.blockedOn=e,Gb(t.priority,function(){Hb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return e=Ic(n),e!==null&&py(e),t.blockedOn=n,!1;e.shift()}return!0}function Rx(t,e,n){rd(t)&&n.delete(e)}function e2(){Pm=!1,js!==null&&rd(js)&&(js=null),Ds!==null&&rd(Ds)&&(Ds=null),Os!==null&&rd(Os)&&(Os=null),ql.forEach(Rx),Gl.forEach(Rx)}function tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pm||(Pm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,e2)))}function Kl(t){function e(s){return tl(s,t)}if(0<Nu.length){tl(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&tl(js,t),Ds!==null&&tl(Ds,t),Os!==null&&tl(Os,t),ql.forEach(e),Gl.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)Kb(n),n.blockedOn===null&&Ts.shift()}var Wo=us.ReactCurrentBatchConfig,Od=!0;function t2(t,e,n,r){var s=Ue,i=Wo.transition;Wo.transition=null;try{Ue=1,my(t,e,n,r)}finally{Ue=s,Wo.transition=i}}function n2(t,e,n,r){var s=Ue,i=Wo.transition;Wo.transition=null;try{Ue=4,my(t,e,n,r)}finally{Ue=s,Wo.transition=i}}function my(t,e,n,r){if(Od){var s=Am(t,e,n,r);if(s===null)bp(t,e,r,Md,n),kx(t,r);else if(ZA(s,t,e,n,r))r.stopPropagation();else if(kx(t,r),e&4&&-1<JA.indexOf(t)){for(;s!==null;){var i=Ic(s);if(i!==null&&Wb(i),i=Am(t,e,n,r),i===null&&bp(t,e,r,Md,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bp(t,e,r,null,n)}}var Md=null;function Am(t,e,n,r){if(Md=null,t=dy(r),t=Ni(t),t!==null)if(e=to(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function Yb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zA()){case hy:return 1;case Ub:return 4;case jd:case WA:return 16;case $b:return 536870912;default:return 16}default:return 16}}var Rs=null,gy=null,sd=null;function Qb(){if(sd)return sd;var t,e=gy,n=e.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return sd=s.slice(t,1<r?1-r:void 0)}function id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function Px(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ku:Px,this.isPropagationStopped=Px,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yy=Tn(wa),Cc=st({},wa,{view:0,detail:0}),r2=Tn(Cc),pp,mp,nl,Mh=st({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(pp=t.screenX-nl.screenX,mp=t.screenY-nl.screenY):mp=pp=0,nl=t),pp)},movementY:function(t){return"movementY"in t?t.movementY:mp}}),Ax=Tn(Mh),s2=st({},Mh,{dataTransfer:0}),i2=Tn(s2),o2=st({},Cc,{relatedTarget:0}),gp=Tn(o2),a2=st({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),l2=Tn(a2),c2=st({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u2=Tn(c2),d2=st({},wa,{data:0}),jx=Tn(d2),h2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p2[t])?!!e[t]:!1}function vy(){return m2}var g2=st({},Cc,{key:function(t){if(t.key){var e=h2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vy,charCode:function(t){return t.type==="keypress"?id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y2=Tn(g2),v2=st({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=Tn(v2),w2=st({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vy}),x2=Tn(w2),_2=st({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),E2=Tn(_2),b2=st({},Mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T2=Tn(b2),S2=[9,13,27,32],wy=Jr&&"CompositionEvent"in window,Nl=null;Jr&&"documentMode"in document&&(Nl=document.documentMode);var C2=Jr&&"TextEvent"in window&&!Nl,Xb=Jr&&(!wy||Nl&&8<Nl&&11>=Nl),Ox=" ",Mx=!1;function Jb(t,e){switch(t){case"keyup":return S2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function I2(t,e){switch(t){case"compositionend":return Zb(e);case"keypress":return e.which!==32?null:(Mx=!0,Ox);case"textInput":return t=e.data,t===Ox&&Mx?null:t;default:return null}}function N2(t,e){if(Ro)return t==="compositionend"||!wy&&Jb(t,e)?(t=Qb(),sd=gy=Rs=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xb&&e.locale!=="ko"?null:e.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k2[t.type]:e==="textarea"}function eT(t,e,n,r){Pb(r),e=Ld(e,"onChange"),0<e.length&&(n=new yy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kl=null,Yl=null;function R2(t){dT(t,0)}function Lh(t){var e=jo(t);if(Tb(e))return t}function P2(t,e){if(t==="change")return e}var tT=!1;if(Jr){var yp;if(Jr){var vp="oninput"in document;if(!vp){var Vx=document.createElement("div");Vx.setAttribute("oninput","return;"),vp=typeof Vx.oninput=="function"}yp=vp}else yp=!1;tT=yp&&(!document.documentMode||9<document.documentMode)}function Fx(){kl&&(kl.detachEvent("onpropertychange",nT),Yl=kl=null)}function nT(t){if(t.propertyName==="value"&&Lh(Yl)){var e=[];eT(e,Yl,t,dy(t)),Ob(R2,e)}}function A2(t,e,n){t==="focusin"?(Fx(),kl=e,Yl=n,kl.attachEvent("onpropertychange",nT)):t==="focusout"&&Fx()}function j2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lh(Yl)}function D2(t,e){if(t==="click")return Lh(e)}function O2(t,e){if(t==="input"||t==="change")return Lh(e)}function M2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:M2;function Ql(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pm.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function Ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $x(t,e){var n=Ux(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ux(n)}}function rT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sT(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L2(t){var e=sT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rT(n.ownerDocument.documentElement,n)){if(r!==null&&xy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$x(n,i);var o=$x(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V2=Jr&&"documentMode"in document&&11>=document.documentMode,Po=null,jm=null,Rl=null,Dm=!1;function Bx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dm||Po==null||Po!==Rd(r)||(r=Po,"selectionStart"in r&&xy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Ql(Rl,r)||(Rl=r,r=Ld(jm,"onSelect"),0<r.length&&(e=new yy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Po)))}function Ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},wp={},iT={};Jr&&(iT=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Vh(t){if(wp[t])return wp[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iT)return wp[t]=e[n];return t}var oT=Vh("animationend"),aT=Vh("animationiteration"),lT=Vh("animationstart"),cT=Vh("transitionend"),uT=new Map,zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){uT.set(t,e),eo(e,[t])}for(var xp=0;xp<zx.length;xp++){var _p=zx[xp],F2=_p.toLowerCase(),U2=_p[0].toUpperCase()+_p.slice(1);oi(F2,"on"+U2)}oi(oT,"onAnimationEnd");oi(aT,"onAnimationIteration");oi(lT,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(cT,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Wx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FA(r,e,void 0,t),t.currentTarget=null}function dT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Wx(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Wx(s,a,d),i=c}}}if(Ad)throw t=km,Ad=!1,km=null,t}function Ke(t,e){var n=e[Fm];n===void 0&&(n=e[Fm]=new Set);var r=t+"__bubble";n.has(r)||(hT(e,t,2,!1),n.add(r))}function Ep(t,e,n){var r=0;e&&(r|=4),hT(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Xl(t){if(!t[Pu]){t[Pu]=!0,wb.forEach(function(n){n!=="selectionchange"&&($2.has(n)||Ep(n,!1,t),Ep(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,Ep("selectionchange",!1,e))}}function hT(t,e,n,r){switch(Yb(e)){case 1:var s=t2;break;case 4:s=n2;break;default:s=my}n=s.bind(null,e,n,t),s=void 0,!Nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ni(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ob(function(){var d=i,h=dy(n),f=[];e:{var p=uT.get(t);if(p!==void 0){var v=yy,E=t;switch(t){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":v=y2;break;case"focusin":E="focus",v=gp;break;case"focusout":E="blur",v=gp;break;case"beforeblur":case"afterblur":v=gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=i2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=x2;break;case oT:case aT:case lT:v=l2;break;case cT:v=E2;break;case"scroll":v=r2;break;case"wheel":v=T2;break;case"copy":case"cut":case"paste":v=u2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Dx}var g=(e&4)!==0,_=!g&&t==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,b;x!==null;){b=x;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,w!==null&&(R=Hl(x,w),R!=null&&g.push(Jl(x,R,b)))),_)break;x=x.return}0<g.length&&(p=new v(p,E,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Cm&&(E=n.relatedTarget||n.fromElement)&&(Ni(E)||E[Zr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=d,E=E?Ni(E):null,E!==null&&(_=to(E),E!==_||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=d),v!==E)){if(g=Ax,R="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=Dx,R="onPointerLeave",w="onPointerEnter",x="pointer"),_=v==null?p:jo(v),b=E==null?p:jo(E),p=new g(R,x+"leave",v,n,h),p.target=_,p.relatedTarget=b,R=null,Ni(h)===d&&(g=new g(w,x+"enter",E,n,h),g.target=b,g.relatedTarget=_,R=g),_=R,v&&E)t:{for(g=v,w=E,x=0,b=g;b;b=go(b))x++;for(b=0,R=w;R;R=go(R))b++;for(;0<x-b;)g=go(g),x--;for(;0<b-x;)w=go(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=go(g),w=go(w)}g=null}else g=null;v!==null&&Hx(f,p,v,g,!1),E!==null&&_!==null&&Hx(f,_,E,g,!0)}}e:{if(p=d?jo(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var A=P2;else if(Lx(p))if(tT)A=O2;else{A=j2;var O=A2}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=D2);if(A&&(A=A(t,d))){eT(f,A,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&_m(p,"number",p.value)}switch(O=d?jo(d):window,t){case"focusin":(Lx(O)||O.contentEditable==="true")&&(Po=O,jm=d,Rl=null);break;case"focusout":Rl=jm=Po=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,Bx(f,n,h);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":Bx(f,n,h)}var C;if(wy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ro?Jb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Xb&&n.locale!=="ko"&&(Ro||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ro&&(C=Qb()):(Rs=h,gy="value"in Rs?Rs.value:Rs.textContent,Ro=!0)),O=Ld(d,S),0<O.length&&(S=new jx(S,t,null,n,h),f.push({event:S,listeners:O}),C?S.data=C:(C=Zb(n),C!==null&&(S.data=C)))),(C=C2?I2(t,n):N2(t,n))&&(d=Ld(d,"onBeforeInput"),0<d.length&&(h=new jx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}dT(f,e)})}function Jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hl(t,n),i!=null&&r.unshift(Jl(t,i,s)),i=Hl(t,e),i!=null&&r.push(Jl(t,i,s))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Hl(n,i),c!=null&&o.unshift(Jl(n,c,a))):s||(c=Hl(n,i),c!=null&&o.push(Jl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function qx(t){return(typeof t=="string"?t:""+t).replace(B2,`
`).replace(z2,"")}function Au(t,e,n){if(e=qx(e),qx(t)!==e&&n)throw Error(W(425))}function Vd(){}var Om=null,Mm=null;function Lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(t){return Gx.resolve(null).then(t).catch(q2)}:Vm;function q2(t){setTimeout(function(){throw t})}function Tp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kl(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),lr="__reactFiber$"+xa,Zl="__reactProps$"+xa,Zr="__reactContainer$"+xa,Fm="__reactEvents$"+xa,G2="__reactListeners$"+xa,K2="__reactHandles$"+xa;function Ni(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kx(t);t!==null;){if(n=t[lr])return n;t=Kx(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[lr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Fh(t){return t[Zl]||null}var Um=[],Do=-1;function ai(t){return{current:t}}function Ye(t){0>Do||(t.current=Um[Do],Um[Do]=null,Do--)}function He(t,e){Do++,Um[Do]=t.current,t.current=e}var Gs={},Kt=ai(Gs),cn=ai(!1),Li=Gs;function na(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function Fd(){Ye(cn),Ye(Kt)}function Yx(t,e,n){if(Kt.current!==Gs)throw Error(W(168));He(Kt,e),He(cn,n)}function fT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,AA(t)||"Unknown",s));return st({},n,r)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,Li=Kt.current,He(Kt,t),He(cn,cn.current),!0}function Qx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=fT(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,Ye(cn),Ye(Kt),He(Kt,t)):Ye(cn),He(cn,n)}var Fr=null,Uh=!1,Sp=!1;function pT(t){Fr===null?Fr=[t]:Fr.push(t)}function Y2(t){Uh=!0,pT(t)}function li(){if(!Sp&&Fr!==null){Sp=!0;var t=0,e=Ue;try{var n=Fr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Uh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),Fb(hy,li),s}finally{Ue=e,Sp=!1}}return null}var Oo=[],Mo=0,$d=null,Bd=0,In=[],Nn=0,Vi=null,Ur=1,$r="";function Ti(t,e){Oo[Mo++]=Bd,Oo[Mo++]=$d,$d=t,Bd=e}function mT(t,e,n){In[Nn++]=Ur,In[Nn++]=$r,In[Nn++]=Vi,Vi=t;var r=Ur;t=$r;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-qn(e)+s|n<<s|r,$r=i+t}else Ur=1<<i|n<<s|r,$r=t}function _y(t){t.return!==null&&(Ti(t,1),mT(t,1,0))}function Ey(t){for(;t===$d;)$d=Oo[--Mo],Oo[Mo]=null,Bd=Oo[--Mo],Oo[Mo]=null;for(;t===Vi;)Vi=In[--Nn],In[Nn]=null,$r=In[--Nn],In[Nn]=null,Ur=In[--Nn],In[Nn]=null}var wn=null,yn=null,Qe=!1,zn=null;function gT(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,yn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vi!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,yn=null,!0):!1;default:return!1}}function $m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bm(t){if(Qe){var e=yn;if(e){var n=e;if(!Xx(t,e)){if($m(t))throw Error(W(418));e=Ms(n.nextSibling);var r=wn;e&&Xx(t,e)?gT(r,n):(t.flags=t.flags&-4097|2,Qe=!1,wn=t)}}else{if($m(t))throw Error(W(418));t.flags=t.flags&-4097|2,Qe=!1,wn=t}}}function Jx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function ju(t){if(t!==wn)return!1;if(!Qe)return Jx(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lm(t.type,t.memoizedProps)),e&&(e=yn)){if($m(t))throw yT(),Error(W(418));for(;e;)gT(t,e),e=Ms(e.nextSibling)}if(Jx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=wn?Ms(t.stateNode.nextSibling):null;return!0}function yT(){for(var t=yn;t;)t=Ms(t.nextSibling)}function ra(){yn=wn=null,Qe=!1}function by(t){zn===null?zn=[t]:zn.push(t)}var Q2=us.ReactCurrentBatchConfig;function rl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zx(t){var e=t._init;return e(t._payload)}function vT(t){function e(w,x){if(t){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Us(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,b,R){return x===null||x.tag!==6?(x=Ap(b,w.mode,R),x.return=w,x):(x=s(x,b),x.return=w,x)}function c(w,x,b,R){var A=b.type;return A===ko?h(w,x,b.props.children,R,b.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Es&&Zx(A)===x.type)?(R=s(x,b.props),R.ref=rl(w,x,b),R.return=w,R):(R=hd(b.type,b.key,b.props,null,w.mode,R),R.ref=rl(w,x,b),R.return=w,R)}function d(w,x,b,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=jp(b,w.mode,R),x.return=w,x):(x=s(x,b.children||[]),x.return=w,x)}function h(w,x,b,R,A){return x===null||x.tag!==7?(x=Di(b,w.mode,R,A),x.return=w,x):(x=s(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ap(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bu:return b=hd(x.type,x.key,x.props,null,w.mode,b),b.ref=rl(w,null,x),b.return=w,b;case No:return x=jp(x,w.mode,b),x.return=w,x;case Es:var R=x._init;return f(w,R(x._payload),b)}if(hl(x)||Ja(x))return x=Di(x,w.mode,b,null),x.return=w,x;Du(w,x)}return null}function p(w,x,b,R){var A=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:a(w,x,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:return b.key===A?c(w,x,b,R):null;case No:return b.key===A?d(w,x,b,R):null;case Es:return A=b._init,p(w,x,A(b._payload),R)}if(hl(b)||Ja(b))return A!==null?null:h(w,x,b,R,null);Du(w,b)}return null}function v(w,x,b,R,A){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(b)||null,a(x,w,""+R,A);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case bu:return w=w.get(R.key===null?b:R.key)||null,c(x,w,R,A);case No:return w=w.get(R.key===null?b:R.key)||null,d(x,w,R,A);case Es:var O=R._init;return v(w,x,b,O(R._payload),A)}if(hl(R)||Ja(R))return w=w.get(b)||null,h(x,w,R,A,null);Du(x,R)}return null}function E(w,x,b,R){for(var A=null,O=null,C=x,S=x=0,N=null;C!==null&&S<b.length;S++){C.index>S?(N=C,C=null):N=C.sibling;var P=p(w,C,b[S],R);if(P===null){C===null&&(C=N);break}t&&C&&P.alternate===null&&e(w,C),x=i(P,x,S),O===null?A=P:O.sibling=P,O=P,C=N}if(S===b.length)return n(w,C),Qe&&Ti(w,S),A;if(C===null){for(;S<b.length;S++)C=f(w,b[S],R),C!==null&&(x=i(C,x,S),O===null?A=C:O.sibling=C,O=C);return Qe&&Ti(w,S),A}for(C=r(w,C);S<b.length;S++)N=v(C,w,S,b[S],R),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),x=i(N,x,S),O===null?A=N:O.sibling=N,O=N);return t&&C.forEach(function(I){return e(w,I)}),Qe&&Ti(w,S),A}function g(w,x,b,R){var A=Ja(b);if(typeof A!="function")throw Error(W(150));if(b=A.call(b),b==null)throw Error(W(151));for(var O=A=null,C=x,S=x=0,N=null,P=b.next();C!==null&&!P.done;S++,P=b.next()){C.index>S?(N=C,C=null):N=C.sibling;var I=p(w,C,P.value,R);if(I===null){C===null&&(C=N);break}t&&C&&I.alternate===null&&e(w,C),x=i(I,x,S),O===null?A=I:O.sibling=I,O=I,C=N}if(P.done)return n(w,C),Qe&&Ti(w,S),A;if(C===null){for(;!P.done;S++,P=b.next())P=f(w,P.value,R),P!==null&&(x=i(P,x,S),O===null?A=P:O.sibling=P,O=P);return Qe&&Ti(w,S),A}for(C=r(w,C);!P.done;S++,P=b.next())P=v(C,w,S,P.value,R),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),x=i(P,x,S),O===null?A=P:O.sibling=P,O=P);return t&&C.forEach(function(D){return e(w,D)}),Qe&&Ti(w,S),A}function _(w,x,b,R){if(typeof b=="object"&&b!==null&&b.type===ko&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:e:{for(var A=b.key,O=x;O!==null;){if(O.key===A){if(A=b.type,A===ko){if(O.tag===7){n(w,O.sibling),x=s(O,b.props.children),x.return=w,w=x;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Es&&Zx(A)===O.type){n(w,O.sibling),x=s(O,b.props),x.ref=rl(w,O,b),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}b.type===ko?(x=Di(b.props.children,w.mode,R,b.key),x.return=w,w=x):(R=hd(b.type,b.key,b.props,null,w.mode,R),R.ref=rl(w,x,b),R.return=w,w=R)}return o(w);case No:e:{for(O=b.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=s(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=jp(b,w.mode,R),x.return=w,w=x}return o(w);case Es:return O=b._init,_(w,x,O(b._payload),R)}if(hl(b))return E(w,x,b,R);if(Ja(b))return g(w,x,b,R);Du(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,b),x.return=w,w=x):(n(w,x),x=Ap(b,w.mode,R),x.return=w,w=x),o(w)):n(w,x)}return _}var sa=vT(!0),wT=vT(!1),zd=ai(null),Wd=null,Lo=null,Ty=null;function Sy(){Ty=Lo=Wd=null}function Cy(t){var e=zd.current;Ye(zd),t._currentValue=e}function zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){Wd=t,Ty=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Ty!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Wd===null)throw Error(W(308));Lo=t,Wd.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var ki=null;function Iy(t){ki===null?ki=[t]:ki.push(t)}function xT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Iy(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function Ny(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _T(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Iy(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fy(t,n)}}function e0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,g=a;switch(p=e,v=n,g.tag){case 1:if(E=g.payload,typeof E=="function"){f=E.call(v,f,p);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=g.payload,p=typeof E=="function"?E.call(v,f,p):E,p==null)break e;f=st({},f,p);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ui|=o,t.lanes=o,t.memoizedState=f}}function t0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Nc={},fr=ai(Nc),ec=ai(Nc),tc=ai(Nc);function Ri(t){if(t===Nc)throw Error(W(174));return t}function ky(t,e){switch(He(tc,e),He(ec,t),He(fr,Nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bm(e,t)}Ye(fr),He(fr,e)}function ia(){Ye(fr),Ye(ec),Ye(tc)}function ET(t){Ri(tc.current);var e=Ri(fr.current),n=bm(e,t.type);e!==n&&(He(ec,t),He(fr,n))}function Ry(t){ec.current===t&&(Ye(fr),Ye(ec))}var tt=ai(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cp=[];function Py(){for(var t=0;t<Cp.length;t++)Cp[t]._workInProgressVersionPrimary=null;Cp.length=0}var ad=us.ReactCurrentDispatcher,Ip=us.ReactCurrentBatchConfig,Fi=0,nt=null,wt=null,St=null,Gd=!1,Pl=!1,nc=0,X2=0;function Ut(){throw Error(W(321))}function Ay(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function jy(t,e,n,r,s,i){if(Fi=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ad.current=t===null||t.memoizedState===null?tj:nj,t=n(r,s),Pl){i=0;do{if(Pl=!1,nc=0,25<=i)throw Error(W(301));i+=1,St=wt=null,e.updateQueue=null,ad.current=rj,t=n(r,s)}while(Pl)}if(ad.current=Kd,e=wt!==null&&wt.next!==null,Fi=0,St=wt=nt=null,Gd=!1,e)throw Error(W(300));return t}function Dy(){var t=nc!==0;return nc=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=t:St=St.next=t,St}function Mn(){if(wt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=St===null?nt.memoizedState:St.next;if(e!==null)St=e,wt=t;else{if(t===null)throw Error(W(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?nt.memoizedState=St=t:St=St.next=t}return St}function rc(t,e){return typeof e=="function"?e(t):e}function Np(t){var e=Mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Fi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,nt.lanes|=h,Ui|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Kn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,Ui|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bT(){}function TT(t,e){var n=nt,r=Mn(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Oy(IT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,sc(9,CT.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(W(349));Fi&30||ST(n,e,s)}return s}function ST(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CT(t,e,n,r){e.value=n,e.getSnapshot=r,NT(e)&&kT(t)}function IT(t,e,n){return n(function(){NT(e)&&kT(t)})}function NT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function kT(t){var e=es(t,1);e!==null&&Gn(e,t,1,-1)}function n0(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=ej.bind(null,nt,t),[e.memoizedState,t]}function sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function RT(){return Mn().memoizedState}function ld(t,e,n,r){var s=ir();nt.flags|=t,s.memoizedState=sc(1|e,n,void 0,r===void 0?null:r)}function $h(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&Ay(r,o.deps)){s.memoizedState=sc(e,n,i,r);return}}nt.flags|=t,s.memoizedState=sc(1|e,n,i,r)}function r0(t,e){return ld(8390656,8,t,e)}function Oy(t,e){return $h(2048,8,t,e)}function PT(t,e){return $h(4,2,t,e)}function AT(t,e){return $h(4,4,t,e)}function jT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DT(t,e,n){return n=n!=null?n.concat([t]):null,$h(4,4,jT.bind(null,e,t),n)}function My(){}function OT(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ay(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MT(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ay(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LT(t,e,n){return Fi&21?(Kn(n,e)||(n=Bb(),nt.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function J2(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Ip.transition;Ip.transition={};try{t(!1),e()}finally{Ue=n,Ip.transition=r}}function VT(){return Mn().memoizedState}function Z2(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FT(t))UT(e,n);else if(n=xT(t,e,n,r),n!==null){var s=tn();Gn(n,t,r,s),$T(n,e,r)}}function ej(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FT(t))UT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Kn(a,o)){var c=e.interleaved;c===null?(s.next=s,Iy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=xT(t,e,s,r),n!==null&&(s=tn(),Gn(n,t,r,s),$T(n,e,r))}}function FT(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function UT(t,e){Pl=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $T(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fy(t,n)}}var Kd={readContext:On,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},tj={readContext:On,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:r0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ld(4194308,4,jT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return ld(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Z2.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:n0,useDebugValue:My,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=n0(!1),e=t[0];return t=J2.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,s=ir();if(Qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ct===null)throw Error(W(349));Fi&30||ST(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,r0(IT.bind(null,r,i,t),[t]),r.flags|=2048,sc(9,CT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ir(),e=Ct.identifierPrefix;if(Qe){var n=$r,r=Ur;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nj={readContext:On,useCallback:OT,useContext:On,useEffect:Oy,useImperativeHandle:DT,useInsertionEffect:PT,useLayoutEffect:AT,useMemo:MT,useReducer:Np,useRef:RT,useState:function(){return Np(rc)},useDebugValue:My,useDeferredValue:function(t){var e=Mn();return LT(e,wt.memoizedState,t)},useTransition:function(){var t=Np(rc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:TT,useId:VT,unstable_isNewReconciler:!1},rj={readContext:On,useCallback:OT,useContext:On,useEffect:Oy,useImperativeHandle:DT,useInsertionEffect:PT,useLayoutEffect:AT,useMemo:MT,useReducer:kp,useRef:RT,useState:function(){return kp(rc)},useDebugValue:My,useDeferredValue:function(t){var e=Mn();return wt===null?e.memoizedState=t:LT(e,wt.memoizedState,t)},useTransition:function(){var t=kp(rc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:TT,useId:VT,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bh={isMounted:function(t){return(t=t._reactInternals)?to(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=Fs(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Gn(e,t,s,r),od(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=Fs(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Gn(e,t,s,r),od(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Fs(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Gn(e,t,r,n),od(e,t,r))}};function s0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(n,r)||!Ql(s,i):!0}function BT(t,e,n){var r=!1,s=Gs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=un(e)?Li:Kt.current,r=e.contextTypes,i=(r=r!=null)?na(t,s):Gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function i0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bh.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ny(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=un(e)?Li:Kt.current,s.context=na(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bh.enqueueReplaceState(s,s.state,null),Hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function oa(t,e){try{var n="",r=e;do n+=PA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sj=typeof WeakMap=="function"?WeakMap:Map;function zT(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qd||(Qd=!0,ng=r),qm(t,e)},n}function WT(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qm(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vj.bind(null,t,e,n),e.then(t,t))}function a0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var ij=us.ReactCurrentOwner,ln=!1;function Zt(t,e,n,r){e.child=t===null?wT(e,null,n,r):sa(e,t.child,n,r)}function c0(t,e,n,r,s){n=n.render;var i=e.ref;return Ho(e,s),r=jy(t,e,n,r,i,s),n=Dy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Qe&&n&&_y(e),e.flags|=1,Zt(t,e,r,s),e.child)}function u0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,HT(t,e,i,r,s)):(t=hd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ql,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function HT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ql(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ts(t,e,s)}return Gm(t,e,n,r,s)}function qT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Fo,pn),pn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Fo,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(Fo,pn),pn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He(Fo,pn),pn|=r;return Zt(t,e,s,n),e.child}function GT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,s){var i=un(n)?Li:Kt.current;return i=na(e,i),Ho(e,s),n=jy(t,e,n,r,i,s),r=Dy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Qe&&r&&_y(e),e.flags|=1,Zt(t,e,n,s),e.child)}function d0(t,e,n,r,s){if(un(n)){var i=!0;Ud(e)}else i=!1;if(Ho(e,s),e.stateNode===null)cd(t,e),BT(e,n,r),Hm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=un(n)?Li:Kt.current,d=na(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&i0(e,o,r,d),bs=!1;var p=e.memoizedState;o.state=p,Hd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||cn.current||bs?(typeof h=="function"&&(Wm(e,n,h,r),c=e.memoizedState),(a=bs||s0(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_T(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:$n(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=On(c):(c=un(n)?Li:Kt.current,c=na(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&i0(e,o,r,c),bs=!1,p=e.memoizedState,o.state=p,Hd(e,r,o,s);var E=e.memoizedState;a!==f||p!==E||cn.current||bs?(typeof v=="function"&&(Wm(e,n,v,r),E=e.memoizedState),(d=bs||s0(e,n,d,r,p,E,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Km(t,e,n,r,i,s)}function Km(t,e,n,r,s,i){GT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Qx(e,n,!1),ts(t,e,i);r=e.stateNode,ij.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sa(e,t.child,null,i),e.child=sa(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&Qx(e,n,!0),e.child}function KT(t){var e=t.stateNode;e.pendingContext?Yx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yx(t,e.context,!1),ky(t,e.containerInfo)}function h0(t,e,n,r,s){return ra(),by(s),e.flags|=256,Zt(t,e,n,r),e.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Qm(t){return{baseLanes:t,cachePool:null,transitions:null}}function YT(t,e,n){var r=e.pendingProps,s=tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(tt,s&1),t===null)return Bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hh(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qm(n),e.memoizedState=Ym,t):Ly(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Us(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Qm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ym,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ly(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ou(t,e,n,r){return r!==null&&by(r),sa(e,t.child,null,n),t=Ly(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rp(Error(W(422))),Ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hh({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&sa(e,t.child,null,o),e.child.memoizedState=Qm(o),e.memoizedState=Ym,i);if(!(e.mode&1))return Ou(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Rp(i,r,void 0),Ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),Gn(r,t,s,-1))}return zy(),r=Rp(Error(W(421))),Ou(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yn=Ms(s.nextSibling),wn=e,Qe=!0,zn=null,t!==null&&(In[Nn++]=Ur,In[Nn++]=$r,In[Nn++]=Vi,Ur=t.id,$r=t.overflow,Vi=e),e=Ly(e,r.children),e.flags|=4096,e)}function f0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zm(t.return,e,n)}function Pp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f0(t,n,e);else if(t.tag===19)f0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Pp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Pp(e,!0,n,null,i);break;case"together":Pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aj(t,e,n){switch(e.tag){case 3:KT(e),ra();break;case 5:ET(e);break;case 1:un(e.type)&&Ud(e);break;case 4:ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(zd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?YT(t,e,n):(He(tt,tt.current&1),t=ts(t,e,n),t!==null?t.sibling:null);He(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,qT(t,e,n)}return ts(t,e,n)}var XT,Xm,JT,ZT;XT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};JT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ri(fr.current);var i=null;switch(n){case"input":s=wm(t,s),r=wm(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Em(t,s),r=Em(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}Tm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(zl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(zl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ke("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ZT=function(t,e,n,r){n!==r&&(e.flags|=4)};function sl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lj(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return un(e.type)&&Fd(),$t(e),null;case 3:return r=e.stateNode,ia(),Ye(cn),Ye(Kt),Py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(ig(zn),zn=null))),Xm(t,e),$t(e),null;case 5:Ry(e);var s=Ri(tc.current);if(n=e.type,t!==null&&e.stateNode!=null)JT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return $t(e),null}if(t=Ri(fr.current),ju(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[Zl]=i,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<pl.length;s++)Ke(pl[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Ex(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":Tx(r,i),Ke("invalid",r)}Tm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",""+a]):zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Tu(r),bx(r,i,!0);break;case"textarea":Tu(r),Sx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[Zl]=r,XT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sm(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),s=r;break;case"iframe":case"object":case"embed":Ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<pl.length;s++)Ke(pl[s],t);s=r;break;case"source":Ke("error",t),s=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),s=r;break;case"details":Ke("toggle",t),s=r;break;case"input":Ex(t,r),s=wm(t,r),Ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Tx(t,r),s=Em(t,r),Ke("invalid",t);break;default:s=r}Tm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Rb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wl(t,c):typeof c=="number"&&Wl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",t):c!=null&&ay(t,i,c,o))}switch(n){case"input":Tu(t),bx(t,r,!1);break;case"textarea":Tu(t),Sx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$o(t,!!r.multiple,i,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)ZT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ri(tc.current),Ri(fr.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return $t(e),null;case 13:if(Ye(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&yn!==null&&e.mode&1&&!(e.flags&128))yT(),ra(),e.flags|=98560,i=!1;else if(i=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[lr]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),i=!1}else zn!==null&&(ig(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?xt===0&&(xt=3):zy())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return ia(),Xm(t,e),t===null&&Xl(e.stateNode.containerInfo),$t(e),null;case 10:return Cy(e.type._context),$t(e),null;case 17:return un(e.type)&&Fd(),$t(e),null;case 19:if(Ye(tt),i=e.memoizedState,i===null)return $t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)sl(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qd(t),o!==null){for(e.flags|=128,sl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(tt,tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>aa&&(e.flags|=128,r=!0,sl(i,!1),e.lanes=4194304)}else{if(!r)if(t=qd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return $t(e),null}else 2*ct()-i.renderingStartTime>aa&&n!==1073741824&&(e.flags|=128,r=!0,sl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=tt.current,He(tt,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function cj(t,e){switch(Ey(e),e.tag){case 1:return un(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ia(),Ye(cn),Ye(Kt),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ry(e),null;case 13:if(Ye(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(tt),null;case 4:return ia(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Mu=!1,Ht=!1,uj=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){at(t,e,r)}}var p0=!1;function dj(t,e){if(Om=Od,t=sT(),xy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},Od=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var g=E.memoizedProps,_=E.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:$n(e.type,g),_);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(R){at(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return E=p0,p0=!1,E}function Al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jm(e,n,i)}s=s.next}while(s!==r)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eS(t){var e=t.alternate;e!==null&&(t.alternate=null,eS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Zl],delete e[Fm],delete e[G2],delete e[K2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tS(t){return t.tag===5||t.tag===3||t.tag===4}function m0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Pt=null,Bn=!1;function gs(t,e,n){for(n=n.child;n!==null;)nS(t,e,n),n=n.sibling}function nS(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:Ht||Vo(n,e);case 6:var r=Pt,s=Bn;Pt=null,gs(t,e,n),Pt=r,Bn=s,Pt!==null&&(Bn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Bn?(t=Pt,n=n.stateNode,t.nodeType===8?Tp(t.parentNode,n):t.nodeType===1&&Tp(t,n),Kl(t)):Tp(Pt,n.stateNode));break;case 4:r=Pt,s=Bn,Pt=n.stateNode.containerInfo,Bn=!0,gs(t,e,n),Pt=r,Bn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jm(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!Ht&&(Vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,gs(t,e,n),Ht=r):gs(t,e,n);break;default:gs(t,e,n)}}function g0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uj),e.forEach(function(r){var s=xj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Bn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Bn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(Pt===null)throw Error(W(160));nS(i,o,s),Pt=null,Bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){at(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rS(e,t),e=e.sibling}function rS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),sr(t),r&4){try{Al(3,t,t.return),zh(3,t)}catch(g){at(t,t.return,g)}try{Al(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:Fn(e,t),sr(t),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(Fn(e,t),sr(t),r&512&&n!==null&&Vo(n,n.return),t.flags&32){var s=t.stateNode;try{Wl(s,"")}catch(g){at(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sb(s,i),Sm(a,o);var d=Sm(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Rb(s,f):h==="dangerouslySetInnerHTML"?Nb(s,f):h==="children"?Wl(s,f):ay(s,h,f,d)}switch(a){case"input":xm(s,i);break;case"textarea":Cb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?$o(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?$o(s,!!i.multiple,i.defaultValue,!0):$o(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zl]=i}catch(g){at(t,t.return,g)}}break;case 6:if(Fn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){at(t,t.return,g)}}break;case 3:if(Fn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kl(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:Fn(e,t),sr(t);break;case 13:Fn(e,t),sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uy=ct())),r&4&&g0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(d=Ht)||h,Fn(e,t),Ht=d):Fn(e,t),sr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(f=ee=h;ee!==null;){switch(p=ee,v=p.child,p.tag){case 0:case 11:case 14:case 15:Al(4,p,p.return);break;case 1:Vo(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:Vo(p,p.return);break;case 22:if(p.memoizedState!==null){v0(f);continue}}v!==null?(v.return=p,ee=v):v0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=kb("display",o))}catch(g){at(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){at(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),sr(t),r&4&&g0(t);break;case 21:break;default:Fn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wl(s,""),r.flags&=-33);var i=m0(t);tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=m0(t);eg(t,a,o);break;default:throw Error(W(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hj(t,e,n){ee=t,sS(t)}function sS(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ht;a=Mu;var d=Ht;if(Mu=o,(Ht=c)&&!d)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?w0(s):c!==null?(c.return=o,ee=c):w0(s);for(;i!==null;)ee=i,sS(i),i=i.sibling;ee=s,Mu=a,Ht=d}y0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):y0(t)}}function y0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&t0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ht||e.flags&512&&Zm(e)}catch(p){at(e,e.return,p)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function v0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function w0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(c){at(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{Zm(e)}catch(c){at(e,i,c)}break;case 5:var o=e.return;try{Zm(e)}catch(c){at(e,o,c)}}}catch(c){at(e,e.return,c)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var fj=Math.ceil,Yd=us.ReactCurrentDispatcher,Vy=us.ReactCurrentOwner,jn=us.ReactCurrentBatchConfig,Ae=0,Ct=null,dt=null,Dt=0,pn=0,Fo=ai(0),xt=0,ic=null,Ui=0,Wh=0,Fy=0,jl=null,on=null,Uy=0,aa=1/0,Vr=null,Qd=!1,ng=null,Vs=null,Lu=!1,Ps=null,Xd=0,Dl=0,rg=null,ud=-1,dd=0;function tn(){return Ae&6?ct():ud!==-1?ud:ud=ct()}function Fs(t){return t.mode&1?Ae&2&&Dt!==0?Dt&-Dt:Q2.transition!==null?(dd===0&&(dd=Bb()),dd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:Yb(t.type)),t):1}function Gn(t,e,n,r){if(50<Dl)throw Dl=0,rg=null,Error(W(185));Sc(t,n,r),(!(Ae&2)||t!==Ct)&&(t===Ct&&(!(Ae&2)&&(Wh|=n),xt===4&&Ss(t,Dt)),dn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(aa=ct()+500,Uh&&li()))}function dn(t,e){var n=t.callbackNode;QA(t,e);var r=Dd(t,t===Ct?Dt:0);if(r===0)n!==null&&Nx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nx(n),e===1)t.tag===0?Y2(x0.bind(null,t)):pT(x0.bind(null,t)),H2(function(){!(Ae&6)&&li()}),n=null;else{switch(zb(r)){case 1:n=hy;break;case 4:n=Ub;break;case 16:n=jd;break;case 536870912:n=$b;break;default:n=jd}n=hS(n,iS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iS(t,e){if(ud=-1,dd=0,Ae&6)throw Error(W(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=Dd(t,t===Ct?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jd(t,r);else{e=r;var s=Ae;Ae|=2;var i=aS();(Ct!==t||Dt!==e)&&(Vr=null,aa=ct()+500,ji(t,e));do try{gj();break}catch(a){oS(t,a)}while(!0);Sy(),Yd.current=i,Ae=s,dt!==null?e=0:(Ct=null,Dt=0,e=xt)}if(e!==0){if(e===2&&(s=Rm(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=ic,ji(t,0),Ss(t,r),dn(t,ct()),n;if(e===6)Ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!pj(s)&&(e=Jd(t,r),e===2&&(i=Rm(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=ic,ji(t,0),Ss(t,r),dn(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Si(t,on,Vr);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=Uy+500-ct(),10<e)){if(Dd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vm(Si.bind(null,t,on,Vr),e);break}Si(t,on,Vr);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fj(r/1960))-r,10<r){t.timeoutHandle=Vm(Si.bind(null,t,on,Vr),r);break}Si(t,on,Vr);break;case 5:Si(t,on,Vr);break;default:throw Error(W(329))}}}return dn(t,ct()),t.callbackNode===n?iS.bind(null,t):null}function sg(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=Jd(t,e),t!==2&&(e=on,on=n,e!==null&&ig(e)),t}function ig(t){on===null?on=t:on.push.apply(on,t)}function pj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~Fy,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function x0(t){if(Ae&6)throw Error(W(327));qo();var e=Dd(t,0);if(!(e&1))return dn(t,ct()),null;var n=Jd(t,e);if(t.tag!==0&&n===2){var r=Rm(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=ic,ji(t,0),Ss(t,e),dn(t,ct()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,on,Vr),dn(t,ct()),null}function $y(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(aa=ct()+500,Uh&&li())}}function $i(t){Ps!==null&&Ps.tag===0&&!(Ae&6)&&qo();var e=Ae;Ae|=1;var n=jn.transition,r=Ue;try{if(jn.transition=null,Ue=1,t)return t()}finally{Ue=r,jn.transition=n,Ae=e,!(Ae&6)&&li()}}function By(){pn=Fo.current,Ye(Fo)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W2(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:ia(),Ye(cn),Ye(Kt),Py();break;case 5:Ry(r);break;case 4:ia();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Cy(r.type._context);break;case 22:case 23:By()}n=n.return}if(Ct=t,dt=t=Us(t.current,null),Dt=pn=e,xt=0,ic=null,Fy=Wh=Ui=0,on=jl=null,ki!==null){for(e=0;e<ki.length;e++)if(n=ki[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ki=null}return t}function oS(t,e){do{var n=dt;try{if(Sy(),ad.current=Kd,Gd){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(Fi=0,St=wt=nt=null,Pl=!1,nc=0,Vy.current=null,n===null||n.return===null){xt=1,ic=e,dt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Dt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=a0(o);if(v!==null){v.flags&=-257,l0(v,o,a,i,e),v.mode&1&&o0(i,d,e),e=v,c=d;var E=e.updateQueue;if(E===null){var g=new Set;g.add(c),e.updateQueue=g}else E.add(c);break e}else{if(!(e&1)){o0(i,d,e),zy();break e}c=Error(W(426))}}else if(Qe&&a.mode&1){var _=a0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),l0(_,o,a,i,e),by(oa(c,a));break e}}i=c=oa(c,a),xt!==4&&(xt=2),jl===null?jl=[i]:jl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=zT(i,c,e);e0(i,w);break e;case 1:a=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vs===null||!Vs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=WT(i,a,e);e0(i,R);break e}}i=i.return}while(i!==null)}cS(n)}catch(A){e=A,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function aS(){var t=Yd.current;return Yd.current=Kd,t===null?Kd:t}function zy(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||!(Ui&268435455)&&!(Wh&268435455)||Ss(Ct,Dt)}function Jd(t,e){var n=Ae;Ae|=2;var r=aS();(Ct!==t||Dt!==e)&&(Vr=null,ji(t,e));do try{mj();break}catch(s){oS(t,s)}while(!0);if(Sy(),Ae=n,Yd.current=r,dt!==null)throw Error(W(261));return Ct=null,Dt=0,xt}function mj(){for(;dt!==null;)lS(dt)}function gj(){for(;dt!==null&&!$A();)lS(dt)}function lS(t){var e=dS(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?cS(t):dt=e,Vy.current=null}function cS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cj(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,dt=null;return}}else if(n=lj(n,e,pn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);xt===0&&(xt=5)}function Si(t,e,n){var r=Ue,s=jn.transition;try{jn.transition=null,Ue=1,yj(t,e,n,r)}finally{jn.transition=s,Ue=r}return null}function yj(t,e,n,r){do qo();while(Ps!==null);if(Ae&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XA(t,i),t===Ct&&(dt=Ct=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,hS(jd,function(){return qo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var o=Ue;Ue=1;var a=Ae;Ae|=4,Vy.current=null,dj(t,n),rS(n,t),L2(Mm),Od=!!Om,Mm=Om=null,t.current=n,hj(n),BA(),Ae=a,Ue=o,jn.transition=i}else t.current=n;if(Lu&&(Lu=!1,Ps=t,Xd=s),i=t.pendingLanes,i===0&&(Vs=null),HA(n.stateNode),dn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qd)throw Qd=!1,t=ng,ng=null,t;return Xd&1&&t.tag!==0&&qo(),i=t.pendingLanes,i&1?t===rg?Dl++:(Dl=0,rg=t):Dl=0,li(),null}function qo(){if(Ps!==null){var t=zb(Xd),e=jn.transition,n=Ue;try{if(jn.transition=null,Ue=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Xd=0,Ae&6)throw Error(W(331));var s=Ae;for(Ae|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ee=d;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:Al(8,h,i)}var f=h.child;if(f!==null)f.return=h,ee=f;else for(;ee!==null;){h=ee;var p=h.sibling,v=h.return;if(eS(h),h===d){ee=null;break}if(p!==null){p.return=v,ee=p;break}ee=v}}}var E=i.alternate;if(E!==null){var g=E.child;if(g!==null){E.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Al(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ee=w;break e}ee=i.return}}var x=t.current;for(ee=x;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=x;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zh(9,a)}}catch(A){at(a,a.return,A)}if(a===o){ee=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ee=R;break e}ee=a.return}}if(Ae=s,li(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Oh,t)}catch{}r=!0}return r}finally{Ue=n,jn.transition=e}}return!1}function _0(t,e,n){e=oa(n,e),e=zT(t,e,1),t=Ls(t,e,1),e=tn(),t!==null&&(Sc(t,1,e),dn(t,e))}function at(t,e,n){if(t.tag===3)_0(t,t,n);else for(;e!==null;){if(e.tag===3){_0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=oa(n,t),t=WT(e,t,1),e=Ls(e,t,1),t=tn(),e!==null&&(Sc(e,1,t),dn(e,t));break}}e=e.return}}function vj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Dt&n)===n&&(xt===4||xt===3&&(Dt&130023424)===Dt&&500>ct()-Uy?ji(t,0):Fy|=n),dn(t,e)}function uS(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=tn();t=es(t,e),t!==null&&(Sc(t,e,n),dn(t,n))}function wj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uS(t,n)}function xj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),uS(t,n)}var dS;dS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,aj(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Qe&&e.flags&1048576&&mT(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cd(t,e),t=e.pendingProps;var s=na(e,Kt.current);Ho(e,n),s=jy(null,e,r,t,s,n);var i=Dy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,Ud(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ny(e),s.updater=Bh,e.stateNode=s,s._reactInternals=e,Hm(e,r,t,n),e=Km(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&_y(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ej(r),t=$n(r,t),s){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=d0(null,e,r,t,n);break e;case 11:e=c0(null,e,r,t,n);break e;case 14:e=u0(null,e,r,$n(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),Gm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),d0(t,e,r,s,n);case 3:e:{if(KT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_T(t,e),Hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=oa(Error(W(423)),e),e=h0(t,e,r,n,s);break e}else if(r!==s){s=oa(Error(W(424)),e),e=h0(t,e,r,n,s);break e}else for(yn=Ms(e.stateNode.containerInfo.firstChild),wn=e,Qe=!0,zn=null,n=wT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===s){e=ts(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return ET(e),t===null&&Bm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lm(r,s)?o=null:i!==null&&Lm(r,i)&&(e.flags|=32),GT(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Bm(e),null;case 13:return YT(t,e,n);case 4:return ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sa(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),c0(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(zd,r._currentValue),r._currentValue=o,i!==null)if(Kn(i.value,o)){if(i.children===s.children&&!cn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Gr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),zm(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ho(e,n),s=On(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),u0(t,e,r,s,n);case 15:return HT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),cd(t,e),e.tag=1,un(r)?(t=!0,Ud(e)):t=!1,Ho(e,n),BT(e,r,s),Hm(e,r,s,n),Km(null,e,r,!0,t,n);case 19:return QT(t,e,n);case 22:return qT(t,e,n)}throw Error(W(156,e.tag))};function hS(t,e){return Fb(t,e)}function _j(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new _j(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ej(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cy)return 11;if(t===uy)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ko:return Di(n.children,s,i,e);case ly:o=8,s|=8;break;case mm:return t=An(12,n,e,s|2),t.elementType=mm,t.lanes=i,t;case gm:return t=An(13,n,e,s),t.elementType=gm,t.lanes=i,t;case ym:return t=An(19,n,e,s),t.elementType=ym,t.lanes=i,t;case Eb:return Hh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xb:o=10;break e;case _b:o=9;break e;case cy:o=11;break e;case uy:o=14;break e;case Es:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=An(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Hh(t,e,n,r){return t=An(22,t,r,e),t.elementType=Eb,t.lanes=n,t.stateNode={isHidden:!1},t}function Ap(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hy(t,e,n,r,s,i,o,a,c){return t=new bj(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=An(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ny(i),t}function Tj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fS(t){if(!t)return Gs;t=t._reactInternals;e:{if(to(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(un(n))return fT(t,n,e)}return e}function pS(t,e,n,r,s,i,o,a,c){return t=Hy(n,r,!0,t,s,i,o,a,c),t.context=fS(null),n=t.current,r=tn(),s=Fs(n),i=Gr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,Sc(t,s,r),dn(t,r),t}function qh(t,e,n,r){var s=e.current,i=tn(),o=Fs(s);return n=fS(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(Gn(t,s,o,i),od(t,s,o)),o}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function E0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qy(t,e){E0(t,e),(t=t.alternate)&&E0(t,e)}function Sj(){return null}var mS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gy(t){this._internalRoot=t}Gh.prototype.render=Gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));qh(t,e,null,null)};Gh.prototype.unmount=Gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){qh(null,t,null,null)}),e[Zr]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=qb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&Kb(t)}};function Ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b0(){}function Cj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Zd(o);i.call(d)}}var o=pS(e,r,t,0,null,!1,!1,"",b0);return t._reactRootContainer=o,t[Zr]=o.current,Xl(t.nodeType===8?t.parentNode:t),$i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Zd(c);a.call(d)}}var c=Hy(t,0,!1,null,null,!1,!1,"",b0);return t._reactRootContainer=c,t[Zr]=c.current,Xl(t.nodeType===8?t.parentNode:t),$i(function(){qh(e,c,n,r)}),c}function Yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Zd(o);a.call(c)}}qh(e,o,t,s)}else o=Cj(n,e,t,s,r);return Zd(o)}Wb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fl(e.pendingLanes);n!==0&&(fy(e,n|1),dn(e,ct()),!(Ae&6)&&(aa=ct()+500,li()))}break;case 13:$i(function(){var r=es(t,1);if(r!==null){var s=tn();Gn(r,t,1,s)}}),qy(t,1)}};py=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=tn();Gn(e,t,134217728,n)}qy(t,134217728)}};Hb=function(t){if(t.tag===13){var e=Fs(t),n=es(t,e);if(n!==null){var r=tn();Gn(n,t,e,r)}qy(t,e)}};qb=function(){return Ue};Gb=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Im=function(t,e,n){switch(e){case"input":if(xm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fh(r);if(!s)throw Error(W(90));Tb(r),xm(r,s)}}}break;case"textarea":Cb(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};jb=$y;Db=$i;var Ij={usingClientEntryPoint:!1,Events:[Ic,jo,Fh,Pb,Ab,$y]},il={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nj={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lb(t),t===null?null:t.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||Sj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Oh=Vu.inject(Nj),hr=Vu}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ij;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ky(e))throw Error(W(200));return Tj(t,e,null,n)};bn.createRoot=function(t,e){if(!Ky(t))throw Error(W(299));var n=!1,r="",s=mS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hy(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Xl(t.nodeType===8?t.parentNode:t),new Gy(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Lb(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return $i(t)};bn.hydrate=function(t,e,n){if(!Kh(e))throw Error(W(200));return Yh(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!Ky(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pS(e,null,t,1,n??null,s,!1,i,o),t[Zr]=e.current,Xl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gh(e)};bn.render=function(t,e,n){if(!Kh(e))throw Error(W(200));return Yh(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Kh(t))throw Error(W(40));return t._reactRootContainer?($i(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};bn.unstable_batchedUpdates=$y;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Yh(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function gS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gS)}catch(t){console.error(t)}}gS(),gb.exports=bn;var _a=gb.exports;const kj=rb(_a);var yS,T0=_a;yS=T0.createRoot,T0.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S0="popstate";function Rj(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return og("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:oc(s)}return Aj(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pj(){return Math.random().toString(36).substring(2,10)}function C0(t,e){return{usr:t.state,key:t.key,idx:e}}function og(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:n,key:e&&e.key||r||Pj()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Aj(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let _=h(),w=_==null?null:_-d;d=_,c&&c({action:a,location:g.location,delta:w})}function p(_,w){a="PUSH";let x=og(g.location,_,w);d=h()+1;let b=C0(x,d),R=g.createHref(x);try{o.pushState(b,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(R)}i&&c&&c({action:a,location:g.location,delta:1})}function v(_,w){a="REPLACE";let x=og(g.location,_,w);d=h();let b=C0(x,d),R=g.createHref(x);o.replaceState(b,"",R),i&&c&&c({action:a,location:g.location,delta:0})}function E(_){return jj(_)}let g={get action(){return a},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(S0,f),c=_,()=>{s.removeEventListener(S0,f),c=null}},createHref(_){return e(s,_)},createURL:E,encodeLocation(_){let w=E(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(_){return o.go(_)}};return g}function jj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function vS(t,e,n="/"){return Dj(t,e,n,!1)}function Dj(t,e,n,r){let s=typeof e=="string"?Ea(e):e,i=ns(s.pathname||"/",n);if(i==null)return null;let o=wS(t);Oj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=qj(i);a=Wj(o[c],d,r)}return a}function wS(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Kr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(rt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),wS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Bj(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of xS(i.path))s(i,o,c)}),e}function xS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xS(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Oj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Mj=/^:[\w-]+$/,Lj=3,Vj=2,Fj=1,Uj=10,$j=-2,I0=t=>t==="*";function Bj(t,e){let n=t.split("/"),r=n.length;return n.some(I0)&&(r+=$j),e&&(r+=Vj),n.filter(s=>!I0(s)).reduce((s,i)=>s+(Mj.test(i)?Lj:i===""?Fj:Uj),r)}function zj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Wj(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=eh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=eh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Kr([i,f.pathname]),pathnameBase:Qj(Kr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Kr([i,f.pathnameBase]))}return o}function eh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Hj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let E=a[p]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const v=a[p];return f&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Hj(t,e=!1,n=!0){Tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gj(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ea(t):t;return{pathname:n?n.startsWith("/")?n:Kj(n,e):e,search:Xj(r),hash:Jj(s)}}function Kj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _S(t){let e=Yj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ES(t,e,n,r=!1){let s;typeof t=="string"?s=Ea(t):(s={...t},rt(!s.pathname||!s.pathname.includes("?"),Dp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Dp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Dp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=Gj(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),Qj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bS=["POST","PUT","PATCH","DELETE"];new Set(bS);var eD=["GET",...bS];new Set(eD);var ba=y.createContext(null);ba.displayName="DataRouter";var Qh=y.createContext(null);Qh.displayName="DataRouterState";y.createContext(!1);var TS=y.createContext({isTransitioning:!1});TS.displayName="ViewTransition";var tD=y.createContext(new Map);tD.displayName="Fetchers";var nD=y.createContext(null);nD.displayName="Await";var Nr=y.createContext(null);Nr.displayName="Navigation";var kc=y.createContext(null);kc.displayName="Location";var kr=y.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Yy=y.createContext(null);Yy.displayName="RouteError";function rD(t,{relative:e}={}){rt(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Nr),{hash:s,pathname:i,search:o}=Pc(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Kr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Rc(){return y.useContext(kc)!=null}function no(){return rt(Rc(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(kc).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(t){y.useContext(Nr).static||y.useLayoutEffect(t)}function IS(){let{isDataRoute:t}=y.useContext(kr);return t?yD():sD()}function sD(){rt(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(ba),{basename:e,navigator:n}=y.useContext(Nr),{matches:r}=y.useContext(kr),{pathname:s}=no(),i=JSON.stringify(_S(r)),o=y.useRef(!1);return CS(()=>{o.current=!0}),y.useCallback((c,d={})=>{if(Tr(o.current,SS),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=ES(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}y.createContext(null);function iD(){let{matches:t}=y.useContext(kr),e=t[t.length-1];return e?e.params:{}}function Pc(t,{relative:e}={}){let{matches:n}=y.useContext(kr),{pathname:r}=no(),s=JSON.stringify(_S(n));return y.useMemo(()=>ES(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function oD(t,e){return NS(t,e)}function NS(t,e,n,r){var w;rt(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Nr),{matches:i}=y.useContext(kr),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";kS(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=no(),p;if(e){let x=typeof e=="string"?Ea(e):e;rt(d==="/"||((w=x.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let v=p.pathname||"/",E=v;if(d!=="/"){let x=d.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=vS(t,{pathname:E});Tr(h||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Tr(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=dD(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Kr([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Kr([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?y.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function aD(){let t=gD(),e=Zj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var lD=y.createElement(aD,null),cD=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?y.createElement(kr.Provider,{value:this.props.routeContext},y.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uD({routeContext:t,match:e,children:n}){let r=y.useContext(ba);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(kr.Provider,{value:t},n)}function dD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);rt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,v=null,E=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||lD,o&&(a<0&&h===0?(kS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,E=null):a===h&&(p=!0,E=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),_=()=>{let w;return f?w=v:p?w=E:d.route.Component?w=y.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,y.createElement(uD,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(cD,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}function Qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hD(t){let e=y.useContext(ba);return rt(e,Qy(t)),e}function fD(t){let e=y.useContext(Qh);return rt(e,Qy(t)),e}function pD(t){let e=y.useContext(kr);return rt(e,Qy(t)),e}function Xy(t){let e=pD(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mD(){return Xy("useRouteId")}function gD(){var r;let t=y.useContext(Yy),e=fD("useRouteError"),n=Xy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function yD(){let{router:t}=hD("useNavigate"),e=Xy("useNavigate"),n=y.useRef(!1);return CS(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{Tr(n.current,SS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var N0={};function kS(t,e,n){!e&&!N0[t]&&(N0[t]=!0,Tr(!1,n))}y.memo(vD);function vD({routes:t,future:e,state:n}){return NS(t,void 0,n,e)}function _o(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){rt(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ea(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,v=y.useMemo(()=>{let E=ns(c,o);return E==null?null:{location:{pathname:E,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return Tr(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(Nr.Provider,{value:a},y.createElement(kc.Provider,{children:e,value:v}))}function xD({children:t,location:e}){return oD(ag(t),e)}function ag(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,ag(r.props.children,i));return}rt(r.type===_o,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,i)),n.push(o)}),n}var fd="get",pd="application/x-www-form-urlencoded";function Xh(t){return t!=null&&typeof t.tagName=="string"}function _D(t){return Xh(t)&&t.tagName.toLowerCase()==="button"}function ED(t){return Xh(t)&&t.tagName.toLowerCase()==="form"}function bD(t){return Xh(t)&&t.tagName.toLowerCase()==="input"}function TD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SD(t,e){return t.button===0&&(!e||e==="_self")&&!TD(t)}var Fu=null;function CD(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var ID=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Op(t){return t!=null&&!ID.has(t)?(Tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function ND(t,e){let n,r,s,i,o;if(ED(t)){let a=t.getAttribute("action");r=a?ns(a,e):null,n=t.getAttribute("method")||fd,s=Op(t.getAttribute("enctype"))||pd,i=new FormData(t)}else if(_D(t)||bD(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?ns(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||fd,s=Op(t.getAttribute("formenctype"))||Op(a.getAttribute("enctype"))||pd,i=new FormData(a,t),!CD()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Xh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fd,r=null,s=pd,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ns(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function RD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AD(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await RD(i,n);return o.links?o.links():[]}return[]}));return MD(r.flat(1).filter(PD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function k0(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function jD(t,e,{includeHydrateFallback:n}={}){return DD(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function DD(t){return[...new Set(t)]}function OD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function MD(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(OD(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function RS(){let t=y.useContext(ba);return Jy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LD(){let t=y.useContext(Qh);return Jy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zy=y.createContext(void 0);Zy.displayName="FrameworkContext";function PS(){let t=y.useContext(Zy);return Jy(t,"You must render this element inside a <HydratedRouter> element"),t}function VD(t,e){let n=y.useContext(Zy),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=w=>{w.forEach(x=>{o(x.isIntersecting)})},_=new IntersectionObserver(g,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[t]),y.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let v=()=>{s(!0)},E=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ol(a,v),onBlur:ol(c,E),onMouseEnter:ol(d,v),onMouseLeave:ol(h,E),onTouchStart:ol(f,v)}]:[!1,p,{}]}function ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FD({page:t,...e}){let{router:n}=RS(),r=y.useMemo(()=>vS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement($D,{page:t,matches:r,...e}):null}function UD(t){let{manifest:e,routeModules:n}=PS(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return AD(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function $D({page:t,matches:e,...n}){let r=no(),{manifest:s,routeModules:i}=PS(),{basename:o}=RS(),{loaderData:a,matches:c}=LD(),d=y.useMemo(()=>k0(t,e,c,s,r,"data"),[t,e,c,s,r]),h=y.useMemo(()=>k0(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,g=!1;if(e.forEach(w=>{var b;let x=s.routes[w.route.id];!x||!x.hasLoader||(!d.some(R=>R.route.id===w.route.id)&&w.route.id in a&&((b=i[w.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?g=!0:E.add(w.route.id))}),E.size===0)return[];let _=kD(t,o,"data");return g&&E.size>0&&_.searchParams.set("_routes",e.filter(w=>E.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[o,a,r,s,d,e,t,i]),p=y.useMemo(()=>jD(h,s),[h,s]),v=UD(h);return y.createElement(y.Fragment,null,f.map(E=>y.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),p.map(E=>y.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),v.map(({key:E,link:g})=>y.createElement("link",{key:E,...g})))}function BD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AS&&(window.__reactRouterVersion="7.7.1")}catch{}function zD({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=Rj({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(wD,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ac=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},v){let{basename:E}=y.useContext(Nr),g=typeof d=="string"&&jS.test(d),_,w=!1;if(typeof d=="string"&&g&&(_=d,AS))try{let N=new URL(window.location.href),P=d.startsWith("//")?new URL(N.protocol+d):new URL(d),I=ns(P.pathname,E);P.origin===N.origin&&I!=null?d=I+P.search+P.hash:w=!0}catch{Tr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=rD(d,{relative:s}),[b,R,A]=VD(r,p),O=GD(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function C(N){e&&e(N),N.defaultPrevented||O(N)}let S=y.createElement("a",{...p,...A,href:_||x,onClick:w||i?e:C,ref:BD(v,R),target:c,"data-discover":!g&&n==="render"?"true":void 0});return b&&!g?y.createElement(y.Fragment,null,S,y.createElement(FD,{page:x})):S});ac.displayName="Link";var WD=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},h){let f=Pc(o,{relative:d.relative}),p=no(),v=y.useContext(Qh),{navigator:E,basename:g}=y.useContext(Nr),_=v!=null&&JD(f)&&a===!0,w=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,x=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&g&&(b=ns(b,g)||b);const R=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let A=x===w||!s&&x.startsWith(w)&&x.charAt(R)==="/",O=b!=null&&(b===w||!s&&b.startsWith(w)&&b.charAt(w.length)==="/"),C={isActive:A,isPending:O,isTransitioning:_},S=A?e:void 0,N;typeof r=="function"?N=r(C):N=[r,A?"active":null,O?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(C):i;return y.createElement(ac,{...d,"aria-current":S,className:N,ref:h,style:P,to:o,viewTransition:a},typeof c=="function"?c(C):c)});WD.displayName="NavLink";var HD=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=fd,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},v)=>{let E=QD(),g=XD(a,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&jS.test(a),x=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let R=b.nativeEvent.submitter,A=(R==null?void 0:R.getAttribute("formmethod"))||o;E(R||b.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return y.createElement("form",{ref:v,method:_,action:g,onSubmit:r?c:x,...p,"data-discover":!w&&t==="render"?"true":void 0})});HD.displayName="Form";function qD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(t){let e=y.useContext(ba);return rt(e,qD(t)),e}function GD(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=IS(),c=no(),d=Pc(t,{relative:i});return y.useCallback(h=>{if(SD(h,e)){h.preventDefault();let f=n!==void 0?n:oc(c)===oc(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,r,e,t,s,i,o])}var KD=0,YD=()=>`__${String(++KD)}__`;function QD(){let{router:t}=DS("useSubmit"),{basename:e}=y.useContext(Nr),n=mD();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=ND(r,e);if(s.navigate===!1){let h=s.fetcherKey||YD();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function XD(t,{relative:e}={}){let{basename:n}=y.useContext(Nr),r=y.useContext(kr);rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Pc(t||".",{relative:e})},o=no();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Kr([n,i.pathname])),oc(i)}function JD(t,{relative:e}={}){let n=y.useContext(TS);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DS("useViewTransitionState"),s=Pc(t,{relative:e});if(!n.isTransitioning)return!1;let i=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eh(s.pathname,o)!=null||eh(s.pathname,i)!=null}const ZD=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new tO;const p=i<<2|a>>4;if(r.push(p),d!==64){const v=a<<4&240|d>>2;if(r.push(v),f!==64){const E=d<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nO=function(t){const e=OS(t);return MS.encodeByteArray(e,!0)},th=function(t){return nO(t).replace(/\./g,"")},LS=function(t){try{return MS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=()=>rO().__FIREBASE_DEFAULTS__,iO=()=>{if(typeof process>"u"||typeof R0>"u")return;const t=R0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LS(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return ZD()||sO()||iO()||oO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VS=t=>{var e,n;return(n=(e=Jh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aO=t=>{const e=VS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FS=()=>{var t;return(t=Jh())==null?void 0:t.config},US=t=>{var e;return(e=Jh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $S(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[th(JSON.stringify(n)),th(JSON.stringify(o)),""].join(".")}const Ol={};function uO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?t.emulator.push(e):t.prod.push(e);return t}function dO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let P0=!1;function BS(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Ol[t]===e||Ol[t]||P0)return;Ol[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=uO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{P0=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=dO(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(_,g);const R=d();c(x,w),b.append(x,E,_,R),document.body.appendChild(b)}i?(E.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function fO(){var e;const t=(e=Jh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yO(){return!fO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function vO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wO,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new er(s,a,r)}}function xO(t,e){return t.replace(_O,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _O=/\{\$([^}]+)}/g;function EO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(A0(i)&&A0(o)){if(!Ks(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bO(t,e){const n=new TO(t,e);return n.subscribe.bind(n)}class TO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Mp),s.error===void 0&&(s.error=Mp),s.complete===void 0&&(s.complete=Mp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=1e3,IO=2,NO=4*60*60*1e3,kO=.5;function j0(t,e=CO,n=IO){const r=e*Math.pow(n,t),s=Math.round(kO*r*(Math.random()-.5)*2);return Math.min(NO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AO(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PO(t){return t===Ci?void 0:t}function AO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const DO={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},OO=Se.INFO,MO={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},LO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=MO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=OO,this._logHandler=LO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const VO=(t,e)=>e.some(n=>t instanceof n);let D0,O0;function FO(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UO(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,lg=new WeakMap,GS=new WeakMap,Lp=new WeakMap,ev=new WeakMap;function $O(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function BO(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lg.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zO(t){cg=t(cg)}function WO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vp(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),$s(r)}:UO().includes(t)?function(...e){return t.apply(Vp(this),e),$s(qS.get(this))}:function(...e){return $s(t.apply(Vp(this),e))}}function HO(t){return typeof t=="function"?WO(t):(t instanceof IDBTransaction&&BO(t),VO(t,FO())?new Proxy(t,cg):t)}function $s(t){if(t instanceof IDBRequest)return $O(t);if(Lp.has(t))return Lp.get(t);const e=HO(t);return e!==t&&(Lp.set(t,e),ev.set(e,t)),e}const Vp=t=>ev.get(t);function KS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",c=>{r($s(o.result),c.oldVersion,c.newVersion,$s(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const qO=["get","getKey","getAll","getAllKeys","count"],GO=["put","add","delete","clear"],Fp=new Map;function M0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Fp.set(e,i),i}zO(t=>({...t,get:(e,n,r)=>M0(e,n)||t.get(e,n,r),has:(e,n)=>!!M0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",L0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Zh("@firebase/app"),QO="@firebase/app-compat",XO="@firebase/analytics-compat",JO="@firebase/analytics",ZO="@firebase/app-check-compat",eM="@firebase/app-check",tM="@firebase/auth",nM="@firebase/auth-compat",rM="@firebase/database",sM="@firebase/data-connect",iM="@firebase/database-compat",oM="@firebase/functions",aM="@firebase/functions-compat",lM="@firebase/installations",cM="@firebase/installations-compat",uM="@firebase/messaging",dM="@firebase/messaging-compat",hM="@firebase/performance",fM="@firebase/performance-compat",pM="@firebase/remote-config",mM="@firebase/remote-config-compat",gM="@firebase/storage",yM="@firebase/storage-compat",vM="@firebase/firestore",wM="@firebase/ai",xM="@firebase/firestore-compat",_M="firebase",EM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",bM={[ug]:"fire-core",[QO]:"fire-core-compat",[JO]:"fire-analytics",[XO]:"fire-analytics-compat",[eM]:"fire-app-check",[ZO]:"fire-app-check-compat",[tM]:"fire-auth",[nM]:"fire-auth-compat",[rM]:"fire-rtdb",[sM]:"fire-data-connect",[iM]:"fire-rtdb-compat",[oM]:"fire-fn",[aM]:"fire-fn-compat",[lM]:"fire-iid",[cM]:"fire-iid-compat",[uM]:"fire-fcm",[dM]:"fire-fcm-compat",[hM]:"fire-perf",[fM]:"fire-perf-compat",[pM]:"fire-rc",[mM]:"fire-rc-compat",[gM]:"fire-gcs",[yM]:"fire-gcs-compat",[vM]:"fire-fst",[xM]:"fire-fst-compat",[wM]:"fire-vertex","fire-js":"fire-js",[_M]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,TM=new Map,hg=new Map;function V0(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(hg.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of nh.values())V0(n,t);for(const n of TM.values())V0(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new ro("app","Firebase",SM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=EM;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=FS()),!n)throw Bs.create("no-options");const i=nh.get(s);if(i){if(Ks(n,i.options)&&Ks(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const o=new jO(s);for(const c of hg.values())o.addComponent(c);const a=new CM(n,r,o);return nh.set(s,a),a}function tv(t=dg){const e=nh.get(t);if(!e&&t===dg&&FS())return YS();if(!e)throw Bs.create("no-app",{appName:t});return e}function Dn(t,e,n){let r=bM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(o.join(" "));return}Sr(new Yn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebase-heartbeat-database",NM=1,lc="firebase-heartbeat-store";let Up=null;function QS(){return Up||(Up=KS(IM,NM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Up}async function kM(t){try{const n=(await QS()).transaction(lc),r=await n.objectStore(lc).get(XS(t));return await n.done,r}catch(e){if(e instanceof er)rs.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function F0(t,e){try{const r=(await QS()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,XS(t)),await r.done}catch(n){if(n instanceof er)rs.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1024,PM=30;class AM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=U0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>PM){const o=OM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U0(),{heartbeatsToSend:r,unsentEntries:s}=jM(this._heartbeatsCache.heartbeats),i=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rs.warn(n),""}}}function U0(){return new Date().toISOString().substring(0,10)}function jM(t,e=RM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),$0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $0(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function OM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){Sr(new Yn("platform-logger",e=>new KO(e),"PRIVATE")),Sr(new Yn("heartbeat",e=>new AM(e),"PRIVATE")),Dn(ug,L0,t),Dn(ug,L0,"esm2020"),Dn("fire-js","")}MM("");function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LM=JS,ZS=new ro("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Zh("@firebase/auth");function VM(t,...e){rh.logLevel<=Se.WARN&&rh.warn(`Auth (${Sa}): ${t}`,...e)}function md(t,...e){rh.logLevel<=Se.ERROR&&rh.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw nv(t,...e)}function pr(t,...e){return nv(t,...e)}function e1(t,e,n){const r={...LM(),[e]:n};return new ro("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t){return e1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZS.create(t,...e)}function ue(t,e,...n){if(!t)throw nv(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function ss(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function FM(){return B0()==="http:"||B0()==="https:"}function B0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||zS()||"connection"in navigator)?navigator.onLine:!0}function $M(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=hO()||mO()}get(){return UM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WM=new jc(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ui(t,e,n,r,s={}){return n1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ac({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return pO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(d.credentials="include"),t1.fetch()(await r1(t,t.config.apiHost,n,a),d)})}async function n1(t,e,n){t._canInitEmulator=!1;const r={...BM,...e};try{const s=new qM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw e1(t,h,d);Qn(t,h)}}catch(s){if(s instanceof er)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function Dc(t,e,n,r,s={}){const i=await ui(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function r1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?rv(t.config,s):`${t.config.apiScheme}://${s}`;return zM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function HM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),WM.get())})}}function Uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pr(t,e,r);return s.customData._tokenResponse=n,s}function z0(t){return t!==void 0&&t.enterprise!==void 0}class GM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KM(t,e){return ui(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(t,e){return ui(t,"POST","/v1/accounts:delete",e)}async function sh(t,e){return ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QM(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=sv(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ml($p(s.auth_time)),issuedAtTime:Ml($p(s.iat)),expirationTime:Ml($p(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const s=LS(n);return s?JSON.parse(s):(md("Failed to decode base64 JWT payload"),null)}catch(s){return md("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function W0(t){const e=sv(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&XM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){var f;const e=t.auth,n=await t.getIdToken(),r=await cc(t,sh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?s1(s.providerUserInfo):[],o=e4(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new pg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function ZM(t){const e=mt(t);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function s1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e){const n=await n1(t,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await r1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(c.credentials="include"),t1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n4(t,e){return ui(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=W0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await t4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Go;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new JM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QM(this,e)}reload(){return ZM(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await cc(this,YM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:E,stsTokenManager:g}=n;ue(f&&g,e,"internal-error");const _=Go.fromJSON(this.name,g);ue(typeof f=="string",e,"internal-error"),ys(r,e.name),ys(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof v=="boolean",e,"internal-error"),ys(i,e.name),ys(o,e.name),ys(a,e.name),ys(c,e.name),ys(d,e.name),ys(h,e.name);const w=new Wn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:d,lastLoginAt:h});return E&&Array.isArray(E)&&(w.providerData=E.map(x=>({...x}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Go;s.updateFromServerResponse(n);const i=new Wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ih(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?s1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Go;a.updateFromIdToken(r);const c=new Wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new pg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;function zr(t){ss(t instanceof Function,"Expected a class definition");let e=H0.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i1.type="NONE";const q0=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=gd(this.userKey,s.apiKey,i),this.fullPersistenceKey=gd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ko(zr(q0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||zr(q0);const o=gd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await sh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Wn._fromGetAccountInfoResponse(e,p,h)}else f=Wn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ko(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ko(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(h1(e))return"Webos";if(a1(e))return"Safari";if((e.includes("chrome/")||l1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o1(t=Yt()){return/firefox\//i.test(t)}function a1(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l1(t=Yt()){return/crios\//i.test(t)}function c1(t=Yt()){return/iemobile/i.test(t)}function u1(t=Yt()){return/android/i.test(t)}function d1(t=Yt()){return/blackberry/i.test(t)}function h1(t=Yt()){return/webos/i.test(t)}function iv(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r4(t=Yt()){var e;return iv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function s4(){return gO()&&document.documentMode===10}function f1(t=Yt()){return iv(t)||u1(t)||h1(t)||d1(t)||/windows phone/i.test(t)||c1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e=[]){let n;switch(t){case"Browser":n=G0(Yt());break;case"Worker":n=`${G0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e={}){return ui(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=6;class l4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??a4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K0(this),this.idTokenSubscription=new K0(this),this.beforeStateQueue=new i4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$M()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Yr(this));const n=e?mt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),n=new l4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&VM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function io(t){return mt(t)}class K0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bO(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u4(t){ef=t}function m1(t){return ef.loadJS(t)}function d4(){return ef.recaptchaEnterpriseScript}function h4(){return ef.gapiScript}function f4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class p4{constructor(){this.enterprise=new m4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class m4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const g4="recaptcha-enterprise",g1="NO_RECAPTCHA";class y4{constructor(e){this.type=g4,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{KM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new GM(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;z0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(g1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&z0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=d4();c.length!==0&&(c+=a),m1(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Y0(t,e,n,r=!1,s=!1){const i=new y4(t);let o;if(s)o=g1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Y0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Y0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){const n=so(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ks(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function w4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x4(t,e,n){const r=io(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=y1(e),{host:o,port:a}=_4(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Ks(d,r.config.emulator)&&Ks(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ta(o)?($S(`${i}//${o}${c}`),BS("Auth",!0)):E4()}function y1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _4(t){const e=y1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Q0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Q0(o)}}}function Q0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function b4(t,e){return ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return Dc(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return Dc(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function C4(t,e){return Dc(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends ov{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,n,"signInWithPassword",T4);case"emailLink":return S4(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,r,"signUpPassword",b4);case"emailLink":return C4(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Dc(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="http://localhost";class Bi extends ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Bi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:I4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k4(t){const e=ml(gl(t)).link,n=e?ml(gl(e)).deep_link_id:null,r=ml(gl(t)).deep_link_id;return(r?ml(gl(r)).link:null)||r||n||e||t}class av{constructor(e){const n=ml(gl(e)),r=n.apiKey??null,s=n.oobCode??null,i=N4(n.mode??null);ue(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k4(e);try{return new av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=av.parseLink(n);return ue(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends v1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Oc{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Oc{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Oc{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){return Dc(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wn._fromIdTokenResponse(e,r,s),o=X0(r);return new zi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=X0(r);return new zi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function X0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends er{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new oh(e,n,r,s)}}function w1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,i,e,r):i})}async function P4(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(Yr(r));const s="reauthenticate";try{const i=await cc(t,w1(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=sv(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),zi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,e,n=!1){if(Rn(t.app))return Promise.reject(Yr(t));const r="signIn",s=await w1(t,r,e),i=await zi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function j4(t,e){return x1(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D4(t,e,n){if(Rn(t.app))return Promise.reject(Yr(t));const r=io(t),o=await mg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_1(t),c}),a=await zi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function O4(t,e,n){return Rn(t.app)?Promise.reject(Yr(t)):j4(mt(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_1(t),r})}function M4(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function L4(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function V4(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function F4(t){return mt(t).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=1e3,$4=10;class b1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);s4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const B4=b1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T1.type="SESSION";const S1=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await z4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=lv("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function H4(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function q4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function K4(){return C1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",Y4=1,lh="firebaseLocalStorage",N1="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function Q4(){const t=indexedDB.deleteDatabase(I1);return new Mc(t).toPromise()}function gg(){const t=indexedDB.open(I1,Y4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lh,{keyPath:N1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await Q4(),e(await gg()))})})}async function J0(t,e,n){const r=nf(t,!0).put({[N1]:e,value:n});return new Mc(r).toPromise()}async function X4(t,e){const n=nf(t,!1).get(e),r=await new Mc(n).toPromise();return r===void 0?null:r.value}function Z0(t,e){const n=nf(t,!0).delete(e);return new Mc(n).toPromise()}const J4=800,Z4=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(K4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await q4(),!this.activeServiceWorker)return;this.sender=new W4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await J0(e,ah,"1"),await Z0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nf(s,!1).getAll();return new Mc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const eL=k1;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){return e?zr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nL(t){return x1(t.auth,new cv(t),t.bypassAuthState)}function rL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),A4(n,new cv(t),t.bypassAuthState)}async function sL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),P4(n,new cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return sL;case"reauthViaPopup":case"reauthViaRedirect":return rL;default:Qn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new jc(2e3,1e4);class Uo extends R1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iL.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="pendingRedirect",yd=new Map;class aL extends R1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const r=await lL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lL(t,e){const n=dL(e),r=uL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cL(t,e){yd.set(t._key(),e)}function uL(t){return zr(t._redirectPersistence)}function dL(t){return gd(oL,t.config.apiKey,t.name)}async function hL(t,e,n=!1){if(Rn(t.app))return Promise.reject(Yr(t));const r=io(t),s=tL(r,e),o=await new aL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=10*60*1e3;class pL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fL&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e={}){return ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vL=/^https?/;async function wL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gL(t);for(const n of e)try{if(xL(n))return}catch{}Qn(t,"unauthorized-domain")}function xL(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vL.test(n))return!1;if(yL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new jc(3e4,6e4);function t_(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EL(t){return new Promise((e,n)=>{var s,i,o;function r(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(pr(t,"network-request-failed"))},timeout:_L.get()})}if((i=(s=mr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=mr().gapi)!=null&&o.load)r();else{const a=f4("iframefcb");return mr()[a]=()=>{gapi.load?r():n(pr(t,"network-request-failed"))},m1(`${h4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vd=null,e})}let vd=null;function bL(t){return vd=vd||EL(t),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new jc(5e3,15e3),SL="__/auth/iframe",CL="emulator/auth/iframe",IL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rv(e,CL):`https://${t.config.authDomain}/${SL}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},s=NL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ac(r).slice(1)}`}async function RL(t){const e=await bL(t),n=mr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:kL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=pr(t,"network-request-failed"),a=mr().setTimeout(()=>{i(o)},TL.get());function c(){mr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AL=500,jL=600,DL="_blank",OL="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ML(t,e,n,r=AL,s=jL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...PL,width:r.toString(),height:s.toString(),top:i,left:o},d=Yt().toLowerCase();n&&(a=l1(d)?DL:n),o1(d)&&(e=e||OL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,E])=>`${p}${v}=${E},`,"");if(r4(d)&&a!=="_self")return LL(e||"",a),new n_(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new n_(f)}function LL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="__/auth/handler",FL="emulator/auth/handler",UL=encodeURIComponent("fac");async function r_(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:s};if(e instanceof v1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",EO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Oc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${UL}=${encodeURIComponent(c)}`:"";return`${$L(t)}?${Ac(a).slice(1)}${d}`}function $L({config:t}){return t.emulator?rv(t,FL):`https://${t.authDomain}/${VL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class BL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S1,this._completeRedirectFn=hL,this._overrideRedirectResult=cL}async _openPopup(e,n,r,s){var o;ss((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await r_(e,n,r,fg(),s);return ML(e,i,lv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await r_(e,n,r,fg(),s);return H4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RL(e),r=new pL(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Bp];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f1()||a1()||iv()}}const zL=BL;var s_="@firebase/auth",i_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qL(t){Sr(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(t)},d=new c4(r,s,i,c);return w4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new Yn("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new WL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(s_,i_,HL(t)),Dn(s_,i_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=5*60,KL=US("authIdTokenMaxAge")||GL;let o_=null;const YL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KL)return;const s=n==null?void 0:n.token;o_!==s&&(o_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function QL(t=tv()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v4(t,{popupRedirectResolver:zL,persistence:[eL,B4,S1]}),r=US("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=YL(i.toString());L4(n,o,()=>o(n.currentUser)),M4(n,a=>o(a))}}const s=VS("auth");return s&&x4(n,`http://${s}`),n}function XL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}u4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",XL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qL("Browser");var JL="firebase",ZL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(JL,ZL,"app");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,A1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function N(){}N.prototype=S.prototype,C.D=S.prototype,C.prototype=new N,C.prototype.constructor=C,C.C=function(P,I,D){for(var j=Array(arguments.length-2),H=2;H<arguments.length;H++)j[H-2]=arguments[H];return S.prototype[I].apply(P,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,N){N||(N=0);var P=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)P[I]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(I=0;16>I;++I)P[I]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=C.g[0],N=C.g[1],I=C.g[2];var D=C.g[3],j=S+(D^N&(I^D))+P[0]+3614090360&4294967295;S=N+(j<<7&4294967295|j>>>25),j=D+(I^S&(N^I))+P[1]+3905402710&4294967295,D=S+(j<<12&4294967295|j>>>20),j=I+(N^D&(S^N))+P[2]+606105819&4294967295,I=D+(j<<17&4294967295|j>>>15),j=N+(S^I&(D^S))+P[3]+3250441966&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(D^N&(I^D))+P[4]+4118548399&4294967295,S=N+(j<<7&4294967295|j>>>25),j=D+(I^S&(N^I))+P[5]+1200080426&4294967295,D=S+(j<<12&4294967295|j>>>20),j=I+(N^D&(S^N))+P[6]+2821735955&4294967295,I=D+(j<<17&4294967295|j>>>15),j=N+(S^I&(D^S))+P[7]+4249261313&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(D^N&(I^D))+P[8]+1770035416&4294967295,S=N+(j<<7&4294967295|j>>>25),j=D+(I^S&(N^I))+P[9]+2336552879&4294967295,D=S+(j<<12&4294967295|j>>>20),j=I+(N^D&(S^N))+P[10]+4294925233&4294967295,I=D+(j<<17&4294967295|j>>>15),j=N+(S^I&(D^S))+P[11]+2304563134&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(D^N&(I^D))+P[12]+1804603682&4294967295,S=N+(j<<7&4294967295|j>>>25),j=D+(I^S&(N^I))+P[13]+4254626195&4294967295,D=S+(j<<12&4294967295|j>>>20),j=I+(N^D&(S^N))+P[14]+2792965006&4294967295,I=D+(j<<17&4294967295|j>>>15),j=N+(S^I&(D^S))+P[15]+1236535329&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(I^D&(N^I))+P[1]+4129170786&4294967295,S=N+(j<<5&4294967295|j>>>27),j=D+(N^I&(S^N))+P[6]+3225465664&4294967295,D=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(D^S))+P[11]+643717713&4294967295,I=D+(j<<14&4294967295|j>>>18),j=N+(D^S&(I^D))+P[0]+3921069994&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(I^D&(N^I))+P[5]+3593408605&4294967295,S=N+(j<<5&4294967295|j>>>27),j=D+(N^I&(S^N))+P[10]+38016083&4294967295,D=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(D^S))+P[15]+3634488961&4294967295,I=D+(j<<14&4294967295|j>>>18),j=N+(D^S&(I^D))+P[4]+3889429448&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(I^D&(N^I))+P[9]+568446438&4294967295,S=N+(j<<5&4294967295|j>>>27),j=D+(N^I&(S^N))+P[14]+3275163606&4294967295,D=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(D^S))+P[3]+4107603335&4294967295,I=D+(j<<14&4294967295|j>>>18),j=N+(D^S&(I^D))+P[8]+1163531501&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(I^D&(N^I))+P[13]+2850285829&4294967295,S=N+(j<<5&4294967295|j>>>27),j=D+(N^I&(S^N))+P[2]+4243563512&4294967295,D=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(D^S))+P[7]+1735328473&4294967295,I=D+(j<<14&4294967295|j>>>18),j=N+(D^S&(I^D))+P[12]+2368359562&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(N^I^D)+P[5]+4294588738&4294967295,S=N+(j<<4&4294967295|j>>>28),j=D+(S^N^I)+P[8]+2272392833&4294967295,D=S+(j<<11&4294967295|j>>>21),j=I+(D^S^N)+P[11]+1839030562&4294967295,I=D+(j<<16&4294967295|j>>>16),j=N+(I^D^S)+P[14]+4259657740&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(N^I^D)+P[1]+2763975236&4294967295,S=N+(j<<4&4294967295|j>>>28),j=D+(S^N^I)+P[4]+1272893353&4294967295,D=S+(j<<11&4294967295|j>>>21),j=I+(D^S^N)+P[7]+4139469664&4294967295,I=D+(j<<16&4294967295|j>>>16),j=N+(I^D^S)+P[10]+3200236656&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(N^I^D)+P[13]+681279174&4294967295,S=N+(j<<4&4294967295|j>>>28),j=D+(S^N^I)+P[0]+3936430074&4294967295,D=S+(j<<11&4294967295|j>>>21),j=I+(D^S^N)+P[3]+3572445317&4294967295,I=D+(j<<16&4294967295|j>>>16),j=N+(I^D^S)+P[6]+76029189&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(N^I^D)+P[9]+3654602809&4294967295,S=N+(j<<4&4294967295|j>>>28),j=D+(S^N^I)+P[12]+3873151461&4294967295,D=S+(j<<11&4294967295|j>>>21),j=I+(D^S^N)+P[15]+530742520&4294967295,I=D+(j<<16&4294967295|j>>>16),j=N+(I^D^S)+P[2]+3299628645&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(I^(N|~D))+P[0]+4096336452&4294967295,S=N+(j<<6&4294967295|j>>>26),j=D+(N^(S|~I))+P[7]+1126891415&4294967295,D=S+(j<<10&4294967295|j>>>22),j=I+(S^(D|~N))+P[14]+2878612391&4294967295,I=D+(j<<15&4294967295|j>>>17),j=N+(D^(I|~S))+P[5]+4237533241&4294967295,N=I+(j<<21&4294967295|j>>>11),j=S+(I^(N|~D))+P[12]+1700485571&4294967295,S=N+(j<<6&4294967295|j>>>26),j=D+(N^(S|~I))+P[3]+2399980690&4294967295,D=S+(j<<10&4294967295|j>>>22),j=I+(S^(D|~N))+P[10]+4293915773&4294967295,I=D+(j<<15&4294967295|j>>>17),j=N+(D^(I|~S))+P[1]+2240044497&4294967295,N=I+(j<<21&4294967295|j>>>11),j=S+(I^(N|~D))+P[8]+1873313359&4294967295,S=N+(j<<6&4294967295|j>>>26),j=D+(N^(S|~I))+P[15]+4264355552&4294967295,D=S+(j<<10&4294967295|j>>>22),j=I+(S^(D|~N))+P[6]+2734768916&4294967295,I=D+(j<<15&4294967295|j>>>17),j=N+(D^(I|~S))+P[13]+1309151649&4294967295,N=I+(j<<21&4294967295|j>>>11),j=S+(I^(N|~D))+P[4]+4149444226&4294967295,S=N+(j<<6&4294967295|j>>>26),j=D+(N^(S|~I))+P[11]+3174756917&4294967295,D=S+(j<<10&4294967295|j>>>22),j=I+(S^(D|~N))+P[2]+718787259&4294967295,I=D+(j<<15&4294967295|j>>>17),j=N+(D^(I|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(I+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var N=S-this.blockSize,P=this.B,I=this.h,D=0;D<S;){if(I==0)for(;D<=N;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<S;)if(P[I++]=C.charCodeAt(D++),I==this.blockSize){s(this,P),I=0;break}}else for(;D<S;)if(P[I++]=C[D++],I==this.blockSize){s(this,P),I=0;break}}this.h=I,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var N=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=N&255,N/=256;for(this.u(C),C=Array(16),S=N=0;4>S;++S)for(var P=0;32>P;P+=8)C[N++]=this.g[S]>>>P&255;return C};function i(C,S){var N=a;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=S(C)}function o(C,S){this.h=S;for(var N=[],P=!0,I=C.length-1;0<=I;I--){var D=C[I]|0;P&&D==S||(N[I]=D,P=!1)}this.g=N}var a={};function c(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return _(d(-C));for(var S=[],N=1,P=0;C>=N;P++)S[P]=C/N|0,N*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(S,8)),P=f,I=0;I<C.length;I+=8){var D=Math.min(8,C.length-I),j=parseInt(C.substring(I,I+D),S);8>D?(D=d(Math.pow(S,D)),P=P.j(D).add(d(j))):(P=P.j(N),P=P.add(d(j)))}return P}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-_(this).m();for(var C=0,S=1,N=0;N<this.g.length;N++){var P=this.i(N);C+=(0<=P?P:4294967296+P)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(g(this))return"-"+_(this).toString(C);for(var S=d(Math.pow(C,6)),N=this,P="";;){var I=R(N,S).g;N=w(N,I.j(S));var D=((0<N.g.length?N.g[0]:N.h)>>>0).toString(C);if(N=I,E(N))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=w(this,C),g(C)?-1:E(C)?0:1};function _(C){for(var S=C.g.length,N=[],P=0;P<S;P++)N[P]=~C.g[P];return new o(N,~C.h).add(p)}t.abs=function(){return g(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0,I=0;I<=S;I++){var D=P+(this.i(I)&65535)+(C.i(I)&65535),j=(D>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);P=j>>>16,D&=65535,j&=65535,N[I]=j<<16|D}return new o(N,N[N.length-1]&-2147483648?-1:0)};function w(C,S){return C.add(_(S))}t.j=function(C){if(E(this)||E(C))return f;if(g(this))return g(C)?_(this).j(_(C)):_(_(this).j(C));if(g(C))return _(this.j(_(C)));if(0>this.l(v)&&0>C.l(v))return d(this.m()*C.m());for(var S=this.g.length+C.g.length,N=[],P=0;P<2*S;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var I=0;I<C.g.length;I++){var D=this.i(P)>>>16,j=this.i(P)&65535,H=C.i(I)>>>16,ne=C.i(I)&65535;N[2*P+2*I]+=j*ne,x(N,2*P+2*I),N[2*P+2*I+1]+=D*ne,x(N,2*P+2*I+1),N[2*P+2*I+1]+=j*H,x(N,2*P+2*I+1),N[2*P+2*I+2]+=D*H,x(N,2*P+2*I+2)}for(P=0;P<S;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=S;P<2*S;P++)N[P]=0;return new o(N,0)};function x(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function b(C,S){this.g=C,this.h=S}function R(C,S){if(E(S))throw Error("division by zero");if(E(C))return new b(f,f);if(g(C))return S=R(_(C),S),new b(_(S.g),_(S.h));if(g(S))return S=R(C,_(S)),new b(_(S.g),S.h);if(30<C.g.length){if(g(C)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var N=p,P=S;0>=P.l(C);)N=A(N),P=A(P);var I=O(N,1),D=O(P,1);for(P=O(P,2),N=O(N,2);!E(P);){var j=D.add(P);0>=j.l(C)&&(I=I.add(N),D=j),P=O(P,1),N=O(N,1)}return S=w(C,I.j(S)),new b(I,S)}for(I=f;0<=C.l(S);){for(N=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=d(N),j=D.j(S);g(j)||0<j.l(C);)N-=P,D=d(N),j=D.j(S);E(D)&&(D=p),I=I.add(D),C=w(C,j)}return new b(I,C)}t.A=function(C){return R(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)&C.i(P);return new o(N,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)|C.i(P);return new o(N,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)^C.i(P);return new o(N,this.h^C.h)};function A(C){for(var S=C.g.length+1,N=[],P=0;P<S;P++)N[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(N,C.h)}function O(C,S){var N=S>>5;S%=32;for(var P=C.g.length-N,I=[],D=0;D<P;D++)I[D]=0<S?C.i(D+N)>>>S|C.i(D+N+1)<<32-S:C.i(D+N);return new o(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,zs=o}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,yl,D1,wd,yg,O1,M1,L1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,T){return u==Array.prototype||u==Object.prototype||(u[m]=T.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var T=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var M=u[k];if(!(M in T))break e;T=T[M]}u=u[u.length-1],k=T[u],m=m(k),m!=k&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var T=0,k=!1,M={next:function(){if(!k&&T<u.length){var F=T++;return{value:m(F,u[F]),done:!1}}return k=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,T){return u.call.apply(u.bind,arguments)}function f(u,m,T){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,k),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function v(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function E(u,m){function T(){}T.prototype=m.prototype,u.aa=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(k,M,F){for(var q=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)q[ze-2]=arguments[ze];return m.prototype[M].apply(k,q)}}function g(u){const m=u.length;if(0<m){const T=Array(m);for(let k=0;k<m;k++)T[k]=u[k];return T}return[]}function _(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(c(k)){const M=u.length||0,F=k.length||0;u.length=M+F;for(let q=0;q<F;q++)u[M+q]=k[q]}else u.push(k)}}class w{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var A=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,m,T){for(const k in u)m.call(T,u[k],k,u)}function C(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function S(u){const m={};for(const T in u)m[T]=u[T];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let T,k;for(let M=1;M<arguments.length;M++){k=arguments[M];for(T in k)u[T]=k[T];for(let F=0;F<N.length;F++)T=N[F],Object.prototype.hasOwnProperty.call(k,T)&&(u[T]=k[T])}}function I(u){var m=1;u=u.split(":");const T=[];for(;0<m&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function D(u){a.setTimeout(()=>{throw u},0)}function j(){var u=L;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,T){const k=ne.get();k.set(m,T),this.h?this.h.next=k:this.g=k,this.h=k}}var ne=new w(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,V=!1,L=new H,z=()=>{const u=a.Promise.resolve(void 0);oe=()=>{u.then(J)}};var J=()=>{for(var u;u=j();){try{u.h.call(u.g)}catch(T){D(T)}var m=ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}V=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return u}();function we(u,m){if(B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(A){e:{try{R(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}E(we,B);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ze(u,m,T,k,M){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!k,this.ha=M,this.key=++je,this.da=this.fa=!1}function Pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ne(u){this.src=u,this.g={},this.h=0}Ne.prototype.add=function(u,m,T,k,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var q=gt(u,m,k,M);return-1<q?(m=u[q],T||(m.fa=!1)):(m=new Ze(m,this.src,F,!!k,M),m.fa=T,u.push(m)),m};function ke(u,m){var T=m.type;if(T in u.g){var k=u.g[T],M=Array.prototype.indexOf.call(k,m,void 0),F;(F=0<=M)&&Array.prototype.splice.call(k,M,1),F&&(Pe(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function gt(u,m,T,k){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==m&&F.capture==!!T&&F.ha==k)return M}return-1}var It="closure_lm_"+(1e6*Math.random()|0),Ln={};function rr(u,m,T,k,M){if(Array.isArray(m)){for(var F=0;F<m.length;F++)rr(u,m[F],T,k,M);return null}return T=tu(T),u&&u[te]?u.K(m,T,d(k)?!!k.capture:!1,M):Ar(u,m,T,!1,k,M)}function Ar(u,m,T,k,M,F){if(!m)throw Error("Invalid event type");var q=d(M)?!!M.capture:!!M,ze=yi(u);if(ze||(u[It]=ze=new Ne(u)),T=ze.add(m,T,k,q,F),T.proxy)return T;if(k=Ua(),T.proxy=k,k.src=u,k.listener=T,u.addEventListener)ce||(M=q),M===void 0&&(M=!1),u.addEventListener(m.toString(),k,M);else if(u.attachEvent)u.attachEvent(Zc(m.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ua(){function u(T){return m.call(u.src,u.listener,T)}const m=eu;return u}function jr(u,m,T,k,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)jr(u,m[F],T,k,M);else k=d(k)?!!k.capture:!!k,T=tu(T),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],T=gt(F,T,k,M),-1<T&&(Pe(F[T]),Array.prototype.splice.call(F,T,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=yi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,T,k,M)),(T=-1<u?m[u]:null)&&$a(T))}function $a(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ke(m.i,u);else{var T=u.type,k=u.proxy;m.removeEventListener?m.removeEventListener(T,k,u.capture):m.detachEvent?m.detachEvent(Zc(T),k):m.addListener&&m.removeListener&&m.removeListener(k),(T=yi(m))?(ke(T,u),T.h==0&&(T.src=null,m[It]=null)):Pe(u)}}}function Zc(u){return u in Ln?Ln[u]:Ln[u]="on"+u}function eu(u,m){if(u.da)u=!0;else{m=new we(m,this);var T=u.listener,k=u.ha||u.src;u.fa&&$a(u),u=T.call(k,m)}return u}function yi(u){return u=u[It],u instanceof Ne?u:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(u){return typeof u=="function"?u:(u[vi]||(u[vi]=function(m){return u.handleEvent(m)}),u[vi])}function bt(){se.call(this),this.i=new Ne(this),this.M=this,this.F=null}E(bt,se),bt.prototype[te]=!0,bt.prototype.removeEventListener=function(u,m,T,k){jr(this,u,m,T,k)};function Nt(u,m){var T,k=u.F;if(k)for(T=[];k;k=k.F)T.push(k);if(u=u.M,k=m.type||m,typeof m=="string")m=new B(m,u);else if(m instanceof B)m.target=m.target||u;else{var M=m;m=new B(k,u),P(m,M)}if(M=!0,T)for(var F=T.length-1;0<=F;F--){var q=m.g=T[F];M=lo(q,k,!0,m)&&M}if(q=m.g=u,M=lo(q,k,!0,m)&&M,M=lo(q,k,!1,m)&&M,T)for(F=0;F<T.length;F++)q=m.g=T[F],M=lo(q,k,!1,m)&&M}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var T=u.g[m],k=0;k<T.length;k++)Pe(T[k]);delete u.g[m],u.h--}}this.F=null},bt.prototype.K=function(u,m,T,k){return this.i.add(String(u),m,!1,T,k)},bt.prototype.L=function(u,m,T,k){return this.i.add(String(u),m,!0,T,k)};function lo(u,m,T,k){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,F=0;F<m.length;++F){var q=m[F];if(q&&!q.da&&q.capture==T){var ze=q.listener,Rt=q.ha||q.src;q.fa&&ke(u.i,q),M=ze.call(Rt,k)!==!1&&M}}return M&&!k.defaultPrevented}function nu(u,m,T){if(typeof u=="function")T&&(u=p(u,T));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function ru(u){u.g=nu(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Kf extends se{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){se.call(this),this.h=u,this.g={}}E(wi,se);var su=[];function iu(u){O(u.g,function(m,T){this.g.hasOwnProperty(T)&&$a(m)},u),u.g={}}wi.prototype.N=function(){wi.aa.N.call(this),iu(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=a.JSON.stringify,ou=a.JSON.parse,Yf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function ve(u){return u.h||(u.h=u.i())}function Be(){}var Te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sn(){B.call(this,"d")}E(Sn,B);function Xt(){B.call(this,"c")}E(Xt,B);var Cn={},yt=null;function Jt(){return yt=yt||new bt}Cn.La="serverreachability";function De(u){B.call(this,Cn.La,u)}E(De,B);function xi(u){const m=Jt();Nt(m,new De(m))}Cn.STAT_EVENT="statevent";function au(u,m){B.call(this,Cn.STAT_EVENT,u),this.stat=m}E(au,B);function kt(u){const m=Jt();Nt(m,new au(m,u))}Cn.Ma="timingevent";function uo(u,m){B.call(this,Cn.Ma,u),this.size=m}E(uo,B);function Dr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function za(){this.g=!0}za.prototype.xa=function(){this.g=!1};function AP(u,m,T,k,M,F){u.info(function(){if(u.g)if(F)for(var q="",ze=F.split("&"),Rt=0;Rt<ze.length;Rt++){var Oe=ze[Rt].split("=");if(1<Oe.length){var Vt=Oe[0];Oe=Oe[1];var Ft=Vt.split("_");q=2<=Ft.length&&Ft[1]=="type"?q+(Vt+"="+Oe+"&"):q+(Vt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+k+") [attempt "+M+"]: "+m+`
`+T+`
`+q})}function jP(u,m,T,k,M,F,q){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+M+"]: "+m+`
`+T+`
`+F+" "+q})}function ho(u,m,T,k){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+OP(u,T)+(k?" "+k:"")})}function DP(u,m){u.info(function(){return"TIMEOUT: "+m})}za.prototype.info=function(){};function OP(u,m){if(!u.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var k=T[u];if(!(2>k.length)){var M=k[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return Ba(T)}catch{return m}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qf;function cu(){}E(cu,co),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Qf=new cu;function fs(u,m,T,k){this.j=u,this.i=m,this.l=T,this.R=k||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pw}function Pw(){this.i=null,this.g="",this.h=!1}var Aw={},Xf={};function Jf(u,m,T){u.L=1,u.v=fu(Or(m)),u.m=T,u.P=!0,jw(u,null)}function jw(u,m){u.F=Date.now(),uu(u),u.A=Or(u.v);var T=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Gw(T.i,"t",k),u.C=0,T=u.j.J,u.h=new Pw,u.g=dx(u.j,T?m:null,!u.m),0<u.O&&(u.M=new Kf(p(u.Y,u,u.g),u.O)),m=u.U,T=u.g,k=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(su[0]=M.toString()),M=su);for(var F=0;F<M.length;F++){var q=rr(T,M[F],k||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),xi(),AP(u.i,u.u,u.A,u.l,u.R,u.m)}fs.prototype.ca=function(u){u=u.target;const m=this.M;m&&Mr(u)==3?m.j():this.Y(u)},fs.prototype.Y=function(u){try{if(u==this.g)e:{const Ft=Mr(this.g);var m=this.g.Ba();const mo=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||ex(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=mo?xi(3):xi(2)),Zf(this);var T=this.g.Z();this.X=T;t:if(Dw(this)){var k=ex(this.g);u="";var M=k.length,F=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Wa(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(k[m],{stream:!(F&&m==M-1)});k.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=T==200,jP(this.i,this.u,this.A,this.l,this.R,Ft,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Rt=this.g;if((ze=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ze)){var Oe=ze;break t}}Oe=null}if(T=Oe)ho(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ep(this,T);else{this.o=!1,this.s=3,kt(12),_i(this),Wa(this);break e}}if(this.P){T=!0;let Vn;for(;!this.J&&this.C<q.length;)if(Vn=MP(this,q),Vn==Xf){Ft==4&&(this.s=4,kt(14),T=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Aw){this.s=4,kt(15),ho(this.i,this.l,q,"[Invalid Chunk]"),T=!1;break}else ho(this.i,this.l,Vn,null),ep(this,Vn);if(Dw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||q.length!=0||this.h.h||(this.s=1,kt(16),T=!1),this.o=this.o&&T,!T)ho(this.i,this.l,q,"[Invalid Chunked Response]"),_i(this),Wa(this);else if(0<q.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),op(Vt),Vt.M=!0,kt(11))}}else ho(this.i,this.l,q,null),ep(this,q);Ft==4&&_i(this),this.o&&!this.J&&(Ft==4?ax(this.j,this):(this.o=!1,uu(this)))}else ZP(this.g),T==400&&0<q.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),_i(this),Wa(this)}}}catch{}finally{}};function Dw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function MP(u,m){var T=u.C,k=m.indexOf(`
`,T);return k==-1?Xf:(T=Number(m.substring(T,k)),isNaN(T)?Aw:(k+=1,k+T>m.length?Xf:(m=m.slice(k,k+T),u.C=k+T,m)))}fs.prototype.cancel=function(){this.J=!0,_i(this)};function uu(u){u.S=Date.now()+u.I,Ow(u,u.I)}function Ow(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dr(p(u.ba,u),m)}function Zf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}fs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(DP(this.i,this.A),this.L!=2&&(xi(),kt(17)),_i(this),this.s=2,Wa(this)):Ow(this,this.S-u)};function Wa(u){u.j.G==0||u.J||ax(u.j,u)}function _i(u){Zf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,iu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ep(u,m){try{var T=u.j;if(T.G!=0&&(T.g==u||tp(T.h,u))){if(!u.K&&tp(T.h,u)&&T.G==3){try{var k=T.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var M=k;if(M[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)wu(T),yu(T);else break e;ip(T),kt(18)}}else T.za=M[1],0<T.za-T.T&&37500>M[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dr(p(T.Za,T),6e3));if(1>=Vw(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else bi(T,11)}else if((u.K||T.g==u)&&wu(T),!x(m))for(M=T.Da.g.parse(m),m=0;m<M.length;m++){let Oe=M[m];if(T.T=Oe[0],Oe=Oe[1],T.G==2)if(Oe[0]=="c"){T.K=Oe[1],T.ia=Oe[2];const Vt=Oe[3];Vt!=null&&(T.la=Vt,T.j.info("VER="+T.la));const Ft=Oe[4];Ft!=null&&(T.Aa=Ft,T.j.info("SVER="+T.Aa));const mo=Oe[5];mo!=null&&typeof mo=="number"&&0<mo&&(k=1.5*mo,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Vn=u.g;if(Vn){const _u=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var F=k.h;F.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(np(F,F.h),F.h=null))}if(k.D){const ap=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ap&&(k.ya=ap,qe(k.I,k.D,ap))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var q=u;if(k.qa=ux(k,k.J?k.ia:null,k.W),q.K){Fw(k.h,q);var ze=q,Rt=k.L;Rt&&(ze.I=Rt),ze.B&&(Zf(ze),uu(ze)),k.g=q}else ix(k);0<T.i.length&&vu(T)}else Oe[0]!="stop"&&Oe[0]!="close"||bi(T,7);else T.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?bi(T,7):sp(T):Oe[0]!="noop"&&T.l&&T.l.ta(Oe),T.v=0)}}xi(4)}catch{}}var LP=class{constructor(u,m){this.g=u,this.map=m}};function Mw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vw(u){return u.h?1:u.g?u.g.size:0}function tp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function np(u,m){u.g?u.g.add(m):u.h=m}function Fw(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mw.prototype.cancel=function(){if(this.i=Uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.D);return m}return g(u.i)}function VP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],T=u.length,k=0;k<T;k++)m.push(u[k]);return m}m=[],T=0;for(k in u)m[T++]=u[k];return m}function FP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var T=0;T<u;T++)m.push(T);return m}m=[],T=0;for(const k in u)m[T++]=k;return m}}}function $w(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var T=FP(u),k=VP(u),M=k.length,F=0;F<M;F++)m.call(void 0,k[F],T&&T[F],u)}var Bw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UP(u,m){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var k=u[T].indexOf("="),M=null;if(0<=k){var F=u[T].substring(0,k);M=u[T].substring(k+1)}else F=u[T];m(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,du(this,u.j),this.o=u.o,this.g=u.g,hu(this,u.s),this.l=u.l;var m=u.i,T=new Ga;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),zw(this,T),this.m=u.m}else u&&(m=String(u).match(Bw))?(this.h=!1,du(this,m[1]||"",!0),this.o=Ha(m[2]||""),this.g=Ha(m[3]||"",!0),hu(this,m[4]),this.l=Ha(m[5]||"",!0),zw(this,m[6]||"",!0),this.m=Ha(m[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}Ei.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qa(m,Ww,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qa(m,Ww,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(qa(T,T.charAt(0)=="/"?zP:BP,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",qa(T,HP)),u.join("")};function Or(u){return new Ei(u)}function du(u,m,T){u.j=T?Ha(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function zw(u,m,T){m instanceof Ga?(u.i=m,qP(u.i,u.h)):(T||(m=qa(m,WP)),u.i=new Ga(m,u.h))}function qe(u,m,T){u.i.set(m,T)}function fu(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ha(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,$P),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $P(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ww=/[#\/\?@]/g,BP=/[#\?:]/g,zP=/[#\?]/g,WP=/[#\?@]/g,HP=/#/g;function Ga(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ps(u){u.g||(u.g=new Map,u.h=0,u.i&&UP(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=Ga.prototype,t.add=function(u,m){ps(this),this.i=null,u=fo(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function Hw(u,m){ps(u),m=fo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qw(u,m){return ps(u),m=fo(u,m),u.g.has(m)}t.forEach=function(u,m){ps(this),this.g.forEach(function(T,k){T.forEach(function(M){u.call(m,M,k,this)},this)},this)},t.na=function(){ps(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let k=0;k<m.length;k++){const M=u[k];for(let F=0;F<M.length;F++)T.push(m[k])}return T},t.V=function(u){ps(this);let m=[];if(typeof u=="string")qw(this,u)&&(m=m.concat(this.g.get(fo(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)m=m.concat(u[T])}return m},t.set=function(u,m){return ps(this),this.i=null,u=fo(this,u),qw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gw(u,m,T){Hw(u,m),0<T.length&&(u.i=null,u.g.set(fo(u,m),g(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var k=m[T];const F=encodeURIComponent(String(k)),q=this.V(k);for(k=0;k<q.length;k++){var M=F;q[k]!==""&&(M+="="+encodeURIComponent(String(q[k]))),u.push(M)}}return this.i=u.join("&")};function fo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qP(u,m){m&&!u.j&&(ps(u),u.i=null,u.g.forEach(function(T,k){var M=k.toLowerCase();k!=M&&(Hw(this,k),Gw(this,M,T))},u)),u.j=m}function GP(u,m){const T=new za;if(a.Image){const k=new Image;k.onload=v(ms,T,"TestLoadImage: loaded",!0,m,k),k.onerror=v(ms,T,"TestLoadImage: error",!1,m,k),k.onabort=v(ms,T,"TestLoadImage: abort",!1,m,k),k.ontimeout=v(ms,T,"TestLoadImage: timeout",!1,m,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else m(!1)}function KP(u,m){const T=new za,k=new AbortController,M=setTimeout(()=>{k.abort(),ms(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:k.signal}).then(F=>{clearTimeout(M),F.ok?ms(T,"TestPingServer: ok",!0,m):ms(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),ms(T,"TestPingServer: error",!1,m)})}function ms(u,m,T,k,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),k(T)}catch{}}function YP(){this.g=new Yf}function QP(u,m,T){const k=T||"";try{$w(u,function(M,F){let q=M;d(M)&&(q=Ba(M)),m.push(k+F+"="+encodeURIComponent(q))})}catch(M){throw m.push(k+"type="+encodeURIComponent("_badmap")),M}}function pu(u){this.l=u.Ub||null,this.j=u.eb||!1}E(pu,co),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(u){return function(){return u}}({});function mu(u,m){bt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(mu,bt),t=mu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ya(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ka(this):Ya(this),this.readyState==3&&Kw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ka(this))},t.Qa=function(u){this.g&&(this.response=u,Ka(this))},t.ga=function(){this.g&&Ka(this)};function Ka(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ya(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function Ya(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yw(u){let m="";return O(u,function(T,k){m+=k,m+=":",m+=T,m+=`\r
`}),m}function rp(u,m,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Yw(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):qe(u,m,T))}function ot(u){bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ot,bt);var XP=/^https?$/i,JP=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qf.g(),this.v=this.o?ve(this.o):ve(Qf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Qw(this,F);return}if(u=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var M in k)T.set(M,k[M]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const F of k.keys())T.set(F,k.get(F));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JP,m,void 0))||k||M||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,q]of T)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Qw(this,F)}};function Qw(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xw(u),gu(u)}function Xw(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Nt(this,"complete"),Nt(this,"abort"),gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jw(this):this.bb())},t.bb=function(){Jw(this)};function Jw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mr(u)!=4||u.Z()!=2)){if(u.u&&Mr(u)==4)nu(u.Ea,0,u);else if(Nt(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var k;if(k=q===0){var M=String(u.D).match(Bw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),k=!XP.test(M?M.toLowerCase():"")}T=k}if(T)Nt(u,"complete"),Nt(u,"success");else{u.m=6;try{var F=2<Mr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Xw(u)}}finally{gu(u)}}}}function gu(u,m){if(u.g){Zw(u);const T=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Nt(u,"ready");try{T.onreadystatechange=k}catch{}}}function Zw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ou(m)}};function ex(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ZP(u){const m={};u=(u.g&&2<=Mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(x(u[k]))continue;var T=I(u[k]);const M=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=m[M]||[];m[M]=F,F.push(T)}C(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function tx(u){this.Aa=0,this.i=[],this.j=new za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mw(u&&u.concurrentRequestLimit),this.Da=new YP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tx.prototype,t.la=8,t.G=1,t.connect=function(u,m,T,k){kt(0),this.W=u,this.H=m||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=ux(this,null,this.W),vu(this)};function sp(u){if(nx(u),u.G==3){var m=u.U++,T=Or(u.I);if(qe(T,"SID",u.K),qe(T,"RID",m),qe(T,"TYPE","terminate"),Xa(u,T),m=new fs(u,u.j,m),m.L=2,m.v=fu(Or(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=dx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),uu(m)}cx(u)}function yu(u){u.g&&(op(u),u.g.cancel(),u.g=null)}function nx(u){yu(u),u.u&&(a.clearTimeout(u.u),u.u=null),wu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function vu(u){if(!Lw(u.h)&&!u.s){u.s=!0;var m=u.Ga;oe||z(),V||(oe(),V=!0),L.add(m,u),u.B=0}}function eA(u,m){return Vw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dr(p(u.Ga,u,m),lx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new fs(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=sx(this,M,m),T=Or(this.I),qe(T,"RID",u),qe(T,"CVER",22),this.D&&qe(T,"X-HTTP-Session-Id",this.D),Xa(this,T),F&&(this.O?m="headers="+encodeURIComponent(String(Yw(F)))+"&"+m:this.m&&rp(T,this.m,F)),np(this.h,M),this.Ua&&qe(T,"TYPE","init"),this.P?(qe(T,"$req",m),qe(T,"SID","null"),M.T=!0,Jf(M,T,null)):Jf(M,T,m),this.G=2}}else this.G==3&&(u?rx(this,u):this.i.length==0||Lw(this.h)||rx(this))};function rx(u,m){var T;m?T=m.l:T=u.U++;const k=Or(u.I);qe(k,"SID",u.K),qe(k,"RID",T),qe(k,"AID",u.T),Xa(u,k),u.m&&u.o&&rp(k,u.m,u.o),T=new fs(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),m&&(u.i=m.D.concat(u.i)),m=sx(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),np(u.h,T),Jf(T,k,m)}function Xa(u,m){u.H&&O(u.H,function(T,k){qe(m,k,T)}),u.l&&$w({},function(T,k){qe(m,k,T)})}function sx(u,m,T){T=Math.min(u.i.length,T);var k=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const q=["count="+T];F==-1?0<T?(F=M[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let ze=!0;for(let Rt=0;Rt<T;Rt++){let Oe=M[Rt].g;const Vt=M[Rt].map;if(Oe-=F,0>Oe)F=Math.max(0,M[Rt].g-100),ze=!1;else try{QP(Vt,q,"req"+Oe+"_")}catch{k&&k(Vt)}}if(ze){k=q.join("&");break e}}}return u=u.i.splice(0,T),m.D=u,k}function ix(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;oe||z(),V||(oe(),V=!0),L.add(m,u),u.v=0}}function ip(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dr(p(u.Fa,u),lx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ox(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dr(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),yu(this),ox(this))};function op(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ox(u){u.g=new fs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Or(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),Xa(u,m),u.m&&u.o&&rp(m,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=fu(Or(m)),T.m=null,T.P=!0,jw(T,u)}t.Za=function(){this.C!=null&&(this.C=null,yu(this),ip(this),kt(19))};function wu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function ax(u,m){var T=null;if(u.g==m){wu(u),op(u),u.g=null;var k=2}else if(tp(u.h,m))T=m.D,Fw(u.h,m),k=1;else return;if(u.G!=0){if(m.o)if(k==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;k=Jt(),Nt(k,new uo(k,T)),vu(u)}else ix(u);else if(M=m.s,M==3||M==0&&0<m.X||!(k==1&&eA(u,m)||k==2&&ip(u)))switch(T&&0<T.length&&(m=u.h,m.i=m.i.concat(T)),M){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function lx(u,m){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var T=p(u.fb,u),k=u.Xa;const M=!k;k=new Ei(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(k,"https"),fu(k),M?GP(k.toString(),T):KP(k.toString(),T)}else kt(2);u.G=0,u.l&&u.l.sa(m),cx(u),nx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function cx(u){if(u.G=0,u.ka=[],u.l){const m=Uw(u.h);(m.length!=0||u.i.length!=0)&&(_(u.ka,m),_(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function ux(u,m,T){var k=T instanceof Ei?Or(T):new Ei(T);if(k.g!="")m&&(k.g=m+"."+k.g),hu(k,k.s);else{var M=a.location;k=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var F=new Ei(null);k&&du(F,k),m&&(F.g=m),M&&hu(F,M),T&&(F.l=T),k=F}return T=u.D,m=u.ya,T&&m&&qe(k,T,m),qe(k,"VER",u.la),Xa(u,k),k}function dx(u,m,T){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ot(new pu({eb:T})):new ot(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hx(){}t=hx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xu(){}xu.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){bt.call(this),this.g=new tx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new po(this)}E(fn,bt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){sp(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=Ba(u),u=T);m.i.push(new LP(m.Ya++,u)),m.G==3&&vu(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,sp(this.g),delete this.g,fn.aa.N.call(this)};function fx(u){Sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const T in m){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(fx,Sn);function px(){Xt.call(this),this.status=1}E(px,Xt);function po(u){this.g=u}E(po,hx),po.prototype.ua=function(){Nt(this.g,"a")},po.prototype.ta=function(u){Nt(this.g,new fx(u))},po.prototype.sa=function(u){Nt(this.g,new px)},po.prototype.ra=function(){Nt(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,L1=function(){return new xu},M1=function(){return Jt()},O1=Cn,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,wd=lu,Rw.COMPLETE="complete",D1=Rw,Be.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",bt.prototype.listen=bt.prototype.K,yl=Be,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,j1=ot}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",c_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Zh("@firebase/firestore");function Eo(){return Wi.logLevel}function Z(t,...e){if(Wi.logLevel<=Se.DEBUG){const n=e.map(uv);Wi.debug(`Firestore (${Ia}): ${t}`,...n)}}function is(t,...e){if(Wi.logLevel<=Se.ERROR){const n=e.map(uv);Wi.error(`Firestore (${Ia}): ${t}`,...n)}}function la(t,...e){if(Wi.logLevel<=Se.WARN){const n=e.map(uv);Wi.warn(`Firestore (${Ia}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,V1(t,r,n)}function V1(t,e,n){let r=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||V1(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class tV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nV{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new F1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class rV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new u_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=oV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function vg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return zp(s)===zp(i)?Ce(s,i):zp(s)?1:-1}return Ce(t.length,e.length)}const aV=55296,lV=57343;function zp(t){const e=t.charCodeAt(0);return e>=aV&&e<=lV}function ca(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ar.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ar.isNumericId(e),s=ar.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ar.extractNumericId(e).compare(ar.extractNumericId(n)):vg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class We extends ar{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const cV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ar{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return cV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new jt([d_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(We.fromString(e))}static fromName(e){return new ae(We.fromString(e).popFirst(5))}static empty(){return new ae(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uV(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!ae.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(ae.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lc(t,e){if(!$1(t))throw new Q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-62135596800,m_=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*m_);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p_)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m_}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:ft("string",Me._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Me(0,0))}static max(){return new he(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function dV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Qs(s,ae.empty(),e)}function hV(t){return new Qs(t.readTime,t.key,dc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(he.min(),ae.empty(),dc)}static max(){return new Qs(he.max(),ae.empty(),dc)}}function fV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==pV)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function gV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=-1;function of(t){return t==null}function ch(t){return t===0&&1/t==-1/0}function yV(t){return typeof t=="number"&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="";function vV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g_(e)),e=wV(t.get(n),e);return g_(e)}function wV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case B1:n+="";break;default:n+=i}}return n}function g_(t){return t+B1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??At.RED,this.left=s??At.EMPTY,this.right=i??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new At(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new _t(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new W1("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const xV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=xV.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",q1="__type__",G1="__previous_value__",K1="__local_write_time__";function fv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[q1])==null?void 0:r.stringValue)===H1}function af(t){const e=t.mapValue.fields[G1];return fv(e)?af(e):e}function hc(t){const e=Xs(t.mapValue.fields[K1].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const uh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="__type__",EV="__max__",zu={mapValue:{}},Q1="__vector__",dh="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:TV(t)?9007199254740991:bV(t)?10:11:de(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xs(s.timestampValue),a=Xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Js(s.bytesValue).isEqual(Js(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?ch(o)===ch(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ca(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(y_(o)!==y_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Cr(o[c],a[c])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function pc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),c=lt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(hc(t),hc(e));case 5:return vg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Js(i),c=Js(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ce(a[d],c[d]);if(h!==0)return h}return Ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ce(lt(i.latitude),lt(o.latitude));return a!==0?a:Ce(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,E,g;const a=i.fields||{},c=o.fields||{},d=(p=a[dh])==null?void 0:p.arrayValue,h=(v=c[dh])==null?void 0:v.arrayValue,f=Ce(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((g=h==null?void 0:h.values)==null?void 0:g.length)||0);return f!==0?f:x_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zu.mapValue&&o===zu.mapValue)return 0;if(i===zu.mapValue)return 1;if(o===zu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=vg(c[f],h[f]);if(p!==0)return p;const v=ua(a[c[f]],d[h[f]]);if(v!==0)return v}return Ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Xs(t),r=Xs(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function x_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ua(n[s],r[s]);if(i)return i}return Ce(n.length,r.length)}function da(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wg(n.fields[o])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function xd(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+xd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return di(r.fields,(i,o)=>{s+=i.length+xd(o)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function __(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function E_(t){return!!t&&"nullValue"in t}function b_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function bV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Y1])==null?void 0:r.stringValue)===Q1}function Ll(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return{...t}}function TV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=jt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ll(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Ll(this.value))}}function X1(t){const e=[];return di(t.fields,(n,r)=>{const s=new jt([n]);if(_d(r)){const i=X1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,he.min(),he.min(),he.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,he.min(),he.min(),an.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,he.min(),he.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function T_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function SV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class ht extends J1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IV(e,n,r):n==="array-contains"?new RV(e,r):n==="in"?new PV(e,r):n==="not-in"?new AV(e,r):n==="array-contains-any"?new jV(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NV(e,r):new kV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ua(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends J1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return Z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z1(t){return t.op==="and"}function eC(t){return CV(t)&&Z1(t)}function CV(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function _g(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+da(t.value);if(eC(t))return t.filters.map(e=>_g(e)).join(",");{const e=t.filters.map(n=>_g(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&tC(o,s.filters[a]),!0):!1}(t,e):void de(19439)}function nC(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class IV extends ht{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class NV extends ht{constructor(e,n){super(e,"in",n),this.keys=rC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kV extends ht{constructor(e,n){super(e,"not-in",n),this.keys=rC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class RV extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&pc(n.arrayValue,this.value)}}class PV extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class AV extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class jV extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function C_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DV(t,e,n,r,s,i,o)}function mv(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.Te=n}return e.Te}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function Eg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OV(t,e,n,r,s,i,o,a){return new Ra(t,e,n,r,s,i,o,a)}function yv(t){return new Ra(t)}function I_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sC(t){return t.collectionGroup!==null}function Vl(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new mc(i,r))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new mc(jt.keyField(),r))}return e.Ie}function gr(t){const e=pe(t);return e.Ee||(e.Ee=MV(e,Vl(t))),e.Ee}function MV(t,e){if(t.limitType==="F")return C_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new mc(s.field,i)});const n=t.endAt?new hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hh(t.startAt.position,t.startAt.inclusive):null;return C_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){const n=t.filters.concat([e]);return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fh(t,e,n){return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return gv(gr(t),gr(e))&&t.limitType===e.limitType}function iC(t){return`${mv(gr(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>nC(s)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>da(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>da(s)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Vl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=T_(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Vl(r),s)||r.endAt&&!function(o,a,c){const d=T_(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Vl(r),s))}(t,e)}function LV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oC(t){return(e,n)=>{let r=!1;for(const s of Vl(t)){const i=VV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function VV(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?ua(c,d):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new it(ae.comparator);function os(){return FV}const aC=new it(ae.comparator);function vl(...t){let e=aC;for(const n of t)e=e.insert(n.key,n);return e}function lC(t){let e=aC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return Fl()}function cC(){return Fl()}function Fl(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const UV=new it(ae.comparator),$V=new _t(ae.comparator);function Ie(...t){let e=$V;for(const n of t)e=e.add(n);return e}const BV=new _t(Ce);function zV(){return BV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function WV(t,e){return yV(e)?uC(e):vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function HV(t,e,n){return t instanceof ph?function(s,i){const o={fields:{[q1]:{stringValue:H1},[K1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&fv(i)&&(i=af(i)),i&&(o.fields[G1]=i),{mapValue:o}}(n,e):t instanceof gc?hC(t,e):t instanceof yc?fC(t,e):function(s,i){const o=dC(s,i),a=N_(o)+N_(s.Ae);return xg(o)&&xg(s.Ae)?uC(a):vv(s.serializer,a)}(t,e)}function qV(t,e,n){return t instanceof gc?hC(t,e):t instanceof yc?fC(t,e):n}function dC(t,e){return t instanceof mh?function(r){return xg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ph extends uf{}class gc extends uf{constructor(e){super(),this.elements=e}}function hC(t,e){const n=pC(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class yc extends uf{constructor(e){super(),this.elements=e}}function fC(t,e){let n=pC(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class mh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N_(t){return lt(t.integerValue||t.doubleValue)}function pC(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gc&&s instanceof gc||r instanceof yc&&s instanceof yc?ca(r.elements,s.elements,Cr):r instanceof mh&&s instanceof mh?Cr(r.Ae,s.Ae):r instanceof ph&&s instanceof ph}(t.transform,e.transform)}class KV{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function mC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yC(t.key,yr.none()):new Vc(t.key,t.data,yr.none());{const n=t.data,r=an.empty();let s=new _t(jt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new hi(t.key,r,new vn(s.toArray()),yr.none())}}function YV(t,e,n){t instanceof Vc?function(s,i,o){const a=s.value.clone(),c=R_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(s,i,o){if(!Ed(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=R_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(gC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof Vc?function(i,o,a,c){if(!Ed(i.precondition,o))return a;const d=i.value.clone(),h=P_(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,o,a,c){if(!Ed(i.precondition,o))return a;const d=P_(i.fieldTransforms,c,o),h=o.data;return h.setAll(gC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Ed(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dC(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function k_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ca(r,s,(i,o)=>GV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends df{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends df{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R_(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,qV(o,a,n[s]))}return r}function P_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,HV(i,o,e))}return r}class yC extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XV extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=mC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,r)=>k_(n,r))&&ca(this.baseMutations,e.baseMutations,(n,r)=>k_(n,r))}}class wv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return UV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new wv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Re;function tF(t){switch(t){case U.OK:return de(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function vC(t){if(t===void 0)return is("GRPC error has no .code"),U.UNKNOWN;switch(t){case ut.OK:return U.OK;case ut.CANCELLED:return U.CANCELLED;case ut.UNKNOWN:return U.UNKNOWN;case ut.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ut.INTERNAL:return U.INTERNAL;case ut.UNAVAILABLE:return U.UNAVAILABLE;case ut.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ut.NOT_FOUND:return U.NOT_FOUND;case ut.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ut.ABORTED:return U.ABORTED;case ut.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ut.DATA_LOSS:return U.DATA_LOSS;default:return de(39323,{code:t})}}(Re=ut||(ut={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new zs([4294967295,4294967295],0);function A_(t){const e=nF().encode(t),n=new A1;return n.update(e),new Uint8Array(n.digest())}function j_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zs([n,r],0),new zs([s,i],0)]}class xv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zs.fromNumber(r)));return s.compare(rF)===1&&(s=new zs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A_(e),[r,s]=j_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=A_(e),[r,s]=j_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(he.min(),s,new it(Ce),os(),Ie())}}class Fc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wC{constructor(e,n){this.targetId=e,this.Ce=n}}class xC{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class D_{constructor(){this.ve=0,this.Fe=O_(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new Fc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=O_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sF{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=Wu(),this.He=Wu(),this.Ye=new it(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Eg(i))if(r===0){const o=new ae(i.path);this.et(n,o,qt.newNoDocument(o,he.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Js(r).toUint8Array()}catch(c){if(c instanceof W1)return la("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new xv(o,s,i)}catch(c){return la(c instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Eg(a.target)){const c=new ae(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,qt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new hf(e,n,this.Ye,this.je,r);return this.je=os(),this.Je=Wu(),this.He=Wu(),this.Ye=new it(Ce),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wu(){return new it(ae.comparator)}function O_(){return new it(ae.comparator)}const iF={asc:"ASCENDING",desc:"DESCENDING"},oF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aF={and:"AND",or:"OR"};class lF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cF(t,e){return gh(t,e.toTimestamp())}function vr(t){return Ve(!!t,49232),he.fromTimestamp(function(n){const r=Xs(n);return new Me(r.seconds,r.nanos)}(t))}function _v(t,e){return Sg(t,e).canonicalString()}function Sg(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EC(t){const e=We.fromString(t);return Ve(IC(e),10190,{key:e.toString()}),e}function Cg(t,e){return _v(t.databaseId,e.path)}function Wp(t,e){const n=EC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(TC(n))}function bC(t,e){return _v(t.databaseId,e)}function uF(t){const e=EC(t);return e.length===4?We.emptyPath():TC(e)}function Ig(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TC(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function M_(t,e,n){return{name:Cg(t,e),fields:n.value.mapValue.fields}}function dF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:vC(d.code);return new Q(h,d.message||"")}(o);n=new xC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wp(t,r.document.name),i=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):he.min(),a=new an({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new bd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wp(t,r.document),i=r.readTime?vr(r.readTime):he.min(),o=qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wp(t,r.document),i=r.removedTargetIds||[];n=new bd([],i,s,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new eF(s,i),a=r.targetId;n=new wC(a,o)}}return n}function hF(t,e){let n;if(e instanceof Vc)n={update:M_(t,e.key,e.value)};else if(e instanceof yC)n={delete:Cg(t,e.key)};else if(e instanceof hi)n={update:M_(t,e.key,e.data),updateMask:_F(e.fieldMask)};else{if(!(e instanceof XV))return de(16599,{Vt:e.type});n={verify:Cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:cF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function fF(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?vr(s.updateTime):vr(i);return o.isEqual(he.min())&&(o=vr(i)),new KV(o,s.transformResults||[])}(n,e))):[]}function pF(t,e){return{documents:[bC(t,e.path)]}}function mF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bC(t,s);const i=function(d){if(d.length!==0)return CC(Xn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:To(p.field),direction:vF(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function gF(t){let e=uF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=SC(f);return p instanceof Xn&&eC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new mc(So(E.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,of(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new hh(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new hh(v,p)}(n.endAt)),OV(e,s,o,i,a,"F",c,d)}function yF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=So(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=So(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(So(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>SC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function vF(t){return iF[t]}function wF(t){return oF[t]}function xF(t){return aF[t]}function To(t){return{fieldPath:t.canonicalString()}}function So(t){return jt.fromServerFormat(t.fieldPath)}function CC(t){return t instanceof ht?function(n){if(n.op==="=="){if(b_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(E_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(E_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:wF(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>CC(s));return r.length===1?r[0]:{compositeFilter:{op:xF(n.op),filters:r}}}(t):de(54877,{filter:t})}function _F(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,s,i=he.min(),o=he.min(),a=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.yt=e}}function bF(t){const e=gF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.Cn=new SF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Qs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class SF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NC=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(NC,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ha(0)}static cr(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",CF=1048576;function F_([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class IF{constructor(e){this.Ir=e,this.buffer=new _t(F_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();F_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(V_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?Z(V_,"Ignoring IndexedDB error during garbage collection: ",n):await Na(n)}await this.Vr(3e5)})}}class kF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sf.ce);const r=new IF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(L_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Eo()<=Se.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function RF(t,e){return new kF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ul(r.mutation,s,vn.empty(),Me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=vl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=os();const o=Fl(),a=function(){return Fl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ul(h.mutation,d,h.mutation.getFieldMask(),Me.now())):o.set(d.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new AF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Fl();let s=new it((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||vn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Ie()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=cC();h.forEach(p=>{if(!i.has(p)){const v=mC(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Pi());let a=dc,c=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ie())).next(h=>({batchId:a,changes:lC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=vl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,c=>{const d=function(f,p){return new Ra(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,qt.newInvalidDocument(h)))});let a=vl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Ul(h.mutation,d,vn.empty(),Me.now()),cf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:bF(s.bundledQuery),readTime:vr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.overlays=new it(ae.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Pi(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Pi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Pi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZV(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Qr=new _t(Tt.$r),this.Ur=new _t(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new We([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new We([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(Tt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?hv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Ce);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new ae(i),0);let a=new _t(Ce);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.ri=e,this.docs=function(){return new it(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=os();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||fV(hV(h),r)<=0||(s.has(h.key)||cf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FF(this)}getSize(e){return $.resolve(this.size)}}class FF extends PF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.persistence=e,this.si=new oo(n=>mv(n),gv),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Ev,this.targetCount=0,this.ai=ha.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ha(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new MF,this.referenceDelegate=e(this),this.Pi=new UF(this),this.indexManager=new TF,this.remoteDocumentCache=function(s){return new VF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new EF(n),this.Ii=new DF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new LF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new $F(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class $F extends mV{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Ri=new Ev,this.Vi=null}static mi(e){return new bv(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.pi=new oo(r=>vV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=RF(this,n)}static mi(e,n){return new yh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Tv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yO()?8:gV(Yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Eo()<=Se.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Eo()<=Se.DEBUG&&Z("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Eo()<=Se.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):$.resolve())}ys(e,n){if(I_(n))return $.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fh(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,fh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return I_(n)||s.isEqual(he.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Eo()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bo(n)),this.vs(e,o,n,dV(s,dc)).next(a=>a))})}Ds(e,n){let r=new _t(oC(e));return n.forEach((s,i)=>{cf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Eo()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LocalStore",WF=3e8;class HF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new it(Ce),this.xs=new oo(i=>mv(i),gv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function qF(t,e,n,r){return new HF(t,e,n,r)}async function RC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ie();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function GF(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let v=$.resolve();return p.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(g=>{const _=d.docVersions.get(E);Ve(_!==null,48541),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,d),g.isValidDocument()&&(g.setReadTime(d.commitVersion),h.addEntry(g)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ie();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function KF(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Lt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(g,_,w){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=WF?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let c=os(),d=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(YF(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(he.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function YF(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=os();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(Sv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function QF(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XF(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new As(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ng(t,e,n){const r=pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ka(o))throw o;Z(Sv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function U_(t,e,n){const r=pe(t);let s=he.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=pe(c),p=f.xs.get(h);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,gr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ie())).next(a=>(JF(r,LV(e),a),{documents:a,Qs:i})))}function JF(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class $_{constructor(){this.activeTargetIds=zV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZF{constructor(){this.Mo=new $_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="ConnectivityMonitor";class z_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(B_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function kg(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RestConnection",t6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=kg(),a=this.zo(e,n.toUriEncodedString());Z(Hp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Ta(d);return this.Jo(e,a,c,r,h).then(f=>(Z(Hp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw la(Hp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=t6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class s6 extends n6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=kg();return new Promise((a,c)=>{const d=new j1;d.setWithCredentials(!0),d.listenOnce(D1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case wd.NO_ERROR:const f=d.getResponseJson();Z(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case wd.TIMEOUT:Z(Bt,`RPC '${e}' ${o} timed out`),c(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const p=d.getStatus();if(Z(Bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const g=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(E.status);c(new Q(g,E.message))}else c(new Q(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Q(U.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(Bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Bt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=kg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L1(),a=M1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(Bt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const E=new r6({Yo:_=>{v?Z(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(Z(Bt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Z(Bt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),g=(_,w,x)=>{_.listen(w,b=>{try{x(b)}catch(R){setTimeout(()=>{throw R},0)}})};return g(f,yl.EventType.OPEN,()=>{v||(Z(Bt,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),g(f,yl.EventType.CLOSE,()=>{v||(v=!0,Z(Bt,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(f))}),g(f,yl.EventType.ERROR,_=>{v||(v=!0,la(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),E.a_(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),g(f,yl.EventType.MESSAGE,_=>{var w;if(!v){const x=_.data[0];Ve(!!x,16349);const b=x,R=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(R){Z(Bt,`RPC '${e}' stream ${s} received error:`,R);const A=R.status;let O=function(N){const P=ut[N];if(P!==void 0)return vC(P)}(A),C=R.message;O===void 0&&(O=U.INTERNAL,C="Unknown error status: "+A+" with message "+R.message),v=!0,E.a_(new Q(O,C)),f.close()}else Z(Bt,`RPC '${e}' stream ${s} received:`,x),E.u_(x)}}),g(a,O1.STAT_EVENT,_=>{_.stat===yg.PROXY?Z(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===yg.NOPROXY&&Z(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new lF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="PersistentStream";class jC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(W_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i6 extends jC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dF(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?vr(o.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ig(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Eg(c)?{documents:pF(i,c)}:{query:mF(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_C(i,o.resumeToken);const d=Tg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=gh(i,o.snapshotVersion.toTimestamp());const d=Tg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=yF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ig(this.serializer),n.removeTarget=e,this.q_(n)}}class o6 extends jC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fF(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{}class l6 extends a6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Sg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Sg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class c6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="RemoteStore";class u6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ao(this)&&(Z(Hi,"Restarting streams for network reachability change."),await async function(c){const d=pe(c);d.Ea.add(4),await Uc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await pf(d)}(this))})}),this.Ra=new c6(r,s)}}async function pf(t){if(ao(t))for(const e of t.da)await e(!0)}async function Uc(t){for(const e of t.da)await e(!1)}function DC(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kv(n)?Nv(n):Pa(n).O_()&&Iv(n,e))}function Cv(t,e){const n=pe(t),r=Pa(n);n.Ia.delete(e),r.O_()&&OC(n,e),n.Ia.size===0&&(r.O_()?r.L_():ao(n)&&n.Ra.set("Unknown"))}function Iv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).Y_(e)}function OC(t,e){t.Va.Ue(e),Pa(t).Z_(e)}function Nv(t){t.Va=new sF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.Ra.ua()}function kv(t){return ao(t)&&!Pa(t).x_()&&t.Ia.size>0}function ao(t){return pe(t).Ea.size===0}function MC(t){t.Va=void 0}async function d6(t){t.Ra.set("Online")}async function h6(t){t.Ia.forEach((e,n)=>{Iv(t,e)})}async function f6(t,e){MC(t),kv(t)?(t.Ra.ha(e),Nv(t)):t.Ra.set("Unknown")}async function p6(t,e,n){if(t.Ra.set("Online"),e instanceof xC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(t,r)}else if(e instanceof bd?t.Va.Ze(e):e instanceof wC?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await PC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),OC(i,c);const f=new As(h.target,c,d,h.sequenceNumber);Iv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Hi,"Failed to raise snapshot:",r),await vh(t,r)}}async function vh(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await Uc(t),t.Ra.set("Offline"),n||(n=()=>PC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Hi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pf(t)})}function LC(t,e){return e().catch(n=>vh(t,n,e))}async function mf(t){const e=pe(t),n=ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hv;for(;m6(e);)try{const s=await QF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,g6(e,s)}catch(s){await vh(e,s)}VC(e)&&FC(e)}function m6(t){return ao(t)&&t.Ta.length<10}function g6(t,e){t.Ta.push(e);const n=ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VC(t){return ao(t)&&!ei(t).x_()&&t.Ta.length>0}function FC(t){ei(t).start()}async function y6(t){ei(t).ra()}async function v6(t){const e=ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function w6(t,e,n){const r=t.Ta.shift(),s=wv.from(r,e,n);await LC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mf(t)}async function x6(t,e){e&&ei(t).X_&&await async function(r,s){if(function(o){return tF(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();ei(r).B_(),await LC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mf(r)}}(t,e),VC(t)&&FC(t)}async function H_(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z(Hi,"RemoteStore received new credentials");const r=ao(n);n.Ea.add(3),await Uc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function _6(t,e){const n=pe(t);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await Uc(n),n.Ra.set("Unknown"))}function Pa(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new i6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:d6.bind(null,t),t_:h6.bind(null,t),r_:f6.bind(null,t),H_:p6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),kv(t)?Nv(t):t.Ra.set("Unknown")):(await t.ma.stop(),MC(t))})),t.ma}function ei(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new o6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:y6.bind(null,t),r_:x6.bind(null,t),ta:v6.bind(null,t),na:w6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Hi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Rv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(t,e){if(is("AsyncQueue",`${e}: ${t}`),ka(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.ga=new it(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class fa{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fa(e,n,Qo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class b6{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=G_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function G_(){return new oo(t=>iC(t),lf)}async function UC(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new E6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Pv(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Av(n)}async function $C(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T6(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Av(n)}function S6(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Av(t){t.Ca.forEach(e=>{e.next()})}var Rg,K_;(K_=Rg||(Rg={})).Ma="default",K_.Cache="cache";class BC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.key=e}}class WC{constructor(e){this.key=e}}class C6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=oC(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new q_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=cf(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),g=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;p&&v?p.data.isEqual(v.data)?E!==g&&(r.track({type:3,doc:v}),_=!0):this.su(p,v)||(r.track({type:2,doc:v}),_=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),_=!0):p&&!v&&(r.track({type:1,doc:p}),_=!0,(c||d)&&(a=!0)),_&&(v?(o=o.add(v),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,E){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:_})}};return g(v)-g(E)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new fa(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new WC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new zC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jv="SyncEngine";class I6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N6{constructor(e){this.key=e,this.hu=!1}}class k6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new oo(a=>iC(a),lf),this.Iu=new Map,this.Eu=new Set,this.du=new it(ae.comparator),this.Au=new Map,this.Ru=new Ev,this.Vu={},this.mu=new Map,this.fu=ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R6(t,e,n=!0){const r=QC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await HC(r,e,n,!0),s}async function P6(t,e){const n=QC(t);await HC(n,e,!0,!1)}async function HC(t,e,n,r){const s=await XF(t.localStore,gr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await A6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&DC(t.remoteStore,s),a}async function A6(t,e,n,r,s){t.pu=(f,p,v)=>async function(g,_,w,x){let b=_.view.ru(w);b.Cs&&(b=await U_(g.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,b)));const R=x&&x.targetChanges.get(_.targetId),A=x&&x.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,g.isPrimaryClient,R,A);return Q_(g,_.targetId,O.au),O.snapshot}(t,f,p,v);const i=await U_(t.localStore,e,!0),o=new C6(e,i.Qs),a=o.ru(i.documents),c=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);Q_(t,n,d.au);const h=new I6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function j6(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!lf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ng(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cv(r.remoteStore,s.targetId),Pg(r,s.targetId)}).catch(Na)):(Pg(r,s.targetId),await Ng(r.localStore,s.targetId,!0))}async function D6(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cv(n.remoteStore,r.targetId))}async function O6(t,e,n){const r=B6(t);try{const s=await function(o,a){const c=pe(o),d=Me.now(),h=a.reduce((v,E)=>v.add(E.key),Ie());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=os(),g=Ie();return c.Ns.getEntries(v,h).next(_=>{E=_,E.forEach((w,x)=>{x.isValidDocument()||(g=g.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(_=>{f=_;const w=[];for(const x of a){const b=QV(x,f.get(x.key).overlayedDocument);b!=null&&w.push(new hi(x.key,b,X1(b.value.mapValue),yr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,w,a)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(v,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:lC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new it(Ce)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await $c(r,s.changes),await mf(r.remoteStore)}catch(s){const i=Pv(s,"Failed to persist write");n.reject(i)}}async function qC(t,e){const n=pe(t);try{const r=await KF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await $c(n,r,e)}catch(r){await Na(r)}}function Y_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&Av(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M6(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new it(ae.comparator);o=o.insert(i,qt.newNoDocument(i,he.min()));const a=Ie().add(i),c=new hf(he.min(),new Map,new it(Ce),o,a);await qC(r,c),r.du=r.du.remove(i),r.Au.delete(e),Dv(r)}else await Ng(r.localStore,e,!1).then(()=>Pg(r,e,n)).catch(Na)}async function L6(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await GF(n.localStore,e);KC(n,r,null),GC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $c(n,s)}catch(s){await Na(s)}}async function V6(t,e,n){const r=pe(t);try{const s=await function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);KC(r,e,n),GC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $c(r,s)}catch(s){await Na(s)}}function GC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function KC(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||YC(t,r)})}function YC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Dv(t))}function Q_(t,e,n){for(const r of n)r instanceof zC?(t.Ru.addReference(r.key,e),F6(t,r)):r instanceof WC?(Z(jv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YC(t,r.key)):de(19791,{wu:r})}function F6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(jv,"New document in limbo: "+n),t.Eu.add(r),Dv(t))}function Dv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(We.fromString(e)),r=t.fu.next();t.Au.set(r,new N6(n)),t.du=t.du.insert(n,r),DC(t.remoteStore,new As(gr(yv(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function $c(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Tv.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,p=>$.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>$.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!ka(f))throw f;Z(Sv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),E=v.snapshotVersion,g=v.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(p,g)}}}(r.localStore,i))}async function U6(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z(jv,"User change. New user:",e.toKey());const r=await RC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Q(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $c(n,r.Ls)}}function $6(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function QC(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M6.bind(null,e),e.Pu.H_=T6.bind(null,e.eventManager),e.Pu.yu=S6.bind(null,e.eventManager),e}function B6(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V6.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qF(this.persistence,new zF,e.initialUser,this.serializer)}Cu(e){return new kC(bv.mi,this.serializer)}Du(e){return new ZF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class z6 extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new kC(r=>yh.mi(r,n),this.serializer)}}class Ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U6.bind(null,this.syncEngine),await _6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b6}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(i){return new s6(i)}(e.databaseInfo);return function(i,o,a,c){return new l6(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new u6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Y_(this.syncEngine,n,0),function(){return z_.v()?new z_:new e6}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new k6(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);Z(Hi,"RemoteStore shutting down."),i.Ea.add(5),await Uc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirestoreClient";class W6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gp(t,e){t.asyncQueue.verifyOperationInProgress(),Z(ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function X_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H6(t);Z(ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>H_(e.remoteStore,s)),t._onlineComponents=e}async function H6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(ti,"Using user provided OfflineComponentProvider");try{await Gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await Gp(t,new wh)}}else Z(ti,"Using default OfflineComponentProvider"),await Gp(t,new z6(void 0));return t._offlineComponents}async function JC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(ti,"Using user provided OnlineComponentProvider"),await X_(t,t._uninitializedComponentsProvider._online)):(Z(ti,"Using default OnlineComponentProvider"),await X_(t,new Ag))),t._onlineComponents}function q6(t){return JC(t).then(e=>e.syncEngine)}async function ZC(t){const e=await JC(t),n=e.eventManager;return n.onListen=R6.bind(null,e.syncEngine),n.onUnlisten=j6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D6.bind(null,e.syncEngine),n}function G6(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new XC({next:p=>{h.Nu(),o.enqueueAndForget(()=>$C(i,f));const v=p.docs.has(a);!v&&p.fromCache?d.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new BC(yv(a.path),h,{includeMetadataChanges:!0,qa:!0});return UC(i,f)}(await ZC(t),t.asyncQueue,e,n,r)),r.promise}function K6(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new XC({next:p=>{h.Nu(),o.enqueueAndForget(()=>$C(i,f)),p.fromCache&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new BC(a,h,{includeMetadataChanges:!0,qa:!0});return UC(i,f)}(await ZC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firestore.googleapis.com",Z_=!0;class eE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tI,this.ssl=Z_}else this.host=e.host,this.ssl=e.ssl??Z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CF)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eV;switch(r.type){case"firstParty":return new sV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),J_.delete(n),r.terminate())}(this),Promise.resolve()}}function Y6(t,e,n,r={}){var d;t=Ys(t,gf);const s=Ta(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&($S(`https://${a}`),BS("Firestore",!0)),i.host!==tI&&i.host!==a&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ks(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Wt.MOCK_USER;else{h=cO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Wt(p)}t._authCredentials=new tV(new F1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lc(n,pt._jsonSchema))return new pt(e,r||null,new ae(We.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ft("string",pt._jsonSchemaVersion),referencePath:ft("string")};class Ws extends fi{constructor(e,n,r){super(e,n,yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ae(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function yf(t,e,...n){if(t=mt(t),U1("collection","path",e),t instanceof gf){const r=We.fromString(e,...n);return f_(r),new Ws(t,null,r)}{if(!(t instanceof pt||t instanceof Ws))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return f_(r),new Ws(t.firestore,null,r)}}function nI(t,e,...n){if(t=mt(t),arguments.length===1&&(e=dv.newId()),U1("doc","path",e),t instanceof gf){const r=We.fromString(e,...n);return h_(r),new pt(t,null,new ae(r))}{if(!(t instanceof pt||t instanceof Ws))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return h_(r),new pt(t.firestore,t instanceof Ws?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AC(this,"async_queue_retry"),this._c=()=>{const r=qp();r&&Z(tE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;Z(tE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",rE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Rv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bc extends gf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new nE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function Q6(t,e){const n=typeof t=="object"?t:tv(),r=typeof t=="string"?t:uh,s=so(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=aO("firestore");i&&Y6(s,...i)}return s}function Ov(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X6(t),t._firestoreClient}function X6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new _V(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Lt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:ft("string",Pn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:ft("string",wr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xr(e.vectorValues);throw new Q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:ft("string",xr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^__.*__$/;class Z6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class rI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class Lv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sI(this.Ac)&&J6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Cc(e,n,r,s=!1){return new Lv({Ac:e,methodName:n,Dc:r,path:jt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new e3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t3(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Fv("Data must be an object, but it was:",o,r);const a=iI(r,o);let c,d;if(i.merge)c=new vn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=jg(e,f,n);if(!o.contains(p))throw new Q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);aI(h,p)||h.push(p)}c=new vn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new Z6(new an(a),c,d)}class wf extends Mv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function n3(t,e,n,r){const s=t.Cc(1,e,n);Fv("Data must be an object, but it was:",s,r);const i=[],o=an.empty();di(r,(c,d)=>{const h=Uv(e,c,n);d=mt(d);const f=s.yc(h);if(d instanceof wf)i.push(h);else{const p=zc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new vn(i);return new rI(o,a,s.fieldTransforms)}function r3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[jg(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(jg(e,i[p])),c.push(i[p+1]);const d=[],h=an.empty();for(let p=a.length-1;p>=0;--p)if(!aI(d,a[p])){const v=a[p];let E=c[p];E=mt(E);const g=o.yc(v);if(E instanceof wf)d.push(v);else{const _=zc(E,g);_!=null&&(d.push(v),h.set(v,_))}}const f=new vn(d);return new rI(h,f,o.fieldTransforms)}function s3(t,e,n,r=!1){return zc(n,t.Cc(r?4:3,e))}function zc(t,e){if(oI(t=mt(t)))return Fv("Unsupported field value:",e,t),iI(t,e);if(t instanceof Mv)return function(r,s){if(!sI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=zc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Me.fromDate(r);return{timestampValue:gh(s.serializer,i)}}if(r instanceof Me){const i=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(s.serializer,i)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:_C(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_v(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return function(o,a){return{mapValue:{fields:{[Y1]:{stringValue:Q1},[dh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return vv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${rf(r)}`)}(t,e)}function iI(t,e){const n={};return z1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,s)=>{const i=zc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function oI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof wr||t instanceof Pn||t instanceof pt||t instanceof Mv||t instanceof xr)}function Fv(t,e,n){if(!oI(n)||!$1(n)){const r=rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function jg(t,e,n){if((e=mt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Uv(t,e);throw xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const i3=new RegExp("[~\\*/\\[\\]]");function Uv(t,e,n){if(e.search(i3)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Q(U.INVALID_ARGUMENT,a+t+c)}function aI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o3 extends lI{data(){return super.data()}}function xf(t,e){return typeof e=="string"?Uv(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $v{}class Bv extends $v{}function cI(t,e,...n){let r=[];e instanceof $v&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof zv).length,a=i.filter(c=>c instanceof _f).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _f extends Bv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return dI(e._query,n),new fi(e.firestore,e.converter,bg(e._query,n))}_parse(e){const n=Vv(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){iE(f,h);const E=[];for(const g of f)E.push(sE(c,i,g));p={arrayValue:{values:E}}}else p=sE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||iE(f,h),p=s3(a,o,f,h==="in"||h==="not-in");return ht.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uI(t,e,n){const r=e,s=xf("where",t);return _f._create(s,r,n)}class zv extends $v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)dI(o,c),o=bg(o,c)}(e._query,n),new fi(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wv extends Bv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(i,o)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ra(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function l3(t,e="asc"){const n=e,r=xf("orderBy",t);return Wv._create(r,n)}class Hv extends Bv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,fh(e._query,this._limit,this._limitType))}}function c3(t){return Hv._create("limit",t,"F")}function sE(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ae.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return __(t,new ae(r))}if(n instanceof pt)return __(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u3{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[dh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>lt(o.doubleValue));return new xr(n)}convertGeoPoint(e){return new wr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ve(IC(r),9688,{name:e});const s=new fc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||is(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oi extends lI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oi._jsonSchema={type:ft("string",Oi._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class Td extends Oi{data(e={}){return super.data(e)}}class Xo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Td(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Td(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:h3(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){t=Ys(t,pt);const e=Ys(t.firestore,Bc);return G6(Ov(e),t._key).then(n=>m3(e,t,n))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:ft("string",Xo._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class hI extends u3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function fI(t){t=Ys(t,fi);const e=Ys(t.firestore,Bc),n=Ov(e),r=new hI(e);return a3(t._query),K6(n,t._query).then(s=>new Xo(e,r,t,s))}function p3(t,e,n,...r){t=Ys(t,pt);const s=Ys(t.firestore,Bc),i=Vv(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof vf?r3(i,"updateDoc",t._key,e,n,r):n3(i,"updateDoc",t._key,e),mI(s,[o.toMutation(t._key,yr.exists(!0))])}function pI(t,e){const n=Ys(t.firestore,Bc),r=nI(t),s=d3(t.converter,e);return mI(n,[t3(Vv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function mI(t,e){return function(r,s){const i=new Qr;return r.asyncQueue.enqueueAndForget(async()=>O6(await q6(r),s,i)),i.promise}(Ov(t),e)}function m3(t,e,n){const r=n.docs.get(e._key),s=new hI(t);return new Oi(t,s,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ia=s})(Sa),Sr(new Yn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Bc(new nV(r.getProvider("auth-internal")),new iV(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dn(l_,c_,e),Dn(l_,c_,"esm2020")})();const gI="@firebase/installations",qv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e4,vI=`w:${qv}`,wI="FIS_v2",g3="https://firebaseinstallations.googleapis.com/v1",y3=60*60*1e3,v3="installations",w3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qi=new ro(v3,w3,x3);function xI(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I({projectId:t}){return`${g3}/projects/${t}/installations`}function EI(t){return{token:t.token,requestStatus:2,expiresIn:E3(t.expiresIn),creationTime:Date.now()}}async function bI(t,e){const r=(await e.json()).error;return qi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function TI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _3(t,{refreshToken:e}){const n=TI(t);return n.append("Authorization",b3(e)),n}async function SI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function E3(t){return Number(t.replace("s","000"))}function b3(t){return`${wI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_I(t),s=TI(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:wI,appId:t.appId,sdkVersion:vI},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await SI(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:EI(d.authToken)}}else throw await bI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^[cdef][\w-]{21}$/,Dg="";function I3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=N3(t);return C3.test(n)?n:Dg}catch{return Dg}}function N3(t){return S3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Map;function NI(t,e){const n=Ef(t);kI(n,e),k3(n,e)}function kI(t,e){const n=II.get(t);if(n)for(const r of n)r(e)}function k3(t,e){const n=R3();n&&n.postMessage({key:t,fid:e}),P3()}let Ai=null;function R3(){return!Ai&&"BroadcastChannel"in self&&(Ai=new BroadcastChannel("[Firebase] FID Change"),Ai.onmessage=t=>{kI(t.data.key,t.data.fid)}),Ai}function P3(){II.size===0&&Ai&&(Ai.close(),Ai=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="firebase-installations-database",j3=1,Gi="firebase-installations-store";let Kp=null;function Gv(){return Kp||(Kp=KS(A3,j3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gi)}}})),Kp}async function _h(t,e){const n=Ef(t),s=(await Gv()).transaction(Gi,"readwrite"),i=s.objectStore(Gi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&NI(t,e.fid),e}async function RI(t){const e=Ef(t),r=(await Gv()).transaction(Gi,"readwrite");await r.objectStore(Gi).delete(e),await r.done}async function bf(t,e){const n=Ef(t),s=(await Gv()).transaction(Gi,"readwrite"),i=s.objectStore(Gi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&NI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t){let e;const n=await bf(t.appConfig,r=>{const s=D3(r),i=O3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Dg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function D3(t){const e=t||{fid:I3(),registrationStatus:0};return PI(e)}function O3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(qi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=M3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:L3(t)}:{installationEntry:e}}async function M3(t,e){try{const n=await T3(t,e);return _h(t.appConfig,n)}catch(n){throw xI(n)&&n.customData.serverCode===409?await RI(t.appConfig):await _h(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function L3(t){let e=await oE(t.appConfig);for(;e.registrationStatus===1;)await CI(100),e=await oE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Kv(t);return r||n}return e}function oE(t){return bf(t,e=>{if(!e)throw qi.create("installation-not-found");return PI(e)})}function PI(t){return V3(t)?{fid:t.fid,registrationStatus:0}:t}function V3(t){return t.registrationStatus===1&&t.registrationTime+yI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3({appConfig:t,heartbeatServiceProvider:e},n){const r=U3(t,n),s=_3(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:vI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await SI(()=>fetch(r,a));if(c.ok){const d=await c.json();return EI(d)}else throw await bI("Generate Auth Token",c)}function U3(t,{fid:e}){return`${_I(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(t,e=!1){let n;const r=await bf(t.appConfig,i=>{if(!AI(i))throw qi.create("not-registered");const o=i.authToken;if(!e&&z3(o))return i;if(o.requestStatus===1)return n=$3(t,e),i;{if(!navigator.onLine)throw qi.create("app-offline");const a=H3(i);return n=B3(t,a),a}});return n?await n:r.authToken}async function $3(t,e){let n=await aE(t.appConfig);for(;n.authToken.requestStatus===1;)await CI(100),n=await aE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Yv(t,e):r}function aE(t){return bf(t,e=>{if(!AI(e))throw qi.create("not-registered");const n=e.authToken;return q3(n)?{...e,authToken:{requestStatus:0}}:e})}async function B3(t,e){try{const n=await F3(t,e),r={...e,authToken:n};return await _h(t.appConfig,r),n}catch(n){if(xI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await RI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await _h(t.appConfig,r)}throw n}}function AI(t){return t!==void 0&&t.registrationStatus===2}function z3(t){return t.requestStatus===2&&!W3(t)}function W3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+y3}function H3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function q3(t){return t.requestStatus===1&&t.requestTime+yI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Kv(e);return r?r.catch(console.error):Yv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e=!1){const n=t;return await Y3(n),(await Yv(n,e)).token}async function Y3(t){const{registrationPromise:e}=await Kv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){if(!t||!t.options)throw Yp("App Configuration");if(!t.name)throw Yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yp(t){return qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="installations",X3="installations-internal",J3=t=>{const e=t.getProvider("app").getImmediate(),n=Q3(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Z3=t=>{const e=t.getProvider("app").getImmediate(),n=so(e,jI).getImmediate();return{getId:()=>G3(n),getToken:s=>K3(n,s)}};function e5(){Sr(new Yn(jI,J3,"PUBLIC")),Sr(new Yn(X3,Z3,"PRIVATE"))}e5();Dn(gI,qv);Dn(gI,qv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="analytics",t5="firebase_id",n5="origin",r5=60*1e3,s5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new ro("analytics","Analytics",i5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){if(!t.startsWith(Qv)){const e=xn.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(e.message),""}return t}function DI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function a5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function l5(t,e){const n=a5("firebase-js-sdk-policy",{createScriptURL:o5}),r=document.createElement("script"),s=`${Qv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function c5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function u5(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await DI(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){hn.error(a)}t("config",s,i)}async function d5(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await DI(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){hn.error(i)}}function h5(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await d5(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await u5(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){hn.error(a)}}return s}function f5(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=h5(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function p5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=30,g5=1e3;class y5{constructor(e={},n=g5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OI=new y5;function v5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function w5(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:v5(n)},s=s5.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(a=c.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function x5(t,e=OI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw xn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new b5;return setTimeout(async()=>{a.abort()},r5),MI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function MI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=OI){var a;const{appId:i,measurementId:o}=t;try{await _5(r,e)}catch(c){if(o)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await w5(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!E5(d)){if(s.deleteThrottleMetadata(i),o)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?j0(n,s.intervalMillis,m5):j0(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),hn.debug(`Calling attemptFetch again in ${h} millis`),MI(t,f,r,s)}}function _5(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E5(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class b5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T5(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(){if(WS())try{await HS()}catch(t){return hn.warn(xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function C5(t,e,n,r,s,i,o){const a=x5(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>hn.error(p)),e.push(a);const c=S5().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,c]);p5(i)||l5(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[n5]="firebase",f.update=!0,h!=null&&(f[t5]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.app=e}_delete(){return delete $l[this.app.options.appId],Promise.resolve()}}let $l={},lE=[];const cE={};let Qp="dataLayer",N5="gtag",uE,LI,dE=!1;function k5(){const t=[];if(zS()&&t.push("This is a browser extension environment."),vO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function R5(t,e,n){k5();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if($l[r]!=null)throw xn.create("already-exists",{id:r});if(!dE){c5(Qp);const{wrappedGtag:i,gtagCore:o}=f5($l,lE,cE,Qp,N5);LI=i,uE=o,dE=!0}return $l[r]=C5(t,lE,cE,e,uE,Qp,n),new I5(t)}function P5(t=tv()){t=mt(t);const e=so(t,Eh);return e.isInitialized()?e.getImmediate():A5(t)}function A5(t,e={}){const n=so(t,Eh);if(n.isInitialized()){const s=n.getImmediate();if(Ks(e,n.getOptions()))return s;throw xn.create("already-initialized")}return n.initialize({options:e})}function j5(t,e,n,r){t=mt(t),T5(LI,$l[t.app.options.appId],e,n,r).catch(s=>hn.error(s))}const hE="@firebase/analytics",fE="0.10.18";function D5(){Sr(new Yn(Eh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return R5(r,s,n)},"PUBLIC")),Sr(new Yn("analytics-internal",t,"PRIVATE")),Dn(hE,fE),Dn(hE,fE,"esm2020");function t(e){try{const n=e.getProvider(Eh).getImmediate();return{logEvent:(r,s,i)=>j5(n,r,s,i)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}D5();const O5={apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},Xv=YS(O5),qu=QL(Xv),Wc=Q6(Xv);typeof window<"u"&&P5(Xv);const VI=y.createContext(void 0),M5=()=>{const t=y.useContext(VI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},L5=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>V4(qu,h=>{n(h),s(!1)}),[]);const c={user:e,login:async(d,h)=>{await O4(qu,d,h)},register:async(d,h)=>{await D4(qu,d,h)},logout:async()=>{await F4(qu)},loading:r};return l.jsx(VI.Provider,{value:c,children:!r&&t})};function pE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=pE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():pE(t[s],null)}}}}function Le(...t){return y.useCallback(FI(...t),t)}function Ki(t){const e=F5(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find($5);if(c){const d=c.props.children,h=a.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var V5=Ki("Slot");function F5(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=z5(s),a=B5(i,s.props);return s.type!==y.Fragment&&(a.ref=r?FI(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var U5=Symbol("radix.slottable");function $5(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U5}function B5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function z5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=UI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $I(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=UI(t))&&(r&&(r+=" "),r+=e);return r}const mE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gE=$I,Jv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=mE(h)||mE(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(E=>{let[g,_]=E;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...d,f,p]:d},[]);return gE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Zv="-",W5=t=>{const e=q5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Zv);return a[0]===""&&a.length!==1&&a.shift(),BI(a,e)||H5(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},BI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?BI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Zv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},yE=/^\[(.+)\]$/,H5=t=>{if(yE.test(t)){const e=yE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},q5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return K5(Object.entries(t.classGroups),n).forEach(([i,o])=>{Og(o,r,i,e)}),r},Og=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(G5(s)){Og(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Og(o,vE(e,i),n,r)})})},vE=(t,e)=>{let n=t;return e.split(Zv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G5=t=>t.isThemeGetter,K5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Y5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},zI="!",Q5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let _=0;_<a.length;_++){let w=a[_];if(d===0){if(w===s&&(r||a.slice(_,_+i)===e)){c.push(a.slice(h,_)),h=_+i;continue}if(w==="/"){f=_;continue}}w==="["?d++:w==="]"&&d--}const p=c.length===0?a:a.substring(h),v=p.startsWith(zI),E=v?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},X5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},J5=t=>({cache:Y5(t.cacheSize),parseClassName:Q5(t),...W5(t)}),Z5=/\s+/,eU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Z5);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let E=!!v,g=r(E?p.substring(0,v):p);if(!g){if(!E){a=d+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=d+(a.length>0?" "+a:a);continue}E=!1}const _=X5(h).join(":"),w=f?_+zI:_,x=w+g;if(i.includes(x))continue;i.push(x);const b=s(g,E);for(let R=0;R<b.length;++R){const A=b[R];i.push(w+A)}a=d+(a.length>0?" "+a:a)}return a};function tU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=WI(e))&&(r&&(r+=" "),r+=n);return r}const WI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=WI(t[r]))&&(n&&(n+=" "),n+=e);return n};function nU(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=J5(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=eU(c,n);return s(c,h),h}return function(){return i(tU.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HI=/^\[(?:([a-z-]+):)?(.+)\]$/i,rU=/^\d+\/\d+$/,sU=new Set(["px","full","screen"]),iU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=t=>Jo(t)||sU.has(t)||rU.test(t),vs=t=>Aa(t,"length",yU),Jo=t=>!!t&&!Number.isNaN(Number(t)),Xp=t=>Aa(t,"number",Jo),al=t=>!!t&&Number.isInteger(Number(t)),uU=t=>t.endsWith("%")&&Jo(t.slice(0,-1)),ge=t=>HI.test(t),ws=t=>iU.test(t),dU=new Set(["length","size","percentage"]),hU=t=>Aa(t,dU,qI),fU=t=>Aa(t,"position",qI),pU=new Set(["image","url"]),mU=t=>Aa(t,pU,wU),gU=t=>Aa(t,"",vU),ll=()=>!0,Aa=(t,e,n)=>{const r=HI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yU=t=>oU.test(t)&&!aU.test(t),qI=()=>!1,vU=t=>lU.test(t),wU=t=>cU.test(t),xU=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),c=Ge("contrast"),d=Ge("grayscale"),h=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),v=Ge("gradientColorStops"),E=Ge("gradientColorStopPositions"),g=Ge("inset"),_=Ge("margin"),w=Ge("opacity"),x=Ge("padding"),b=Ge("saturate"),R=Ge("scale"),A=Ge("sepia"),O=Ge("skew"),C=Ge("space"),S=Ge("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ge,e],D=()=>[ge,e],j=()=>["",Lr,vs],H=()=>["auto",Jo,ge],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ge],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Jo,ge];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[Lr,vs],blur:["none","",ws,ge],brightness:J(),borderColor:[t],borderRadius:["none","","full",ws,ge],borderSpacing:D(),borderWidth:j(),contrast:J(),grayscale:L(),hueRotate:J(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[uU,vs],inset:I(),margin:I(),opacity:J(),padding:D(),saturate:J(),scale:J(),sepia:L(),skew:J(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),ge]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",al,ge]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",al,ge]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",al,ge]},ge]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[al,ge]},ge]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xp]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Jo,Xp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,vs]}],"underline-offset":[{"underline-offset":["auto",Lr,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),fU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Lr,ge]}],"outline-w":[{outline:[Lr,vs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Lr,vs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,gU]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ws,ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[al,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Lr,vs,Xp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_U=nU(xU);function X(...t){return _U($I(t))}const Mg=Jv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?V5:"button";return l.jsx(o,{className:X(Mg({variant:e,size:n,className:t})),ref:i,...s})});re.displayName="Button";const ye=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ye.displayName="Card";const Xe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const Je=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("text-2xl font-semibold leading-none tracking-tight",t),...e}));Je.displayName="CardTitle";const en=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("text-sm text-muted-foreground",t),...e}));en.displayName="CardDescription";const xe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("p-6 pt-0",t),...e}));xe.displayName="CardContent";const EU=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:X("flex items-center p-6 pt-0",t),...e}));EU.displayName="CardFooter";const bU=Jv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gt({className:t,variant:e,...n}){return l.jsx("div",{className:X(bU({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...SU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:GI("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(CU,{ref:i,iconNode:e,className:GI(`lucide-${TU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ee("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Ee("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ee("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zU(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[l.jsx("section",{className:"relative py-20 px-4",children:l.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(Gt,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[l.jsx(FU,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(re,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",l.jsx(Gu,{className:"ml-2 h-5 w-5"})]}),l.jsx(re,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:l.jsxs(ac,{to:"/brooklyn-hearts-club",children:["View Live Example",l.jsx(Gu,{className:"ml-2 h-5 w-5"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Xe,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Ot,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Je,{className:"text-xl",children:"Custom Event Pages"}),l.jsx(en,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),l.jsx(ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Xe,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Wr,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Je,{className:"text-xl",children:"Automated Waitlists"}),l.jsx(en,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),l.jsx(ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Xe,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Mi,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Je,{className:"text-xl",children:"Community Messaging"}),l.jsx(en,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),l.jsx(ye,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:l.jsx(xe,{className:"p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx(Gt,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l.jsx(re,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:l.jsxs(ac,{to:"/brooklyn-hearts-club",children:["Visit Brooklyn Hearts Club",l.jsx(Gu,{className:"ml-2 h-4 w-4"})]})})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),l.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:l.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),l.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),l.jsxs(re,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",l.jsx(Gu,{className:"ml-2 h-5 w-5"})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),l.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:l.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}function Ku(){return{apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const eN={development:{name:"development",dataSource:"firebase",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function Sh(){const t="development";if(eN[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")||e.includes("voxxy-presents-client-staging")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function tw(){const t=Sh();return eN[t]}function nw(t){return tw().features[t]}function _E(){return tw().dataSource}function Lg(){return tw().apiBaseUrl}const WU=Lg()||void 0||"http://localhost:3001/api";class Cd extends Error{constructor(n,r){super(n);mx(this,"status");this.status=r,this.name="ApiError"}}async function kn(t,e){const n=`${WU}${t}`;try{console.log("API Request:",{url:n,method:(e==null?void 0:e.method)||"GET",timestamp:new Date().toISOString()});const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e});if(!r.ok){let i={};try{i=await r.json()}catch{i={message:`HTTP ${r.status}: ${r.statusText}`}}console.error("API Error Response:",{url:n,status:r.status,statusText:r.statusText,errorData:i,timestamp:new Date().toISOString()});const o=i.message||i.error||`API request failed (${r.status})`;throw new Cd(o,r.status)}const s=await r.json();return console.log("API Success:",{url:n,dataKeys:Object.keys(s||{}),timestamp:new Date().toISOString()}),s}catch(r){throw r instanceof Cd?r:(console.error("Network Error:",{url:n,error:r instanceof Error?r.message:"Unknown error",timestamp:new Date().toISOString()}),new Cd(`Network error: ${r instanceof Error?r.message:"Unknown error"}`,0))}}const Vg={async getBySlug(t){return kn(`/organizations/${t}`)},async create(t){return kn("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return kn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},Yi={async getById(t){return kn(`/events/${t}`)},async getByOrganization(t){return kn(`/events?organization=${t}`)},async getAll(){return kn("/events")},async create(t){return kn("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return kn(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return kn(`/events/${t}`,{method:"DELETE"})}},tN={async create(t){return kn("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return kn(`/registrations/event/${t}`)},async markEmailSent(t){return kn(`/registrations/${t}/email-sent`,{method:"PATCH"})}};function HU(){const[t,e]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState(!0),[o,a]=y.useState(null);y.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0),a(null);const h=await Vg.getBySlug("brooklyn-hearts-club");e(h);const f=await Yi.getByOrganization(h.id);r(f)}catch(h){console.error("Error loading Brooklyn Hearts Club data:",h),a(h instanceof Error?h.message:"Failed to load data")}finally{i(!1)}};return{organization:t,events:n,loading:s,error:o,refreshEvents:async()=>{if(t)try{const h=await Yi.getByOrganization(t.id);r(h)}catch(h){console.error("Error refreshing events:",h)}},reload:c}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qU(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function tr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const d=f=>{var w;const{scope:p,children:v,...E}=f,g=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,_=y.useMemo(()=>E,Object.values(E));return l.jsx(g.Provider,{value:_,children:v})};d.displayName=i+"Provider";function h(f,p){var g;const v=((g=p==null?void 0:p[t])==null?void 0:g[c])||a,E=y.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,GU(s,...e)]}function GU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},KU=pb[" useId ".trim().toString()]||(()=>{}),YU=0;function Xr(t){const[e,n]=y.useState(KU());return Qt(()=>{n(r=>r??String(YU++))},[t]),e?`radix-${e}`:""}var QU=pb[" useInsertionEffect ".trim().toString()]||Qt;function as({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=XU({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const p=JU(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[c,d]}function XU({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return QU(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function JU(t){return typeof t=="function"}var ZU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=ZU.reduce((t,e)=>{const n=Ki(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function e9(t,e){t&&_a.flushSync(()=>t.dispatchEvent(e))}function ri(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function t9(t,e=globalThis==null?void 0:globalThis.document){const n=ri(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var n9="DismissableLayer",Fg="dismissableLayer.update",r9="dismissableLayer.pointerDownOutside",s9="dismissableLayer.focusOutside",EE,nN=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=y.useContext(nN),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),E=Le(e,C=>f(C)),g=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(_),x=h?g.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,R=x>=w,A=a9(C=>{const S=C.target,N=[...d.branches].some(P=>P.contains(S));!R||N||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=l9(C=>{const S=C.target;[...d.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return t9(C=>{x===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(EE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),bE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=EE)}},[h,p,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),bE())},[h,d]),y.useEffect(()=>{const C=()=>v({});return document.addEventListener(Fg,C),()=>document.removeEventListener(Fg,C)},[]),l.jsx(me.div,{...c,ref:E,style:{pointerEvents:b?R?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,A.onPointerDownCapture)})});Tf.displayName=n9;var i9="DismissableLayerBranch",o9=y.forwardRef((t,e)=>{const n=y.useContext(nN),r=y.useRef(null),s=Le(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(me.div,{...t,ref:s})});o9.displayName=i9;function a9(t,e=globalThis==null?void 0:globalThis.document){const n=ri(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){rN(r9,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function l9(t,e=globalThis==null?void 0:globalThis.document){const n=ri(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&rN(s9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bE(){const t=new CustomEvent(Fg);document.dispatchEvent(t)}function rN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?e9(s,i):s.dispatchEvent(i)}var Zp="focusScope.autoFocusOnMount",em="focusScope.autoFocusOnUnmount",TE={bubbles:!1,cancelable:!0},c9="FocusScope",Sf=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),d=ri(s),h=ri(i),f=y.useRef(null),p=Le(e,g=>c(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(v.paused||!a)return;const R=b.target;a.contains(R)?f.current=R:_s(f.current,{select:!0})},_=function(b){if(v.paused||!a)return;const R=b.relatedTarget;R!==null&&(a.contains(R)||_s(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const A of b)A.removedNodes.length>0&&_s(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),x.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){CE.add(v);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(Zp,TE);a.addEventListener(Zp,d),a.dispatchEvent(w),w.defaultPrevented||(u9(m9(sN(a)),{select:!0}),document.activeElement===g&&_s(a))}return()=>{a.removeEventListener(Zp,d),setTimeout(()=>{const w=new CustomEvent(em,TE);a.addEventListener(em,h),a.dispatchEvent(w),w.defaultPrevented||_s(g??document.body,{select:!0}),a.removeEventListener(em,h),CE.remove(v)},0)}}},[a,d,h,v]);const E=y.useCallback(g=>{if(!n&&!r||v.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(_&&w){const x=g.currentTarget,[b,R]=d9(x);b&&R?!g.shiftKey&&w===R?(g.preventDefault(),n&&_s(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),n&&_s(R,{select:!0})):w===x&&g.preventDefault()}},[n,r,v.paused]);return l.jsx(me.div,{tabIndex:-1,...o,ref:p,onKeyDown:E})});Sf.displayName=c9;function u9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_s(r,{select:e}),document.activeElement!==n)return}function d9(t){const e=sN(t),n=SE(e,t),r=SE(e.reverse(),t);return[n,r]}function sN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SE(t,e){for(const n of t)if(!h9(n,{upTo:e}))return n}function h9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function f9(t){return t instanceof HTMLInputElement&&"select"in t}function _s(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&f9(t)&&e&&t.select()}}var CE=p9();function p9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=IE(t,e),t.unshift(e)},remove(e){var n;t=IE(t,e),(n=t[0])==null||n.resume()}}}function IE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function m9(t){return t.filter(e=>e.tagName!=="A")}var g9="Portal",Cf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kj.createPortal(l.jsx(me.div,{...r,ref:e}),o):null});Cf.displayName=g9;function y9(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ds=t=>{const{present:e,children:n}=t,r=v9(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Le(r.ref,w9(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ds.displayName="Presence";function v9(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=y9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Yu(r.current);i.current=a==="mounted"?d:"none"},[a]),Qt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,v=Yu(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Qt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const g=Yu(r.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=v=>{v.target===e&&(i.current=Yu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Yu(t){return(t==null?void 0:t.animationName)||"none"}function w9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tm=0;function rw(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NE()),document.body.insertAdjacentElement("beforeend",t[1]??NE()),tm++,()=>{tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tm--}},[])}function NE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cr=function(){return cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cr.apply(this,arguments)};function iN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function x9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Id="right-scroll-bar-position",Nd="width-before-scroll-bar",_9="with-scroll-bars-hidden",E9="--removed-body-scroll-bar-size";function nm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function b9(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var T9=typeof window<"u"?y.useLayoutEffect:y.useEffect,kE=new WeakMap;function S9(t,e){var n=b9(null,function(r){return t.forEach(function(s){return nm(s,r)})});return T9(function(){var r=kE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||nm(a,null)}),i.forEach(function(a){s.has(a)||nm(a,o)})}kE.set(n,t)},[t]),n}function C9(t){return t}function I9(t,e){e===void 0&&(e=C9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function N9(t){t===void 0&&(t={});var e=I9(null);return e.options=cr({async:!0,ssr:!1},t),e}var oN=function(t){var e=t.sideCar,n=iN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,cr({},n))};oN.isSideCarExport=!0;function k9(t,e){return t.useMedium(e),oN}var aN=N9(),rm=function(){},If=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:rm,onWheelCapture:rm,onTouchMoveCapture:rm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noRelative,E=t.noIsolation,g=t.inert,_=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,b=t.gapMode,R=iN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,O=S9([n,e]),C=cr(cr({},R),s);return y.createElement(y.Fragment,null,h&&y.createElement(A,{sideCar:aN,removeScrollBar:d,shards:f,noRelative:v,noIsolation:E,inert:g,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(a),cr(cr({},C),{ref:O})):y.createElement(x,cr({},C,{className:c,ref:O}),a))});If.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};If.classNames={fullWidth:Nd,zeroRight:Id};var R9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R9();return e&&t.setAttribute("nonce",e),t}function A9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function j9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var D9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=P9())&&(A9(e,n),j9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O9=function(){var t=D9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lN=function(){var t=O9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},M9={left:0,top:0,right:0,gap:0},sm=function(t){return parseInt(t||"",10)||0},L9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sm(n),sm(r),sm(s)]},V9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M9;var e=L9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},F9=lN(),Zo="data-scroll-locked",U9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Id,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(E9,": ").concat(a,`px;
  }
`)},RE=function(){var t=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(t)?t:0},$9=function(){y.useEffect(function(){return document.body.setAttribute(Zo,(RE()+1).toString()),function(){var t=RE()-1;t<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,t.toString())}},[])},B9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$9();var i=y.useMemo(function(){return V9(s)},[s]);return y.createElement(F9,{styles:U9(i,!e,s,n?"":"!important")})},Ug=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{Ug=!1}var yo=Ug?{passive:!1}:!1,z9=function(t){return t.tagName==="TEXTAREA"},cN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!z9(t)&&n[e]==="visible")},W9=function(t){return cN(t,"overflowY")},H9=function(t){return cN(t,"overflowX")},PE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uN(t,r);if(s){var i=dN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},q9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},G9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uN=function(t,e){return t==="v"?W9(e):H9(e)},dN=function(t,e){return t==="v"?q9(e):G9(e)},K9=function(t,e){return t==="h"&&e==="rtl"?-1:1},Y9=function(t,e,n,r,s){var i=K9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var v=dN(t,a),E=v[0],g=v[1],_=v[2],w=g-_-i*E;(E||w)&&uN(t,a)&&(f+=w,p+=E);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Xu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AE=function(t){return[t.deltaX,t.deltaY]},jE=function(t){return t&&"current"in t?t.current:t},Q9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J9=0,vo=[];function Z9(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(J9++)[0],i=y.useState(lN)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=x9([t.lockRef.current],(t.shards||[]).map(jE),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Xu(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-w[0],R="deltaY"in g?g.deltaY:x[1]-w[1],A,O=g.target,C=Math.abs(b)>Math.abs(R)?"h":"v";if("touches"in g&&C==="h"&&O.type==="range")return!1;var S=PE(C,O);if(!S)return!0;if(S?A=C:(A=C==="v"?"h":"v",S=PE(C,O)),!S)return!1;if(!r.current&&"changedTouches"in g&&(b||R)&&(r.current=A),!A)return!0;var N=r.current||A;return Y9(N,_,g,N==="h"?b:R)},[]),c=y.useCallback(function(g){var _=g;if(!(!vo.length||vo[vo.length-1]!==i)){var w="deltaY"in _?AE(_):Xu(_),x=e.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&Q9(A.delta,w)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(jE).filter(Boolean).filter(function(A){return A.contains(_.target)}),R=b.length>0?a(_,b[0]):!o.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),d=y.useCallback(function(g,_,w,x){var b={name:g,delta:_,target:w,should:x,shadowParent:e$(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(R){return R!==b})},1)},[]),h=y.useCallback(function(g){n.current=Xu(g),r.current=void 0},[]),f=y.useCallback(function(g){d(g.type,AE(g),g.target,a(g,t.lockRef.current))},[]),p=y.useCallback(function(g){d(g.type,Xu(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return vo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,yo),document.addEventListener("touchmove",c,yo),document.addEventListener("touchstart",h,yo),function(){vo=vo.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,yo),document.removeEventListener("touchmove",c,yo),document.removeEventListener("touchstart",h,yo)}},[]);var v=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(i,{styles:X9(s)}):null,v?y.createElement(B9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function e$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const t$=k9(aN,Z9);var Nf=y.forwardRef(function(t,e){return y.createElement(If,cr({},t,{ref:e,sideCar:t$}))});Nf.classNames=If.classNames;var n$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wo=new WeakMap,Ju=new WeakMap,Zu={},im=0,hN=function(t){return t&&(t.host||hN(t.parentNode))},r$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},s$=function(t,e,n,r){var s=r$(e,Array.isArray(t)?t:[t]);Zu[n]||(Zu[n]=new WeakMap);var i=Zu[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var v=p.getAttribute(r),E=v!==null&&v!=="false",g=(wo.get(p)||0)+1,_=(i.get(p)||0)+1;wo.set(p,g),i.set(p,_),o.push(p),g===1&&E&&Ju.set(p,!0),_===1&&p.setAttribute(n,"true"),E||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),a.clear(),im++,function(){o.forEach(function(f){var p=wo.get(f)-1,v=i.get(f)-1;wo.set(f,p),i.set(f,v),p||(Ju.has(f)||f.removeAttribute(r),Ju.delete(f)),v||f.removeAttribute(n)}),im--,im||(wo=new WeakMap,wo=new WeakMap,Ju=new WeakMap,Zu={})}},sw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=n$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),s$(r,s,n,"aria-hidden")):function(){return null}},kf="Dialog",[fN,jH]=tr(kf),[i$,nr]=fN(kf),pN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[d,h]=as({prop:r,defaultProp:s??!1,onChange:i,caller:kf});return l.jsx(i$,{scope:e,triggerRef:a,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};pN.displayName=kf;var mN="DialogTrigger",o$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(mN,n),i=Le(e,s.triggerRef);return l.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aw(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});o$.displayName=mN;var iw="DialogPortal",[a$,gN]=fN(iw,{forceMount:void 0}),yN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=nr(iw,e);return l.jsx(a$,{scope:e,forceMount:n,children:y.Children.map(r,o=>l.jsx(ds,{present:n||i.open,children:l.jsx(Cf,{asChild:!0,container:s,children:o})}))})};yN.displayName=iw;var Ch="DialogOverlay",vN=y.forwardRef((t,e)=>{const n=gN(Ch,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=nr(Ch,t.__scopeDialog);return i.modal?l.jsx(ds,{present:r||i.open,children:l.jsx(c$,{...s,ref:e})}):null});vN.displayName=Ch;var l$=Ki("DialogOverlay.RemoveScroll"),c$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(Ch,n);return l.jsx(Nf,{as:l$,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(me.div,{"data-state":aw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",wN=y.forwardRef((t,e)=>{const n=gN(Qi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=nr(Qi,t.__scopeDialog);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(u$,{...s,ref:e}):l.jsx(d$,{...s,ref:e})})});wN.displayName=Qi;var u$=y.forwardRef((t,e)=>{const n=nr(Qi,t.__scopeDialog),r=y.useRef(null),s=Le(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return sw(i)},[]),l.jsx(xN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),d$=y.forwardRef((t,e)=>{const n=nr(Qi,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(xN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xN=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=nr(Qi,n),c=y.useRef(null),d=Le(e,c);return rw(),l.jsxs(l.Fragment,{children:[l.jsx(Sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Tf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(h$,{titleId:a.titleId}),l.jsx(p$,{contentRef:c,descriptionId:a.descriptionId})]})]})}),ow="DialogTitle",_N=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(ow,n);return l.jsx(me.h2,{id:s.titleId,...r,ref:e})});_N.displayName=ow;var EN="DialogDescription",bN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(EN,n);return l.jsx(me.p,{id:s.descriptionId,...r,ref:e})});bN.displayName=EN;var TN="DialogClose",SN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(TN,n);return l.jsx(me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});SN.displayName=TN;function aw(t){return t?"open":"closed"}var CN="DialogTitleWarning",[DH,IN]=qU(CN,{contentName:Qi,titleName:ow,docsSlug:"dialog"}),h$=({titleId:t})=>{const e=IN(CN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},f$="DialogDescriptionWarning",p$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IN(f$).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},m$=pN,g$=yN,NN=vN,kN=wN,RN=_N,PN=bN,y$=SN;const qc=m$,v$=g$,AN=y.forwardRef(({className:t,...e},n)=>l.jsx(NN,{ref:n,className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AN.displayName=NN.displayName;const ja=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(v$,{children:[l.jsx(AN,{}),l.jsxs(kN,{ref:r,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(y$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Hc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ja.displayName=kN.displayName;const Da=({className:t,...e})=>l.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Da.displayName="DialogHeader";const Oa=y.forwardRef(({className:t,...e},n)=>l.jsx(RN,{ref:n,className:X("text-lg font-semibold leading-none tracking-tight",t),...e}));Oa.displayName=RN.displayName;const Rf=y.forwardRef(({className:t,...e},n)=>l.jsx(PN,{ref:n,className:X("text-sm text-muted-foreground",t),...e}));Rf.displayName=PN.displayName;const le=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));le.displayName="Input";var w$="Label",jN=y.forwardRef((t,e)=>l.jsx(me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jN.displayName=w$;var DN=jN;const x$=Jv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=y.forwardRef(({className:t,...e},n)=>l.jsx(DN,{ref:n,className:X(x$(),t),...e}));Y.displayName=DN.displayName;const Er=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Er.displayName="Textarea";function Pf(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Af(t){const[e,n]=y.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jf="Checkbox",[_$,OH]=tr(jf),[E$,lw]=_$(jf);function b$(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=t,[p,v]=as({prop:n,defaultProp:s??!1,onChange:c,caller:jf}),[E,g]=y.useState(null),[_,w]=y.useState(null),x=y.useRef(!1),b=E?!!o||!!E.closest("form"):!0,R={checked:p,disabled:i,setChecked:v,control:E,setControl:g,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Hs(s)?!1:s,isFormControl:b,bubbleInput:_,setBubbleInput:w};return l.jsx(E$,{scope:e,...R,children:T$(f)?f(R):r})}var ON="CheckboxTrigger",MN=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:c,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:E}=lw(ON,t),g=Le(s,h),_=y.useRef(c);return y.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>f(_.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,f]),l.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Hs(c)?"mixed":c,"aria-required":d,"data-state":$N(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:fe(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:fe(n,w=>{f(x=>Hs(x)?!0:!x),E&&v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});MN.displayName=ON;var cw=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:d,form:h,...f}=t;return l.jsx(b$,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(MN,{...f,ref:e,__scopeCheckbox:n}),p&&l.jsx(UN,{__scopeCheckbox:n})]})})});cw.displayName=jf;var LN="CheckboxIndicator",VN=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=lw(LN,n);return l.jsx(ds,{present:r||Hs(i.checked)||i.checked===!0,children:l.jsx(me.span,{"data-state":$N(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});VN.displayName=LN;var FN="CheckboxBubbleInput",UN=y.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:v}=lw(FN,t),E=Le(n,v),g=Pf(i),_=Af(r);y.useEffect(()=>{const x=p;if(!x)return;const b=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(b,"checked").set,O=!s.current;if(g!==i&&A){const C=new Event("click",{bubbles:O});x.indeterminate=Hs(i),A.call(x,Hs(i)?!1:i),x.dispatchEvent(C)}},[p,g,i,s]);const w=y.useRef(Hs(i)?!1:i);return l.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:c,name:d,value:h,form:f,...e,tabIndex:-1,ref:E,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});UN.displayName=FN;function T$(t){return typeof t=="function"}function Hs(t){return t==="indeterminate"}function $N(t){return Hs(t)?"indeterminate":t?"checked":"unchecked"}const $g=y.forwardRef(({className:t,...e},n)=>l.jsx(cw,{ref:n,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(VN,{className:X("flex items-center justify-center text-current"),children:l.jsx(KI,{className:"h-4 w-4"})})}));$g.displayName=cw.displayName;function BN(t){const e=t+"CollectionProvider",[n,r]=tr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:w}=g,x=K.useRef(null),b=K.useRef(new Map).current;return l.jsx(s,{scope:_,itemMap:b,collectionRef:x,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=Ki(a),d=K.forwardRef((g,_)=>{const{scope:w,children:x}=g,b=i(a,w),R=Le(_,b.collectionRef);return l.jsx(c,{ref:R,children:x})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ki(h),v=K.forwardRef((g,_)=>{const{scope:w,children:x,...b}=g,R=K.useRef(null),A=Le(_,R),O=i(h,w);return K.useEffect(()=>(O.itemMap.set(R,{ref:R,...b}),()=>void O.itemMap.delete(R))),l.jsx(p,{[f]:"",ref:A,children:x})});v.displayName=h;function E(g){const _=i(t+"CollectionConsumer",g);return K.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((O,C)=>b.indexOf(O.ref.current)-b.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},E,r]}var S$=y.createContext(void 0);function Df(t){const e=y.useContext(S$);return t||e||"ltr"}var om="rovingFocusGroup.onEntryFocus",C$={bubbles:!1,cancelable:!0},Gc="RovingFocusGroup",[Bg,zN,I$]=BN(Gc),[N$,Of]=tr(Gc,[I$]),[k$,R$]=N$(Gc),WN=y.forwardRef((t,e)=>l.jsx(Bg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Bg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(P$,{...t,ref:e})})}));WN.displayName=Gc;var P$=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=y.useRef(null),v=Le(e,p),E=Df(i),[g,_]=as({prop:o,defaultProp:a??null,onChange:c,caller:Gc}),[w,x]=y.useState(!1),b=ri(d),R=zN(n),A=y.useRef(!1),[O,C]=y.useState(0);return y.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(om,b),()=>S.removeEventListener(om,b)},[b]),l.jsx(k$,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(S=>_(S),[_]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>C(S=>S-1),[]),children:l.jsx(me.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{A.current=!0}),onFocus:fe(t.onFocus,S=>{const N=!A.current;if(S.target===S.currentTarget&&N&&!w){const P=new CustomEvent(om,C$);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const I=R().filter(G=>G.focusable),D=I.find(G=>G.active),j=I.find(G=>G.id===g),ne=[D,j,...I].filter(Boolean).map(G=>G.ref.current);GN(ne,h)}}A.current=!1}),onBlur:fe(t.onBlur,()=>x(!1))})})}),HN="RovingFocusGroupItem",qN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Xr(),d=i||c,h=R$(HN,n),f=h.currentTabStopId===d,p=zN(n),{onFocusableItemAdd:v,onFocusableItemRemove:E,currentTabStopId:g}=h;return y.useEffect(()=>{if(r)return v(),()=>E()},[r,v,E]),l.jsx(Bg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,_=>{r?h.onItemFocus(d):_.preventDefault()}),onFocus:fe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:fe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=D$(_,h.orientation,h.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=p().filter(R=>R.focusable).map(R=>R.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const R=b.indexOf(_.currentTarget);b=h.loop?O$(b,R+1):b.slice(R+1)}setTimeout(()=>GN(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});qN.displayName=HN;var A$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function D$(t,e,n){const r=j$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return A$[r]}function GN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function O$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KN=WN,YN=qN,uw="Radio",[M$,QN]=tr(uw),[L$,V$]=M$(uw),XN=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:c,form:d,...h}=t,[f,p]=y.useState(null),v=Le(e,_=>p(_)),E=y.useRef(!1),g=f?d||!!f.closest("form"):!0;return l.jsxs(L$,{scope:n,checked:s,disabled:o,children:[l.jsx(me.button,{type:"button",role:"radio","aria-checked":s,"data-state":tk(s),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:v,onClick:fe(t.onClick,_=>{s||c==null||c(),g&&(E.current=_.isPropagationStopped(),E.current||_.stopPropagation())})}),g&&l.jsx(ek,{control:f,bubbles:!E.current,name:r,value:a,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});XN.displayName=uw;var JN="RadioIndicator",ZN=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=V$(JN,n);return l.jsx(ds,{present:r||i.checked,children:l.jsx(me.span,{"data-state":tk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});ZN.displayName=JN;var F$="RadioBubbleInput",ek=y.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Le(o,i),c=Pf(n),d=Af(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const E=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(E)}},[c,n,r]),l.jsx(me.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ek.displayName=F$;function tk(t){return t?"checked":"unchecked"}var U$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mf="RadioGroup",[$$,MH]=tr(Mf,[Of,QN]),nk=Of(),rk=QN(),[B$,z$]=$$(Mf),sk=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...p}=t,v=nk(n),E=Df(d),[g,_]=as({prop:i,defaultProp:s??null,onChange:f,caller:Mf});return l.jsx(B$,{scope:n,name:r,required:o,disabled:a,value:g,onValueChange:_,children:l.jsx(KN,{asChild:!0,...v,orientation:c,dir:E,loop:h,children:l.jsx(me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:E,...p,ref:e})})})});sk.displayName=Mf;var ik="RadioGroupItem",ok=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=z$(ik,n),o=i.disabled||r,a=nk(n),c=rk(n),d=y.useRef(null),h=Le(e,d),f=i.value===s.value,p=y.useRef(!1);return y.useEffect(()=>{const v=g=>{U$.includes(g.key)&&(p.current=!0)},E=()=>p.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",E),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",E)}},[]),l.jsx(YN,{asChild:!0,...a,focusable:!o,active:f,children:l.jsx(XN,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:fe(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:fe(s.onFocus,()=>{var v;p.current&&((v=d.current)==null||v.click())})})})});ok.displayName=ik;var W$="RadioGroupIndicator",ak=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=rk(n);return l.jsx(ZN,{...s,...r,ref:e})});ak.displayName=W$;var lk=sk,ck=ok,H$=ak;const uk=y.forwardRef(({className:t,...e},n)=>l.jsx(lk,{className:X("grid gap-2",t),...e,ref:n}));uk.displayName=lk.displayName;const dk=y.forwardRef(({className:t,...e},n)=>l.jsx(ck,{ref:n,className:X("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(H$,{className:"flex items-center justify-center",children:l.jsx(PU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));dk.displayName=ck.displayName;const q$=[{value:"friend",label:"Friend or word of mouth"},{value:"instagram",label:"Instagram"},{value:"eventbrite",label:"Eventbrite"},{value:"google",label:"Google search"},{value:"flyer",label:"Flyer or poster"},{value:"website",label:"Organization website"},{value:"newsletter",label:"Email newsletter"},{value:"other",label:"Other"}];function G$({isOpen:t,onClose:e,eventTitle:n}){const[r,s]=y.useState(""),[i,o]=y.useState(""),[a,c]=y.useState(!1),d=async()=>{if(r){c(!0);try{console.log("How did you hear about us submission:",{eventTitle:n,source:r,otherDetails:r==="other"?i:void 0}),await new Promise(p=>setTimeout(p,500)),e()}catch(p){console.error("Error submitting feedback:",p)}finally{c(!1)}}},h=()=>{e()},f=()=>{s(""),o(""),e()};return l.jsx(qc,{open:t,onOpenChange:f,children:l.jsxs(ja,{className:"sm:max-w-md",children:[l.jsx(Da,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Oa,{className:"flex items-center gap-2",children:[l.jsx(LU,{className:"h-5 w-5 text-purple-600"}),"Quick Question"]}),l.jsx(re,{variant:"ghost",size:"sm",onClick:f,className:"h-6 w-6 p-0",children:l.jsx(Hc,{className:"h-4 w-4"})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["How did you hear about ",l.jsx("strong",{children:n}),"?"]}),l.jsx(uk,{value:r,onValueChange:s,children:l.jsx("div",{className:"space-y-3",children:q$.map(p=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(dk,{value:p.value,id:p.value}),l.jsx(Y,{htmlFor:p.value,className:"text-sm font-normal cursor-pointer",children:p.label})]},p.value))})}),r==="other"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Y,{htmlFor:"other-details",className:"text-sm",children:"Please specify:"}),l.jsx(Er,{id:"other-details",placeholder:"Tell us how you heard about this event...",value:i,onChange:p=>o(p.target.value),rows:2})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(re,{type:"button",variant:"ghost",onClick:h,className:"flex-1",disabled:a,children:"Skip"}),l.jsx(re,{onClick:d,disabled:!r||a,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":"Submit"})]})]})]})})}function zg({event:t}){const[e,n]=y.useState(!1),[r,s]=y.useState("interest"),[i,o]=y.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(null),[v,E]=y.useState(!1),g=()=>t.eventbriteUrl?"eventbrite":t.status==="presale"?"presale":t.registrationRequired||t.price.type==="free"?"interest":null,_=b=>{s(b),n(!0),h(!1),p(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1})},w=async b=>{b.preventDefault(),c(!0),p(null);try{let R;r==="presale"?R="presale_request":R=i.rsvpType,await tN.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:R,notes:i.notes||void 0,subscribeToUpdates:i.subscribeToUpdates,subscribeToNewsletter:i.subscribeToNewsletter}),h(!0),setTimeout(()=>{n(!1),h(!1),E(!0)},2e3)}catch(R){console.error("Error submitting registration:",R),R instanceof Cd?p(R.message):p("Failed to submit registration. Please try again.")}finally{c(!1)}},x=g();return x?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[x==="eventbrite"&&l.jsxs(re,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",l.jsx(Th,{className:"ml-2 h-4 w-4"})]}),x==="presale"&&l.jsxs(re,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>_("presale"),children:["Presale",l.jsx(_r,{className:"ml-2 h-4 w-4"})]}),x==="interest"&&l.jsxs(re,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>_("interest"),children:["I'm Interested",l.jsx(Ot,{className:"ml-2 h-4 w-4"})]})]}),l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(ja,{className:"sm:max-w-md",children:[l.jsxs(Da,{children:[l.jsx(Oa,{className:"flex items-center gap-2",children:r==="presale"?l.jsxs(l.Fragment,{children:[l.jsx(_r,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):l.jsxs(l.Fragment,{children:[l.jsx(Ot,{className:"h-5 w-5 text-purple-600"}),"Express Interest"]})}),l.jsx(Rf,{children:r==="presale"?l.jsxs(l.Fragment,{children:["Get notified when tickets become available for ",l.jsx("strong",{children:t.title})]}):l.jsxs(l.Fragment,{children:["Let us know your level of interest in ",l.jsx("strong",{children:t.title})]})})]}),d?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(YI,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="presale"?"Request Sent!":"Interest Submitted!"}),l.jsx("p",{className:"text-gray-600",children:r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for expressing your interest! This helps the organizer gauge event popularity."})]}):l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Y,{htmlFor:"name",children:"Name *"}),l.jsx(le,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:b=>o(R=>({...R,name:b.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Y,{htmlFor:"email",children:["Email ",r==="presale"?"*":"(optional)"]}),l.jsx(le,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:b=>o(R=>({...R,email:b.target.value})),required:r==="presale"})]}),r==="interest"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Y,{children:"How interested are you?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(b=>({...b,rsvpType:"rsvp_yes"})),children:"Very Interested"}),l.jsx(re,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(b=>({...b,rsvpType:"rsvp_maybe"})),children:"Somewhat Interested"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Y,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(Er,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:b=>o(R=>({...R,notes:b.target.value})),rows:2})]}),i.email&&l.jsxs("div",{className:"space-y-3 border-t pt-4",children:[l.jsx(Y,{className:"text-sm font-medium",children:"Email Alerts (optional)"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($g,{id:"subscribe-updates",checked:i.subscribeToUpdates,onCheckedChange:b=>o(R=>({...R,subscribeToUpdates:!!b}))}),l.jsx(Y,{htmlFor:"subscribe-updates",className:"text-sm font-normal cursor-pointer",children:"Get updates about this event"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($g,{id:"subscribe-newsletter",checked:i.subscribeToNewsletter,onCheckedChange:b=>o(R=>({...R,subscribeToNewsletter:!!b}))}),l.jsx(Y,{htmlFor:"subscribe-newsletter",className:"text-sm font-normal cursor-pointer",children:"Subscribe to organization newsletter"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Managed by event organizers. You can unsubscribe at any time."})]}),f&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),l.jsx(re,{type:"submit",disabled:a||!i.name||r==="presale"&&!i.email,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":r==="presale"?"Send Request":"Submit Interest"})]})]})]})}),l.jsx(G$,{isOpen:v,onClose:()=>E(!1),eventTitle:t.title})]}):null}function K$(){const{organization:t,events:e,loading:n,error:r}=HU(),[s,i]=y.useState([]),o=a=>{i(c=>c.includes(a)?c.filter(d=>d!==a):[...c,a])};return n?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ni,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading Brooklyn Hearts Club..."})]})}):r?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",r]}),l.jsx(re,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):t?l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:"/brooklyn-hearts-club-banner.svg?height=320&width=1200",alt:"Art Club Header",className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:"/brooklyn-hearts-club-logo.svg?height=80&width=80",alt:"Brooklyn Hearts club Logo",width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:t.name}),l.jsx("p",{className:"text-lg text-gray-200",children:t.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",t.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.background})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("Brooklyn Hearts Club - All events:",e.map(c=>({id:c.id,title:c.title,status:c.status})));const a=e.filter(c=>{const d=c.status||"published";return["presale","published","sold_out"].includes(d)});return console.log("Brooklyn Hearts Club - Public events:",a.map(c=>({id:c.id,title:c.title,status:c.status}))),a})().length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsx("div",{className:"space-y-6",children:e.filter(a=>{const c=a.status||"published";return["presale","published","sold_out"].includes(c)}).map(a=>l.jsx(ye,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.isRecurring&&l.jsxs(Gt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Sd,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",a.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:a.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"h-4 w-4 mr-2"}),new Date(a.date).toLocaleDateString()," • ",a.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),a.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",a.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(zg,{event:a}),l.jsxs(re,{variant:"outline",onClick:()=>o(a.id),className:"flex items-center gap-2",children:["Details",s.includes(a.id)?l.jsx(bh,{className:"h-4 w-4"}):l.jsx(pa,{className:"h-4 w-4"})]})]})]}),s.includes(a.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[a.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",a.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:a.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",a.address]})})]}),a.isRecurring&&a.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:a.recurringDates.map((c,d)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:c.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[c.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:c.description})]})]},d))})]})]})]})})},a.id))})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",t.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:"/brooklyn-hearts-club-about-images-1.svg?height=400&width=600",alt:"Art Club Members",width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Founded in 2018 by a group of passionate local artists, Brooklyn Hearts club began as a small gathering in a converted warehouse space. What started as weekly sketch sessions has grown into a thriving community of over 200 members from all walks of life."}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our club welcomes artists of all skill levels, from complete beginners picking up a brush for the first time to seasoned professionals looking to connect with fellow creatives. We offer a diverse range of activities including workshops, exhibitions, collaborative projects, and social events."}),l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsxs("ul",{className:"space-y-2 text-gray-700",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Weekly open studio sessions with shared materials"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Monthly workshops led by professional artists"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Quarterly exhibitions showcasing member artwork"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Access to professional-grade equipment and studio space"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Networking opportunities with local galleries and art organizations"]})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",children:l.jsx(XI,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Bluesky",children:l.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.015.27-.031.402-.05-.132.019-.266.035-.402.05-2.67-.296-5.568.628-6.383 3.364C.378 17.804 0 22.764 0 23.452c0 .688.139 1.86.902 2.203.659.299 1.664.621 4.3-1.239C7.954 22.474 10.913 18.535 12 16.421c1.087 2.114 4.046 6.053 6.798 7.995 2.636 1.86 3.641 1.538 4.3 1.239.763-.343.902-1.515.902-2.203 0-.688-.378-5.648-.624-6.477-.815-2.736-3.713-3.66-6.383-3.364-.136.015-.27-.031-.402.05.132-.019.266.035.402-.50 2.67.296 5.568-.628 6.383-3.364.246-.829.624-5.789.624-6.479 0-.688-.139-1.86-.902-2.203-.659-.299-1.664-.621-4.3 1.239C16.046 4.747 13.087 8.686 12 10.8z"})})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"LinkTree",children:l.jsx(Th,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",children:l.jsx(Ot,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",children:l.jsx(QI,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(Mi,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"123 Art Street, Creative District"})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(_r,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"team@heyvoxxy"})]}),l.jsxs("div",{className:"group relative",children:[l.jsx("svg",{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Connect on LinkedIn"})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}const hk=yf(Wc,"organizations"),fk=yf(Wc,"events");yf(Wc,"registrations");yf(Wc,"users");const Y$=async t=>(await pI(hk,{...t,createdAt:Me.now(),updatedAt:Me.now()})).id,_l=async t=>{const e=cI(hk,uI("slug","==",t),c3(1)),n=await fI(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},Q$=async(t,e)=>{const n=nI(Wc,"organizations",t),r={...e,updatedAt:Me.now()};await p3(n,r);const s=await f3(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},X$=async t=>(await pI(fk,{...t,date:Me.fromDate(t.date),endDate:t.endDate?Me.fromDate(t.endDate):null,createdAt:Me.now(),updatedAt:Me.now()})).id,Wg=async t=>{const e=cI(fk,uI("organizationId","==",t),l3("date","desc"));return(await fI(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})};function pk(t){const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState(!0),[a,c]=y.useState(null),d=y.useCallback(async()=>{try{o(!0),c(null);const p=Sh(),v=_E(),E=Lg();if(console.log(`Loading data for ${t} in ${p} environment using ${v}`),v==="firebase"){console.log("Using Firebase directly");const g=await _l(t);if(!g)throw new Error(`Organization '${t}' not found in ${p} environment`);n(g);const _=await Wg(g.id);s(_)}else if(v==="api"&&E){console.log(`Using API: ${E}`);const g=await Vg.getBySlug(t);n(g);const _=await Yi.getByOrganization(g.id);s(_)}else throw new Error(`Invalid data source configuration for ${p} environment`)}catch(p){console.error(`Error loading ${t} data:`,p),c(p instanceof Error?p.message:"Failed to load data")}finally{o(!1)}},[t]);return y.useEffect(()=>{t&&d()},[t,d]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const p=await Yi.getByOrganization(e.id);s(p)}catch(p){console.error("Error refreshing events:",p)}},updateOrganization:async p=>{if(e)try{const v=Sh(),E=_E(),g=Lg();if(console.log(`Updating organization in ${v} environment using ${E}`),E==="firebase"){console.log("Updating organization via Firebase (development/sandbox)");const _=await Q$(e.id,p);n(_),console.log(`✅ Organization updated successfully in Firebase (${v})`)}else if(E==="api"&&g){console.log(`Updating organization via API: ${g}`);const _=await Vg.update(e.id,p);n(_)}else throw new Error(`Invalid update configuration for ${v} environment`)}catch(v){throw console.error("Error updating organization:",v),v}},reload:d}}function J$({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:c,error:d}=pk(t),[h,f]=y.useState([]),p=v=>{f(E=>E.includes(v)?E.filter(g=>g!==v):[...E,v])};return c?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ni,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):d?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",d]}),l.jsx(re,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?l.jsxs("div",{className:"min-h-screen bg-white",children:[s&&nw("adminControls")&&l.jsx("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:l.jsx(ac,{to:`/${t}/admin`,children:l.jsxs(re,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[l.jsx(ZI,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})})}),l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:o.name}),l.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.background})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("All events:",a.map(_=>({id:_.id,title:_.title,status:_.status})));const v=a.filter(_=>{const w=_.status||"published";return["published","presale","sold_out"].includes(w)});console.log("Published events:",v.map(_=>({id:_.id,title:_.title,status:_.status})));const E=v.filter(_=>!_.isRecurring),g=v.filter(_=>_.isRecurring);return{publishedEvents:v,mainEvents:E,recurringEvents:g}})().publishedEvents.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsxs("div",{className:"space-y-12",children:[(()=>{const E=a.filter(g=>{const _=g.status||"published";return["published","presale","sold_out"].includes(_)}).filter(g=>!g.isRecurring);return E.length>0&&l.jsx("div",{className:"space-y-6",children:E.map(g=>l.jsx(ye,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.isRecurring&&l.jsxs(Gt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Sd,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"h-4 w-4 mr-2"}),g.date instanceof Date?g.date.toLocaleDateString():new Date(g.date).toLocaleDateString()," • ",g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.type==="group_deal"&&g.price.groupDealDetails?`${g.price.groupDealDetails.minimumPeople}+ people: $${g.price.groupDealDetails.pricePerPerson}/person (reg. $${g.price.groupDealDetails.normalPricePerPerson}/person)`:g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(zg,{event:g}),l.jsxs(re,{variant:"outline",onClick:()=>p(g.id),className:"flex items-center gap-2",children:["Details",h.includes(g.id)?l.jsx(bh,{className:"h-4 w-4"}):l.jsx(pa,{className:"h-4 w-4"})]})]})]}),h.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:g.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",g.address]})})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((_,w)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:_.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[_.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:_.description})]})]},w))})]})]})]})})},g.id))})})(),(()=>{const E=a.filter(g=>{const _=g.status||"published";return["published","presale","sold_out"].includes(_)}).filter(g=>g.isRecurring);return E.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[l.jsx(Sd,{className:"h-6 w-6"}),"Recurring Events"]}),l.jsx("div",{className:"space-y-6",children:E.map(g=>l.jsx(ye,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs(Gt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Sd,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"h-4 w-4 mr-2"}),g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.type==="group_deal"&&g.price.groupDealDetails?`${g.price.groupDealDetails.minimumPeople}+ people: $${g.price.groupDealDetails.pricePerPerson}/person (reg. $${g.price.groupDealDetails.normalPricePerPerson}/person)`:g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(zg,{event:g}),l.jsxs(re,{variant:"outline",onClick:()=>p(g.id),className:"flex items-center gap-2",children:["Details & Schedule",h.includes(g.id)?l.jsx(bh,{className:"h-4 w-4"}):l.jsx(pa,{className:"h-4 w-4"})]})]})]}),h.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-700",children:g.series.description})]}),g.fullDescription&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.fullDescription})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Location"}),l.jsx("p",{className:"text-gray-700",children:g.address})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Upcoming Schedule"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((_,w)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:_.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[_.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:_.description})]})]},w))})]})]})]})})},g.id))})]})})()]})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?l.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),l.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&l.jsxs(l.Fragment,{children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((v,E)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),v]},E))})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&l.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:l.jsx(XI,{className:"h-6 w-6"})}),o.socialLinks.website&&l.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Th,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&l.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Ot,{className:"h-6 w-6"})}),o.socialLinks.venmo&&l.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:l.jsx(QI,{className:"h-6 w-6"})}),o.socialLinks.other&&l.jsx("a",{href:o.socialLinks.other,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Other Social Link",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Th,{className:"h-6 w-6"})}),l.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:l.jsx(_r,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(Mi,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(_r,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function Z$(){const t={story:`
      <p>
        Voxxy Presents NYC emerged from the underground music scene in 2023, born out of a desire to create 
        authentic connections between emerging artists and passionate music lovers. What started as pop-up shows 
        in unconventional Brooklyn venues has evolved into a curated collective that champions the raw, 
        unfiltered creativity of New York's underground scene.
      </p>
      <p>
        We believe that the most powerful art happens in intimate spaces where barriers between performer and 
        audience dissolve. Our events aren't just concerts—they're communal experiences that celebrate the 
        beautiful chaos of creative expression in all its forms.
      </p>
    `,offerings:["Intimate showcases featuring 3-5 carefully curated underground artists","Monthly open mic nights for emerging talent to connect and grow","Pop-up events in unique Brooklyn venues and unconventional spaces","Artist development workshops and networking opportunities","Collaborative projects between musicians, visual artists, and performers","Community-driven events that prioritize authentic artistic expression"]};return l.jsx(J$,{organizationSlug:"voxxy-presents-nyc",bannerImage:"/placeholder.jpg",logoImage:"/placeholder-logo.png",aboutImage:"/placeholder.jpg",showAdminControls:nw("adminControls"),customContent:t})}var Lf="Tabs",[eB,LH]=tr(Lf,[Of]),mk=Of(),[tB,dw]=eB(Lf),gk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Df(a),[f,p]=as({prop:r,onChange:s,defaultProp:i??"",caller:Lf});return l.jsx(tB,{scope:n,baseId:Xr(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:l.jsx(me.div,{dir:h,"data-orientation":o,...d,ref:e})})});gk.displayName=Lf;var yk="TabsList",vk=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=dw(yk,n),o=mk(n);return l.jsx(KN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});vk.displayName=yk;var wk="TabsTrigger",xk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=dw(wk,n),a=mk(n),c=bk(o.baseId,r),d=Tk(o.baseId,r),h=r===o.value;return l.jsx(YN,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(me.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:fe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});xk.displayName=wk;var _k="TabsContent",Ek=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=dw(_k,n),c=bk(a.baseId,r),d=Tk(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(ds,{present:s||h,children:({present:p})=>l.jsx(me.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Ek.displayName=_k;function bk(t,e){return`${t}-trigger-${e}`}function Tk(t,e){return`${t}-content-${e}`}var nB=gk,Sk=vk,Ck=xk,Ik=Ek;const rB=nB,Nk=y.forwardRef(({className:t,...e},n)=>l.jsx(Sk,{ref:n,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Nk.displayName=Sk.displayName;const El=y.forwardRef(({className:t,...e},n)=>l.jsx(Ck,{ref:n,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));El.displayName=Ck.displayName;const bl=y.forwardRef(({className:t,...e},n)=>l.jsx(Ik,{ref:n,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bl.displayName=Ik.displayName;const sB=[{id:"art-studio",name:"Art Studio",url:"/curated/art-studio-hero.jpg",thumbnail:"/curated/art-studio-thumb.jpg"},{id:"gallery-space",name:"Gallery Space",url:"/curated/gallery-space-hero.jpg",thumbnail:"/curated/gallery-space-thumb.jpg"},{id:"creative-workspace",name:"Creative Workspace",url:"/curated/creative-workspace-hero.jpg",thumbnail:"/curated/creative-workspace-thumb.jpg"},{id:"art-supplies",name:"Art Supplies",url:"/curated/art-supplies-hero.jpg",thumbnail:"/curated/art-supplies-thumb.jpg"},{id:"community-event",name:"Community Event",url:"/curated/community-event-hero.jpg",thumbnail:"/curated/community-event-thumb.jpg"},{id:"abstract-art",name:"Abstract Art",url:"/curated/abstract-art-hero.jpg",thumbnail:"/curated/abstract-art-thumb.jpg"}];function iB({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=y.useState({name:t.name,description:t.description,background:t.background,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||"",other:t.socialLinks.other||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress}}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),f=s||a,p=(_,w)=>{o(x=>({...x,[_]:w}))},v=(_,w,x)=>{o(b=>({...b,[_]:{...b[_],[w]:x}}))},E=async _=>{var R;const w=(R=_.target.files)==null?void 0:R[0];if(!w)return;if(!["image/svg+xml","image/jpeg","image/jpg","image/png"].includes(w.type)){alert("Please upload a valid image file (SVG, JPEG, or PNG)");return}const b=5*1024*1024;if(w.size>b){alert("File size must be less than 5MB");return}h(!0);try{const A=new FileReader;A.onload=O=>{var S;const C=(S=O.target)==null?void 0:S.result;o(N=>({...N,logoUrl:C})),h(!1)},A.onerror=()=>{alert("Error reading file"),h(!1)},A.readAsDataURL(w)}catch(A){console.error("Error uploading logo:",A),alert("Error uploading file"),h(!1)}},g=async _=>{_.preventDefault(),s||c(!0);try{const w={...i,settings:{...i.settings,theme:{primaryColor:"#8b5cf6",backgroundColor:"#ffffff"}}};await e(w)}catch(w){console.error("Failed to save organization:",w)}finally{s||c(!1)}};return l.jsxs("div",{className:r?"":"p-6",children:[!r&&l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),l.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),l.jsxs(re,{onClick:n,variant:"outline",size:"sm",children:[l.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Basic Information"}),l.jsx(en,{children:"Core details about your organization"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"name",children:"Organization Name"}),l.jsx(le,{id:"name",value:i.name,onChange:_=>p("name",_.target.value),placeholder:"Organization Name"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"contactEmail",children:"Contact Email"}),l.jsx(le,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:_=>p("contactEmail",_.target.value),placeholder:"contact@organization.com"})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"description",children:"Short Description"}),l.jsx(le,{id:"description",value:i.description,onChange:_=>p("description",_.target.value),placeholder:"Brief description for headers and previews"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"background",children:"Background"}),l.jsx(Er,{id:"background",value:i.background,onChange:_=>p("background",_.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Media & Branding"}),l.jsx(en,{children:"Images and visual identity for your organization"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"logoFile",children:"Logo Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"logoFile",type:"file",accept:".svg,.jpeg,.jpg,.png",onChange:E,disabled:d,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),d&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading logo..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: SVG, JPEG, PNG. Max size: 5MB"}),i.logoUrl&&!d&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("img",{src:i.logoUrl,alt:"Logo preview",className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Current logo"})]})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"heroBackground",children:"Hero Background"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:sB.map(_=>l.jsxs("div",{className:`relative rounded-lg border-2 cursor-pointer transition-all ${i.bannerUrl===_.url?"border-purple-500 ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>p("bannerUrl",_.url),children:[l.jsx("img",{src:_.thumbnail,alt:_.name,className:"w-full h-24 object-cover rounded-md"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-md flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-medium bg-black/50 px-2 py-1 rounded",children:_.name})}),i.bannerUrl===_.url&&l.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 bg-purple-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"✓"})})]},_.id))}),l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx(Y,{htmlFor:"customBannerUrl",className:"text-sm text-gray-600",children:"Or use custom URL:"}),l.jsx(le,{id:"customBannerUrl",value:i.bannerUrl.startsWith("/curated/")?"":i.bannerUrl,onChange:_=>p("bannerUrl",_.target.value),placeholder:"https://example.com/banner.jpg",className:"mt-1"})]}),i.bannerUrl&&l.jsxs("div",{className:"mt-3",children:[l.jsx(Y,{className:"text-sm text-gray-600",children:"Preview:"}),l.jsxs("div",{className:"mt-1 relative h-32 rounded-lg overflow-hidden border border-gray-200",children:[l.jsx("img",{src:i.bannerUrl,alt:"Banner preview",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium",children:"Hero Background Preview"})})]})]})]})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Default Location"}),l.jsx(en,{children:"Default venue information for events"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"defaultLocation",children:"Venue Name"}),l.jsx(le,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:_=>v("settings","defaultLocation",_.target.value),placeholder:"Venue Name"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"defaultAddress",children:"Address"}),l.jsx(le,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:_=>v("settings","defaultAddress",_.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Social Media & Links"}),l.jsx(en,{children:"Connect your social media accounts and external links"})]}),l.jsx(xe,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"instagram",children:"Instagram Handle"}),l.jsx(le,{id:"instagram",value:i.socialLinks.instagram,onChange:_=>v("socialLinks","instagram",_.target.value),placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"website",children:"Website URL"}),l.jsx(le,{id:"website",value:i.socialLinks.website,onChange:_=>v("socialLinks","website",_.target.value),placeholder:"https://yourwebsite.com"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"eventbrite",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:_=>v("socialLinks","eventbrite",_.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"venmo",children:"Venmo Handle"}),l.jsx(le,{id:"venmo",value:i.socialLinks.venmo,onChange:_=>v("socialLinks","venmo",_.target.value),placeholder:"@yourvenmo"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"other",children:"Other Social Link"}),l.jsx(le,{id:"other",value:i.socialLinks.other,onChange:_=>v("socialLinks","other",_.target.value),placeholder:"https://linktr.ee/yourpage"})]})]})})]}),!r&&l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(re,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(re,{type:"submit",disabled:f,children:[l.jsx(xE,{className:"h-4 w-4 mr-2"}),f?"Saving...":"Save Changes"]})]}),r&&l.jsx("div",{className:"sticky bottom-6 flex justify-center",children:l.jsxs(re,{type:"submit",disabled:f,className:"shadow-lg",size:"lg",children:[l.jsx(xE,{className:"h-4 w-4 mr-2"}),f?"Saving...":"Save Changes"]})})]})]})}function DE(t,[e,n]){return Math.min(n,Math.max(e,t))}const oB=["top","right","bottom","left"],si=Math.min,gn=Math.max,Ih=Math.round,ed=Math.floor,br=t=>({x:t,y:t}),aB={left:"right",right:"left",bottom:"top",top:"bottom"},lB={start:"end",end:"start"};function Hg(t,e,n){return gn(t,si(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function Ma(t){return t.split("-")[1]}function hw(t){return t==="x"?"y":"x"}function fw(t){return t==="y"?"height":"width"}const cB=new Set(["top","bottom"]);function ur(t){return cB.has(cs(t))?"y":"x"}function pw(t){return hw(ur(t))}function uB(t,e,n){n===void 0&&(n=!1);const r=Ma(t),s=pw(t),i=fw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Nh(o)),[o,Nh(o)]}function dB(t){const e=Nh(t);return[qg(t),e,qg(e)]}function qg(t){return t.replace(/start|end/g,e=>lB[e])}const OE=["left","right"],ME=["right","left"],hB=["top","bottom"],fB=["bottom","top"];function pB(t,e,n){switch(t){case"top":case"bottom":return n?e?ME:OE:e?OE:ME;case"left":case"right":return e?hB:fB;default:return[]}}function mB(t,e,n,r){const s=Ma(t);let i=pB(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(qg)))),i}function Nh(t){return t.replace(/left|right|bottom|top/g,e=>aB[e])}function gB(t){return{top:0,right:0,bottom:0,left:0,...t}}function kk(t){return typeof t!="number"?gB(t):{top:t,right:t,bottom:t,left:t}}function kh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function LE(t,e,n){let{reference:r,floating:s}=t;const i=ur(e),o=pw(e),a=fw(o),c=cs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Ma(e)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const yB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=LE(d,r,c),p=r,v={},E=0;for(let g=0;g<a.length;g++){const{name:_,fn:w}=a[g],{x,y:b,data:R,reset:A}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=x??h,f=b??f,v={...v,[_]:{...v[_],...R}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:f}=LE(d,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function vc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=ls(e,t),E=kk(v),_=a[p?f==="floating"?"reference":"floating":f],w=kh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},A=kh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-A.top+E.top)/R.y,bottom:(A.bottom-w.bottom+E.bottom)/R.y,left:(w.left-A.left+E.left)/R.x,right:(A.right-w.right+E.right)/R.x}}const vB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=ls(t,e)||{};if(d==null)return{};const f=kk(h),p={x:n,y:r},v=pw(s),E=fw(v),g=await o.getDimensions(d),_=v==="y",w=_?"top":"left",x=_?"bottom":"right",b=_?"clientHeight":"clientWidth",R=i.reference[E]+i.reference[v]-p[v]-i.floating[E],A=p[v]-i.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=O?O[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[b]||i.floating[E]);const S=R/2-A/2,N=C/2-g[E]/2-1,P=si(f[w],N),I=si(f[x],N),D=P,j=C-g[E]-I,H=C/2-g[E]/2+S,ne=Hg(D,H,j),G=!c.arrow&&Ma(s)!=null&&H!==ne&&i.reference[E]/2-(H<D?P:I)-g[E]/2<0,oe=G?H<D?H-D:H-j:0;return{[v]:p[v]+oe,data:{[v]:ne,centerOffset:H-ne-oe,...G&&{alignmentOffset:oe}},reset:G}}}),wB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:g=!0,..._}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=cs(s),x=ur(a),b=cs(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=p||(b||!g?[Nh(a)]:dB(a)),O=E!=="none";!p&&O&&A.push(...mB(a,g,E,R));const C=[a,...A],S=await vc(e,_),N=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&N.push(S[w]),f){const H=uB(s,o,R);N.push(S[H[0]],S[H[1]])}if(P=[...P,{placement:s,overflows:N}],!N.every(H=>H<=0)){var I,D;const H=(((I=i.flip)==null?void 0:I.index)||0)+1,ne=C[H];if(ne&&(!(f==="alignment"?x!==ur(ne):!1)||P.every(V=>ur(V.placement)===x?V.overflows[0]>0:!0)))return{data:{index:H,overflows:P},reset:{placement:ne}};let G=(D=P.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!G)switch(v){case"bestFit":{var j;const oe=(j=P.filter(V=>{if(O){const L=ur(V.placement);return L===x||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:j[0];oe&&(G=oe);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function VE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FE(t){return oB.some(e=>t[e]>=0)}const xB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await vc(e,{...s,elementContext:"reference"}),o=VE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FE(o)}}}case"escaped":{const i=await vc(e,{...s,altBoundary:!0}),o=VE(i,n.floating);return{data:{escapedOffsets:o,escaped:FE(o)}}}default:return{}}}}},Rk=new Set(["left","top"]);async function _B(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=Ma(n),c=ur(n)==="y",d=Rk.has(o)?-1:1,h=i&&c?-1:1,f=ls(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(v=a==="end"?E*-1:E),c?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const EB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await _B(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},bB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:x}=_;return{x:w,y:x}}},...c}=ls(t,e),d={x:n,y:r},h=await vc(e,c),f=ur(cs(s)),p=hw(f);let v=d[p],E=d[f];if(i){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+h[_],b=v-h[w];v=Hg(x,v,b)}if(o){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=E+h[_],b=E-h[w];E=Hg(x,E,b)}const g=a.fn({...e,[p]:v,[f]:E});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},TB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ls(t,e),h={x:n,y:r},f=ur(s),p=hw(f);let v=h[p],E=h[f];const g=ls(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=p==="y"?"height":"width",R=i.reference[p]-i.floating[b]+_.mainAxis,A=i.reference[p]+i.reference[b]-_.mainAxis;v<R?v=R:v>A&&(v=A)}if(d){var w,x;const b=p==="y"?"width":"height",R=Rk.has(cs(s)),A=i.reference[f]-i.floating[b]+(R&&((w=o.offset)==null?void 0:w[f])||0)+(R?0:_.crossAxis),O=i.reference[f]+i.reference[b]+(R?0:((x=o.offset)==null?void 0:x[f])||0)-(R?_.crossAxis:0);E<A?E=A:E>O&&(E=O)}return{[p]:v,[f]:E}}}},SB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=ls(t,e),h=await vc(e,d),f=cs(s),p=Ma(s),v=ur(s)==="y",{width:E,height:g}=i.floating;let _,w;f==="top"||f==="bottom"?(_=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,_=p==="end"?"top":"bottom");const x=g-h.top-h.bottom,b=E-h.left-h.right,R=si(g-h[_],x),A=si(E-h[w],b),O=!e.middlewareData.shift;let C=R,S=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),O&&!p){const P=gn(h.left,0),I=gn(h.right,0),D=gn(h.top,0),j=gn(h.bottom,0);v?S=E-2*(P!==0||I!==0?P+I:gn(h.left,h.right)):C=g-2*(D!==0||j!==0?D+j:gn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:C});const N=await o.getDimensions(a.floating);return E!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Vf(){return typeof window<"u"}function La(t){return Pk(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(Pk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pk(t){return Vf()?t instanceof Node||t instanceof _n(t).Node:!1}function Jn(t){return Vf()?t instanceof Element||t instanceof _n(t).Element:!1}function Ir(t){return Vf()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function UE(t){return!Vf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const CB=new Set(["inline","contents"]);function Kc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!CB.has(s)}const IB=new Set(["table","td","th"]);function NB(t){return IB.has(La(t))}const kB=[":popover-open",":modal"];function Ff(t){return kB.some(e=>{try{return t.matches(e)}catch{return!1}})}const RB=["transform","translate","scale","rotate","perspective"],PB=["transform","translate","scale","rotate","perspective","filter"],AB=["paint","layout","strict","content"];function mw(t){const e=gw(),n=Jn(t)?Zn(t):t;return RB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||PB.some(r=>(n.willChange||"").includes(r))||AB.some(r=>(n.contain||"").includes(r))}function jB(t){let e=ii(t);for(;Ir(e)&&!ma(e);){if(mw(e))return e;if(Ff(e))return null;e=ii(e)}return null}function gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DB=new Set(["html","body","#document"]);function ma(t){return DB.has(La(t))}function Zn(t){return _n(t).getComputedStyle(t)}function Uf(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ii(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UE(t)&&t.host||Rr(t);return UE(e)?e.host:e}function Ak(t){const e=ii(t);return ma(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&Kc(e)?e:Ak(e)}function wc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ak(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=Gg(o);return e.concat(o,o.visualViewport||[],Kc(s)?s:[],a&&n?wc(a):[])}return e.concat(s,wc(s,[],n))}function Gg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jk(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ih(n)!==i||Ih(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function yw(t){return Jn(t)?t:t.contextElement}function ea(t){const e=yw(t);if(!Ir(e))return br(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jk(e);let o=(i?Ih(n.width):n.width)/r,a=(i?Ih(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const OB=br(0);function Dk(t){const e=_n(t);return!gw()||!e.visualViewport?OB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Xi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yw(t);let o=br(1);e&&(r?Jn(r)&&(o=ea(r)):o=ea(t));const a=MB(i,n,r)?Dk(i):br(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=_n(i),v=r&&Jn(r)?_n(r):r;let E=p,g=Gg(E);for(;g&&r&&v!==E;){const _=ea(g),w=g.getBoundingClientRect(),x=Zn(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*_.x,R=w.top+(g.clientTop+parseFloat(x.paddingTop))*_.y;c*=_.x,d*=_.y,h*=_.x,f*=_.y,c+=b,d+=R,E=_n(g),g=Gg(E)}}return kh({width:h,height:f,x:c,y:d})}function vw(t,e){const n=Uf(t).scrollLeft;return e?e.left+n:Xi(Rr(t)).left+n}function Ok(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:vw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function LB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rr(r),a=e?Ff(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=br(1);const h=br(0),f=Ir(r);if((f||!f&&!i)&&((La(r)!=="body"||Kc(o))&&(c=Uf(r)),Ir(r))){const v=Xi(r);d=ea(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=o&&!f&&!i?Ok(o,c,!0):br(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function VB(t){return Array.from(t.getClientRects())}function FB(t){const e=Rr(t),n=Uf(t),r=t.ownerDocument.body,s=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vw(t);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=gn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function UB(t,e){const n=_n(t),r=Rr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=gw();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const $B=new Set(["absolute","fixed"]);function BB(t,e){const n=Xi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ir(t)?ea(t):br(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function $E(t,e,n){let r;if(e==="viewport")r=UB(t,n);else if(e==="document")r=FB(Rr(t));else if(Jn(e))r=BB(e,n);else{const s=Dk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return kh(r)}function Mk(t,e){const n=ii(t);return n===e||!Jn(n)||ma(n)?!1:Zn(n).position==="fixed"||Mk(n,e)}function zB(t,e){const n=e.get(t);if(n)return n;let r=wc(t,[],!1).filter(a=>Jn(a)&&La(a)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?ii(t):t;for(;Jn(o)&&!ma(o);){const a=Zn(o),c=mw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&$B.has(s.position)||Kc(o)&&!c&&Mk(t,o))?r=r.filter(h=>h!==o):s=a,o=ii(o)}return e.set(t,r),r}function WB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ff(e)?[]:zB(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=$E(e,h,s);return d.top=gn(f.top,d.top),d.right=si(f.right,d.right),d.bottom=si(f.bottom,d.bottom),d.left=gn(f.left,d.left),d},$E(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HB(t){const{width:e,height:n}=jk(t);return{width:e,height:n}}function qB(t,e,n){const r=Ir(e),s=Rr(e),i=n==="fixed",o=Xi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=br(0);function d(){c.x=vw(s)}if(r||!r&&!i)if((La(e)!=="body"||Kc(s))&&(a=Uf(e)),r){const v=Xi(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?Ok(s,a):br(0),f=o.left+a.scrollLeft-c.x-h.x,p=o.top+a.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function am(t){return Zn(t).position==="static"}function BE(t,e){if(!Ir(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function Lk(t,e){const n=_n(t);if(Ff(t))return n;if(!Ir(t)){let s=ii(t);for(;s&&!ma(s);){if(Jn(s)&&!am(s))return s;s=ii(s)}return n}let r=BE(t,e);for(;r&&NB(r)&&am(r);)r=BE(r,e);return r&&ma(r)&&am(r)&&!mw(r)?n:r||jB(t)||n}const GB=async function(t){const e=this.getOffsetParent||Lk,n=this.getDimensions,r=await n(t.floating);return{reference:qB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KB(t){return Zn(t).direction==="rtl"}const YB={convertOffsetParentRelativeRectToViewportRelativeRect:LB,getDocumentElement:Rr,getClippingRect:WB,getOffsetParent:Lk,getElementRects:GB,getClientRects:VB,getDimensions:HB,getScale:ea,isElement:Jn,isRTL:KB};function Vk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function QB(t,e){let n=null,r;const s=Rr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=d;if(a||e(),!p||!v)return;const E=ed(f),g=ed(s.clientWidth-(h+p)),_=ed(s.clientHeight-(f+v)),w=ed(h),b={rootMargin:-E+"px "+-g+"px "+-_+"px "+-w+"px",threshold:gn(0,si(1,c))||1};let R=!0;function A(O){const C=O[0].intersectionRatio;if(C!==c){if(!R)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Vk(d,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(A,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,b)}n.observe(t)}return o(!0),i}function XB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=yw(t),h=s||i?[...d?wc(d):[],...wc(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=d&&a?QB(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let E,g=c?Xi(t):null;c&&_();function _(){const w=Xi(t);g&&!Vk(g,w)&&n(),g=w,E=requestAnimationFrame(_)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(E)}}const JB=EB,ZB=bB,ez=wB,tz=SB,nz=xB,zE=vB,rz=TB,sz=(t,e,n)=>{const r=new Map,s={platform:YB,...n},i={...s.platform,_c:r};return yB(t,e,{...s,platform:i})};var iz=typeof document<"u",oz=function(){},kd=iz?y.useLayoutEffect:oz;function Rh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Fk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WE(t,e){const n=Fk(t);return Math.round(e*n)/n}function lm(t){const e=y.useRef(t);return kd(()=>{e.current=t}),e}function az(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=y.useState(r);Rh(p,r)||v(r);const[E,g]=y.useState(null),[_,w]=y.useState(null),x=y.useCallback(V=>{V!==O.current&&(O.current=V,g(V))},[]),b=y.useCallback(V=>{V!==C.current&&(C.current=V,w(V))},[]),R=i||E,A=o||_,O=y.useRef(null),C=y.useRef(null),S=y.useRef(h),N=c!=null,P=lm(c),I=lm(s),D=lm(d),j=y.useCallback(()=>{if(!O.current||!C.current)return;const V={placement:e,strategy:n,middleware:p};I.current&&(V.platform=I.current),sz(O.current,C.current,V).then(L=>{const z={...L,isPositioned:D.current!==!1};H.current&&!Rh(S.current,z)&&(S.current=z,_a.flushSync(()=>{f(z)}))})},[p,e,n,I,D]);kd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const H=y.useRef(!1);kd(()=>(H.current=!0,()=>{H.current=!1}),[]),kd(()=>{if(R&&(O.current=R),A&&(C.current=A),R&&A){if(P.current)return P.current(R,A,j);j()}},[R,A,j,P,N]);const ne=y.useMemo(()=>({reference:O,floating:C,setReference:x,setFloating:b}),[x,b]),G=y.useMemo(()=>({reference:R,floating:A}),[R,A]),oe=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const L=WE(G.floating,h.x),z=WE(G.floating,h.y);return a?{...V,transform:"translate("+L+"px, "+z+"px)",...Fk(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:z}},[n,a,G.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:j,refs:ne,elements:G,floatingStyles:oe}),[h,j,ne,G,oe])}const lz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zE({element:r.current,padding:s}).fn(n):{}:r?zE({element:r,padding:s}).fn(n):{}}}},cz=(t,e)=>({...JB(t),options:[t,e]}),uz=(t,e)=>({...ZB(t),options:[t,e]}),dz=(t,e)=>({...rz(t),options:[t,e]}),hz=(t,e)=>({...ez(t),options:[t,e]}),fz=(t,e)=>({...tz(t),options:[t,e]}),pz=(t,e)=>({...nz(t),options:[t,e]}),mz=(t,e)=>({...lz(t),options:[t,e]});var gz="Arrow",Uk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Uk.displayName=gz;var yz=Uk,ww="Popper",[$k,$f]=tr(ww),[vz,Bk]=$k(ww),zk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return l.jsx(vz,{scope:e,anchor:r,onAnchorChange:s,children:n})};zk.displayName=ww;var Wk="PopperAnchor",Hk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Bk(Wk,n),o=y.useRef(null),a=Le(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(me.div,{...s,ref:a})});Hk.displayName=Wk;var xw="PopperContent",[wz,xz]=$k(xw),qk=y.forwardRef((t,e)=>{var te,je,Ze,Pe,Ne,ke;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:E,...g}=t,_=Bk(xw,n),[w,x]=y.useState(null),b=Le(e,gt=>x(gt)),[R,A]=y.useState(null),O=Af(R),C=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,N=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(d)?d:[d],D=I.length>0,j={padding:P,boundary:I.filter(Ez),altBoundary:D},{refs:H,floatingStyles:ne,placement:G,isPositioned:oe,middlewareData:V}=az({strategy:"fixed",placement:N,whileElementsMounted:(...gt)=>XB(...gt,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[cz({mainAxis:s+S,alignmentAxis:o}),c&&uz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dz():void 0,...j}),c&&hz({...j}),fz({...j,apply:({elements:gt,rects:It,availableWidth:Ln,availableHeight:rr})=>{const{width:Ar,height:Ua}=It.reference,jr=gt.floating.style;jr.setProperty("--radix-popper-available-width",`${Ln}px`),jr.setProperty("--radix-popper-available-height",`${rr}px`),jr.setProperty("--radix-popper-anchor-width",`${Ar}px`),jr.setProperty("--radix-popper-anchor-height",`${Ua}px`)}}),R&&mz({element:R,padding:a}),bz({arrowWidth:C,arrowHeight:S}),p&&pz({strategy:"referenceHidden",...j})]}),[L,z]=Yk(G),J=ri(E);Qt(()=>{oe&&(J==null||J())},[oe,J]);const se=(te=V.arrow)==null?void 0:te.x,B=(je=V.arrow)==null?void 0:je.y,ce=((Ze=V.arrow)==null?void 0:Ze.centerOffset)!==0,[we,be]=y.useState();return Qt(()=>{w&&be(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:oe?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Pe=V.transformOrigin)==null?void 0:Pe.x,(Ne=V.transformOrigin)==null?void 0:Ne.y].join(" "),...((ke=V.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(wz,{scope:n,placedSide:L,onArrowChange:A,arrowX:se,arrowY:B,shouldHideArrow:ce,children:l.jsx(me.div,{"data-side":L,"data-align":z,...g,ref:b,style:{...g.style,animation:oe?void 0:"none"}})})})});qk.displayName=xw;var Gk="PopperArrow",_z={top:"bottom",right:"left",bottom:"top",left:"right"},Kk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=xz(Gk,r),o=_z[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(yz,{...s,ref:n,style:{...s.style,display:"block"}})})});Kk.displayName=Gk;function Ez(t){return t!==null}var bz=t=>({name:"transformOrigin",options:t,fn(e){var _,w,x;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=Yk(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let E="",g="";return d==="bottom"?(E=o?f:`${p}px`,g=`${-c}px`):d==="top"?(E=o?f:`${p}px`,g=`${r.floating.height+c}px`):d==="right"?(E=`${-c}px`,g=o?f:`${v}px`):d==="left"&&(E=`${r.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:E,y:g}}}});function Yk(t){const[e,n="center"]=t.split("-");return[e,n]}var Qk=zk,_w=Hk,Xk=qk,Jk=Kk,Zk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tz="VisuallyHidden",Sz=y.forwardRef((t,e)=>l.jsx(me.span,{...t,ref:e,style:{...Zk,...t.style}}));Sz.displayName=Tz;var Cz=[" ","Enter","ArrowUp","ArrowDown"],Iz=[" ","Enter"],Ji="Select",[Bf,zf,Nz]=BN(Ji),[Va,VH]=tr(Ji,[Nz,$f]),Wf=$f(),[kz,pi]=Va(Ji),[Rz,Pz]=Va(Ji),eR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:v,form:E}=t,g=Wf(e),[_,w]=y.useState(null),[x,b]=y.useState(null),[R,A]=y.useState(!1),O=Df(d),[C,S]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Ji}),[N,P]=as({prop:o,defaultProp:a,onChange:c,caller:Ji}),I=y.useRef(null),D=_?E||!!_.closest("form"):!0,[j,H]=y.useState(new Set),ne=Array.from(j).map(G=>G.props.value).join(";");return l.jsx(Qk,{...g,children:l.jsxs(kz,{required:v,scope:e,trigger:_,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:R,onValueNodeHasChildrenChange:A,contentId:Xr(),value:N,onValueChange:P,open:C,onOpenChange:S,dir:O,triggerPointerDownPosRef:I,disabled:p,children:[l.jsx(Bf.Provider,{scope:e,children:l.jsx(Rz,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(G=>{H(oe=>new Set(oe).add(G))},[]),onNativeOptionRemove:y.useCallback(G=>{H(oe=>{const V=new Set(oe);return V.delete(G),V})},[]),children:n})}),D?l.jsxs(TR,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:N,onChange:G=>P(G.target.value),disabled:p,form:E,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(j)]},ne):null]})})};eR.displayName=Ji;var tR="SelectTrigger",nR=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Wf(n),o=pi(tR,n),a=o.disabled||r,c=Le(e,o.onTriggerChange),d=zf(n),h=y.useRef("touch"),[f,p,v]=CR(g=>{const _=d().filter(b=>!b.disabled),w=_.find(b=>b.value===o.value),x=IR(_,g,w);x!==void 0&&o.onValueChange(x.value)}),E=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(_w,{asChild:!0,...i,children:l.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":SR(o.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&E(g)}),onPointerDown:fe(s.onPointerDown,g=>{h.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(E(g),g.preventDefault())}),onKeyDown:fe(s.onKeyDown,g=>{const _=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(_&&g.key===" ")&&Cz.includes(g.key)&&(E(),g.preventDefault())})})})});nR.displayName=tR;var rR="SelectValue",sR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=pi(rR,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Le(e,c.onValueNodeChange);return Qt(()=>{d(h)},[d,h]),l.jsx(me.span,{...a,ref:f,style:{pointerEvents:"none"},children:SR(c.value)?l.jsx(l.Fragment,{children:o}):i})});sR.displayName=rR;var Az="SelectIcon",iR=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(me.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});iR.displayName=Az;var jz="SelectPortal",oR=t=>l.jsx(Cf,{asChild:!0,...t});oR.displayName=jz;var Zi="SelectContent",aR=y.forwardRef((t,e)=>{const n=pi(Zi,t.__scopeSelect),[r,s]=y.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?_a.createPortal(l.jsx(lR,{scope:t.__scopeSelect,children:l.jsx(Bf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(cR,{...t,ref:e})});aR.displayName=Zi;var Un=10,[lR,mi]=Va(Zi),Dz="SelectContentImpl",Oz=Ki("SelectContent.RemoveScroll"),cR=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:E,hideWhenDetached:g,avoidCollisions:_,...w}=t,x=pi(Zi,n),[b,R]=y.useState(null),[A,O]=y.useState(null),C=Le(e,te=>R(te)),[S,N]=y.useState(null),[P,I]=y.useState(null),D=zf(n),[j,H]=y.useState(!1),ne=y.useRef(!1);y.useEffect(()=>{if(b)return sw(b)},[b]),rw();const G=y.useCallback(te=>{const[je,...Ze]=D().map(ke=>ke.ref.current),[Pe]=Ze.slice(-1),Ne=document.activeElement;for(const ke of te)if(ke===Ne||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===je&&A&&(A.scrollTop=0),ke===Pe&&A&&(A.scrollTop=A.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ne))return},[D,A]),oe=y.useCallback(()=>G([S,b]),[G,S,b]);y.useEffect(()=>{j&&oe()},[j,oe]);const{onOpenChange:V,triggerPointerDownPosRef:L}=x;y.useEffect(()=>{if(b){let te={x:0,y:0};const je=Pe=>{var Ne,ke;te={x:Math.abs(Math.round(Pe.pageX)-(((Ne=L.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((ke=L.current)==null?void 0:ke.y)??0))}},Ze=Pe=>{te.x<=10&&te.y<=10?Pe.preventDefault():b.contains(Pe.target)||V(!1),document.removeEventListener("pointermove",je),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[b,V,L]),y.useEffect(()=>{const te=()=>V(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[V]);const[z,J]=CR(te=>{const je=D().filter(Ne=>!Ne.disabled),Ze=je.find(Ne=>Ne.ref.current===document.activeElement),Pe=IR(je,te,Ze);Pe&&setTimeout(()=>Pe.ref.current.focus())}),se=y.useCallback((te,je,Ze)=>{const Pe=!ne.current&&!Ze;(x.value!==void 0&&x.value===je||Pe)&&(N(te),Pe&&(ne.current=!0))},[x.value]),B=y.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=y.useCallback((te,je,Ze)=>{const Pe=!ne.current&&!Ze;(x.value!==void 0&&x.value===je||Pe)&&I(te)},[x.value]),we=r==="popper"?Kg:uR,be=we===Kg?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:E,hideWhenDetached:g,avoidCollisions:_}:{};return l.jsx(lR,{scope:n,content:b,viewport:A,onViewportChange:O,itemRefCallback:se,selectedItem:S,onItemLeave:B,itemTextRefCallback:ce,focusSelectedItem:oe,selectedItemText:P,position:r,isPositioned:j,searchRef:z,children:l.jsx(Nf,{as:Oz,allowPinchZoom:!0,children:l.jsx(Sf,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:fe(s,te=>{var je;(je=x.trigger)==null||je.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(Tf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(we,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...w,...be,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:fe(w.onKeyDown,te=>{const je=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!je&&te.key.length===1&&J(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Pe=D().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ne=te.target,ke=Pe.indexOf(Ne);Pe=Pe.slice(ke+1)}setTimeout(()=>G(Pe)),te.preventDefault()}})})})})})})});cR.displayName=Dz;var Mz="SelectItemAlignedPosition",uR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=pi(Zi,n),o=mi(Zi,n),[a,c]=y.useState(null),[d,h]=y.useState(null),f=Le(e,C=>h(C)),p=zf(n),v=y.useRef(!1),E=y.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:w,focusSelectedItem:x}=o,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&g&&_&&w){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=P.left-S.left,ke=N.left-Ne,gt=C.left-ke,It=C.width+gt,Ln=Math.max(It,S.width),rr=window.innerWidth-Un,Ar=DE(ke,[Un,Math.max(Un,rr-Ln)]);a.style.minWidth=It+"px",a.style.left=Ar+"px"}else{const Ne=S.right-P.right,ke=window.innerWidth-N.right-Ne,gt=window.innerWidth-C.right-ke,It=C.width+gt,Ln=Math.max(It,S.width),rr=window.innerWidth-Un,Ar=DE(ke,[Un,Math.max(Un,rr-Ln)]);a.style.minWidth=It+"px",a.style.right=Ar+"px"}const I=p(),D=window.innerHeight-Un*2,j=g.scrollHeight,H=window.getComputedStyle(d),ne=parseInt(H.borderTopWidth,10),G=parseInt(H.paddingTop,10),oe=parseInt(H.borderBottomWidth,10),V=parseInt(H.paddingBottom,10),L=ne+G+j+V+oe,z=Math.min(_.offsetHeight*5,L),J=window.getComputedStyle(g),se=parseInt(J.paddingTop,10),B=parseInt(J.paddingBottom,10),ce=C.top+C.height/2-Un,we=D-ce,be=_.offsetHeight/2,te=_.offsetTop+be,je=ne+G+te,Ze=L-je;if(je<=ce){const Ne=I.length>0&&_===I[I.length-1].ref.current;a.style.bottom="0px";const ke=d.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(we,be+(Ne?B:0)+ke+oe),It=je+gt;a.style.height=It+"px"}else{const Ne=I.length>0&&_===I[0].ref.current;a.style.top="0px";const gt=Math.max(ce,ne+g.offsetTop+(Ne?se:0)+be)+Ze;a.style.height=gt+"px",g.scrollTop=je-ce+g.offsetTop}a.style.margin=`${Un}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,d,g,_,w,i.dir,r]);Qt(()=>b(),[b]);const[R,A]=y.useState();Qt(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const O=y.useCallback(C=>{C&&E.current===!0&&(b(),x==null||x(),E.current=!1)},[b,x]);return l.jsx(Vz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uR.displayName=Mz;var Lz="SelectPopperPosition",Kg=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=t,o=Wf(n);return l.jsx(Xk,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kg.displayName=Lz;var[Vz,Ew]=Va(Zi,{}),Yg="SelectViewport",dR=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=mi(Yg,n),o=Ew(Yg,n),a=Le(e,i.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Bf.Slot,{scope:n,children:l.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const E=window.innerHeight-Un*2,g=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),w=Math.max(g,_);if(w<E){const x=w+v,b=Math.min(E,x),R=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});dR.displayName=Yg;var hR="SelectGroup",[Fz,Uz]=Va(hR),$z=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xr();return l.jsx(Fz,{scope:n,id:s,children:l.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});$z.displayName=hR;var fR="SelectLabel",pR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Uz(fR,n);return l.jsx(me.div,{id:s.id,...r,ref:e})});pR.displayName=fR;var Ph="SelectItem",[Bz,mR]=Va(Ph),gR=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=pi(Ph,n),c=mi(Ph,n),d=a.value===r,[h,f]=y.useState(i??""),[p,v]=y.useState(!1),E=Le(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),g=Xr(),_=y.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Bz,{scope:n,value:r,disabled:s,textId:g,isSelected:d,onItemTextChange:y.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Bf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(me.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:fe(o.onFocus,()=>v(!0)),onBlur:fe(o.onBlur,()=>v(!1)),onClick:fe(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:fe(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:fe(o.onPointerDown,x=>{_.current=x.pointerType}),onPointerMove:fe(o.onPointerMove,x=>{var b;_.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):_.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:fe(o.onKeyDown,x=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&x.key===" "||(Iz.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});gR.displayName=Ph;var Tl="SelectItemText",yR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=pi(Tl,n),a=mi(Tl,n),c=mR(Tl,n),d=Pz(Tl,n),[h,f]=y.useState(null),p=Le(e,w=>f(w),c.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,c.value,c.disabled)}),v=h==null?void 0:h.textContent,E=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=d;return Qt(()=>(g(E),()=>_(E)),[g,_,E]),l.jsxs(l.Fragment,{children:[l.jsx(me.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_a.createPortal(i.children,o.valueNode):null]})});yR.displayName=Tl;var vR="SelectItemIndicator",wR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mR(vR,n).isSelected?l.jsx(me.span,{"aria-hidden":!0,...r,ref:e}):null});wR.displayName=vR;var Qg="SelectScrollUpButton",xR=y.forwardRef((t,e)=>{const n=mi(Qg,t.__scopeSelect),r=Ew(Qg,t.__scopeSelect),[s,i]=y.useState(!1),o=Le(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(ER,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});xR.displayName=Qg;var Xg="SelectScrollDownButton",_R=y.forwardRef((t,e)=>{const n=mi(Xg,t.__scopeSelect),r=Ew(Xg,t.__scopeSelect),[s,i]=y.useState(!1),o=Le(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(ER,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});_R.displayName=Xg;var ER=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=mi("SelectScrollButton",n),o=y.useRef(null),a=zf(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Qt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),zz="SelectSeparator",bR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});bR.displayName=zz;var Jg="SelectArrow",Wz=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wf(n),i=pi(Jg,n),o=mi(Jg,n);return i.open&&o.position==="popper"?l.jsx(Jk,{...s,...r,ref:e}):null});Wz.displayName=Jg;var Hz="SelectBubbleInput",TR=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=Le(r,s),o=Pf(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(me.select,{...n,style:{...Zk,...n.style},ref:i,defaultValue:e})});TR.displayName=Hz;function SR(t){return t===""||t===void 0}function CR(t){const e=ri(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function IR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=qz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function qz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Gz=eR,NR=nR,Kz=sR,Yz=iR,Qz=oR,kR=aR,Xz=dR,RR=pR,PR=gR,Jz=yR,Zz=wR,AR=xR,jR=_R,DR=bR;const Ah=Gz,jh=Kz,xc=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(NR,{ref:r,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Yz,{asChild:!0,children:l.jsx(pa,{className:"h-4 w-4 opacity-50"})})]}));xc.displayName=NR.displayName;const OR=y.forwardRef(({className:t,...e},n)=>l.jsx(AR,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(bh,{className:"h-4 w-4"})}));OR.displayName=AR.displayName;const MR=y.forwardRef(({className:t,...e},n)=>l.jsx(jR,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(pa,{className:"h-4 w-4"})}));MR.displayName=jR.displayName;const _c=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(Qz,{children:l.jsxs(kR,{ref:s,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(OR,{}),l.jsx(Xz,{className:X("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(MR,{})]})}));_c.displayName=kR.displayName;const e8=y.forwardRef(({className:t,...e},n)=>l.jsx(RR,{ref:n,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));e8.displayName=RR.displayName;const vt=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(PR,{ref:r,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Zz,{children:l.jsx(KI,{className:"h-4 w-4"})})}),l.jsx(Jz,{children:e})]}));vt.displayName=PR.displayName;const t8=y.forwardRef(({className:t,...e},n)=>l.jsx(DR,{ref:n,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));t8.displayName=DR.displayName;var Hf="Switch",[n8,FH]=tr(Hf),[r8,s8]=n8(Hf),LR=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,v]=y.useState(null),E=Le(e,b=>v(b)),g=y.useRef(!1),_=p?h||!!p.closest("form"):!0,[w,x]=as({prop:s,defaultProp:i??!1,onChange:d,caller:Hf});return l.jsxs(r8,{scope:n,checked:w,disabled:a,children:[l.jsx(me.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":$R(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:E,onClick:fe(t.onClick,b=>{x(R=>!R),_&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),_&&l.jsx(UR,{control:p,bubbles:!g.current,name:r,value:c,checked:w,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});LR.displayName=Hf;var VR="SwitchThumb",FR=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=s8(VR,n);return l.jsx(me.span,{"data-state":$R(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});FR.displayName=VR;var i8="SwitchBubbleInput",UR=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Le(o,i),c=Pf(n),d=Af(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const E=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(E)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UR.displayName=i8;function $R(t){return t?"checked":"unchecked"}var BR=LR,o8=FR;const bw=y.forwardRef(({className:t,...e},n)=>l.jsx(BR,{className:X("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(o8,{className:X("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bw.displayName=BR.displayName;const cm={},Sl={};function Bl(t,e){try{const r=(cm[t]||(cm[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Sl?Sl[r]:HE(r,r.split(":"))}catch{if(t in Sl)return Sl[t];const n=t==null?void 0:t.match(a8);return n?HE(t,n.slice(1)):NaN}}const a8=/([+-]\d\d):?(\d\d)?/;function HE(t,e){const n=+e[0],r=+(e[1]||0);return Sl[t]=n>0?n*60+r:n*60-r}class dr extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Bl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),zR(this),Zg(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new dr(...n,e):new dr(Date.now(),e)}withTimeZone(e){return new dr(+this,e)}getTimezoneOffset(){return-Bl(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Zg(this),+this}[Symbol.for("constructDateFrom")](e){return new dr(+new Date(e),this.timeZone)}}const qE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!qE.test(t))return;const e=t.replace(qE,"$1UTC");dr.prototype[e]&&(t.startsWith("get")?dr.prototype[t]=function(){return this.internal[e]()}:(dr.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),l8(this),+this},dr.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Zg(this),+this}))});function Zg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function l8(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),zR(t)}function zR(t){const e=Bl(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const c=Bl(t.timeZone,t),h=-new Date(+t).getTimezoneOffset()-c,f=c!==e,p=h-a;if(f&&p){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p);const v=Bl(t.timeZone,t),E=c-v;E&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+E),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+E))}}class zt extends dr{static tz(e,...n){return n.length?new zt(...n,e):new zt(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${c8(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new zt(+this,e)}[Symbol.for("constructDateFrom")](e){return new zt(+new Date(e),this.timeZone)}}function c8(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var ie;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ie||(ie={}));var et;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(et||(et={}));var Hn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Hn||(Hn={}));var mn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(mn||(mn={}));const WR=6048e5,u8=864e5,GE=Symbol.for("constructDateFrom");function Et(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&GE in t?t[GE](e):t instanceof Date?new t.constructor(e):new Date(e)}function $e(t,e){return Et(e||t,t)}function HR(t,e,n){const r=$e(t,n==null?void 0:n.in);return isNaN(e)?Et(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function qR(t,e,n){const r=$e(t,n==null?void 0:n.in);if(isNaN(e))return Et(t,NaN);if(!e)return r;const s=r.getDate(),i=Et(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let d8={};function Yc(){return d8}function ga(t,e){var a,c,d,h;const n=Yc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$e(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ec(t,e){return ga(t,{...e,weekStartsOn:1})}function GR(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=Et(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Ec(s),o=Et(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ec(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function KE(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Fa(t,...e){const n=Et.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function bc(t,e){const n=$e(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function KR(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e),i=bc(r),o=bc(s),a=+i-KE(i),c=+o-KE(o);return Math.round((a-c)/u8)}function h8(t,e){const n=GR(t,e),r=Et(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ec(r)}function f8(t,e,n){return HR(t,e*7,n)}function p8(t,e,n){return qR(t,e*12,n)}function m8(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=$e(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function g8(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=$e(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function y8(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e);return+bc(r)==+bc(s)}function YR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function v8(t){return!(!YR(t)&&typeof t!="number"||isNaN(+$e(t)))}function w8(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function x8(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function _8(t,e){const[n,r]=Fa(t,e.start,e.end);return{start:n,end:r}}function E8(t,e){const{start:n,end:r}=_8(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(Et(n,o)),o.setMonth(o.getMonth()+a);return s?c.reverse():c}function b8(t,e){const n=$e(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function T8(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function QR(t,e){const n=$e(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function XR(t,e){var a,c,d,h;const n=Yc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$e(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function S8(t,e){return XR(t,{...e,weekStartsOn:1})}const C8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},I8=(t,e,n)=>{let r;const s=C8[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function um(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const N8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P8={date:um({formats:N8,defaultWidth:"full"}),time:um({formats:k8,defaultWidth:"full"}),dateTime:um({formats:R8,defaultWidth:"full"})},A8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j8=(t,e,n,r)=>A8[t];function cl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const D8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},M8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$8={ordinalNumber:U8,era:cl({values:D8,defaultWidth:"wide"}),quarter:cl({values:O8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cl({values:M8,defaultWidth:"wide"}),day:cl({values:L8,defaultWidth:"wide"}),dayPeriod:cl({values:V8,defaultWidth:"wide",formattingValues:F8,defaultFormattingWidth:"wide"})};function ul(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?z8(a,f=>f.test(o)):B8(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function B8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function z8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function W8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const H8=/^(\d+)(th|st|nd|rd)?/i,q8=/\d+/i,G8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K8={any:[/^b/i,/^(a|c)/i]},Y8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q8={any:[/1/i,/2/i,/3/i,/4/i]},X8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rW={ordinalNumber:W8({matchPattern:H8,parsePattern:q8,valueCallback:t=>parseInt(t,10)}),era:ul({matchPatterns:G8,defaultMatchWidth:"wide",parsePatterns:K8,defaultParseWidth:"any"}),quarter:ul({matchPatterns:Y8,defaultMatchWidth:"wide",parsePatterns:Q8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ul({matchPatterns:X8,defaultMatchWidth:"wide",parsePatterns:J8,defaultParseWidth:"any"}),day:ul({matchPatterns:Z8,defaultMatchWidth:"wide",parsePatterns:eW,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:tW,defaultMatchWidth:"any",parsePatterns:nW,defaultParseWidth:"any"})},Tw={code:"en-US",formatDistance:I8,formatLong:P8,formatRelative:j8,localize:$8,match:rW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sW(t,e){const n=$e(t,e==null?void 0:e.in);return KR(n,QR(n))+1}function JR(t,e){const n=$e(t,e==null?void 0:e.in),r=+Ec(n)-+h8(n);return Math.round(r/WR)+1}function ZR(t,e){var h,f,p,v;const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=Yc(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(p=s.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=Et((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ga(o,e),c=Et((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ga(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function iW(t,e){var a,c,d,h;const n=Yc(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=ZR(t,e),i=Et((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ga(i,e)}function eP(t,e){const n=$e(t,e==null?void 0:e.in),r=+ga(n,e)-+iW(n,e);return Math.round(r/WR)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Fe(s,e.length)}},xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return xs.y(t,e)},Y:function(t,e,n,r){const s=ZR(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Fe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Fe(i,e.length)},R:function(t,e){const n=GR(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=eP(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},I:function(t,e,n){const r=JR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xs.d(t,e)},D:function(t,e,n){const r=sW(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Fe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=xo.noon:r===0?s=xo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=xo.evening:r>=12?s=xo.afternoon:r>=4?s=xo.morning:s=xo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xs.s(t,e)},S:function(t,e){return xs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return XE(r);case"XXXX":case"XX":return Ii(r);case"XXXXX":case"XXX":default:return Ii(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return XE(r);case"xxxx":case"xx":return Ii(r);case"xxxxx":case"xxx":default:return Ii(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+QE(r,":");case"OOOO":default:return"GMT"+Ii(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+QE(r,":");case"zzzz":default:return"GMT"+Ii(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Fe(r,e.length)},T:function(t,e,n){return Fe(+t,e.length)}};function QE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Fe(i,2)}function XE(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):Ii(t,e)}function Ii(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Fe(Math.trunc(r/60),2),i=Fe(r%60,2);return n+s+e+i}const JE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oW=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return JE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",JE(r,e)).replace("{{time}}",tP(s,e))},aW={p:tP,P:oW},lW=/^D+$/,cW=/^Y+$/,uW=["D","DD","YY","YYYY"];function dW(t){return lW.test(t)}function hW(t){return cW.test(t)}function fW(t,e,n){const r=pW(t,e,n);if(console.warn(r),uW.includes(t))throw new RangeError(r)}function pW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yW=/^'([^]*?)'?$/,vW=/''/g,wW=/[a-zA-Z]/;function Sw(t,e,n){var h,f,p,v,E,g,_,w;const r=Yc(),s=(n==null?void 0:n.locale)??r.locale??Tw,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(_=r.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??0,a=$e(t,n==null?void 0:n.in);if(!v8(a))throw new RangeError("Invalid time value");let c=e.match(gW).map(x=>{const b=x[0];if(b==="p"||b==="P"){const R=aW[b];return R(x,s.formatLong)}return x}).join("").match(mW).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:xW(x)};if(YE[b])return{isToken:!0,value:x};if(b.match(wW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&hW(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dW(b))&&fW(b,e,String(t));const R=YE[b[0]];return R(a,b,s.localize,d)}).join("")}function xW(t){const e=t.match(yW);return e?e[1].replace(vW,"'"):t}function _W(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=Et(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function EW(t,e){return $e(t,e==null?void 0:e.in).getMonth()}function bW(t,e){return $e(t,e==null?void 0:e.in).getFullYear()}function TW(t,e){return+$e(t)>+$e(e)}function SW(t,e){return+$e(t)<+$e(e)}function CW(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function IW(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function NW(t,e,n){const r=$e(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=Et(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=_W(o);return r.setMonth(e,Math.min(i,a)),r}function kW(t,e,n){const r=$e(t,n==null?void 0:n.in);return isNaN(+r)?Et(t,NaN):(r.setFullYear(e),r)}const ZE=5,RW=4;function PW(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,ZE*7-1);return e.getMonth(t)===e.getMonth(i)?ZE:RW}function nP(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function AW(t,e){const n=nP(t,e),r=PW(t,e);return e.addDays(n,r*7-1)}class hs{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?zt.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new zt(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):HR(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):qR(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):f8(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):p8(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):KR(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):w8(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):E8(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):AW(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):S8(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):x8(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):XR(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):T8(r)},this.format=(r,s,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(r,s,this.options):Sw(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):JR(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):EW(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):bW(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):eP(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):TW(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):SW(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):YR(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):y8(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):CW(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):IW(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):m8(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):g8(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):NW(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):kW(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):nP(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):bc(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Ec(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):b8(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):ga(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):QR(r)},this.options={locale:Tw,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Pr=new hs;class rP{constructor(e,n,r=Pr){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class jW{constructor(e,n){this.date=e,this.weeks=n}}class DW{constructor(e,n){this.days=n,this.weekNumber=e}}function Hr(t,e,n=!1,r=Pr){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&s?a(s,e):!1}function sP(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Cw(t){return!!(t&&typeof t=="object"&&"from"in t)}function iP(t){return!!(t&&typeof t=="object"&&"after"in t)}function oP(t){return!!(t&&typeof t=="object"&&"before"in t)}function aP(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function lP(t,e){return Array.isArray(t)&&t.every(e.isDate)}function qr(t,e,n=Pr){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(t,a);if(lP(a,n))return a.includes(t);if(Cw(a))return Hr(a,t,!1,n);if(aP(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(sP(a)){const c=i(a.before,t),d=i(a.after,t),h=c>0,f=d<0;return o(a.before,a.after)?f&&h:h||f}return iP(a)?i(t,a.after)>0:oP(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function OW(t,e,n,r,s){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:c,broadcastCalendar:d,today:h}=e,{isSameDay:f,isSameMonth:p,startOfMonth:v,isBefore:E,endOfMonth:g,isAfter:_}=s,w=n&&v(n),x=r&&g(r),b={[et.focused]:[],[et.outside]:[],[et.disabled]:[],[et.hidden]:[],[et.today]:[]},R={};for(const A of t){const{date:O,displayMonth:C}=A,S=!!(C&&!p(O,C)),N=!!(w&&E(O,w)),P=!!(x&&_(O,x)),I=!!(i&&qr(O,i,s)),D=!!(o&&qr(O,o,s))||N||P||!d&&!c&&S||d&&c===!1&&S,j=f(O,h??s.today());S&&b.outside.push(A),I&&b.disabled.push(A),D&&b.hidden.push(A),j&&b.today.push(A),a&&Object.keys(a).forEach(H=>{const ne=a==null?void 0:a[H];ne&&qr(O,ne,s)&&(R[H]?R[H].push(A):R[H]=[A])})}return A=>{const O={[et.focused]:!1,[et.disabled]:!1,[et.hidden]:!1,[et.outside]:!1,[et.today]:!1},C={};for(const S in b){const N=b[S];O[S]=N.some(P=>P===A)}for(const S in R)C[S]=R[S].some(N=>N===A);return{...O,...C}}}function MW(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[et[i]]?s.push(e[et[i]]):e[Hn[i]]&&s.push(e[Hn[i]]),s),[e[ie.Day]])}function LW(t){return K.createElement("button",{...t})}function VW(t){return K.createElement("span",{...t})}function FW(t){const{size:e=24,orientation:n="left",className:r}=t;return K.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&K.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&K.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&K.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&K.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function UW(t){const{day:e,modifiers:n,...r}=t;return K.createElement("td",{...r})}function $W(t){const{day:e,modifiers:n,...r}=t,s=K.useRef(null);return K.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),K.createElement("button",{ref:s,...r})}function BW(t){const{options:e,className:n,components:r,classNames:s,...i}=t,o=[s[ie.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return K.createElement("span",{"data-disabled":i.disabled,className:s[ie.DropdownRoot]},K.createElement(r.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:d,disabled:h})=>K.createElement(r.Option,{key:c,value:c,disabled:h},d))),K.createElement("span",{className:s[ie.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,K.createElement(r.Chevron,{orientation:"down",size:18,className:s[ie.Chevron]})))}function zW(t){return K.createElement("div",{...t})}function WW(t){return K.createElement("div",{...t})}function HW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return K.createElement("div",{...r},t.children)}function qW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return K.createElement("div",{...r})}function GW(t){return K.createElement("table",{...t})}function KW(t){return K.createElement("div",{...t})}const cP=y.createContext(void 0);function Qc(){const t=y.useContext(cP);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function YW(t){const{components:e}=Qc();return K.createElement(e.Dropdown,{...t})}function QW(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:d}}=Qc(),h=y.useCallback(p=>{s&&(n==null||n(p))},[s,n]),f=y.useCallback(p=>{r&&(e==null||e(p))},[r,e]);return K.createElement("nav",{...i},K.createElement(o.PreviousMonthButton,{type:"button",className:a[ie.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},K.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[ie.Chevron],orientation:"left"})),K.createElement(o.NextMonthButton,{type:"button",className:a[ie.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:h},K.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[ie.Chevron]})))}function XW(t){const{components:e}=Qc();return K.createElement(e.Button,{...t})}function JW(t){return K.createElement("option",{...t})}function ZW(t){const{components:e}=Qc();return K.createElement(e.Button,{...t})}function e7(t){const{rootRef:e,...n}=t;return K.createElement("div",{...n,ref:e})}function t7(t){return K.createElement("select",{...t})}function n7(t){const{week:e,...n}=t;return K.createElement("tr",{...n})}function r7(t){return K.createElement("th",{...t})}function s7(t){return K.createElement("thead",{"aria-hidden":!0},K.createElement("tr",{...t}))}function i7(t){const{week:e,...n}=t;return K.createElement("th",{...n})}function o7(t){return K.createElement("th",{...t})}function a7(t){return K.createElement("tbody",{...t})}function l7(t){const{components:e}=Qc();return K.createElement(e.Dropdown,{...t})}const c7=Object.freeze(Object.defineProperty({__proto__:null,Button:LW,CaptionLabel:VW,Chevron:FW,Day:UW,DayButton:$W,Dropdown:BW,DropdownNav:zW,Footer:WW,Month:HW,MonthCaption:qW,MonthGrid:GW,Months:KW,MonthsDropdown:YW,Nav:QW,NextMonthButton:XW,Option:JW,PreviousMonthButton:ZW,Root:e7,Select:t7,Week:n7,WeekNumber:i7,WeekNumberHeader:o7,Weekday:r7,Weekdays:s7,Weeks:a7,YearsDropdown:l7},Symbol.toStringTag,{value:"Module"}));function u7(t){return{...c7,...t}}function d7(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Iw(){const t={};for(const e in ie)t[ie[e]]=`rdp-${ie[e]}`;for(const e in et)t[et[e]]=`rdp-${et[e]}`;for(const e in Hn)t[Hn[e]]=`rdp-${Hn[e]}`;for(const e in mn)t[mn[e]]=`rdp-${mn[e]}`;return t}function uP(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const h7=uP;function f7(t,e,n){return(n??new hs(e)).format(t,"d")}function p7(t,e=Pr){return e.format(t,"LLLL")}function m7(t,e=Pr){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function g7(){return""}function y7(t,e,n){return(n??new hs(e)).format(t,"cccccc")}function dP(t,e=Pr){return e.format(t,"yyyy")}const v7=dP,w7=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:uP,formatDay:f7,formatMonthCaption:h7,formatMonthDropdown:p7,formatWeekNumber:m7,formatWeekNumberHeader:g7,formatWeekdayName:y7,formatYearCaption:v7,formatYearDropdown:dP},Symbol.toStringTag,{value:"Module"}));function x7(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...w7,...t}}function _7(t,e,n,r,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:d}=s;return c({start:o(t),end:a(t)}).map(p=>{const v=r.formatMonthDropdown(p,s),E=d(p),g=e&&p<i(e)||n&&p>i(n)||!1;return{value:E,label:v,disabled:g}})}function E7(t,e={},n={}){let r={...e==null?void 0:e[ie.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function b7(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function T7(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:c,isSameYear:d}=r,h=s(t),f=i(e),p=[];let v=h;for(;c(v,f)||d(v,f);)p.push(v),v=o(v,1);return p.map(E=>{const g=n.formatYearDropdown(E,r);return{value:a(E),label:g,disabled:!1}})}function hP(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const S7=hP;function C7(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function fP(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const I7=fP;function N7(){return""}function k7(t){return"Choose the Month"}function R7(t){return"Go to the Next Month"}function P7(t){return"Go to the Previous Month"}function A7(t,e,n){return(n??new hs(e)).format(t,"cccc")}function j7(t,e){return`Week ${t}`}function D7(t){return"Week Number"}function O7(t){return"Choose the Year"}const M7=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:S7,labelDay:I7,labelDayButton:fP,labelGrid:hP,labelGridcell:C7,labelMonthDropdown:k7,labelNav:N7,labelNext:R7,labelPrevious:P7,labelWeekNumber:j7,labelWeekNumberHeader:D7,labelWeekday:A7,labelYearDropdown:O7},Symbol.toStringTag,{value:"Module"})),Xc=t=>t instanceof HTMLElement?t:null,dm=t=>[...t.querySelectorAll("[data-animated-month]")??[]],L7=t=>Xc(t.querySelector("[data-animated-month]")),hm=t=>Xc(t.querySelector("[data-animated-caption]")),fm=t=>Xc(t.querySelector("[data-animated-weeks]")),V7=t=>Xc(t.querySelector("[data-animated-nav]")),F7=t=>Xc(t.querySelector("[data-animated-weekdays]"));function U7(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const o=y.useRef(null),a=y.useRef(r),c=y.useRef(!1);y.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const h=i.isSameMonth(r[0].date,d[0].date),f=i.isAfter(r[0].date,d[0].date),p=f?n[mn.caption_after_enter]:n[mn.caption_before_enter],v=f?n[mn.weeks_after_enter]:n[mn.weeks_before_enter],E=o.current,g=t.current.cloneNode(!0);if(g instanceof HTMLElement?(dm(g).forEach(b=>{if(!(b instanceof HTMLElement))return;const R=L7(b);R&&b.contains(R)&&b.removeChild(R);const A=hm(b);A&&A.classList.remove(p);const O=fm(b);O&&O.classList.remove(v)}),o.current=g):o.current=null,c.current||h||s)return;const _=E instanceof HTMLElement?dm(E):[],w=dm(t.current);if(w&&w.every(x=>x instanceof HTMLElement)&&_&&_.every(x=>x instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const x=V7(t.current);x&&(x.style.zIndex="1"),w.forEach((b,R)=>{const A=_[R];if(!A)return;b.style.position="relative",b.style.overflow="hidden";const O=hm(b);O&&O.classList.add(p);const C=fm(b);C&&C.classList.add(v);const S=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),x&&(x.style.zIndex=""),O&&O.classList.remove(p),C&&C.classList.remove(v),b.style.position="",b.style.overflow="",b.contains(A)&&b.removeChild(A)};A.style.pointerEvents="none",A.style.position="absolute",A.style.overflow="hidden",A.setAttribute("aria-hidden","true");const N=F7(A);N&&(N.style.opacity="0");const P=hm(A);P&&(P.classList.add(f?n[mn.caption_before_exit]:n[mn.caption_after_exit]),P.addEventListener("animationend",S));const I=fm(A);I&&I.classList.add(f?n[mn.weeks_before_exit]:n[mn.weeks_after_exit]),b.insertBefore(A,b.firstChild)})}})}function $7(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:v,endOfMonth:E,endOfWeek:g,isAfter:_,startOfBroadcastWeek:w,startOfISOWeek:x,startOfWeek:b}=r,R=c?w(s,r):o?x(s):b(s),A=c?p(i):o?v(E(i)):g(E(i)),O=h(A,R),C=f(i,s)+1,S=[];for(let I=0;I<=O;I++){const D=d(R,I);if(e&&_(D,e))break;S.push(D)}const P=(c?35:42)*C;if(a&&S.length<P){const I=P-S.length;for(let D=0;D<I;D++){const j=d(S[S.length-1],1);S.push(j)}}return S}function B7(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,o)=>[...i,...o.days],e);return[...n,...s]},e)}function z7(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let o=0;o<s;o++){const a=r.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function eb(t,e,n,r){const{month:s,defaultMonth:i,today:o=r.today(),numberOfMonths:a=1}=t;let c=s||i||o;const{differenceInCalendarMonths:d,addMonths:h,startOfMonth:f}=r;if(n&&d(n,c)<a-1){const p=-1*(a-1);c=h(n,p)}return e&&d(c,e)<0&&(c=e),f(c)}function W7(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:d,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:v}=r,E=t.reduce((g,_)=>{const w=n.broadcastCalendar?f(_,r):n.ISOWeek?p(_):v(_),x=n.broadcastCalendar?i(_):n.ISOWeek?o(a(_)):c(a(_)),b=e.filter(C=>C>=w&&C<=x),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&b.length<R){const C=e.filter(S=>{const N=R-b.length;return S>x&&S<=s(x,N)});b.push(...C)}const A=b.reduce((C,S)=>{const N=n.ISOWeek?d(S):h(S),P=C.find(D=>D.weekNumber===N),I=new rP(S,_,r);return P?P.days.push(I):C.push(new DW(N,[I])),C},[]),O=new jW(_,A);return g.push(O),g},[]);return n.reverseMonths?E.reverse():E}function H7(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:d,newDate:h,today:f}=e,{fromYear:p,toYear:v,fromMonth:E,toMonth:g}=t;!n&&E&&(n=E),!n&&p&&(n=e.newDate(p,0,1)),!r&&g&&(r=g),!r&&v&&(r=h(v,11,31));const _=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):p?n=h(p,0,1):!n&&_&&(n=s(c(t.today??f(),-100))),r?r=a(r):v?r=h(v,11,31):!r&&_&&(r=d(t.today??f())),[n&&i(n),r&&i(r)]}function q7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i:1,h=o(t);if(!e)return a(h,d);if(!(c(e,t)<i))return a(h,d)}function G7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i??1:1,h=o(t);if(!e)return a(h,-d);if(!(c(h,e)<=0))return a(h,-d)}function K7(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function qf(t,e){const[n,r]=y.useState(t);return[e===void 0?n:e,r]}function Y7(t,e){const[n,r]=H7(t,e),{startOfMonth:s,endOfMonth:i}=e,o=eb(t,n,r,e),[a,c]=qf(o,t.month?o:void 0);y.useEffect(()=>{const O=eb(t,n,r,e);c(O)},[t.timeZone]);const d=z7(a,r,t,e),h=$7(d,t.endMonth?i(t.endMonth):void 0,t,e),f=W7(d,h,t,e),p=K7(f),v=B7(f),E=G7(a,n,t,e),g=q7(a,r,t,e),{disableNavigation:_,onMonthChange:w}=t,x=O=>p.some(C=>C.days.some(S=>S.isEqualTo(O))),b=O=>{if(_)return;let C=s(O);n&&C<s(n)&&(C=s(n)),r&&C>s(r)&&(C=s(r)),c(C),w==null||w(C)};return{months:f,weeks:p,days:v,navStart:n,navEnd:r,previousMonth:E,nextMonth:g,goToMonth:b,goToDay:O=>{x(O)||b(O.date)}}}var or;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(or||(or={}));function tb(t){return!t[et.disabled]&&!t[et.hidden]&&!t[et.outside]}function Q7(t,e,n,r){let s,i=-1;for(const o of t){const a=e(o);tb(a)&&(a[et.focused]&&i<or.FocusedModifier?(s=o,i=or.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<or.LastFocused?(s=o,i=or.LastFocused):n(o.date)&&i<or.Selected?(s=o,i=or.Selected):a[et.today]&&i<or.Today&&(s=o,i=or.Today))}return s||(s=t.find(o=>tb(e(o)))),s}function X7(t,e,n,r,s,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:d,addMonths:h,addWeeks:f,addYears:p,endOfBroadcastWeek:v,endOfISOWeek:E,endOfWeek:g,max:_,min:w,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:R}=o;let O={day:d,week:f,month:h,year:p,startOfWeek:C=>c?x(C,o):a?b(C):R(C),endOfWeek:C=>c?v(C):a?E(C):g(C)}[t](n,e==="after"?1:-1);return e==="before"&&r?O=_([r,O]):e==="after"&&s&&(O=w([s,O])),O}function pP(t,e,n,r,s,i,o,a=0){if(a>365)return;const c=X7(t,e,n.date,r,s,i,o),d=!!(i.disabled&&qr(c,i.disabled,o)),h=!!(i.hidden&&qr(c,i.hidden,o)),f=c,p=new rP(c,f,o);return!d&&!h?p:pP(t,e,p,r,s,i,o,a+1)}function J7(t,e,n,r,s){const{autoFocus:i}=t,[o,a]=y.useState(),c=Q7(e.days,n,r||(()=>!1),o),[d,h]=y.useState(i?c:void 0);return{isFocusTarget:g=>!!(c!=null&&c.isEqualTo(g)),setFocused:h,focused:d,blur:()=>{a(d),h(void 0)},moveFocus:(g,_)=>{if(!d)return;const w=pP(g,_,d,e.navStart,e.navEnd,t,s);w&&(e.goToDay(w),h(w))}}}function Z7(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=qf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e,d=v=>(a==null?void 0:a.some(E=>c(E,v)))??!1,{min:h,max:f}=t;return{selected:a,select:(v,E,g)=>{let _=[...a??[]];if(d(v)){if((a==null?void 0:a.length)===h||r&&(a==null?void 0:a.length)===1)return;_=a==null?void 0:a.filter(w=>!c(w,v))}else(a==null?void 0:a.length)===f?_=[v]:_=[..._,v];return s||o(_),s==null||s(_,v,E,g),_},isSelected:d}}function eH(t,e,n=0,r=0,s=!1,i=Pr){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:d,isBefore:h}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)c(o,t)?s?f={from:o,to:void 0}:f=void 0:h(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))s?f={from:o,to:a}:f=void 0;else if(c(o,t))f={from:o,to:n>0?void 0:t};else if(c(a,t))f={from:t,to:n>0?void 0:t};else if(h(t,o))f={from:t,to:a};else if(d(t,o))f={from:o,to:t};else if(d(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const p=i.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:t,to:void 0}:n>1&&p<n&&(f={from:t,to:void 0})}return f}function tH(t,e,n=Pr){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function nb(t,e,n=Pr){return Hr(t,e.from,!1,n)||Hr(t,e.to,!1,n)||Hr(e,t.from,!1,n)||Hr(e,t.to,!1,n)}function nH(t,e,n=Pr){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Hr(t,a,!1,n):lP(a,n)?a.some(c=>Hr(t,c,!1,n)):Cw(a)?a.from&&a.to?nb(t,{from:a.from,to:a.to},n):!1:aP(a)?tH(t,a.dayOfWeek,n):sP(a)?n.isAfter(a.before,a.after)?nb(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):qr(t.from,a,n)||qr(t.to,a,n):iP(a)||oP(a)?qr(t.from,a,n)||qr(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=c;d++){if(o.some(h=>h(a)))return!0;a=n.addDays(a,1)}}return!1}function rH(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:o}=t,[a,c]=qf(s,o?s:void 0),d=o?s:a;return{selected:d,select:(p,v,E)=>{const{min:g,max:_}=t,w=p?eH(p,d,g,_,i,e):void 0;return r&&n&&(w!=null&&w.from)&&w.to&&nH({from:w.from,to:w.to},n,e)&&(w.from=p,w.to=void 0),o||c(w),o==null||o(w,p,v,E),w},isSelected:p=>d&&Hr(d,p,!1,e)}}function sH(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=qf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e;return{selected:a,select:(f,p,v)=>{let E=f;return!r&&a&&a&&c(f,a)&&(E=void 0),s||o(E),s==null||s(E,f,p,v),E},isSelected:f=>a?c(a,f):!1}}function iH(t,e){const n=sH(t,e),r=Z7(t,e),s=rH(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function oH(t){var co;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new zt(e.today,e.timeZone)),e.month&&(e.month=new zt(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new zt(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new zt(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new zt(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new zt(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(co=e.selected)==null?void 0:co.map(ve=>new zt(ve,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new zt(e.selected.from,e.timeZone):void 0,to:e.selected.to?new zt(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:o,classNames:a}=y.useMemo(()=>{const ve={...Tw,...e.locale};return{dateLib:new hs({locale:ve,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:u7(e.components),formatters:x7(e.formatters),labels:{...M7,...e.labels},locale:ve,classNames:{...Iw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:d,navLayout:h,numberOfMonths:f=1,onDayBlur:p,onDayClick:v,onDayFocus:E,onDayKeyDown:g,onDayMouseEnter:_,onDayMouseLeave:w,onNextClick:x,onPrevClick:b,showWeekNumber:R,styles:A}=e,{formatCaption:O,formatDay:C,formatMonthDropdown:S,formatWeekNumber:N,formatWeekNumberHeader:P,formatWeekdayName:I,formatYearDropdown:D}=r,j=Y7(e,i),{days:H,months:ne,navStart:G,navEnd:oe,previousMonth:V,nextMonth:L,goToMonth:z}=j,J=OW(H,e,G,oe,i),{isSelected:se,select:B,selected:ce}=iH(e,i)??{},{blur:we,focused:be,isFocusTarget:te,moveFocus:je,setFocused:Ze}=J7(e,j,J,se??(()=>!1),i),{labelDayButton:Pe,labelGridcell:Ne,labelGrid:ke,labelMonthDropdown:gt,labelNav:It,labelPrevious:Ln,labelNext:rr,labelWeekday:Ar,labelWeekNumber:Ua,labelWeekNumberHeader:jr,labelYearDropdown:$a}=s,Zc=y.useMemo(()=>b7(i,e.ISOWeek),[i,e.ISOWeek]),eu=d!==void 0||v!==void 0,yi=y.useCallback(()=>{V&&(z(V),b==null||b(V))},[V,z,b]),vi=y.useCallback(()=>{L&&(z(L),x==null||x(L))},[z,L,x]),tu=y.useCallback((ve,Be)=>Te=>{Te.preventDefault(),Te.stopPropagation(),Ze(ve),B==null||B(ve.date,Be,Te),v==null||v(ve.date,Be,Te)},[B,v,Ze]),bt=y.useCallback((ve,Be)=>Te=>{Ze(ve),E==null||E(ve.date,Be,Te)},[E,Ze]),Nt=y.useCallback((ve,Be)=>Te=>{we(),p==null||p(ve.date,Be,Te)},[we,p]),lo=y.useCallback((ve,Be)=>Te=>{const Sn={ArrowLeft:[Te.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Te.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Te.shiftKey?"year":"week","after"],ArrowUp:[Te.shiftKey?"year":"week","before"],PageUp:[Te.shiftKey?"year":"month","before"],PageDown:[Te.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Sn[Te.key]){Te.preventDefault(),Te.stopPropagation();const[Xt,Cn]=Sn[Te.key];je(Xt,Cn)}g==null||g(ve.date,Be,Te)},[je,g,e.dir]),nu=y.useCallback((ve,Be)=>Te=>{_==null||_(ve.date,Be,Te)},[_]),ru=y.useCallback((ve,Be)=>Te=>{w==null||w(ve.date,Be,Te)},[w]),Kf=y.useCallback(ve=>Be=>{const Te=Number(Be.target.value),Sn=i.setMonth(i.startOfMonth(ve),Te);z(Sn)},[i,z]),wi=y.useCallback(ve=>Be=>{const Te=Number(Be.target.value),Sn=i.setYear(i.startOfMonth(ve),Te);z(Sn)},[i,z]),{className:su,style:iu}=y.useMemo(()=>({className:[a[ie.Root],e.className].filter(Boolean).join(" "),style:{...A==null?void 0:A[ie.Root],...e.style}}),[a,e.className,e.style,A]),Ba=d7(e),ou=y.useRef(null);U7(ou,!!e.animate,{classNames:a,months:ne,focused:be,dateLib:i});const Yf={dayPickerProps:e,selected:ce,select:B,isSelected:se,months:ne,nextMonth:L,previousMonth:V,goToMonth:z,getModifiers:J,components:n,classNames:a,styles:A,labels:s,formatters:r};return K.createElement(cP.Provider,{value:Yf},K.createElement(n.Root,{rootRef:e.animate?ou:void 0,className:su,style:iu,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Ba},K.createElement(n.Months,{className:a[ie.Months],style:A==null?void 0:A[ie.Months]},!e.hideNavigation&&!h&&K.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ie.Nav],style:A==null?void 0:A[ie.Nav],"aria-label":It(),onPreviousClick:yi,onNextClick:vi,previousMonth:V,nextMonth:L}),ne.map((ve,Be)=>{const Te=_7(ve.date,G,oe,r,i),Sn=T7(G,oe,r,i);return K.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[ie.Month],style:A==null?void 0:A[ie.Month],key:Be,displayIndex:Be,calendarMonth:ve},h==="around"&&!e.hideNavigation&&Be===0&&K.createElement(n.PreviousMonthButton,{type:"button",className:a[ie.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Ln(V),onClick:yi,"data-animated-button":e.animate?"true":void 0},K.createElement(n.Chevron,{disabled:V?void 0:!0,className:a[ie.Chevron],orientation:e.dir==="rtl"?"right":"left"})),K.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[ie.MonthCaption],style:A==null?void 0:A[ie.MonthCaption],calendarMonth:ve,displayIndex:Be},c!=null&&c.startsWith("dropdown")?K.createElement(n.DropdownNav,{className:a[ie.Dropdowns],style:A==null?void 0:A[ie.Dropdowns]},c==="dropdown"||c==="dropdown-months"?K.createElement(n.MonthsDropdown,{className:a[ie.MonthsDropdown],"aria-label":gt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:Kf(ve.date),options:Te,style:A==null?void 0:A[ie.Dropdown],value:i.getMonth(ve.date)}):K.createElement("span",null,S(ve.date,i)),c==="dropdown"||c==="dropdown-years"?K.createElement(n.YearsDropdown,{className:a[ie.YearsDropdown],"aria-label":$a(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:wi(ve.date),options:Sn,style:A==null?void 0:A[ie.Dropdown],value:i.getYear(ve.date)}):K.createElement("span",null,D(ve.date,i)),K.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(ve.date,i.options,i))):K.createElement(n.CaptionLabel,{className:a[ie.CaptionLabel],role:"status","aria-live":"polite"},O(ve.date,i.options,i))),h==="around"&&!e.hideNavigation&&Be===f-1&&K.createElement(n.NextMonthButton,{type:"button",className:a[ie.NextMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":rr(L),onClick:vi,"data-animated-button":e.animate?"true":void 0},K.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[ie.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Be===f-1&&h==="after"&&!e.hideNavigation&&K.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ie.Nav],style:A==null?void 0:A[ie.Nav],"aria-label":It(),onPreviousClick:yi,onNextClick:vi,previousMonth:V,nextMonth:L}),K.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":ke(ve.date,i.options,i)||void 0,className:a[ie.MonthGrid],style:A==null?void 0:A[ie.MonthGrid]},!e.hideWeekdays&&K.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[ie.Weekdays],style:A==null?void 0:A[ie.Weekdays]},R&&K.createElement(n.WeekNumberHeader,{"aria-label":jr(i.options),className:a[ie.WeekNumberHeader],style:A==null?void 0:A[ie.WeekNumberHeader],scope:"col"},P()),Zc.map((Xt,Cn)=>K.createElement(n.Weekday,{"aria-label":Ar(Xt,i.options,i),className:a[ie.Weekday],key:Cn,style:A==null?void 0:A[ie.Weekday],scope:"col"},I(Xt,i.options,i)))),K.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[ie.Weeks],style:A==null?void 0:A[ie.Weeks]},ve.weeks.map((Xt,Cn)=>K.createElement(n.Week,{className:a[ie.Week],key:Xt.weekNumber,style:A==null?void 0:A[ie.Week],week:Xt},R&&K.createElement(n.WeekNumber,{week:Xt,style:A==null?void 0:A[ie.WeekNumber],"aria-label":Ua(Xt.weekNumber,{locale:o}),className:a[ie.WeekNumber],scope:"row",role:"rowheader"},N(Xt.weekNumber,i)),Xt.days.map(yt=>{const{date:Jt}=yt,De=J(yt);if(De[et.focused]=!De.hidden&&!!(be!=null&&be.isEqualTo(yt)),De[Hn.selected]=(se==null?void 0:se(Jt))||De.selected,Cw(ce)){const{from:uo,to:Dr}=ce;De[Hn.range_start]=!!(uo&&Dr&&i.isSameDay(Jt,uo)),De[Hn.range_end]=!!(uo&&Dr&&i.isSameDay(Jt,Dr)),De[Hn.range_middle]=Hr(ce,Jt,!0,i)}const xi=E7(De,A,e.modifiersStyles),au=MW(De,a,e.modifiersClassNames),kt=!eu&&!De.hidden?Ne(Jt,De,i.options,i):void 0;return K.createElement(n.Day,{key:`${i.format(Jt,"yyyy-MM-dd")}_${i.format(yt.displayMonth,"yyyy-MM")}`,day:yt,modifiers:De,className:au.join(" "),style:xi,role:"gridcell","aria-selected":De.selected||void 0,"aria-label":kt,"data-day":i.format(Jt,"yyyy-MM-dd"),"data-month":yt.outside?i.format(Jt,"yyyy-MM"):void 0,"data-selected":De.selected||void 0,"data-disabled":De.disabled||void 0,"data-hidden":De.hidden||void 0,"data-outside":yt.outside||void 0,"data-focused":De.focused||void 0,"data-today":De.today||void 0},!De.hidden&&eu?K.createElement(n.DayButton,{className:a[ie.DayButton],style:A==null?void 0:A[ie.DayButton],type:"button",day:yt,modifiers:De,disabled:De.disabled||void 0,tabIndex:te(yt)?0:-1,"aria-label":Pe(Jt,De,i.options,i),onClick:tu(yt,De),onBlur:Nt(yt,De),onFocus:bt(yt,De),onKeyDown:lo(yt,De),onMouseEnter:nu(yt,De),onMouseLeave:ru(yt,De)},C(Jt,i.options,i)):!De.hidden&&C(yt.date,i.options,i))}))))))})),e.footer&&K.createElement(n.Footer,{className:a[ie.Footer],style:A==null?void 0:A[ie.Footer],role:"status","aria-live":"polite"},e.footer)))}function mP({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:i,components:o,...a}){const c=Iw();return l.jsx(oH,{showOutsideDays:n,className:X("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:X("w-fit",c.root),months:X("flex gap-4 flex-col md:flex-row relative",c.months),month:X("flex flex-col w-full gap-4",c.month),nav:X("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:X(Mg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:X(Mg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:X("flex items-center justify-center h-[--cell-size] w-full px-[--cell-size]",c.month_caption),dropdowns:X("w-full flex items-center text-sm font-medium justify-center h-[--cell-size] gap-1.5",c.dropdowns),dropdown_root:X("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:X("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:X("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:X("flex",c.weekdays),weekday:X("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:X("flex w-full mt-2",c.week),week_number_header:X("select-none w-[--cell-size]",c.week_number_header),week_number:X("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:X("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:X("rounded-l-md bg-accent",c.range_start),range_middle:X("rounded-none",c.range_middle),range_end:X("rounded-r-md bg-accent",c.range_end),today:X("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:X("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:X("text-muted-foreground opacity-50",c.disabled),hidden:X("invisible",c.hidden),...e},components:{Root:({className:d,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:X(d),...f}),Chevron:({className:d,orientation:h,...f})=>h==="left"?l.jsx(NU,{className:X("size-4",d),...f}):h==="right"?l.jsx(kU,{className:X("size-4",d),...f}):l.jsx(pa,{className:X("size-4",d),...f}),DayButton:aH,WeekNumber:({children:d,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:d})}),...o},...a})}function aH({className:t,day:e,modifiers:n,...r}){const s=Iw(),i=y.useRef(null);return y.useEffect(()=>{var o;n.focused&&((o=i.current)==null||o.focus())},[n.focused]),l.jsx(re,{ref:i,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:X("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square w-full min-w-[--cell-size] flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Gf="Popover",[gP,UH]=tr(Gf,[$f]),Jc=$f(),[lH,gi]=gP(Gf),yP=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Jc(e),c=y.useRef(null),[d,h]=y.useState(!1),[f,p]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Gf});return l.jsx(Qk,{...a,children:l.jsx(lH,{scope:e,contentId:Xr(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(v=>!v),[p]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};yP.displayName=Gf;var vP="PopoverAnchor",cH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gi(vP,n),i=Jc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(_w,{...i,...r,ref:e})});cH.displayName=vP;var wP="PopoverTrigger",xP=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gi(wP,n),i=Jc(n),o=Le(e,s.triggerRef),a=l.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SP(s.open),...r,ref:o,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(_w,{asChild:!0,...i,children:a})});xP.displayName=wP;var Nw="PopoverPortal",[uH,dH]=gP(Nw,{forceMount:void 0}),_P=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=gi(Nw,e);return l.jsx(uH,{scope:e,forceMount:n,children:l.jsx(ds,{present:n||i.open,children:l.jsx(Cf,{asChild:!0,container:s,children:r})})})};_P.displayName=Nw;var ya="PopoverContent",EP=y.forwardRef((t,e)=>{const n=dH(ya,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=gi(ya,t.__scopePopover);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(fH,{...s,ref:e}):l.jsx(pH,{...s,ref:e})})});EP.displayName=ya;var hH=Ki("PopoverContent.RemoveScroll"),fH=y.forwardRef((t,e)=>{const n=gi(ya,t.__scopePopover),r=y.useRef(null),s=Le(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return sw(o)},[]),l.jsx(Nf,{as:hH,allowPinchZoom:!0,children:l.jsx(bP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),pH=y.forwardRef((t,e)=>{const n=gi(ya,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(bP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bP=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...f}=t,p=gi(ya,n),v=Jc(n);return rw(),l.jsx(Sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Tf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(Xk,{"data-state":SP(p.open),role:"dialog",id:p.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TP="PopoverClose",mH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gi(TP,n);return l.jsx(me.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});mH.displayName=TP;var gH="PopoverArrow",yH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Jc(n);return l.jsx(Jk,{...s,...r,ref:e})});yH.displayName=gH;function SP(t){return t?"open":"closed"}var vH=yP,wH=xP,xH=_P,CP=EP;const IP=vH,NP=wH,kw=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(xH,{children:l.jsx(CP,{ref:s,align:e,sideOffset:n,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));kw.displayName=CP.displayName;function _H({organization:t,isOpen:e,onClose:n,onSuccess:r}){var A,O,C,S,N,P,I,D,j,H,ne,G,oe,V;const[s,i]=y.useState(!1),[o,a]=y.useState(null),[c,d]=y.useState(),[h,f]=y.useState(),[p,v]=y.useState([]),[E,g]=y.useState({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,eventbriteUrl:"",series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),_=(L,z)=>{if(L.startsWith("price.groupDealDetails.")){const J=L.split(".")[2];g(se=>{var B;return{...se,price:{...se.price,groupDealDetails:{...(B=se.price)==null?void 0:B.groupDealDetails,[J]:z}}}})}else if(L.startsWith("price.")){const J=L.split(".")[1];g(se=>({...se,price:{...se.price,[J]:z}}))}else if(L.startsWith("series.")){const J=L.split(".")[1];g(se=>({...se,series:{...se.series,[J]:z}}))}else g(J=>({...J,[L]:z}))},w=()=>{v(L=>[...L,{date:"",theme:"",description:""}])},x=(L,z,J)=>{v(se=>se.map((B,ce)=>ce===L?{...B,[z]:J}:B))},b=L=>{v(z=>z.filter((J,se)=>se!==L))},R=async L=>{L.preventDefault(),i(!0),a(null);try{if(!c)throw new Error("Please select an event date");const z={...E,date:c,endDate:h,recurringDates:E.isRecurring&&p.length>0?p:void 0},J=await Yi.create(z);r(J),n(),g({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,eventbriteUrl:"",series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),d(void 0),f(void 0),v([])}catch(z){console.error("Failed to create event:",z),a(z instanceof Error?z.message:"Failed to create event")}finally{i(!1)}};return l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Da,{children:[l.jsx(Oa,{children:"Create New Event"}),l.jsxs(Rf,{children:["Create a new event for ",t.name,". Fill out the details below."]})]}),l.jsxs("form",{onSubmit:R,className:"space-y-6",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:o})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Y,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:E.title,onChange:L=>_("title",L.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"status",children:"Status"}),l.jsxs(Ah,{value:E.status,onValueChange:L=>_("status",L),children:[l.jsx(xc,{children:l.jsx(jh,{})}),l.jsxs(_c,{children:[l.jsx(vt,{value:"draft",children:"Draft"}),l.jsx(vt,{value:"presale",children:"PreSale"}),l.jsx(vt,{value:"published",children:"Published"}),l.jsx(vt,{value:"sold_out",children:"Sold Out"}),l.jsx(vt,{value:"cancelled",children:"Canceled"}),l.jsx(vt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"description",children:"Short Description *"}),l.jsx(Er,{id:"description",value:E.description,onChange:L=>_("description",L.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Er,{id:"fullDescription",value:E.fullDescription,onChange:L=>_("fullDescription",L.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{children:"Event Date *"}),l.jsxs(IP,{children:[l.jsx(NP,{asChild:!0,children:l.jsxs(re,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4"}),c?Sw(c,"PPP"):"Pick a date"]})}),l.jsx(kw,{className:"w-auto p-0",children:l.jsx(mP,{mode:"single",selected:c,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:E.time,onChange:L=>_("time",L.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:E.duration,onChange:L=>_("duration",L.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:E.location,onChange:L=>_("location",L.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:E.address,onChange:L=>_("address",L.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Ticketing"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Y,{children:"Price Type"}),l.jsxs(Ah,{value:(A=E.price)==null?void 0:A.type,onValueChange:L=>_("price.type",L),children:[l.jsx(xc,{children:l.jsx(jh,{})}),l.jsxs(_c,{children:[l.jsx(vt,{value:"free",children:"Free"}),l.jsx(vt,{value:"paid",children:"Paid"}),l.jsx(vt,{value:"group_deal",children:"Group Ticket Deal"})]})]})]}),((O=E.price)==null?void 0:O.type)==="paid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((C=E.price)==null?void 0:C.amount)||"",onChange:L=>_("price.amount",parseFloat(L.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((S=E.price)==null?void 0:S.advancePrice)||"",onChange:L=>_("price.advancePrice",parseFloat(L.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsxs(Y,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",E.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:E.eventbriteUrl,onChange:L=>_("eventbriteUrl",L.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:E.status==="published"})]})]}),((N=E.price)==null?void 0:N.type)==="group_deal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"minimumPeople",children:"Minimum People *"}),l.jsx(le,{id:"minimumPeople",type:"number",value:((I=(P=E.price)==null?void 0:P.groupDealDetails)==null?void 0:I.minimumPeople)||"",onChange:L=>_("price.groupDealDetails.minimumPeople",parseInt(L.target.value)||void 0),placeholder:"4",required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"pricePerPerson",children:"Group Price Per Person"}),l.jsx(le,{id:"pricePerPerson",type:"number",step:"0.01",value:((j=(D=E.price)==null?void 0:D.groupDealDetails)==null?void 0:j.pricePerPerson)||"",onChange:L=>_("price.groupDealDetails.pricePerPerson",parseFloat(L.target.value)||void 0),placeholder:"15.00"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"normalPricePerPerson",children:"Normal Price Per Person"}),l.jsx(le,{id:"normalPricePerPerson",type:"number",step:"0.01",value:((ne=(H=E.price)==null?void 0:H.groupDealDetails)==null?void 0:ne.normalPricePerPerson)||"",onChange:L=>_("price.groupDealDetails.normalPricePerPerson",parseFloat(L.target.value)||void 0),placeholder:"20.00"})]})]}),l.jsxs("div",{children:[l.jsxs(Y,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",E.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:E.eventbriteUrl,onChange:L=>_("eventbriteUrl",L.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:E.status==="published"})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:(G=E.price)==null?void 0:G.description,onChange:L=>_("price.description",L.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:E.capacity||"",onChange:L=>_("capacity",parseInt(L.target.value)||void 0),placeholder:"Maximum attendees"})]})]})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((oe=E.series)==null?void 0:oe.name)||"",onChange:L=>_("series.name",L.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Er,{id:"seriesDescription",value:((V=E.series)==null?void 0:V.description)||"",onChange:L=>_("series.description",L.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(bw,{id:"isRecurring",checked:E.isRecurring,onCheckedChange:L=>{_("isRecurring",L),L||v([])}}),l.jsx(Y,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),E.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Y,{children:"Recurring Dates & Themes"}),l.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:w,children:[l.jsx(ew,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),p.map((L,z)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:L.date,onChange:J=>x(z,"date",J.target.value)}),l.jsx(le,{placeholder:"Theme",value:L.theme,onChange:J=>x(z,"theme",J.target.value)}),l.jsx(le,{placeholder:"Description",value:L.description,onChange:J=>x(z,"description",J.target.value)})]}),l.jsx(re,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(z),children:l.jsx(Hc,{className:"h-4 w-4"})})]},z))]})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:E.imageUrl,onChange:L=>_("imageUrl",L.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[l.jsx(re,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(re,{type:"submit",disabled:s,children:[s&&l.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})]})]})]})})}function EH({event:t,isOpen:e,onClose:n,onSuccess:r,onDelete:s}){var N,P,I,D,j,H,ne,G,oe,V,L,z,J,se;const[i,o]=y.useState(!1),[a,c]=y.useState(!1),[d,h]=y.useState(null),[f,p]=y.useState(),[v,E]=y.useState(),[g,_]=y.useState([]),[w,x]=y.useState({});y.useEffect(()=>{t&&(x({title:t.title,description:t.description,fullDescription:t.fullDescription,time:t.time,duration:t.duration,location:t.location,address:t.address,price:{...t.price},capacity:t.capacity,eventbriteUrl:t.eventbriteUrl,series:t.series?{...t.series}:void 0,isRecurring:t.isRecurring,imageUrl:t.imageUrl,status:t.status}),p(t.date instanceof Date?t.date:new Date(t.date)),E(t.endDate?t.endDate instanceof Date?t.endDate:new Date(t.endDate):void 0),_(t.recurringDates||[]))},[t]);const b=(B,ce)=>{if(B.startsWith("price.groupDealDetails.")){const we=B.split(".")[2];x(be=>{var te;return{...be,price:{...be.price,groupDealDetails:{...(te=be.price)==null?void 0:te.groupDealDetails,[we]:ce}}}})}else if(B.startsWith("price.")){const we=B.split(".")[1];x(be=>({...be,price:{...be.price,[we]:ce}}))}else if(B.startsWith("series.")){const we=B.split(".")[1];x(be=>({...be,series:{...be.series,[we]:ce}}))}else x(we=>({...we,[B]:ce}))},R=()=>{_(B=>[...B,{date:"",theme:"",description:""}])},A=(B,ce,we)=>{_(be=>be.map((te,je)=>je===B?{...te,[ce]:we}:te))},O=B=>{_(ce=>ce.filter((we,be)=>be!==B))},C=async B=>{B.preventDefault(),o(!0),h(null);try{if(!f)throw new Error("Please select an event date");const ce={...w,date:f,endDate:v,recurringDates:w.isRecurring&&g.length>0?g:void 0},we=await Yi.update(t.id,ce);r(we),n()}catch(ce){console.error("Failed to update event:",ce),h(ce instanceof Error?ce.message:"Failed to update event")}finally{o(!1)}},S=async()=>{if(!(!s||!window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`))){c(!0),h(null);try{await Yi.delete(t.id),s(t.id),n()}catch(ce){console.error("Failed to delete event:",ce),h(ce instanceof Error?ce.message:"Failed to delete event")}finally{c(!1)}}};return l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Da,{children:[l.jsx(Oa,{children:"Edit Event"}),l.jsxs(Rf,{children:['Update the details for "',t.title,'".']})]}),l.jsxs("form",{onSubmit:C,className:"space-y-6",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:d})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Y,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:w.title||"",onChange:B=>b("title",B.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"status",children:"Status"}),l.jsxs(Ah,{value:w.status,onValueChange:B=>b("status",B),children:[l.jsx(xc,{children:l.jsx(jh,{})}),l.jsxs(_c,{children:[l.jsx(vt,{value:"draft",children:"Draft"}),l.jsx(vt,{value:"presale",children:"PreSale"}),l.jsx(vt,{value:"published",children:"Published"}),l.jsx(vt,{value:"sold_out",children:"Sold Out"}),l.jsx(vt,{value:"cancelled",children:"Canceled"}),l.jsx(vt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"description",children:"Short Description *"}),l.jsx(Er,{id:"description",value:w.description||"",onChange:B=>b("description",B.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Er,{id:"fullDescription",value:w.fullDescription||"",onChange:B=>b("fullDescription",B.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{children:"Event Date *"}),l.jsxs(IP,{children:[l.jsx(NP,{asChild:!0,children:l.jsxs(re,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4"}),f?Sw(f,"PPP"):"Pick a date"]})}),l.jsx(kw,{className:"w-auto p-0",children:l.jsx(mP,{mode:"single",selected:f,onSelect:p,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:w.time||"",onChange:B=>b("time",B.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:w.duration||"",onChange:B=>b("duration",B.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:w.location||"",onChange:B=>b("location",B.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:w.address||"",onChange:B=>b("address",B.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Ticketing"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Y,{children:"Price Type"}),l.jsxs(Ah,{value:(N=w.price)==null?void 0:N.type,onValueChange:B=>b("price.type",B),children:[l.jsx(xc,{children:l.jsx(jh,{})}),l.jsxs(_c,{children:[l.jsx(vt,{value:"free",children:"Free"}),l.jsx(vt,{value:"paid",children:"Paid"}),l.jsx(vt,{value:"group_deal",children:"Group Ticket Deal"})]})]})]}),((P=w.price)==null?void 0:P.type)==="paid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((I=w.price)==null?void 0:I.amount)||"",onChange:B=>b("price.amount",parseFloat(B.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((D=w.price)==null?void 0:D.advancePrice)||"",onChange:B=>b("price.advancePrice",parseFloat(B.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsxs(Y,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",w.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:w.eventbriteUrl||"",onChange:B=>b("eventbriteUrl",B.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:w.status==="published"})]})]}),((j=w.price)==null?void 0:j.type)==="group_deal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"minimumPeople",children:"Minimum People *"}),l.jsx(le,{id:"minimumPeople",type:"number",value:((ne=(H=w.price)==null?void 0:H.groupDealDetails)==null?void 0:ne.minimumPeople)||"",onChange:B=>b("price.groupDealDetails.minimumPeople",parseInt(B.target.value)||void 0),placeholder:"4",required:!0})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"pricePerPerson",children:"Group Price Per Person"}),l.jsx(le,{id:"pricePerPerson",type:"number",step:"0.01",value:((oe=(G=w.price)==null?void 0:G.groupDealDetails)==null?void 0:oe.pricePerPerson)||"",onChange:B=>b("price.groupDealDetails.pricePerPerson",parseFloat(B.target.value)||void 0),placeholder:"15.00"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"normalPricePerPerson",children:"Normal Price Per Person"}),l.jsx(le,{id:"normalPricePerPerson",type:"number",step:"0.01",value:((L=(V=w.price)==null?void 0:V.groupDealDetails)==null?void 0:L.normalPricePerPerson)||"",onChange:B=>b("price.groupDealDetails.normalPricePerPerson",parseFloat(B.target.value)||void 0),placeholder:"20.00"})]})]}),l.jsxs("div",{children:[l.jsxs(Y,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",w.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:w.eventbriteUrl||"",onChange:B=>b("eventbriteUrl",B.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:w.status==="published"})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:((z=w.price)==null?void 0:z.description)||"",onChange:B=>b("price.description",B.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:w.capacity||"",onChange:B=>b("capacity",parseInt(B.target.value)||void 0),placeholder:"Maximum attendees"})]})]})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((J=w.series)==null?void 0:J.name)||"",onChange:B=>b("series.name",B.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Er,{id:"seriesDescription",value:((se=w.series)==null?void 0:se.description)||"",onChange:B=>b("series.description",B.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(bw,{id:"isRecurring",checked:w.isRecurring||!1,onCheckedChange:B=>{b("isRecurring",B),B||_([])}}),l.jsx(Y,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),w.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Y,{children:"Recurring Dates & Themes"}),l.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:R,children:[l.jsx(ew,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),g.map((B,ce)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:B.date,onChange:we=>A(ce,"date",we.target.value)}),l.jsx(le,{placeholder:"Theme",value:B.theme,onChange:we=>A(ce,"theme",we.target.value)}),l.jsx(le,{placeholder:"Description",value:B.description,onChange:we=>A(ce,"description",we.target.value)})]}),l.jsx(re,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(ce),children:l.jsx(Hc,{className:"h-4 w-4"})})]},ce))]})]})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:w.imageUrl||"",onChange:B=>b("imageUrl",B.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsx("div",{children:s&&l.jsxs(re,{type:"button",variant:"destructive",onClick:S,disabled:a,children:[a&&l.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(UU,{className:"mr-2 h-4 w-4"}),"Delete Event"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(re,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(re,{type:"submit",disabled:i,children:[i&&l.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})]})]})]})]})})}const kP=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:X("w-full caption-bottom text-sm",t),...e})}));kP.displayName="Table";const RP=y.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:X("[&_tr]:border-b",t),...e}));RP.displayName="TableHeader";const PP=y.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:X("[&_tr:last-child]:border-0",t),...e}));PP.displayName="TableBody";const bH=y.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));bH.displayName="TableFooter";const ey=y.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ey.displayName="TableRow";const Co=y.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Co.displayName="TableHead";const Io=y.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:X("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Io.displayName="TableCell";const TH=y.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:X("mt-4 text-sm text-muted-foreground",t),...e}));TH.displayName="TableCaption";function SH({event:t,isOpen:e,onClose:n}){const[r,s]=y.useState([]),[i,o]=y.useState({veryInterested:0,somewhatInterested:0,presaleRequests:0,totalRegistrations:0}),[a,c]=y.useState(0),[d,h]=y.useState(!1),[f,p]=y.useState(null),[v,E]=y.useState(0);y.useEffect(()=>{e&&g()},[e,t.id]),y.useEffect(()=>{const I=localStorage.getItem(`manual-sales-${t.id}`);I&&c(parseInt(I,10)||0)},[t.id]);const g=async()=>{h(!0),p(null);try{console.log("Loading registrations for event:",t.id);const I=await tN.getByEvent(t.id);console.log("Raw API Response:",JSON.stringify(I,null,2)),console.log("Response type:",typeof I),console.log("Response keys:",I?Object.keys(I):"none");let D=[];if(Array.isArray(I))console.log("Response is array, length:",I.length),D=I;else if(I&&Array.isArray(I.data))console.log("Response.data is array, length:",I.data.length),D=I.data;else if(I&&I.registrations&&Array.isArray(I.registrations))console.log("Response.registrations is array, length:",I.registrations.length),D=I.registrations;else if(I&&I.registrations&&typeof I.registrations=="object"){console.log("Converting registrations object to array"),console.log("Registrations object:",JSON.stringify(I.registrations,null,2)),console.log("Object keys:",Object.keys(I.registrations));const H=Object.values(I.registrations);console.log("Object values:",JSON.stringify(H,null,2)),console.log("Values length:",H.length);const ne=[];H.forEach(G=>{Array.isArray(G)&&ne.push(...G)}),console.log("Flattened registrations:",ne.length),D=ne}else console.warn("No registrations found or unexpected format"),console.log("Response structure check:"),console.log("- response exists:",!!I),console.log("- response.registrations exists:",!!(I&&I.registrations)),console.log("- response.registrations type:",I&&I.registrations?typeof I.registrations:"none"),D=[];console.log("Final registration data:",D),console.log("Final data length:",D.length),console.log("Sample registration:",D[0]),console.log("All registrations mapped:",D.map((H,ne)=>({index:ne,id:H==null?void 0:H.id,name:H==null?void 0:H.name,type:H==null?void 0:H.registrationType}))),s(D);const j={veryInterested:D.filter(H=>H.registrationType==="rsvp_yes").length,somewhatInterested:D.filter(H=>H.registrationType==="rsvp_maybe").length,presaleRequests:D.filter(H=>H.registrationType==="presale_request").length,totalRegistrations:D.length};o(j)}catch(I){console.error("Failed to load registrations:",I);let D="Failed to load registration data";I instanceof Error&&(D=I.message);const j=`${D} (Event: ${t.id}, Attempt: ${v+1})`;p(j),console.error("Registration Load Error Details:",{eventId:t.id,eventTitle:t.title,error:I,retryCount:v,timestamp:new Date().toISOString()})}finally{h(!1)}},_=()=>{E(I=>I+1),g()},w=I=>{const D=parseInt(I,10)||0;c(D),localStorage.setItem(`manual-sales-${t.id}`,D.toString())},x=()=>t.capacity?Math.max(0,t.capacity-i.totalRegistrations-a):null,b=()=>{const I=x();return I===null?null:I===0?{color:"destructive",text:"Full"}:I<=5?{color:"secondary",text:"Almost Full"}:{color:"default",text:"Available"}},R=I=>{switch(I){case"rsvp_yes":return l.jsx($U,{className:"h-4 w-4 text-green-600"});case"rsvp_maybe":return l.jsx(BU,{className:"h-4 w-4 text-yellow-600"});case"presale_request":return l.jsx(MU,{className:"h-4 w-4 text-blue-600"});default:return l.jsx(Wr,{className:"h-4 w-4 text-gray-400"})}},A=I=>{switch(I){case"rsvp_yes":return"Very Interested";case"rsvp_maybe":return"Somewhat Interested";case"presale_request":return"Presale Request";default:return I}},O=I=>{switch(I){case"rsvp_yes":return l.jsx(Gt,{className:"bg-green-600",children:"Very Interested"});case"rsvp_maybe":return l.jsx(Gt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Somewhat Interested"});case"presale_request":return l.jsx(Gt,{variant:"outline",className:"border-blue-500 text-blue-700",children:"Presale"});default:return l.jsx(Gt,{variant:"outline",children:I})}},C=()=>{if(r.length===0)return;const D=[["Name","Email","Phone","Type","Notes","Registered At"],...r.map(G=>[G.name||"",G.email||"",G.phone||"",A(G.registrationType),G.notes||"",new Date(G.registeredAt||G.createdAt||"").toLocaleDateString()])].map(G=>G.map(oe=>`"${oe}"`).join(",")).join(`
`),j=new Blob([D],{type:"text/csv"}),H=URL.createObjectURL(j),ne=document.createElement("a");ne.href=H,ne.download=`${t.title}-registrations.csv`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(H)},S=I=>{try{return new Date(I).toLocaleString()}catch{return I}},N=x(),P=b();return l.jsx(qc,{open:e,onOpenChange:n,children:l.jsxs(ja,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Da,{children:l.jsxs(Oa,{className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"h-5 w-5"}),"Registration Management - ",t.title]})}),l.jsxs("div",{className:"space-y-6",children:[d&&l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(ni,{className:"h-6 w-6 animate-spin mr-2"}),"Loading registrations..."]}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(RU,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Unable to Load Registration Data"}),l.jsx("p",{className:"text-sm text-red-700 mb-3",children:f}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(re,{size:"sm",variant:"outline",onClick:_,disabled:d,className:"text-red-700 border-red-300 hover:bg-red-100",children:d?l.jsxs(l.Fragment,{children:[l.jsx(ni,{className:"h-4 w-4 animate-spin mr-2"}),"Retrying..."]}):"Retry"}),l.jsx(re,{size:"sm",variant:"ghost",onClick:()=>p(null),className:"text-red-700 hover:bg-red-100",children:"Dismiss"})]})]})]})}),f&&l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[l.jsx(Ot,{className:"h-5 w-5"}),"Event Information"]})}),l.jsx(xe,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Event:"})," ",t.title]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),t.capacity&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Capacity:"})," ",t.capacity]})]})})]}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(YI,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Very Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.veryInterested})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Ot,{className:"h-8 w-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Somewhat Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.somewhatInterested})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(_r,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presale Requests"}),l.jsx("p",{className:"text-2xl font-bold",children:i.presaleRequests})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Wr,{className:"h-8 w-8 text-gray-700"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:i.totalRegistrations})]})]})})]}),t.capacity&&l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Capacity Management"})}),l.jsx(xe,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx(Y,{className:"text-sm text-gray-600",children:"Event Capacity"}),l.jsx("p",{className:"text-xl font-semibold",children:t.capacity})]}),l.jsxs("div",{children:[l.jsx(Y,{htmlFor:"manual-sales",className:"text-sm text-gray-600",children:"External Sales"}),l.jsx(le,{id:"manual-sales",type:"number",min:"0",value:a,onChange:I=>w(I.target.value),className:"mt-1",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(Y,{className:"text-sm text-gray-600",children:"App Registrations"}),l.jsx("p",{className:"text-xl font-semibold",children:i.totalRegistrations})]}),l.jsxs("div",{children:[l.jsx(Y,{className:"text-sm text-gray-600",children:"Remaining"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[P&&l.jsx(Gt,{variant:P.color,children:P.text}),l.jsx("span",{className:"text-xl font-semibold",children:N!==null?N:"Unlimited"})]})]})]})})]}),l.jsxs(ye,{children:[l.jsx(Xe,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Je,{className:"text-lg",children:"Registration Details"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(re,{variant:"outline",size:"sm",onClick:g,children:[l.jsx(AU,{className:"h-4 w-4 mr-2"}),"Refresh"]}),l.jsxs(re,{variant:"outline",size:"sm",onClick:C,disabled:r.length===0,children:[l.jsx(jU,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),l.jsx(xe,{children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-500 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Registrations will appear here when people express interest or request presale info."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(kP,{children:[l.jsx(RP,{children:l.jsxs(ey,{children:[l.jsx(Co,{children:"Type"}),l.jsx(Co,{children:"Name"}),l.jsx(Co,{children:"Contact"}),l.jsx(Co,{children:"Registered"}),l.jsx(Co,{children:"Notes"})]})}),l.jsx(PP,{children:r.map((I,D)=>(console.log(`Rendering registration ${D}:`,I),console.log(`- ID: ${I==null?void 0:I.id}`),console.log(`- Name: ${I==null?void 0:I.name}`),console.log(`- Email: ${I==null?void 0:I.email}`),console.log(`- Type: ${I==null?void 0:I.registrationType}`),console.log(`- Created: ${I==null?void 0:I.createdAt}`),l.jsxs(ey,{children:[l.jsx(Io,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[R((I==null?void 0:I.registrationType)||""),O((I==null?void 0:I.registrationType)||"")]})}),l.jsx(Io,{className:"font-medium",children:(I==null?void 0:I.name)||"No name provided"}),l.jsx(Io,{children:l.jsxs("div",{className:"space-y-1",children:[(I==null?void 0:I.email)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(_r,{className:"h-3 w-3"}),l.jsx("a",{href:`mailto:${I.email}`,className:"text-blue-600 hover:underline",children:I.email})]}),(I==null?void 0:I.phone)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(VU,{className:"h-3 w-3"}),l.jsx("a",{href:`tel:${I.phone}`,className:"text-blue-600 hover:underline",children:I.phone})]}),!(I!=null&&I.email)&&!(I!=null&&I.phone)&&l.jsx("span",{className:"text-gray-400 text-sm",children:"No contact info"})]})}),l.jsx(Io,{className:"text-sm text-gray-600",children:S((I==null?void 0:I.registeredAt)||(I==null?void 0:I.createdAt)||"")}),l.jsx(Io,{children:I!=null&&I.notes?l.jsxs("div",{className:"flex items-start gap-1",children:[l.jsx(OU,{className:"h-3 w-3 mt-0.5 text-gray-400"}),l.jsx("span",{className:"text-sm",children:I.notes})]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"No notes"})})]},(I==null?void 0:I.id)||`reg-${D}`)))})]})})})]})]})]})]})})}function CH(){const{orgSlug:t}=iD(),e=IS(),{organization:n,events:r,loading:s,error:i,updateOrganization:o,refreshEvents:a}=pk(t||""),[c,d]=y.useState(!1),[h,f]=y.useState(null),[p,v]=y.useState(!1),[E,g]=y.useState(null),[_,w]=y.useState(null),x=Sh(),b=nw("adminControls"),R=async N=>{d(!0),f(null);try{await o(N),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(P){console.error("Failed to save organization:",P);const I=P instanceof Error?P.message:"Unknown error occurred";f(`❌ Failed to save changes: ${I}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{d(!1)}},A=N=>{f("✅ Event created successfully!"),setTimeout(()=>f(null),4e3),a()},O=N=>{f("✅ Event updated successfully!"),setTimeout(()=>f(null),4e3),a(),g(null)},C=N=>{f("✅ Event deleted successfully!"),setTimeout(()=>f(null),4e3),a(),g(null)},S=N=>{w(N)};return b?s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ni,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),l.jsx(re,{onClick:()=>e("/"),children:"Return Home"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[l.jsx(IU,{className:"h-4 w-4"}),"Back to Public Page"]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Gt,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),x]}),l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[l.jsx(DU,{className:"h-4 w-4"}),"Preview"]})]})]}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg border ${h.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:l.jsx("p",{className:"text-sm font-medium",children:h})})]})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(rB,{defaultValue:"organization",className:"flex gap-8",orientation:"vertical",children:[l.jsx("div",{className:"w-64 flex-shrink-0",children:l.jsxs(Nk,{className:"flex flex-col h-fit w-full",children:[l.jsxs(El,{value:"organization",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(JI,{className:"h-4 w-4"}),"Organization"]}),l.jsxs(El,{value:"events",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Ot,{className:"h-4 w-4"}),"Events"]}),l.jsxs(El,{value:"subscribers",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(_r,{className:"h-4 w-4"}),"Subscribers"]}),l.jsxs(El,{value:"analytics",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Jp,{className:"h-4 w-4"}),"Analytics"]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(bl,{value:"organization",children:l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Organization Settings"}),l.jsx(en,{children:"Update your organization's information, branding, and contact details."})]}),l.jsx(xe,{children:l.jsx(iB,{organization:n,onSave:R,onCancel:()=>{},isFullPage:!0,isSaving:c})})]})}),l.jsx(bl,{value:"events",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),l.jsxs(re,{className:"flex items-center gap-2",onClick:()=>v(!0),children:[l.jsx(ew,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?l.jsx(ye,{children:l.jsxs(xe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Ot,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),l.jsx(re,{onClick:()=>v(!0),children:"Create Your First Event"})]})}):l.jsx("div",{className:"space-y-4",children:r.map(N=>l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsx("div",{className:"flex flex-col",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.category&&l.jsx(Gt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:N.category}),l.jsx(Gt,{variant:N.status==="published"?"default":N.status==="presale"?"secondary":N.status==="sold_out"||N.status==="cancelled"?"destructive":N.status==="completed"?"outline":"secondary",children:N.status==="presale"?"PreSale":N.status==="sold_out"?"Sold Out":N.status==="cancelled"?"Canceled":N.status==="completed"?"Complete":N.status==="published"?"Published":N.status==="draft"?"Draft":N.status}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:N.title})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:N.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"h-4 w-4 mr-2"}),N.date instanceof Date?N.date.toLocaleDateString():new Date(N.date).toLocaleDateString()," • ",N.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),N.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",N.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>g(N),children:[l.jsx(ZI,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>S(N),children:[l.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]})})})},N.id))})]})}),l.jsx(bl,{value:"subscribers",children:l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Subscriber Management"}),l.jsx(en,{children:"Manage email subscribers and send newsletters to your audience."})]}),l.jsx(xe,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(_r,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Event Updates"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Wr,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Newsletter"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),l.jsx(ye,{children:l.jsxs(xe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Jp,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Subscribers"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})]}),l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{className:"text-lg",children:"Send Email Blast"}),l.jsx(en,{children:"Send newsletters or updates to your subscribers"})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(_r,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email Management"}),l.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Email blast functionality will be available soon. Subscribers from event registrations will appear here automatically."}),l.jsx(re,{disabled:!0,variant:"outline",children:"Compose Email"})]})})]}),l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{className:"text-lg",children:"Subscriber List"}),l.jsx(en,{children:"View and manage your email subscribers"})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Wr,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Subscribers Yet"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Subscribers will appear here when people opt-in during event registration."})]})})]})]})})]})}),l.jsx(bl,{value:"analytics",children:l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Analytics"}),l.jsx(en,{children:"Track your organization's performance and audience engagement."})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Jp,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Analytics and insights will be available soon."})]})})]})})]})]})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(_H,{organization:n,isOpen:p,onClose:()=>v(!1),onSuccess:A}),E&&l.jsx(EH,{event:E,isOpen:!!E,onClose:()=>g(null),onSuccess:O,onDelete:C}),_&&l.jsx(SH,{event:_,isOpen:!!_,onClose:()=>w(null)})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",x," environment."]}),l.jsx(re,{onClick:()=>e("/"),children:"Return Home"})]})})}function IH(){const{user:t}=M5(),[e,n]=y.useState([]),[r,s]=y.useState(!1),[i,o]=y.useState([]),a=async()=>{s(!0);try{const v=await _l("voxxy-presents-nyc");if(v){o(g=>[...g,`✅ Voxxy Presents NYC found: ${v.name}`]);const E=await Wg(v.id);n(E),o(g=>[...g,`✅ Found ${E.length} events for Voxxy Presents NYC`])}else o(E=>[...E,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(v){o(E=>[...E,`❌ Error testing Voxxy Presents NYC: ${v}`])}s(!1)},c=async()=>{s(!0);try{const v=await Y$({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",background:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(E=>[...E,`✅ Organization created with ID: ${v}`])}catch(v){o(E=>[...E,`❌ Error creating organization: ${v}`])}s(!1)},d=async()=>{s(!0);try{const v=await _l("brooklyn-hearts-club");return v?(o(E=>[...E,`✅ Organization found: ${v.name}`]),v):(o(E=>[...E,"❌ Organization not found"]),null)}catch(v){return o(E=>[...E,`❌ Error retrieving organization: ${v}`]),null}finally{s(!1)}},h=async()=>{s(!0);try{const v=await _l("brooklyn-hearts-club");if(!v){o(g=>[...g,"❌ Need to create organization first"]),s(!1);return}const E=await X$({organizationId:v.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",category:"Workshop",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(g=>[...g,`✅ Event created with ID: ${E}`])}catch(v){o(E=>[...E,`❌ Error creating event: ${v}`])}s(!1)},f=async()=>{s(!0);try{const v=await _l("brooklyn-hearts-club");if(!v){o(g=>[...g,"❌ Need to create organization first"]),s(!1);return}const E=await Wg(v.id);n(E),o(g=>[...g,`✅ Found ${E.length} events`])}catch(v){o(E=>[...E,`❌ Error retrieving events: ${v}`])}s(!1)},p=()=>{o([]),n([])};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Gt,{variant:"secondary",children:t.email}),l.jsx(re,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsxs(Je,{className:"flex items-center gap-2",children:[l.jsx(wE,{className:"h-5 w-5"}),"Database Testing"]}),l.jsx(en,{children:"Test Firebase Firestore connection and basic operations"})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(re,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),l.jsx(re,{onClick:c,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),l.jsx(re,{onClick:d,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),l.jsx(re,{onClick:h,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),l.jsx(re,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),l.jsx(re,{onClick:p,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?l.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((v,E)=>l.jsx("div",{className:"mb-1",children:v},E))})]})]}),l.jsxs(ye,{children:[l.jsxs(Xe,{children:[l.jsxs(Je,{className:"flex items-center gap-2",children:[l.jsx(Ot,{className:"h-5 w-5"}),"Events"]}),l.jsx(en,{children:"Events retrieved from database"})]}),l.jsx(xe,{children:e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):l.jsx("div",{className:"space-y-4",children:e.map(v=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:v.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsx("span",{children:v.date.toLocaleDateString()}),l.jsx("span",{children:v.time}),l.jsx(Gt,{variant:"secondary",className:"text-xs",children:v.category})]})]}),l.jsx(Gt,{variant:v.status==="published"?"default":"secondary",children:v.status})]})},v.id))})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wr,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(wE,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),l.jsx(ye,{children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(JI,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function NH(){return l.jsx(L5,{children:l.jsx(zD,{children:l.jsxs(xD,{children:[l.jsx(_o,{path:"/",element:l.jsx(zU,{})}),l.jsx(_o,{path:"/brooklyn-hearts-club",element:l.jsx(K$,{})}),l.jsx(_o,{path:"/voxxy-presents-nyc",element:l.jsx(Z$,{})}),l.jsx(_o,{path:"/:orgSlug/admin",element:l.jsx(CH,{})}),l.jsx(_o,{path:"/admin",element:l.jsx(IH,{})})]})})})}yS(document.getElementById("root")).render(l.jsx(y.StrictMode,{children:l.jsx(NH,{})}));
