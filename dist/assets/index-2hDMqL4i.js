var iA=Object.defineProperty;var oA=(t,e,n)=>e in t?iA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vx=(t,e,n)=>oA(t,typeof e!="symbol"?e+"":e,n);function aA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function lb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cb={exports:{}},Lh={},ub={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=Symbol.for("react.element"),lA=Symbol.for("react.portal"),cA=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),dA=Symbol.for("react.profiler"),hA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),yA=Symbol.for("react.lazy"),wx=Symbol.iterator;function vA(t){return t===null||typeof t!="object"?null:(t=wx&&t[wx]||t["@@iterator"],typeof t=="function"?t:null)}var db={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hb=Object.assign,fb={};function ma(t,e,n){this.props=t,this.context=e,this.refs=fb,this.updater=n||db}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pb(){}pb.prototype=ma.prototype;function iy(t,e,n){this.props=t,this.context=e,this.refs=fb,this.updater=n||db}var oy=iy.prototype=new pb;oy.constructor=iy;hb(oy,ma.prototype);oy.isPureReactComponent=!0;var xx=Array.isArray,mb=Object.prototype.hasOwnProperty,ay={current:null},gb={key:!0,ref:!0,__self:!0,__source:!0};function yb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mb.call(e,r)&&!gb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Cc,type:t,key:i,ref:o,props:s,_owner:ay.current}}function wA(t,e){return{$$typeof:Cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ly(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cc}function xA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _x=/\/+/g;function dp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xA(""+t.key):e.toString(36)}function od(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cc:case lA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+dp(o,0):r,xx(s)?(n="",t!=null&&(n=t.replace(_x,"$&/")+"/"),od(s,e,n,"",function(d){return d})):s!=null&&(ly(s)&&(s=wA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_x,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+dp(i,a);o+=od(i,e,n,c,s)}else if(c=vA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+dp(i,a++),o+=od(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cu(t,e,n){if(t==null)return t;var r=[],s=0;return od(t,r,"","",function(i){return e.call(n,i,s++)}),r}function _A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},ad={transition:null},EA={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:ad,ReactCurrentOwner:ay};function vb(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!ly(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ma;Ee.Fragment=cA;Ee.Profiler=dA;Ee.PureComponent=iy;Ee.StrictMode=uA;Ee.Suspense=mA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EA;Ee.act=vb;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ay.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)mb.call(e,c)&&!gb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Cc,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:fA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hA,_context:t},t.Consumer=t};Ee.createElement=yb;Ee.createFactory=function(t){var e=yb.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:pA,render:t}};Ee.isValidElement=ly;Ee.lazy=function(t){return{$$typeof:yA,_payload:{_status:-1,_result:t},_init:_A}};Ee.memo=function(t,e){return{$$typeof:gA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=ad.transition;ad.transition={};try{t()}finally{ad.transition=e}};Ee.unstable_act=vb;Ee.useCallback=function(t,e){return nn.current.useCallback(t,e)};Ee.useContext=function(t){return nn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return nn.current.useEffect(t,e)};Ee.useId=function(){return nn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return nn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Ee.useRef=function(t){return nn.current.useRef(t)};Ee.useState=function(t){return nn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return nn.current.useTransition()};Ee.version="18.3.1";ub.exports=Ee;var y=ub.exports;const Y=lb(y),wb=aA({__proto__:null,default:Y},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=y,SA=Symbol.for("react.element"),TA=Symbol.for("react.fragment"),IA=Object.prototype.hasOwnProperty,CA=bA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NA={key:!0,ref:!0,__self:!0,__source:!0};function xb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IA.call(e,r)&&!NA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:SA,type:t,key:i,ref:o,props:s,_owner:CA.current}}Lh.Fragment=TA;Lh.jsx=xb;Lh.jsxs=xb;cb.exports=Lh;var l=cb.exports,_b={exports:{}},Sn={},Eb={exports:{}},bb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var ee=W-1>>>1,ie=L[ee];if(0<s(ie,V))L[ee]=V,L[W]=ie,W=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var ee=0,ie=L.length,z=ie>>>1;ee<z;){var ce=2*(ee+1)-1,xe=L[ce],be=ce+1,re=L[be];if(0>s(xe,W))be<ie&&0>s(re,xe)?(L[ee]=re,L[be]=W,ee=be):(L[ee]=xe,L[ce]=W,ee=ce);else if(be<ie&&0>s(re,W))L[ee]=re,L[be]=W,ee=be;else break e}}return V}function s(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,v=!1,_=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=L)r(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function R(L){if(g=!1,b(L),!_)if(n(c)!==null)_=!0,q(D);else{var V=n(d);V!==null&&X(R,V.startTime-L)}}function D(L,V){_=!1,g&&(g=!1,w(T),T=-1),v=!0;var W=p;try{for(b(V),f=n(c);f!==null&&(!(f.expirationTime>V)||L&&!N());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,p=f.priorityLevel;var ie=ee(f.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(c)&&r(c),b(V)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var ce=n(d);ce!==null&&X(R,ce.startTime-V),z=!1}return z}finally{f=null,p=W,v=!1}}var O=!1,C=null,T=-1,I=5,k=-1;function N(){return!(t.unstable_now()-k<I)}function j(){if(C!==null){var L=t.unstable_now();k=L;var V=!0;try{V=C(!0,L)}finally{V?A():(O=!1,C=null)}}else O=!1}var A;if(typeof x=="function")A=function(){x(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=j,A=function(){Z.postMessage(null)}}else A=function(){S(j,0)};function q(L){C=L,O||(O=!0,A())}function X(L,V){T=S(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,q(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var W=p;p=V;try{return L()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=p;p=L;try{return V()}finally{p=W}},t.unstable_scheduleCallback=function(L,V,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,L={id:h++,callback:V,priorityLevel:L,startTime:W,expirationTime:ie,sortIndex:-1},W>ee?(L.sortIndex=W,e(d,L),n(c)===null&&L===n(d)&&(g?(w(T),T=-1):g=!0,X(R,W-ee))):(L.sortIndex=ie,e(c,L),_||v||(_=!0,q(D))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var V=p;return function(){var W=p;p=V;try{return L.apply(this,arguments)}finally{p=W}}}})(bb);Eb.exports=bb;var kA=Eb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=y,bn=kA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sb=new Set,zl={};function Ji(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(zl[t]=e,t=0;t<e.length;t++)Sb.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ex={},bx={};function AA(t){return ym.call(bx,t)?!0:ym.call(Ex,t)?!1:RA.test(t)?bx[t]=!0:(Ex[t]=!0,!1)}function DA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jA(t,e,n,r){if(e===null||typeof e>"u"||DA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,uy);Lt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,uy);Lt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,uy);Lt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function dy(t,e,n,r){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jA(e,n,s,r)&&(n=null),r||s===null?AA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),To=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),Tb=Symbol.for("react.provider"),Ib=Symbol.for("react.context"),fy=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),py=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),Cb=Symbol.for("react.offscreen"),Sx=Symbol.iterator;function Qa(t){return t===null||typeof t!="object"?null:(t=Sx&&t[Sx]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,hp;function cl(t){if(hp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hp=e&&e[1]||""}return`
`+hp+t}var fp=!1;function pp(t,e){if(!t||fp)return"";fp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{fp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cl(t):""}function OA(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=pp(t.type,!1),t;case 11:return t=pp(t.type.render,!1),t;case 1:return t=pp(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case To:return"Portal";case vm:return"Profiler";case hy:return"StrictMode";case wm:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ib:return(t.displayName||"Context")+".Consumer";case Tb:return(t._context.displayName||"Context")+".Provider";case fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case py:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function MA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LA(t){var e=Nb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=LA(t))}function kb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Nb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Em(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pb(t,e){e=e.checked,e!=null&&dy(t,"checked",e,!1)}function bm(t,e){Pb(t,e);var n=qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sm(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ix(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sm(t,e,n){(e!=="number"||Od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ul(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qs(n)}}function Rb(t,e){var n=qs(e.value),r=qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ab(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ab(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pu,Db=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VA=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){VA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function jb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function Ob(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var FA=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(t,e){if(e){if(FA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function my(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pm=null,Fo=null,Uo=null;function kx(t){if(t=Pc(t)){if(typeof Pm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Bh(e),Pm(t.stateNode,t.type,e))}}function Mb(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function Lb(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,kx(t),e)for(t=0;t<e.length;t++)kx(e[t])}}function Vb(t,e){return t(e)}function Fb(){}var mp=!1;function Ub(t,e,n){if(mp)return t(e,n);mp=!0;try{return Vb(t,e,n)}finally{mp=!1,(Fo!==null||Uo!==null)&&(Fb(),Lb())}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Rm=!1;if(Xr)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Rm=!1}function UA(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Il=!1,Md=null,Ld=!1,Am=null,$A={onError:function(t){Il=!0,Md=t}};function BA(t,e,n,r,s,i,o,a,c){Il=!1,Md=null,UA.apply($A,arguments)}function zA(t,e,n,r,s,i,o,a,c){if(BA.apply(this,arguments),Il){if(Il){var d=Md;Il=!1,Md=null}else throw Error(H(198));Ld||(Ld=!0,Am=d)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $b(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Px(t){if(Zi(t)!==t)throw Error(H(188))}function WA(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Px(s),t;if(i===r)return Px(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Bb(t){return t=WA(t),t!==null?zb(t):null}function zb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zb(t);if(e!==null)return e;t=t.sibling}return null}var Wb=bn.unstable_scheduleCallback,Rx=bn.unstable_cancelCallback,HA=bn.unstable_shouldYield,qA=bn.unstable_requestPaint,ut=bn.unstable_now,GA=bn.unstable_getCurrentPriorityLevel,gy=bn.unstable_ImmediatePriority,Hb=bn.unstable_UserBlockingPriority,Vd=bn.unstable_NormalPriority,KA=bn.unstable_LowPriority,qb=bn.unstable_IdlePriority,Vh=null,pr=null;function YA(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:JA,QA=Math.log,XA=Math.LN2;function JA(t){return t>>>=0,t===0?32:31-(QA(t)/XA|0)|0}var Ru=64,Au=4194304;function dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=dl(a):(i&=o,i!==0&&(r=dl(i)))}else o=n&~s,o!==0?r=dl(o):i!==0&&(r=dl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),s=1<<n,r|=t[n],e&=~s;return r}function ZA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Gn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=ZA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gb(){var t=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),t}function gp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function t2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function Kb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yb,vy,Qb,Xb,Jb,jm=!1,Du=[],Ds=null,js=null,Os=null,ql=new Map,Gl=new Map,Ss=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ax(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function Ja(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pc(e),e!==null&&vy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function r2(t,e,n,r,s){switch(e){case"focusin":return Ds=Ja(Ds,t,e,n,r,s),!0;case"dragenter":return js=Ja(js,t,e,n,r,s),!0;case"mouseover":return Os=Ja(Os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ql.set(i,Ja(ql.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gl.set(i,Ja(Gl.get(i)||null,t,e,n,r,s)),!0}return!1}function Zb(t){var e=Ci(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=$b(n),e!==null){t.blockedOn=e,Jb(t.priority,function(){Qb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);km=r,n.target.dispatchEvent(r),km=null}else return e=Pc(n),e!==null&&vy(e),t.blockedOn=n,!1;e.shift()}return!0}function Dx(t,e,n){ld(t)&&n.delete(e)}function s2(){jm=!1,Ds!==null&&ld(Ds)&&(Ds=null),js!==null&&ld(js)&&(js=null),Os!==null&&ld(Os)&&(Os=null),ql.forEach(Dx),Gl.forEach(Dx)}function Za(t,e){t.blockedOn===e&&(t.blockedOn=null,jm||(jm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,s2)))}function Kl(t){function e(s){return Za(s,t)}if(0<Du.length){Za(Du[0],t);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&Za(Ds,t),js!==null&&Za(js,t),Os!==null&&Za(Os,t),ql.forEach(e),Gl.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)Zb(n),n.blockedOn===null&&Ss.shift()}var $o=us.ReactCurrentBatchConfig,Ud=!0;function i2(t,e,n,r){var s=Ue,i=$o.transition;$o.transition=null;try{Ue=1,wy(t,e,n,r)}finally{Ue=s,$o.transition=i}}function o2(t,e,n,r){var s=Ue,i=$o.transition;$o.transition=null;try{Ue=4,wy(t,e,n,r)}finally{Ue=s,$o.transition=i}}function wy(t,e,n,r){if(Ud){var s=Om(t,e,n,r);if(s===null)Ip(t,e,r,$d,n),Ax(t,r);else if(r2(s,t,e,n,r))r.stopPropagation();else if(Ax(t,r),e&4&&-1<n2.indexOf(t)){for(;s!==null;){var i=Pc(s);if(i!==null&&Yb(i),i=Om(t,e,n,r),i===null&&Ip(t,e,r,$d,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ip(t,e,r,null,n)}}var $d=null;function Om(t,e,n,r){if($d=null,t=my(r),t=Ci(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$b(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function eS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case gy:return 1;case Hb:return 4;case Vd:case KA:return 16;case qb:return 536870912;default:return 16}default:return 16}}var Ps=null,xy=null,cd=null;function tS(){if(cd)return cd;var t,e=xy,n=e.length,r,s="value"in Ps?Ps.value:Ps.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cd=s.slice(t,1<r?1-r:void 0)}function ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function jx(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ju:jx,this.isPropagationStopped=jx,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=Tn(ga),kc=st({},ga,{view:0,detail:0}),a2=Tn(kc),yp,vp,el,Fh=st({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==el&&(el&&t.type==="mousemove"?(yp=t.screenX-el.screenX,vp=t.screenY-el.screenY):vp=yp=0,el=t),yp)},movementY:function(t){return"movementY"in t?t.movementY:vp}}),Ox=Tn(Fh),l2=st({},Fh,{dataTransfer:0}),c2=Tn(l2),u2=st({},kc,{relatedTarget:0}),wp=Tn(u2),d2=st({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),h2=Tn(d2),f2=st({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p2=Tn(f2),m2=st({},ga,{data:0}),Mx=Tn(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v2[t])?!!e[t]:!1}function Ey(){return w2}var x2=st({},kc,{key:function(t){if(t.key){var e=g2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ey,charCode:function(t){return t.type==="keypress"?ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_2=Tn(x2),E2=st({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=Tn(E2),b2=st({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ey}),S2=Tn(b2),T2=st({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=Tn(T2),C2=st({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=Tn(C2),k2=[9,13,27,32],by=Xr&&"CompositionEvent"in window,Cl=null;Xr&&"documentMode"in document&&(Cl=document.documentMode);var P2=Xr&&"TextEvent"in window&&!Cl,nS=Xr&&(!by||Cl&&8<Cl&&11>=Cl),Vx=" ",Fx=!1;function rS(t,e){switch(t){case"keyup":return k2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function R2(t,e){switch(t){case"compositionend":return sS(e);case"keypress":return e.which!==32?null:(Fx=!0,Vx);case"textInput":return t=e.data,t===Vx&&Fx?null:t;default:return null}}function A2(t,e){if(Co)return t==="compositionend"||!by&&rS(t,e)?(t=tS(),cd=xy=Ps=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nS&&e.locale!=="ko"?null:e.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D2[t.type]:e==="textarea"}function iS(t,e,n,r){Mb(r),e=Bd(e,"onChange"),0<e.length&&(n=new _y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nl=null,Yl=null;function j2(t){gS(t,0)}function Uh(t){var e=Po(t);if(kb(e))return t}function O2(t,e){if(t==="change")return e}var oS=!1;if(Xr){var xp;if(Xr){var _p="oninput"in document;if(!_p){var $x=document.createElement("div");$x.setAttribute("oninput","return;"),_p=typeof $x.oninput=="function"}xp=_p}else xp=!1;oS=xp&&(!document.documentMode||9<document.documentMode)}function Bx(){Nl&&(Nl.detachEvent("onpropertychange",aS),Yl=Nl=null)}function aS(t){if(t.propertyName==="value"&&Uh(Yl)){var e=[];iS(e,Yl,t,my(t)),Ub(j2,e)}}function M2(t,e,n){t==="focusin"?(Bx(),Nl=e,Yl=n,Nl.attachEvent("onpropertychange",aS)):t==="focusout"&&Bx()}function L2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(Yl)}function V2(t,e){if(t==="click")return Uh(e)}function F2(t,e){if(t==="input"||t==="change")return Uh(e)}function U2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:U2;function Ql(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ym.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function zx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wx(t,e){var n=zx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zx(n)}}function lS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cS(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Od(t.document)}return e}function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $2(t){var e=cS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lS(n.ownerDocument.documentElement,n)){if(r!==null&&Sy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wx(n,i);var o=Wx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B2=Xr&&"documentMode"in document&&11>=document.documentMode,No=null,Mm=null,kl=null,Lm=!1;function Hx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||No==null||No!==Od(r)||(r=No,"selectionStart"in r&&Sy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Ql(kl,r)||(kl=r,r=Bd(Mm,"onSelect"),0<r.length&&(e=new _y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},Ep={},uS={};Xr&&(uS=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function $h(t){if(Ep[t])return Ep[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uS)return Ep[t]=e[n];return t}var dS=$h("animationend"),hS=$h("animationiteration"),fS=$h("animationstart"),pS=$h("transitionend"),mS=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){mS.set(t,e),Ji(e,[t])}for(var bp=0;bp<qx.length;bp++){var Sp=qx[bp],z2=Sp.toLowerCase(),W2=Sp[0].toUpperCase()+Sp.slice(1);ii(z2,"on"+W2)}ii(dS,"onAnimationEnd");ii(hS,"onAnimationIteration");ii(fS,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(pS,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H2=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Gx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zA(r,e,void 0,t),t.currentTarget=null}function gS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Gx(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Gx(s,a,d),i=c}}}if(Ld)throw t=Am,Ld=!1,Am=null,t}function Ke(t,e){var n=e[Bm];n===void 0&&(n=e[Bm]=new Set);var r=t+"__bubble";n.has(r)||(yS(e,t,2,!1),n.add(r))}function Tp(t,e,n){var r=0;e&&(r|=4),yS(n,t,r,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Xl(t){if(!t[Mu]){t[Mu]=!0,Sb.forEach(function(n){n!=="selectionchange"&&(H2.has(n)||Tp(n,!1,t),Tp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,Tp("selectionchange",!1,e))}}function yS(t,e,n,r){switch(eS(e)){case 1:var s=i2;break;case 4:s=o2;break;default:s=wy}n=s.bind(null,e,n,t),s=void 0,!Rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ip(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ci(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ub(function(){var d=i,h=my(n),f=[];e:{var p=mS.get(t);if(p!==void 0){var v=_y,_=t;switch(t){case"keypress":if(ud(n)===0)break e;case"keydown":case"keyup":v=_2;break;case"focusin":_="focus",v=wp;break;case"focusout":_="blur",v=wp;break;case"beforeblur":case"afterblur":v=wp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=S2;break;case dS:case hS:case fS:v=h2;break;case pS:v=I2;break;case"scroll":v=a2;break;case"wheel":v=N2;break;case"copy":case"cut":case"paste":v=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lx}var g=(e&4)!==0,S=!g&&t==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,b;x!==null;){b=x;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,w!==null&&(R=Hl(x,w),R!=null&&g.push(Jl(x,R,b)))),S)break;x=x.return}0<g.length&&(p=new v(p,_,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==km&&(_=n.relatedTarget||n.fromElement)&&(Ci(_)||_[Jr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=d,_=_?Ci(_):null,_!==null&&(S=Zi(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=d),v!==_)){if(g=Ox,R="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=Lx,R="onPointerLeave",w="onPointerEnter",x="pointer"),S=v==null?p:Po(v),b=_==null?p:Po(_),p=new g(R,x+"leave",v,n,h),p.target=S,p.relatedTarget=b,R=null,Ci(h)===d&&(g=new g(w,x+"enter",_,n,h),g.target=b,g.relatedTarget=S,R=g),S=R,v&&_)t:{for(g=v,w=_,x=0,b=g;b;b=po(b))x++;for(b=0,R=w;R;R=po(R))b++;for(;0<x-b;)g=po(g),x--;for(;0<b-x;)w=po(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=po(g),w=po(w)}g=null}else g=null;v!==null&&Kx(f,p,v,g,!1),_!==null&&S!==null&&Kx(f,S,_,g,!0)}}e:{if(p=d?Po(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var D=O2;else if(Ux(p))if(oS)D=F2;else{D=L2;var O=M2}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=V2);if(D&&(D=D(t,d))){iS(f,D,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Sm(p,"number",p.value)}switch(O=d?Po(d):window,t){case"focusin":(Ux(O)||O.contentEditable==="true")&&(No=O,Mm=d,kl=null);break;case"focusout":kl=Mm=No=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Hx(f,n,h);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":Hx(f,n,h)}var C;if(by)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Co?rS(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(nS&&n.locale!=="ko"&&(Co||T!=="onCompositionStart"?T==="onCompositionEnd"&&Co&&(C=tS()):(Ps=h,xy="value"in Ps?Ps.value:Ps.textContent,Co=!0)),O=Bd(d,T),0<O.length&&(T=new Mx(T,t,null,n,h),f.push({event:T,listeners:O}),C?T.data=C:(C=sS(n),C!==null&&(T.data=C)))),(C=P2?R2(t,n):A2(t,n))&&(d=Bd(d,"onBeforeInput"),0<d.length&&(h=new Mx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}gS(f,e)})}function Jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hl(t,n),i!=null&&r.unshift(Jl(t,i,s)),i=Hl(t,e),i!=null&&r.push(Jl(t,i,s))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Hl(n,i),c!=null&&o.unshift(Jl(n,c,a))):s||(c=Hl(n,i),c!=null&&o.push(Jl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var q2=/\r\n?/g,G2=/\u0000|\uFFFD/g;function Yx(t){return(typeof t=="string"?t:""+t).replace(q2,`
`).replace(G2,"")}function Lu(t,e,n){if(e=Yx(e),Yx(t)!==e&&n)throw Error(H(425))}function zd(){}var Vm=null,Fm=null;function Um(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(t){return Qx.resolve(null).then(t).catch(Q2)}:$m;function Q2(t){setTimeout(function(){throw t})}function Cp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kl(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),ur="__reactFiber$"+ya,Zl="__reactProps$"+ya,Jr="__reactContainer$"+ya,Bm="__reactEvents$"+ya,X2="__reactListeners$"+ya,J2="__reactHandles$"+ya;function Ci(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xx(t);t!==null;){if(n=t[ur])return n;t=Xx(t)}return e}t=n,n=t.parentNode}return null}function Pc(t){return t=t[ur]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Bh(t){return t[Zl]||null}var zm=[],Ro=-1;function oi(t){return{current:t}}function Ye(t){0>Ro||(t.current=zm[Ro],zm[Ro]=null,Ro--)}function He(t,e){Ro++,zm[Ro]=t.current,t.current=e}var Gs={},Kt=oi(Gs),cn=oi(!1),Oi=Gs;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function Wd(){Ye(cn),Ye(Kt)}function Jx(t,e,n){if(Kt.current!==Gs)throw Error(H(168));He(Kt,e),He(cn,n)}function vS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,MA(t)||"Unknown",s));return st({},n,r)}function Hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,Oi=Kt.current,He(Kt,t),He(cn,cn.current),!0}function Zx(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=vS(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Ye(cn),Ye(Kt),He(Kt,t)):Ye(cn),He(cn,n)}var Fr=null,zh=!1,Np=!1;function wS(t){Fr===null?Fr=[t]:Fr.push(t)}function Z2(t){zh=!0,wS(t)}function ai(){if(!Np&&Fr!==null){Np=!0;var t=0,e=Ue;try{var n=Fr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,zh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),Wb(gy,ai),s}finally{Ue=e,Np=!1}}return null}var Ao=[],Do=0,qd=null,Gd=0,Nn=[],kn=0,Mi=null,Ur=1,$r="";function bi(t,e){Ao[Do++]=Gd,Ao[Do++]=qd,qd=t,Gd=e}function xS(t,e,n){Nn[kn++]=Ur,Nn[kn++]=$r,Nn[kn++]=Mi,Mi=t;var r=Ur;t=$r;var s=32-Gn(r)-1;r&=~(1<<s),n+=1;var i=32-Gn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-Gn(e)+s|n<<s|r,$r=i+t}else Ur=1<<i|n<<s|r,$r=t}function Ty(t){t.return!==null&&(bi(t,1),xS(t,1,0))}function Iy(t){for(;t===qd;)qd=Ao[--Do],Ao[Do]=null,Gd=Ao[--Do],Ao[Do]=null;for(;t===Mi;)Mi=Nn[--kn],Nn[kn]=null,$r=Nn[--kn],Nn[kn]=null,Ur=Nn[--kn],Nn[kn]=null}var xn=null,vn=null,Qe=!1,zn=null;function _S(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,vn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,vn=null,!0):!1;default:return!1}}function Wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hm(t){if(Qe){var e=vn;if(e){var n=e;if(!e0(t,e)){if(Wm(t))throw Error(H(418));e=Ms(n.nextSibling);var r=xn;e&&e0(t,e)?_S(r,n):(t.flags=t.flags&-4097|2,Qe=!1,xn=t)}}else{if(Wm(t))throw Error(H(418));t.flags=t.flags&-4097|2,Qe=!1,xn=t}}}function t0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function Vu(t){if(t!==xn)return!1;if(!Qe)return t0(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Um(t.type,t.memoizedProps)),e&&(e=vn)){if(Wm(t))throw ES(),Error(H(418));for(;e;)_S(t,e),e=Ms(e.nextSibling)}if(t0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=xn?Ms(t.stateNode.nextSibling):null;return!0}function ES(){for(var t=vn;t;)t=Ms(t.nextSibling)}function ea(){vn=xn=null,Qe=!1}function Cy(t){zn===null?zn=[t]:zn.push(t)}var eD=us.ReactCurrentBatchConfig;function tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n0(t){var e=t._init;return e(t._payload)}function bS(t){function e(w,x){if(t){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Us(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,b,R){return x===null||x.tag!==6?(x=Op(b,w.mode,R),x.return=w,x):(x=s(x,b),x.return=w,x)}function c(w,x,b,R){var D=b.type;return D===Io?h(w,x,b.props.children,R,b.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&n0(D)===x.type)?(R=s(x,b.props),R.ref=tl(w,x,b),R.return=w,R):(R=yd(b.type,b.key,b.props,null,w.mode,R),R.ref=tl(w,x,b),R.return=w,R)}function d(w,x,b,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Mp(b,w.mode,R),x.return=w,x):(x=s(x,b.children||[]),x.return=w,x)}function h(w,x,b,R,D){return x===null||x.tag!==7?(x=Di(b,w.mode,R,D),x.return=w,x):(x=s(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Op(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Nu:return b=yd(x.type,x.key,x.props,null,w.mode,b),b.ref=tl(w,null,x),b.return=w,b;case To:return x=Mp(x,w.mode,b),x.return=w,x;case Es:var R=x._init;return f(w,R(x._payload),b)}if(ul(x)||Qa(x))return x=Di(x,w.mode,b,null),x.return=w,x;Fu(w,x)}return null}function p(w,x,b,R){var D=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(w,x,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nu:return b.key===D?c(w,x,b,R):null;case To:return b.key===D?d(w,x,b,R):null;case Es:return D=b._init,p(w,x,D(b._payload),R)}if(ul(b)||Qa(b))return D!==null?null:h(w,x,b,R,null);Fu(w,b)}return null}function v(w,x,b,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(b)||null,a(x,w,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Nu:return w=w.get(R.key===null?b:R.key)||null,c(x,w,R,D);case To:return w=w.get(R.key===null?b:R.key)||null,d(x,w,R,D);case Es:var O=R._init;return v(w,x,b,O(R._payload),D)}if(ul(R)||Qa(R))return w=w.get(b)||null,h(x,w,R,D,null);Fu(x,R)}return null}function _(w,x,b,R){for(var D=null,O=null,C=x,T=x=0,I=null;C!==null&&T<b.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var k=p(w,C,b[T],R);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(w,C),x=i(k,x,T),O===null?D=k:O.sibling=k,O=k,C=I}if(T===b.length)return n(w,C),Qe&&bi(w,T),D;if(C===null){for(;T<b.length;T++)C=f(w,b[T],R),C!==null&&(x=i(C,x,T),O===null?D=C:O.sibling=C,O=C);return Qe&&bi(w,T),D}for(C=r(w,C);T<b.length;T++)I=v(C,w,T,b[T],R),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),x=i(I,x,T),O===null?D=I:O.sibling=I,O=I);return t&&C.forEach(function(N){return e(w,N)}),Qe&&bi(w,T),D}function g(w,x,b,R){var D=Qa(b);if(typeof D!="function")throw Error(H(150));if(b=D.call(b),b==null)throw Error(H(151));for(var O=D=null,C=x,T=x=0,I=null,k=b.next();C!==null&&!k.done;T++,k=b.next()){C.index>T?(I=C,C=null):I=C.sibling;var N=p(w,C,k.value,R);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(w,C),x=i(N,x,T),O===null?D=N:O.sibling=N,O=N,C=I}if(k.done)return n(w,C),Qe&&bi(w,T),D;if(C===null){for(;!k.done;T++,k=b.next())k=f(w,k.value,R),k!==null&&(x=i(k,x,T),O===null?D=k:O.sibling=k,O=k);return Qe&&bi(w,T),D}for(C=r(w,C);!k.done;T++,k=b.next())k=v(C,w,T,k.value,R),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?T:k.key),x=i(k,x,T),O===null?D=k:O.sibling=k,O=k);return t&&C.forEach(function(j){return e(w,j)}),Qe&&bi(w,T),D}function S(w,x,b,R){if(typeof b=="object"&&b!==null&&b.type===Io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Nu:e:{for(var D=b.key,O=x;O!==null;){if(O.key===D){if(D=b.type,D===Io){if(O.tag===7){n(w,O.sibling),x=s(O,b.props.children),x.return=w,w=x;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&n0(D)===O.type){n(w,O.sibling),x=s(O,b.props),x.ref=tl(w,O,b),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}b.type===Io?(x=Di(b.props.children,w.mode,R,b.key),x.return=w,w=x):(R=yd(b.type,b.key,b.props,null,w.mode,R),R.ref=tl(w,x,b),R.return=w,w=R)}return o(w);case To:e:{for(O=b.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=s(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Mp(b,w.mode,R),x.return=w,w=x}return o(w);case Es:return O=b._init,S(w,x,O(b._payload),R)}if(ul(b))return _(w,x,b,R);if(Qa(b))return g(w,x,b,R);Fu(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,b),x.return=w,w=x):(n(w,x),x=Op(b,w.mode,R),x.return=w,w=x),o(w)):n(w,x)}return S}var ta=bS(!0),SS=bS(!1),Kd=oi(null),Yd=null,jo=null,Ny=null;function ky(){Ny=jo=Yd=null}function Py(t){var e=Kd.current;Ye(Kd),t._currentValue=e}function qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Yd=t,Ny=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Ny!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(Yd===null)throw Error(H(308));jo=t,Yd.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var Ni=null;function Ry(t){Ni===null?Ni=[t]:Ni.push(t)}function TS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ry(e)):(n.next=s.next,s.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Zr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ry(r)):(e.next=s.next,s.next=e),r.interleaved=e,Zr(t,n)}function dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yy(t,n)}}function r0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qd(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(p=e,v=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(v,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,p=typeof _=="function"?_.call(v,f,p):_,p==null)break e;f=st({},f,p);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function s0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Rc={},mr=oi(Rc),ec=oi(Rc),tc=oi(Rc);function ki(t){if(t===Rc)throw Error(H(174));return t}function Dy(t,e){switch(He(tc,e),He(ec,t),He(mr,Rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Im(e,t)}Ye(mr),He(mr,e)}function na(){Ye(mr),Ye(ec),Ye(tc)}function CS(t){ki(tc.current);var e=ki(mr.current),n=Im(e,t.type);e!==n&&(He(ec,t),He(mr,n))}function jy(t){ec.current===t&&(Ye(mr),Ye(ec))}var tt=oi(0);function Xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kp=[];function Oy(){for(var t=0;t<kp.length;t++)kp[t]._workInProgressVersionPrimary=null;kp.length=0}var hd=us.ReactCurrentDispatcher,Pp=us.ReactCurrentBatchConfig,Li=0,nt=null,xt=null,Ct=null,Jd=!1,Pl=!1,nc=0,tD=0;function $t(){throw Error(H(321))}function My(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Ly(t,e,n,r,s,i){if(Li=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hd.current=t===null||t.memoizedState===null?iD:oD,t=n(r,s),Pl){i=0;do{if(Pl=!1,nc=0,25<=i)throw Error(H(301));i+=1,Ct=xt=null,e.updateQueue=null,hd.current=aD,t=n(r,s)}while(Pl)}if(hd.current=Zd,e=xt!==null&&xt.next!==null,Li=0,Ct=xt=nt=null,Jd=!1,e)throw Error(H(300));return t}function Vy(){var t=nc!==0;return nc=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?nt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Mn(){if(xt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Ct===null?nt.memoizedState:Ct.next;if(e!==null)Ct=e,xt=t;else{if(t===null)throw Error(H(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?nt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function rc(t,e){return typeof e=="function"?e(t):e}function Rp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Li&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,nt.lanes|=h,Vi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Qn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,Vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ap(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function NS(){}function kS(t,e){var n=nt,r=Mn(),s=e(),i=!Qn(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Fy(AS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,sc(9,RS.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(H(349));Li&30||PS(n,e,s)}return s}function PS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RS(t,e,n,r){e.value=n,e.getSnapshot=r,DS(e)&&jS(t)}function AS(t,e,n){return n(function(){DS(e)&&jS(t)})}function DS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function jS(t){var e=Zr(t,1);e!==null&&Kn(e,t,1,-1)}function i0(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=sD.bind(null,nt,t),[e.memoizedState,t]}function sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OS(){return Mn().memoizedState}function fd(t,e,n,r){var s=ar();nt.flags|=t,s.memoizedState=sc(1|e,n,void 0,r===void 0?null:r)}function Wh(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&My(r,o.deps)){s.memoizedState=sc(e,n,i,r);return}}nt.flags|=t,s.memoizedState=sc(1|e,n,i,r)}function o0(t,e){return fd(8390656,8,t,e)}function Fy(t,e){return Wh(2048,8,t,e)}function MS(t,e){return Wh(4,2,t,e)}function LS(t,e){return Wh(4,4,t,e)}function VS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FS(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4,4,VS.bind(null,e,t),n)}function Uy(){}function US(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&My(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $S(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&My(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BS(t,e,n){return Li&21?(Qn(n,e)||(n=Gb(),nt.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function nD(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Pp.transition;Pp.transition={};try{t(!1),e()}finally{Ue=n,Pp.transition=r}}function zS(){return Mn().memoizedState}function rD(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WS(t))HS(e,n);else if(n=TS(t,e,n,r),n!==null){var s=tn();Kn(n,t,r,s),qS(n,e,r)}}function sD(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WS(t))HS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,o)){var c=e.interleaved;c===null?(s.next=s,Ry(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=TS(t,e,s,r),n!==null&&(s=tn(),Kn(n,t,r,s),qS(n,e,r))}}function WS(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function HS(t,e){Pl=Jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yy(t,n)}}var Zd={readContext:On,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},iD={readContext:On,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:o0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fd(4194308,4,VS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return fd(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rD.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:i0,useDebugValue:Uy,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=i0(!1),e=t[0];return t=nD.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,s=ar();if(Qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Nt===null)throw Error(H(349));Li&30||PS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o0(AS.bind(null,r,i,t),[t]),r.flags|=2048,sc(9,RS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ar(),e=Nt.identifierPrefix;if(Qe){var n=$r,r=Ur;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oD={readContext:On,useCallback:US,useContext:On,useEffect:Fy,useImperativeHandle:FS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:$S,useReducer:Rp,useRef:OS,useState:function(){return Rp(rc)},useDebugValue:Uy,useDeferredValue:function(t){var e=Mn();return BS(e,xt.memoizedState,t)},useTransition:function(){var t=Rp(rc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:kS,useId:zS,unstable_isNewReconciler:!1},aD={readContext:On,useCallback:US,useContext:On,useEffect:Fy,useImperativeHandle:FS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:$S,useReducer:Ap,useRef:OS,useState:function(){return Ap(rc)},useDebugValue:Uy,useDeferredValue:function(t){var e=Mn();return xt===null?e.memoizedState=t:BS(e,xt.memoizedState,t)},useTransition:function(){var t=Ap(rc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:kS,useId:zS,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hh={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=Fs(t),i=qr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Kn(e,t,s,r),dd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=Fs(t),i=qr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Kn(e,t,s,r),dd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Fs(t),s=qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Kn(e,t,r,n),dd(e,t,r))}};function a0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(n,r)||!Ql(s,i):!0}function GS(t,e,n){var r=!1,s=Gs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=un(e)?Oi:Kt.current,r=e.contextTypes,i=(r=r!=null)?Zo(t,s):Gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hh.enqueueReplaceState(e,e.state,null)}function Km(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=un(e)?Oi:Kt.current,s.context=Zo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hh.enqueueReplaceState(s,s.state,null),Qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ra(t,e){try{var n="",r=e;do n+=OA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Dp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ym(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lD=typeof WeakMap=="function"?WeakMap:Map;function KS(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){th||(th=!0,ig=r),Ym(t,e)},n}function YS(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ym(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ym(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function c0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ED.bind(null,t,e,n),e.then(t,t))}function u0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var cD=us.ReactCurrentOwner,ln=!1;function Zt(t,e,n,r){e.child=t===null?SS(e,null,n,r):ta(e,t.child,n,r)}function h0(t,e,n,r,s){n=n.render;var i=e.ref;return Bo(e,s),r=Ly(t,e,n,r,i,s),n=Vy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(Qe&&n&&Ty(e),e.flags|=1,Zt(t,e,r,s),e.child)}function f0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ky(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,QS(t,e,i,r,s)):(t=yd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ql,n(o,r)&&t.ref===e.ref)return es(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function QS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ql(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,es(t,e,s)}return Qm(t,e,n,r,s)}function XS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Mo,pn),pn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Mo,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(Mo,pn),pn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He(Mo,pn),pn|=r;return Zt(t,e,s,n),e.child}function JS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qm(t,e,n,r,s){var i=un(n)?Oi:Kt.current;return i=Zo(e,i),Bo(e,s),n=Ly(t,e,n,r,i,s),r=Vy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(Qe&&r&&Ty(e),e.flags|=1,Zt(t,e,n,s),e.child)}function p0(t,e,n,r,s){if(un(n)){var i=!0;Hd(e)}else i=!1;if(Bo(e,s),e.stateNode===null)pd(t,e),GS(e,n,r),Km(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=un(n)?Oi:Kt.current,d=Zo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&l0(e,o,r,d),bs=!1;var p=e.memoizedState;o.state=p,Qd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||cn.current||bs?(typeof h=="function"&&(Gm(e,n,h,r),c=e.memoizedState),(a=bs||a0(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,IS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:$n(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=On(c):(c=un(n)?Oi:Kt.current,c=Zo(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&l0(e,o,r,c),bs=!1,p=e.memoizedState,o.state=p,Qd(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||cn.current||bs?(typeof v=="function"&&(Gm(e,n,v,r),_=e.memoizedState),(d=bs||a0(e,n,d,r,p,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Xm(t,e,n,r,i,s)}function Xm(t,e,n,r,s,i){JS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zx(e,n,!1),es(t,e,i);r=e.stateNode,cD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ta(e,t.child,null,i),e.child=ta(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&Zx(e,n,!0),e.child}function ZS(t){var e=t.stateNode;e.pendingContext?Jx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jx(t,e.context,!1),Dy(t,e.containerInfo)}function m0(t,e,n,r,s){return ea(),Cy(s),e.flags|=256,Zt(t,e,n,r),e.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Zm(t){return{baseLanes:t,cachePool:null,transitions:null}}function eT(t,e,n){var r=e.pendingProps,s=tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(tt,s&1),t===null)return Hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kh(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zm(n),e.memoizedState=Jm,t):$y(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Us(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Jm,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $y(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&Cy(r),ta(e,t.child,null,n),t=$y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Dp(Error(H(422))),Uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kh({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ta(e,t.child,null,o),e.child.memoizedState=Zm(o),e.memoizedState=Jm,i);if(!(e.mode&1))return Uu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Dp(i,r,void 0),Uu(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zr(t,s),Kn(r,t,s,-1))}return Gy(),r=Dp(Error(H(421))),Uu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vn=Ms(s.nextSibling),xn=e,Qe=!0,zn=null,t!==null&&(Nn[kn++]=Ur,Nn[kn++]=$r,Nn[kn++]=Mi,Ur=t.id,$r=t.overflow,Mi=e),e=$y(e,r.children),e.flags|=4096,e)}function g0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qm(t.return,e,n)}function jp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,n,e);else if(t.tag===19)g0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jp(e,!0,n,null,i);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dD(t,e,n){switch(e.tag){case 3:ZS(e),ea();break;case 5:CS(e);break;case 1:un(e.type)&&Hd(e);break;case 4:Dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(Kd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?eT(t,e,n):(He(tt,tt.current&1),t=es(t,e,n),t!==null?t.sibling:null);He(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,XS(t,e,n)}return es(t,e,n)}var nT,eg,rT,sT;nT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eg=function(){};rT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ki(mr.current);var i=null;switch(n){case"input":s=Em(t,s),r=Em(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Tm(t,s),r=Tm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zd)}Cm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(zl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(zl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ke("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};sT=function(t,e,n,r){n!==r&&(e.flags|=4)};function nl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hD(t,e,n){var r=e.pendingProps;switch(Iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return un(e.type)&&Wd(),Bt(e),null;case 3:return r=e.stateNode,na(),Ye(cn),Ye(Kt),Oy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(lg(zn),zn=null))),eg(t,e),Bt(e),null;case 5:jy(e);var s=ki(tc.current);if(n=e.type,t!==null&&e.stateNode!=null)rT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Bt(e),null}if(t=ki(mr.current),Vu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ur]=e,r[Zl]=i,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<hl.length;s++)Ke(hl[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Tx(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":Cx(r,i),Ke("invalid",r)}Cm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",""+a]):zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":ku(r),Ix(r,i,!0);break;case"textarea":ku(r),Nx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ab(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Zl]=r,nT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nm(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),s=r;break;case"iframe":case"object":case"embed":Ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<hl.length;s++)Ke(hl[s],t);s=r;break;case"source":Ke("error",t),s=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),s=r;break;case"details":Ke("toggle",t),s=r;break;case"input":Tx(t,r),s=Em(t,r),Ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Cx(t,r),s=Tm(t,r),Ke("invalid",t);break;default:s=r}Cm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ob(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Db(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wl(t,c):typeof c=="number"&&Wl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",t):c!=null&&dy(t,i,c,o))}switch(n){case"input":ku(t),Ix(t,r,!1);break;case"textarea":ku(t),Nx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)sT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ki(tc.current),ki(mr.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(i=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Bt(e),null;case 13:if(Ye(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&vn!==null&&e.mode&1&&!(e.flags&128))ES(),ea(),e.flags|=98560,i=!1;else if(i=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[ur]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else zn!==null&&(lg(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?_t===0&&(_t=3):Gy())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return na(),eg(t,e),t===null&&Xl(e.stateNode.containerInfo),Bt(e),null;case 10:return Py(e.type._context),Bt(e),null;case 17:return un(e.type)&&Wd(),Bt(e),null;case 19:if(Ye(tt),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)nl(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xd(t),o!==null){for(e.flags|=128,nl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(tt,tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>sa&&(e.flags|=128,r=!0,nl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Bt(e),null}else 2*ut()-i.renderingStartTime>sa&&n!==1073741824&&(e.flags|=128,r=!0,nl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=tt.current,He(tt,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function fD(t,e){switch(Iy(e),e.tag){case 1:return un(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(),Ye(cn),Ye(Kt),Oy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jy(e),null;case 13:if(Ye(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(tt),null;case 4:return na(),null;case 10:return Py(e.type._context),null;case 22:case 23:return qy(),null;case 24:return null;default:return null}}var $u=!1,qt=!1,pD=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function tg(t,e,n){try{n()}catch(r){at(t,e,r)}}var y0=!1;function mD(t,e){if(Vm=Ud,t=cS(),Sy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:t,selectionRange:n},Ud=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,S=_.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:$n(e.type,g),S);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(R){at(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return _=y0,y0=!1,_}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tg(e,n,i)}s=s.next}while(s!==r)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iT(t){var e=t.alternate;e!==null&&(t.alternate=null,iT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Zl],delete e[Bm],delete e[X2],delete e[J2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oT(t){return t.tag===5||t.tag===3||t.tag===4}function v0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zd));else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}var Dt=null,Bn=!1;function gs(t,e,n){for(n=n.child;n!==null;)aT(t,e,n),n=n.sibling}function aT(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:qt||Oo(n,e);case 6:var r=Dt,s=Bn;Dt=null,gs(t,e,n),Dt=r,Bn=s,Dt!==null&&(Bn?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Bn?(t=Dt,n=n.stateNode,t.nodeType===8?Cp(t.parentNode,n):t.nodeType===1&&Cp(t,n),Kl(t)):Cp(Dt,n.stateNode));break;case 4:r=Dt,s=Bn,Dt=n.stateNode.containerInfo,Bn=!0,gs(t,e,n),Dt=r,Bn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tg(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!qt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,gs(t,e,n),qt=r):gs(t,e,n);break;default:gs(t,e,n)}}function w0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pD),e.forEach(function(r){var s=SD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Bn=!1;break e;case 3:Dt=a.stateNode.containerInfo,Bn=!0;break e;case 4:Dt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(Dt===null)throw Error(H(160));aT(i,o,s),Dt=null,Bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){at(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lT(e,t),e=e.sibling}function lT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),or(t),r&4){try{Rl(3,t,t.return),qh(3,t)}catch(g){at(t,t.return,g)}try{Rl(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:Fn(e,t),or(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Fn(e,t),or(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var s=t.stateNode;try{Wl(s,"")}catch(g){at(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pb(s,i),Nm(a,o);var d=Nm(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Ob(s,f):h==="dangerouslySetInnerHTML"?Db(s,f):h==="children"?Wl(s,f):dy(s,h,f,d)}switch(a){case"input":bm(s,i);break;case"textarea":Rb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Vo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vo(s,!!i.multiple,i.defaultValue,!0):Vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zl]=i}catch(g){at(t,t.return,g)}}break;case 6:if(Fn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){at(t,t.return,g)}}break;case 3:if(Fn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kl(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:Fn(e,t),or(t);break;case 13:Fn(e,t),or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wy=ut())),r&4&&w0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(d=qt)||h,Fn(e,t),qt=d):Fn(e,t),or(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(p=ne,v=p.child,p.tag){case 0:case 11:case 14:case 15:Rl(4,p,p.return);break;case 1:Oo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:Oo(p,p.return);break;case 22:if(p.memoizedState!==null){_0(f);continue}}v!==null?(v.return=p,ne=v):_0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jb("display",o))}catch(g){at(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){at(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),or(t),r&4&&w0(t);break;case 21:break;default:Fn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wl(s,""),r.flags&=-33);var i=v0(t);sg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v0(t);rg(t,a,o);break;default:throw Error(H(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gD(t,e,n){ne=t,cT(t)}function cT(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$u;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||qt;a=$u;var d=qt;if($u=o,(qt=c)&&!d)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?E0(s):c!==null?(c.return=o,ne=c):E0(s);for(;i!==null;)ne=i,cT(i),i=i.sibling;ne=s,$u=a,qt=d}x0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):x0(t)}}function x0(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&s0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}qt||e.flags&512&&ng(e)}catch(p){at(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function _0(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function E0(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(c){at(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{ng(e)}catch(c){at(e,i,c)}break;case 5:var o=e.return;try{ng(e)}catch(c){at(e,o,c)}}}catch(c){at(e,e.return,c)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var yD=Math.ceil,eh=us.ReactCurrentDispatcher,By=us.ReactCurrentOwner,Dn=us.ReactCurrentBatchConfig,De=0,Nt=null,ht=null,Mt=0,pn=0,Mo=oi(0),_t=0,ic=null,Vi=0,Gh=0,zy=0,Al=null,on=null,Wy=0,sa=1/0,Vr=null,th=!1,ig=null,Vs=null,Bu=!1,Rs=null,nh=0,Dl=0,og=null,md=-1,gd=0;function tn(){return De&6?ut():md!==-1?md:md=ut()}function Fs(t){return t.mode&1?De&2&&Mt!==0?Mt&-Mt:eD.transition!==null?(gd===0&&(gd=Gb()),gd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:eS(t.type)),t):1}function Kn(t,e,n,r){if(50<Dl)throw Dl=0,og=null,Error(H(185));Nc(t,n,r),(!(De&2)||t!==Nt)&&(t===Nt&&(!(De&2)&&(Gh|=n),_t===4&&Ts(t,Mt)),dn(t,r),n===1&&De===0&&!(e.mode&1)&&(sa=ut()+500,zh&&ai()))}function dn(t,e){var n=t.callbackNode;e2(t,e);var r=Fd(t,t===Nt?Mt:0);if(r===0)n!==null&&Rx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rx(n),e===1)t.tag===0?Z2(b0.bind(null,t)):wS(b0.bind(null,t)),Y2(function(){!(De&6)&&ai()}),n=null;else{switch(Kb(r)){case 1:n=gy;break;case 4:n=Hb;break;case 16:n=Vd;break;case 536870912:n=qb;break;default:n=Vd}n=yT(n,uT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uT(t,e){if(md=-1,gd=0,De&6)throw Error(H(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=Fd(t,t===Nt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rh(t,r);else{e=r;var s=De;De|=2;var i=hT();(Nt!==t||Mt!==e)&&(Vr=null,sa=ut()+500,Ai(t,e));do try{xD();break}catch(a){dT(t,a)}while(!0);ky(),eh.current=i,De=s,ht!==null?e=0:(Nt=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(s=Dm(t),s!==0&&(r=s,e=ag(t,s))),e===1)throw n=ic,Ai(t,0),Ts(t,r),dn(t,ut()),n;if(e===6)Ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!vD(s)&&(e=rh(t,r),e===2&&(i=Dm(t),i!==0&&(r=i,e=ag(t,i))),e===1))throw n=ic,Ai(t,0),Ts(t,r),dn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Si(t,on,Vr);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=Wy+500-ut(),10<e)){if(Fd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$m(Si.bind(null,t,on,Vr),e);break}Si(t,on,Vr);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Gn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yD(r/1960))-r,10<r){t.timeoutHandle=$m(Si.bind(null,t,on,Vr),r);break}Si(t,on,Vr);break;case 5:Si(t,on,Vr);break;default:throw Error(H(329))}}}return dn(t,ut()),t.callbackNode===n?uT.bind(null,t):null}function ag(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=rh(t,e),t!==2&&(e=on,on=n,e!==null&&lg(e)),t}function lg(t){on===null?on=t:on.push.apply(on,t)}function vD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~zy,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function b0(t){if(De&6)throw Error(H(327));zo();var e=Fd(t,0);if(!(e&1))return dn(t,ut()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=ag(t,r))}if(n===1)throw n=ic,Ai(t,0),Ts(t,e),dn(t,ut()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,on,Vr),dn(t,ut()),null}function Hy(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(sa=ut()+500,zh&&ai())}}function Fi(t){Rs!==null&&Rs.tag===0&&!(De&6)&&zo();var e=De;De|=1;var n=Dn.transition,r=Ue;try{if(Dn.transition=null,Ue=1,t)return t()}finally{Ue=r,Dn.transition=n,De=e,!(De&6)&&ai()}}function qy(){pn=Mo.current,Ye(Mo)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K2(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Iy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:na(),Ye(cn),Ye(Kt),Oy();break;case 5:jy(r);break;case 4:na();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Py(r.type._context);break;case 22:case 23:qy()}n=n.return}if(Nt=t,ht=t=Us(t.current,null),Mt=pn=e,_t=0,ic=null,zy=Gh=Vi=0,on=Al=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ni=null}return t}function dT(t,e){do{var n=ht;try{if(ky(),hd.current=Zd,Jd){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jd=!1}if(Li=0,Ct=xt=nt=null,Pl=!1,nc=0,By.current=null,n===null||n.return===null){_t=1,ic=e,ht=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Mt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=u0(o);if(v!==null){v.flags&=-257,d0(v,o,a,i,e),v.mode&1&&c0(i,d,e),e=v,c=d;var _=e.updateQueue;if(_===null){var g=new Set;g.add(c),e.updateQueue=g}else _.add(c);break e}else{if(!(e&1)){c0(i,d,e),Gy();break e}c=Error(H(426))}}else if(Qe&&a.mode&1){var S=u0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),d0(S,o,a,i,e),Cy(ra(c,a));break e}}i=c=ra(c,a),_t!==4&&(_t=2),Al===null?Al=[i]:Al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=KS(i,c,e);r0(i,w);break e;case 1:a=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vs===null||!Vs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=YS(i,a,e);r0(i,R);break e}}i=i.return}while(i!==null)}pT(n)}catch(D){e=D,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function hT(){var t=eh.current;return eh.current=Zd,t===null?Zd:t}function Gy(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(Vi&268435455)&&!(Gh&268435455)||Ts(Nt,Mt)}function rh(t,e){var n=De;De|=2;var r=hT();(Nt!==t||Mt!==e)&&(Vr=null,Ai(t,e));do try{wD();break}catch(s){dT(t,s)}while(!0);if(ky(),De=n,eh.current=r,ht!==null)throw Error(H(261));return Nt=null,Mt=0,_t}function wD(){for(;ht!==null;)fT(ht)}function xD(){for(;ht!==null&&!HA();)fT(ht)}function fT(t){var e=gT(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?pT(t):ht=e,By.current=null}function pT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fD(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=hD(n,e,pn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function Si(t,e,n){var r=Ue,s=Dn.transition;try{Dn.transition=null,Ue=1,_D(t,e,n,r)}finally{Dn.transition=s,Ue=r}return null}function _D(t,e,n,r){do zo();while(Rs!==null);if(De&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(t2(t,i),t===Nt&&(ht=Nt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,yT(Vd,function(){return zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=Ue;Ue=1;var a=De;De|=4,By.current=null,mD(t,n),lT(n,t),$2(Fm),Ud=!!Vm,Fm=Vm=null,t.current=n,gD(n),qA(),De=a,Ue=o,Dn.transition=i}else t.current=n;if(Bu&&(Bu=!1,Rs=t,nh=s),i=t.pendingLanes,i===0&&(Vs=null),YA(n.stateNode),dn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(th)throw th=!1,t=ig,ig=null,t;return nh&1&&t.tag!==0&&zo(),i=t.pendingLanes,i&1?t===og?Dl++:(Dl=0,og=t):Dl=0,ai(),null}function zo(){if(Rs!==null){var t=Kb(nh),e=Dn.transition,n=Ue;try{if(Dn.transition=null,Ue=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,nh=0,De&6)throw Error(H(331));var s=De;for(De|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ne=d;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Rl(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var p=h.sibling,v=h.return;if(iT(h),h===d){ne=null;break}if(p!==null){p.return=v,ne=p;break}ne=v}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ne=w;break e}ne=i.return}}var x=t.current;for(ne=x;ne!==null;){o=ne;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ne=b;else e:for(o=x;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(D){at(a,a.return,D)}if(a===o){ne=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ne=R;break e}ne=a.return}}if(De=s,ai(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Ue=n,Dn.transition=e}}return!1}function S0(t,e,n){e=ra(n,e),e=KS(t,e,1),t=Ls(t,e,1),e=tn(),t!==null&&(Nc(t,1,e),dn(t,e))}function at(t,e,n){if(t.tag===3)S0(t,t,n);else for(;e!==null;){if(e.tag===3){S0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=ra(n,t),t=YS(e,t,1),e=Ls(e,t,1),t=tn(),e!==null&&(Nc(e,1,t),dn(e,t));break}}e=e.return}}function ED(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>ut()-Wy?Ai(t,0):zy|=n),dn(t,e)}function mT(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=tn();t=Zr(t,e),t!==null&&(Nc(t,e,n),dn(t,n))}function bD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mT(t,n)}function SD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),mT(t,n)}var gT;gT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,dD(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Qe&&e.flags&1048576&&xS(e,Gd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pd(t,e),t=e.pendingProps;var s=Zo(e,Kt.current);Bo(e,n),s=Ly(null,e,r,t,s,n);var i=Vy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,Hd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ay(e),s.updater=Hh,e.stateNode=s,s._reactInternals=e,Km(e,r,t,n),e=Xm(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&Ty(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ID(r),t=$n(r,t),s){case 0:e=Qm(null,e,r,t,n);break e;case 1:e=p0(null,e,r,t,n);break e;case 11:e=h0(null,e,r,t,n);break e;case 14:e=f0(null,e,r,$n(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),Qm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),p0(t,e,r,s,n);case 3:e:{if(ZS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,IS(t,e),Qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ra(Error(H(423)),e),e=m0(t,e,r,n,s);break e}else if(r!==s){s=ra(Error(H(424)),e),e=m0(t,e,r,n,s);break e}else for(vn=Ms(e.stateNode.containerInfo.firstChild),xn=e,Qe=!0,zn=null,n=SS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===s){e=es(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return CS(e),t===null&&Hm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Um(r,s)?o=null:i!==null&&Um(r,i)&&(e.flags|=32),JS(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Hm(e),null;case 13:return eT(t,e,n);case 4:return Dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ta(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),h0(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Kd,r._currentValue),r._currentValue=o,i!==null)if(Qn(i.value,o)){if(i.children===s.children&&!cn.current){e=es(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),qm(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=On(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),f0(t,e,r,s,n);case 15:return QS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),pd(t,e),e.tag=1,un(r)?(t=!0,Hd(e)):t=!1,Bo(e,n),GS(e,r,s),Km(e,r,s,n),Xm(null,e,r,!0,t,n);case 19:return tT(t,e,n);case 22:return XS(t,e,n)}throw Error(H(156,e.tag))};function yT(t,e){return Wb(t,e)}function TD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new TD(t,e,n,r)}function Ky(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ID(t){if(typeof t=="function")return Ky(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fy)return 11;if(t===py)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ky(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Di(n.children,s,i,e);case hy:o=8,s|=8;break;case vm:return t=An(12,n,e,s|2),t.elementType=vm,t.lanes=i,t;case wm:return t=An(13,n,e,s),t.elementType=wm,t.lanes=i,t;case xm:return t=An(19,n,e,s),t.elementType=xm,t.lanes=i,t;case Cb:return Kh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tb:o=10;break e;case Ib:o=9;break e;case fy:o=11;break e;case py:o=14;break e;case Es:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=An(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Kh(t,e,n,r){return t=An(22,t,r,e),t.elementType=Cb,t.lanes=n,t.stateNode={isHidden:!1},t}function Op(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Mp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gp(0),this.expirationTimes=gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yy(t,e,n,r,s,i,o,a,c){return t=new CD(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=An(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(i),t}function ND(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vT(t){if(!t)return Gs;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(un(n))return vS(t,n,e)}return e}function wT(t,e,n,r,s,i,o,a,c){return t=Yy(n,r,!0,t,s,i,o,a,c),t.context=vT(null),n=t.current,r=tn(),s=Fs(n),i=qr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,Nc(t,s,r),dn(t,r),t}function Yh(t,e,n,r){var s=e.current,i=tn(),o=Fs(s);return n=vT(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(Kn(t,s,o,i),dd(t,s,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qy(t,e){T0(t,e),(t=t.alternate)&&T0(t,e)}function kD(){return null}var xT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xy(t){this._internalRoot=t}Qh.prototype.render=Xy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Yh(t,e,null,null)};Qh.prototype.unmount=Xy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){Yh(null,t,null,null)}),e[Jr]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&Zb(t)}};function Jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I0(){}function PD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=sh(o);i.call(d)}}var o=wT(e,r,t,0,null,!1,!1,"",I0);return t._reactRootContainer=o,t[Jr]=o.current,Xl(t.nodeType===8?t.parentNode:t),Fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=sh(c);a.call(d)}}var c=Yy(t,0,!1,null,null,!1,!1,"",I0);return t._reactRootContainer=c,t[Jr]=c.current,Xl(t.nodeType===8?t.parentNode:t),Fi(function(){Yh(e,c,n,r)}),c}function Jh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=sh(o);a.call(c)}}Yh(e,o,t,s)}else o=PD(n,e,t,s,r);return sh(o)}Yb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dl(e.pendingLanes);n!==0&&(yy(e,n|1),dn(e,ut()),!(De&6)&&(sa=ut()+500,ai()))}break;case 13:Fi(function(){var r=Zr(t,1);if(r!==null){var s=tn();Kn(r,t,1,s)}}),Qy(t,1)}};vy=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=tn();Kn(e,t,134217728,n)}Qy(t,134217728)}};Qb=function(t){if(t.tag===13){var e=Fs(t),n=Zr(t,e);if(n!==null){var r=tn();Kn(n,t,e,r)}Qy(t,e)}};Xb=function(){return Ue};Jb=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Pm=function(t,e,n){switch(e){case"input":if(bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bh(r);if(!s)throw Error(H(90));kb(r),bm(r,s)}}}break;case"textarea":Rb(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};Vb=Hy;Fb=Fi;var RD={usingClientEntryPoint:!1,Events:[Pc,Po,Bh,Mb,Lb,Hy]},rl={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AD={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bb(t),t===null?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||kD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Vh=zu.inject(AD),pr=zu}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RD;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jy(e))throw Error(H(200));return ND(t,e,null,n)};Sn.createRoot=function(t,e){if(!Jy(t))throw Error(H(299));var n=!1,r="",s=xT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yy(t,1,!1,null,null,n,!1,r,s),t[Jr]=e.current,Xl(t.nodeType===8?t.parentNode:t),new Xy(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Bb(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Fi(t)};Sn.hydrate=function(t,e,n){if(!Xh(e))throw Error(H(200));return Jh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!Jy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wT(e,null,t,1,n??null,s,!1,i,o),t[Jr]=e.current,Xl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qh(e)};Sn.render=function(t,e,n){if(!Xh(e))throw Error(H(200));return Jh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(H(40));return t._reactRootContainer?(Fi(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Sn.unstable_batchedUpdates=Hy;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Jh(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function _T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_T)}catch(t){console.error(t)}}_T(),_b.exports=Sn;var va=_b.exports;const DD=lb(va);var ET,C0=va;ET=C0.createRoot,C0.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function jD(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return cg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:oc(s)}return MD(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OD(){return Math.random().toString(36).substring(2,10)}function k0(t,e){return{usr:t.state,key:t.key,idx:e}}function cg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:n,key:e&&e.key||r||OD()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MD(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let S=h(),w=S==null?null:S-d;d=S,c&&c({action:a,location:g.location,delta:w})}function p(S,w){a="PUSH";let x=cg(g.location,S,w);d=h()+1;let b=k0(x,d),R=g.createHref(x);try{o.pushState(b,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}i&&c&&c({action:a,location:g.location,delta:1})}function v(S,w){a="REPLACE";let x=cg(g.location,S,w);d=h();let b=k0(x,d),R=g.createHref(x);o.replaceState(b,"",R),i&&c&&c({action:a,location:g.location,delta:0})}function _(S){return LD(S)}let g={get action(){return a},get location(){return t(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(N0,f),c=S,()=>{s.removeEventListener(N0,f),c=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let w=_(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(S){return o.go(S)}};return g}function LD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bT(t,e,n="/"){return VD(t,e,n,!1)}function VD(t,e,n,r){let s=typeof e=="string"?wa(e):e,i=ts(s.pathname||"/",n);if(i==null)return null;let o=ST(t);FD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=QD(i);a=KD(o[c],d,r)}return a}function ST(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Gr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(rt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ST(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:qD(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of TT(i.path))s(i,o,c)}),e}function TT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=TT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function FD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UD=/^:[\w-]+$/,$D=3,BD=2,zD=1,WD=10,HD=-2,P0=t=>t==="*";function qD(t,e){let n=t.split("/"),r=n.length;return n.some(P0)&&(r+=HD),e&&(r+=BD),n.filter(s=>!P0(s)).reduce((s,i)=>s+(UD.test(i)?$D:i===""?zD:WD),r)}function GD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function KD(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=ih({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=ih({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Gr([i,f.pathname]),pathnameBase:ej(Gr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Gr([i,f.pathnameBase]))}return o}function ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let _=a[p]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[p];return f&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function YD(t,e=!1,n=!0){Sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ts(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?wa(t):t;return{pathname:n?n.startsWith("/")?n:JD(n,e):e,search:tj(r),hash:nj(s)}}function JD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IT(t){let e=ZD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function CT(t,e,n,r=!1){let s;typeof t=="string"?s=wa(t):(s={...t},rt(!s.pathname||!s.pathname.includes("?"),Lp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Lp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Lp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=XD(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Gr=t=>t.join("/").replace(/\/\/+/g,"/"),ej=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var sj=["GET",...NT];new Set(sj);var xa=y.createContext(null);xa.displayName="DataRouter";var Zh=y.createContext(null);Zh.displayName="DataRouterState";y.createContext(!1);var kT=y.createContext({isTransitioning:!1});kT.displayName="ViewTransition";var ij=y.createContext(new Map);ij.displayName="Fetchers";var oj=y.createContext(null);oj.displayName="Await";var Nr=y.createContext(null);Nr.displayName="Navigation";var Ac=y.createContext(null);Ac.displayName="Location";var kr=y.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Zy=y.createContext(null);Zy.displayName="RouteError";function aj(t,{relative:e}={}){rt(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Nr),{hash:s,pathname:i,search:o}=jc(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Gr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Dc(){return y.useContext(Ac)!=null}function eo(){return rt(Dc(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ac).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(t){y.useContext(Nr).static||y.useLayoutEffect(t)}function AT(){let{isDataRoute:t}=y.useContext(kr);return t?xj():lj()}function lj(){rt(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(xa),{basename:e,navigator:n}=y.useContext(Nr),{matches:r}=y.useContext(kr),{pathname:s}=eo(),i=JSON.stringify(IT(r)),o=y.useRef(!1);return RT(()=>{o.current=!0}),y.useCallback((c,d={})=>{if(Sr(o.current,PT),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=CT(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}y.createContext(null);function DT(){let{matches:t}=y.useContext(kr),e=t[t.length-1];return e?e.params:{}}function jc(t,{relative:e}={}){let{matches:n}=y.useContext(kr),{pathname:r}=eo(),s=JSON.stringify(IT(n));return y.useMemo(()=>CT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function cj(t,e){return jT(t,e)}function jT(t,e,n,r){var w;rt(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Nr),{matches:i}=y.useContext(kr),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";OT(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=eo(),p;if(e){let x=typeof e=="string"?wa(e):e;rt(d==="/"||((w=x.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let v=p.pathname||"/",_=v;if(d!=="/"){let x=d.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=bT(t,{pathname:_});Sr(h||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Sr(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=pj(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Gr([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Gr([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&S?y.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},S):S}function uj(){let t=wj(),e=rj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var dj=y.createElement(uj,null),hj=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?y.createElement(kr.Provider,{value:this.props.routeContext},y.createElement(Zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fj({routeContext:t,match:e,children:n}){let r=y.useContext(xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(kr.Provider,{value:t},n)}function pj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);rt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,v=null,_=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||dj,o&&(a<0&&h===0?(OT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):a===h&&(p=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),S=()=>{let w;return f?w=v:p?w=_:d.route.Component?w=y.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,y.createElement(fj,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(hj,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}function ev(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mj(t){let e=y.useContext(xa);return rt(e,ev(t)),e}function gj(t){let e=y.useContext(Zh);return rt(e,ev(t)),e}function yj(t){let e=y.useContext(kr);return rt(e,ev(t)),e}function tv(t){let e=yj(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vj(){return tv("useRouteId")}function wj(){var r;let t=y.useContext(Zy),e=gj("useRouteError"),n=tv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function xj(){let{router:t}=mj("useNavigate"),e=tv("useNavigate"),n=y.useRef(!1);return RT(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{Sr(n.current,PT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var R0={};function OT(t,e,n){!e&&!R0[t]&&(R0[t]=!0,Sr(!1,n))}y.memo(_j);function _j({routes:t,future:e,state:n}){return jT(t,void 0,n,e)}function fl(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ej({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){rt(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=wa(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,v=y.useMemo(()=>{let _=ts(c,o);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return Sr(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(Nr.Provider,{value:a},y.createElement(Ac.Provider,{children:e,value:v}))}function bj({children:t,location:e}){return cj(ug(t),e)}function ug(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,ug(r.props.children,i));return}rt(r.type===fl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ug(r.props.children,i)),n.push(o)}),n}var vd="get",wd="application/x-www-form-urlencoded";function ef(t){return t!=null&&typeof t.tagName=="string"}function Sj(t){return ef(t)&&t.tagName.toLowerCase()==="button"}function Tj(t){return ef(t)&&t.tagName.toLowerCase()==="form"}function Ij(t){return ef(t)&&t.tagName.toLowerCase()==="input"}function Cj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Nj(t,e){return t.button===0&&(!e||e==="_self")&&!Cj(t)}var Wu=null;function kj(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var Pj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vp(t){return t!=null&&!Pj.has(t)?(Sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):t}function Rj(t,e){let n,r,s,i,o;if(Tj(t)){let a=t.getAttribute("action");r=a?ts(a,e):null,n=t.getAttribute("method")||vd,s=Vp(t.getAttribute("enctype"))||wd,i=new FormData(t)}else if(Sj(t)||Ij(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?ts(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||vd,s=Vp(t.getAttribute("formenctype"))||Vp(a.getAttribute("enctype"))||wd,i=new FormData(a,t),!kj()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(ef(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vd,r=null,s=wd,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ts(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Dj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Oj(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Dj(i,n);return o.links?o.links():[]}return[]}));return Fj(r.flat(1).filter(jj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function A0(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Mj(t,e,{includeHydrateFallback:n}={}){return Lj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Lj(t){return[...new Set(t)]}function Vj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Fj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Vj(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function MT(){let t=y.useContext(xa);return nv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uj(){let t=y.useContext(Zh);return nv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rv=y.createContext(void 0);rv.displayName="FrameworkContext";function LT(){let t=y.useContext(rv);return nv(t,"You must render this element inside a <HydratedRouter> element"),t}function $j(t,e){let n=y.useContext(rv),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=w=>{w.forEach(x=>{o(x.isIntersecting)})},S=new IntersectionObserver(g,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),y.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let v=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:sl(a,v),onBlur:sl(c,_),onMouseEnter:sl(d,v),onMouseLeave:sl(h,_),onTouchStart:sl(f,v)}]:[!1,p,{}]}function sl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bj({page:t,...e}){let{router:n}=MT(),r=y.useMemo(()=>bT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(Wj,{page:t,matches:r,...e}):null}function zj(t){let{manifest:e,routeModules:n}=LT(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return Oj(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Wj({page:t,matches:e,...n}){let r=eo(),{manifest:s,routeModules:i}=LT(),{basename:o}=MT(),{loaderData:a,matches:c}=Uj(),d=y.useMemo(()=>A0(t,e,c,s,r,"data"),[t,e,c,s,r]),h=y.useMemo(()=>A0(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,g=!1;if(e.forEach(w=>{var b;let x=s.routes[w.route.id];!x||!x.hasLoader||(!d.some(R=>R.route.id===w.route.id)&&w.route.id in a&&((b=i[w.route.id])!=null&&b.shouldRevalidate)||x.hasClientLoader?g=!0:_.add(w.route.id))}),_.size===0)return[];let S=Aj(t,o,"data");return g&&_.size>0&&S.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[o,a,r,s,d,e,t,i]),p=y.useMemo(()=>Mj(h,s),[h,s]),v=zj(h);return y.createElement(y.Fragment,null,f.map(_=>y.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>y.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:g})=>y.createElement("link",{key:_,...g})))}function Hj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VT&&(window.__reactRouterVersion="7.7.1")}catch{}function qj({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=jD({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(Ej,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var FT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ac=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},v){let{basename:_}=y.useContext(Nr),g=typeof d=="string"&&FT.test(d),S,w=!1;if(typeof d=="string"&&g&&(S=d,VT))try{let I=new URL(window.location.href),k=d.startsWith("//")?new URL(I.protocol+d):new URL(d),N=ts(k.pathname,_);k.origin===I.origin&&N!=null?d=N+k.search+k.hash:w=!0}catch{Sr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=aj(d,{relative:s}),[b,R,D]=$j(r,p),O=Qj(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function C(I){e&&e(I),I.defaultPrevented||O(I)}let T=y.createElement("a",{...p,...D,href:S||x,onClick:w||i?e:C,ref:Hj(v,R),target:c,"data-discover":!g&&n==="render"?"true":void 0});return b&&!g?y.createElement(y.Fragment,null,T,y.createElement(Bj,{page:x})):T});ac.displayName="Link";var Gj=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},h){let f=jc(o,{relative:d.relative}),p=eo(),v=y.useContext(Zh),{navigator:_,basename:g}=y.useContext(Nr),S=v!=null&&tO(f)&&a===!0,w=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,x=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(x=x.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&g&&(b=ts(b,g)||b);const R=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=x===w||!s&&x.startsWith(w)&&x.charAt(R)==="/",O=b!=null&&(b===w||!s&&b.startsWith(w)&&b.charAt(w.length)==="/"),C={isActive:D,isPending:O,isTransitioning:S},T=D?e:void 0,I;typeof r=="function"?I=r(C):I=[r,D?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof i=="function"?i(C):i;return y.createElement(ac,{...d,"aria-current":T,className:I,ref:h,style:k,to:o,viewTransition:a},typeof c=="function"?c(C):c)});Gj.displayName="NavLink";var Kj=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=vd,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},v)=>{let _=Zj(),g=eO(a,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&FT.test(a),x=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let R=b.nativeEvent.submitter,D=(R==null?void 0:R.getAttribute("formmethod"))||o;_(R||b.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return y.createElement("form",{ref:v,method:S,action:g,onSubmit:r?c:x,...p,"data-discover":!w&&t==="render"?"true":void 0})});Kj.displayName="Form";function Yj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UT(t){let e=y.useContext(xa);return rt(e,Yj(t)),e}function Qj(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=AT(),c=eo(),d=jc(t,{relative:i});return y.useCallback(h=>{if(Nj(h,e)){h.preventDefault();let f=n!==void 0?n:oc(c)===oc(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,r,e,t,s,i,o])}var Xj=0,Jj=()=>`__${String(++Xj)}__`;function Zj(){let{router:t}=UT("useSubmit"),{basename:e}=y.useContext(Nr),n=vj();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=Rj(r,e);if(s.navigate===!1){let h=s.fetcherKey||Jj();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function eO(t,{relative:e}={}){let{basename:n}=y.useContext(Nr),r=y.useContext(kr);rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...jc(t||".",{relative:e})},o=eo();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Gr([n,i.pathname])),oc(i)}function tO(t,{relative:e}={}){let n=y.useContext(kT);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UT("useViewTransitionState"),s=jc(t,{relative:e});if(!n.isTransitioning)return!1;let i=ts(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ts(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ih(s.pathname,o)!=null||ih(s.pathname,i)!=null}const nO=()=>{};var D0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new sO;const p=i<<2|a>>4;if(r.push(p),d!==64){const v=a<<4&240|d>>2;if(r.push(v),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iO=function(t){const e=$T(t);return BT.encodeByteArray(e,!0)},oh=function(t){return iO(t).replace(/\./g,"")},zT=function(t){try{return BT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=()=>oO().__FIREBASE_DEFAULTS__,lO=()=>{if(typeof process>"u"||typeof D0>"u")return;const t=D0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zT(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return nO()||aO()||lO()||cO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=t=>{var e,n;return(n=(e=tf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uO=t=>{const e=WT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HT=()=>{var t;return(t=tf())==null?void 0:t.config},qT=t=>{var e;return(e=tf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[oh(JSON.stringify(n)),oh(JSON.stringify(o)),""].join(".")}const jl={};function fO(){const t={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?t.emulator.push(e):t.prod.push(e);return t}function pO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let j0=!1;function KT(t,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||jl[t]===e||jl[t]||j0)return;jl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=fO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{j0=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=pO(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),S=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(S,g);const R=d();c(x,w),b.append(x,_,S,R),document.body.appendChild(b)}i?(_.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function gO(){var e;const t=(e=tf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wO(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xO(){return!gO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function _O(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EO,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new nr(s,a,r)}}function bO(t,e){return t.replace(SO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SO=/\{\$([^}]+)}/g;function TO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(O0(i)&&O0(o)){if(!Ks(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function O0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IO(t,e){const n=new CO(t,e);return n.subscribe.bind(n)}class CO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fp),s.error===void 0&&(s.error=Fp),s.complete===void 0&&(s.complete=Fp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1e3,PO=2,RO=4*60*60*1e3,AO=.5;function M0(t,e=kO,n=PO){const r=e*Math.pow(n,t),s=Math.round(AO*r*(Math.random()-.5)*2);return Math.min(RO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OO(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jO(t){return t===Ti?void 0:t}function OO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const LO={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},VO=Te.INFO,FO={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},UO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=VO,this._logHandler=UO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const $O=(t,e)=>e.some(n=>t instanceof n);let L0,V0;function BO(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zO(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JT=new WeakMap,dg=new WeakMap,ZT=new WeakMap,Up=new WeakMap,sv=new WeakMap;function WO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JT.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function HO(t){if(dg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});dg.set(t,e)}let hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qO(t){hg=t(hg)}function GO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($p(this),e,...n);return ZT.set(r,e.sort?e.sort():[e]),$s(r)}:zO().includes(t)?function(...e){return t.apply($p(this),e),$s(JT.get(this))}:function(...e){return $s(t.apply($p(this),e))}}function KO(t){return typeof t=="function"?GO(t):(t instanceof IDBTransaction&&HO(t),$O(t,BO())?new Proxy(t,hg):t)}function $s(t){if(t instanceof IDBRequest)return WO(t);if(Up.has(t))return Up.get(t);const e=KO(t);return e!==t&&(Up.set(t,e),sv.set(e,t)),e}const $p=t=>sv.get(t);function e1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",c=>{r($s(o.result),c.oldVersion,c.newVersion,$s(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const YO=["get","getKey","getAll","getAllKeys","count"],QO=["put","add","delete","clear"],Bp=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=QO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Bp.set(e,i),i}qO(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fg="@firebase/app",U0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new nf("@firebase/app"),ZO="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",rM="@firebase/app-check",sM="@firebase/auth",iM="@firebase/auth-compat",oM="@firebase/database",aM="@firebase/data-connect",lM="@firebase/database-compat",cM="@firebase/functions",uM="@firebase/functions-compat",dM="@firebase/installations",hM="@firebase/installations-compat",fM="@firebase/messaging",pM="@firebase/messaging-compat",mM="@firebase/performance",gM="@firebase/performance-compat",yM="@firebase/remote-config",vM="@firebase/remote-config-compat",wM="@firebase/storage",xM="@firebase/storage-compat",_M="@firebase/firestore",EM="@firebase/ai",bM="@firebase/firestore-compat",SM="firebase",TM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",IM={[fg]:"fire-core",[ZO]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[rM]:"fire-app-check",[nM]:"fire-app-check-compat",[sM]:"fire-auth",[iM]:"fire-auth-compat",[oM]:"fire-rtdb",[aM]:"fire-data-connect",[lM]:"fire-rtdb-compat",[cM]:"fire-fn",[uM]:"fire-fn-compat",[dM]:"fire-iid",[hM]:"fire-iid-compat",[fM]:"fire-fcm",[pM]:"fire-fcm-compat",[mM]:"fire-perf",[gM]:"fire-perf-compat",[yM]:"fire-rc",[vM]:"fire-rc-compat",[wM]:"fire-gcs",[xM]:"fire-gcs-compat",[_M]:"fire-fst",[bM]:"fire-fst-compat",[EM]:"fire-vertex","fire-js":"fire-js",[SM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,CM=new Map,mg=new Map;function $0(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){const e=t.name;if(mg.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;mg.set(e,t);for(const n of ah.values())$0(n,t);for(const n of CM.values())$0(n,t);return!0}function no(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new to("app","Firebase",NM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=TM;function t1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:pg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=HT()),!n)throw Bs.create("no-options");const i=ah.get(s);if(i){if(Ks(n,i.options)&&Ks(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const o=new MO(s);for(const c of mg.values())o.addComponent(c);const a=new kM(n,r,o);return ah.set(s,a),a}function iv(t=pg){const e=ah.get(t);if(!e&&t===pg&&HT())return t1();if(!e)throw Bs.create("no-app",{appName:t});return e}function jn(t,e,n){let r=IM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(o.join(" "));return}Tr(new Xn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebase-heartbeat-database",RM=1,lc="firebase-heartbeat-store";let zp=null;function n1(){return zp||(zp=e1(PM,RM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),zp}async function AM(t){try{const n=(await n1()).transaction(lc),r=await n.objectStore(lc).get(r1(t));return await n.done,r}catch(e){if(e instanceof nr)ns.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function B0(t,e){try{const r=(await n1()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,r1(t)),await r.done}catch(n){if(n instanceof nr)ns.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function r1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=1024,jM=30;class OM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=z0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>jM){const o=VM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z0(),{heartbeatsToSend:r,unsentEntries:s}=MM(this._heartbeatsCache.heartbeats),i=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ns.warn(n),""}}}function z0(){return new Date().toISOString().substring(0,10)}function MM(t,e=DM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),W0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W0(t){return oh(JSON.stringify({version:2,heartbeats:t})).length}function VM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){Tr(new Xn("platform-logger",e=>new XO(e),"PRIVATE")),Tr(new Xn("heartbeat",e=>new OM(e),"PRIVATE")),jn(fg,U0,t),jn(fg,U0,"esm2020"),jn("fire-js","")}FM("");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UM=s1,i1=new to("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new nf("@firebase/auth");function $M(t,...e){lh.logLevel<=Te.WARN&&lh.warn(`Auth (${Ea}): ${t}`,...e)}function xd(t,...e){lh.logLevel<=Te.ERROR&&lh.error(`Auth (${Ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw ov(t,...e)}function gr(t,...e){return ov(t,...e)}function o1(t,e,n){const r={...UM(),[e]:n};return new to("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return o1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ov(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i1.create(t,...e)}function de(t,e,...n){if(!t)throw ov(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function rs(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function BM(){return H0()==="http:"||H0()==="https:"}function H0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BM()||YT()||"connection"in navigator)?navigator.onLine:!0}function WM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=mO()||vO()}get(){return zM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GM=new Mc(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ci(t,e,n,r,s={}){return l1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Oc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return yO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&_a(t.emulatorConfig.host)&&(d.credentials="include"),a1.fetch()(await c1(t,t.config.apiHost,n,a),d)})}async function l1(t,e,n){t._canInitEmulator=!1;const r={...HM,...e};try{const s=new YM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw o1(t,h,d);Jn(t,h)}}catch(s){if(s instanceof nr)throw s;Jn(t,"network-request-failed",{message:String(s)})}}async function Lc(t,e,n,r,s={}){const i=await ci(t,e,n,r,s);return"mfaPendingCredential"in i&&Jn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function c1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?av(t.config,s):`${t.config.apiScheme}://${s}`;return qM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function KM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),GM.get())})}}function Hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gr(t,e,r);return s.customData._tokenResponse=n,s}function q0(t){return t!==void 0&&t.enterprise!==void 0}class QM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XM(t,e){return ci(t,"GET","/v2/recaptchaConfig",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZM(t,e=!1){const n=gt(t),r=await n.getIdToken(e),s=lv(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ol(Wp(s.auth_time)),issuedAtTime:Ol(Wp(s.iat)),expirationTime:Ol(Wp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wp(t){return Number(t)*1e3}function lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const s=zT(n);return s?JSON.parse(s):(xd("Failed to decode base64 JWT payload"),null)}catch(s){return xd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G0(t){const e=lv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await cc(t,ch(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?u1(s.providerUserInfo):[],o=r4(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function n4(t){const e=gt(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function u1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){const n=await l1(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await c1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&_a(t.emulatorConfig.host)&&(c.credentials="include"),a1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i4(t,e){return ci(t,"POST","/v2/accounts:revokeToken",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=G0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Wo;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZM(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await cc(this,JM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:_,stsTokenManager:g}=n;de(f&&g,e,"internal-error");const S=Wo.fromJSON(this.name,g);de(typeof f=="string",e,"internal-error"),ys(r,e.name),ys(s,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof v=="boolean",e,"internal-error"),ys(i,e.name),ys(o,e.name),ys(a,e.name),ys(c,e.name),ys(d,e.name),ys(h,e.name);const w=new Wn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:h});return _&&Array.isArray(_)&&(w.providerData=_.map(x=>({...x}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wo;s.updateFromServerResponse(n);const i=new Wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?u1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Wo;a.updateFromIdToken(r);const c=new Wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new yg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;function zr(t){rs(t instanceof Function,"Expected a class definition");let e=K0.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d1.type="NONE";const Y0=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_d(this.userKey,s.apiKey,i),this.fullPersistenceKey=_d("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(zr(Y0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||zr(Y0);const o=_d(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await ch(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Wn._fromGetAccountInfoResponse(e,p,h)}else f=Wn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ho(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ho(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(f1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h1(t=Yt()){return/firefox\//i.test(t)}function f1(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(t=Yt()){return/crios\//i.test(t)}function m1(t=Yt()){return/iemobile/i.test(t)}function g1(t=Yt()){return/android/i.test(t)}function y1(t=Yt()){return/blackberry/i.test(t)}function v1(t=Yt()){return/webos/i.test(t)}function cv(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=Yt()){var e;return cv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a4(){return wO()&&document.documentMode===10}function w1(t=Yt()){return cv(t)||g1(t)||v1(t)||y1(t)||/windows phone/i.test(t)||m1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e=[]){let n;switch(t){case"Browser":n=Q0(Yt());break;case"Worker":n=`${Q0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e={}){return ci(t,"GET","/v2/passwordPolicy",li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=6;class d4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Kr(this));const n=e?gt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c4(this),n=new d4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$M(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ro(t){return gt(t)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IO(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(t){rf=t}function _1(t){return rf.loadJS(t)}function p4(){return rf.recaptchaEnterpriseScript}function m4(){return rf.gapiScript}function g4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y4{constructor(){this.enterprise=new v4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const w4="recaptcha-enterprise",E1="NO_RECAPTCHA";class x4{constructor(e){this.type=w4,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{XM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new QM(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;q0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(E1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&q0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=p4();c.length!==0&&(c+=a),_1(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function J0(t,e,n,r=!1,s=!1){const i=new x4(t);let o;if(s)o=E1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await J0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await J0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){const n=no(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ks(i,e??{}))return s;Jn(s,"already-initialized")}return n.initialize({options:e})}function E4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b4(t,e,n){const r=ro(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=b1(e),{host:o,port:a}=S4(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Ks(d,r.config.emulator)&&Ks(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_a(o)?(GT(`${i}//${o}${c}`),KT("Auth",!0)):T4()}function b1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=b1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Z0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Z0(o)}}}function Z0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function I4(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return Lc(t,"POST","/v1/accounts:signInWithPassword",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}async function k4(t,e){return Lc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends uv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,n,"signInWithPassword",C4);case"emailLink":return N4(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,r,"signUpPassword",I4);case"emailLink":return k4(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return Lc(t,"POST","/v1/accounts:signInWithIdp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="http://localhost";class Ui extends uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ui(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:P4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A4(t){const e=pl(ml(t)).link,n=e?pl(ml(e)).deep_link_id:null,r=pl(ml(t)).deep_link_id;return(r?pl(ml(r)).link:null)||r||n||e||t}class dv{constructor(e){const n=pl(ml(e)),r=n.apiKey??null,s=n.oobCode??null,i=R4(n.mode??null);de(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=A4(e);try{return new dv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dv.parseLink(n);return de(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends S1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Vc{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ui._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Vc{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Ui._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){return Lc(t,"POST","/v1/accounts:signUp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wn._fromIdTokenResponse(e,r,s),o=e_(r);return new $i({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=e_(r);return new $i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function e_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends nr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dh(e,n,r,s)}}function T1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,i,e,r):i})}async function j4(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(Kr(r));const s="reauthenticate";try{const i=await cc(t,T1(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=lv(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),$i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t,e,n=!1){if(Pn(t.app))return Promise.reject(Kr(t));const r="signIn",s=await T1(t,r,e),i=await $i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function M4(t,e){return I1(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L4(t,e,n){if(Pn(t.app))return Promise.reject(Kr(t));const r=ro(t),o=await vg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&C1(t),c}),a=await $i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function V4(t,e,n){return Pn(t.app)?Promise.reject(Kr(t)):M4(gt(t),ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&C1(t),r})}function F4(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function U4(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function $4(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function B4(t){return gt(t).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=1e3,W4=10;class k1 extends N1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k1.type="LOCAL";const H4=k1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends N1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}P1.type="SESSION";const R1=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await q4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=hv("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function K4(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function Y4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function X4(){return A1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",J4=1,fh="firebaseLocalStorage",j1="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(t,e){return t.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function Z4(){const t=indexedDB.deleteDatabase(D1);return new Fc(t).toPromise()}function wg(){const t=indexedDB.open(D1,J4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fh,{keyPath:j1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await Z4(),e(await wg()))})})}async function t_(t,e,n){const r=of(t,!0).put({[j1]:e,value:n});return new Fc(r).toPromise()}async function eL(t,e){const n=of(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function n_(t,e){const n=of(t,!0).delete(e);return new Fc(n).toPromise()}const tL=800,nL=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(X4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Y4(),!this.activeServiceWorker)return;this.sender=new G4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await t_(e,hh,"1"),await n_(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=of(s,!1).getAll();return new Fc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const rL=O1;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){return e?zr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iL(t){return I1(t.auth,new fv(t),t.bypassAuthState)}function oL(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),O4(n,new fv(t),t.bypassAuthState)}async function aL(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),j4(n,new fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iL;case"linkViaPopup":case"linkViaRedirect":return aL;case"reauthViaPopup":case"reauthViaRedirect":return oL;default:Jn(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new Mc(2e3,1e4);class Lo extends M1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lL.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="pendingRedirect",Ed=new Map;class uL extends M1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const r=await dL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dL(t,e){const n=pL(e),r=fL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function hL(t,e){Ed.set(t._key(),e)}function fL(t){return zr(t._redirectPersistence)}function pL(t){return _d(cL,t.config.apiKey,t.name)}async function mL(t,e,n=!1){if(Pn(t.app))return Promise.reject(Kr(t));const r=ro(t),s=sL(r,e),o=await new uL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=10*60*1e3;class yL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!L1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gL&&this.cachedEventUids.clear(),this.cachedEventUids.has(r_(e))}saveEventToCache(e){this.cachedEventUids.add(r_(e)),this.lastProcessedEventTime=Date.now()}}function r_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_L=/^https?/;async function EL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wL(t);for(const n of e)try{if(bL(n))return}catch{}Jn(t,"unauthorized-domain")}function bL(t){const e=gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_L.test(n))return!1;if(xL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Mc(3e4,6e4);function s_(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TL(t){return new Promise((e,n)=>{var s,i,o;function r(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),n(gr(t,"network-request-failed"))},timeout:SL.get()})}if((i=(s=yr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=yr().gapi)!=null&&o.load)r();else{const a=g4("iframefcb");return yr()[a]=()=>{gapi.load?r():n(gr(t,"network-request-failed"))},_1(`${m4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw bd=null,e})}let bd=null;function IL(t){return bd=bd||TL(t),bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new Mc(5e3,15e3),NL="__/auth/iframe",kL="emulator/auth/iframe",PL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AL(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?av(e,kL):`https://${t.config.authDomain}/${NL}`,r={apiKey:e.apiKey,appName:t.name,v:Ea},s=RL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oc(r).slice(1)}`}async function DL(t){const e=await IL(t),n=yr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:AL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),a=yr().setTimeout(()=>{i(o)},CL.get());function c(){yr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OL=500,ML=600,LL="_blank",VL="http://localhost";class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FL(t,e,n,r=OL,s=ML){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...jL,width:r.toString(),height:s.toString(),top:i,left:o},d=Yt().toLowerCase();n&&(a=p1(d)?LL:n),h1(d)&&(e=e||VL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,_])=>`${p}${v}=${_},`,"");if(o4(d)&&a!=="_self")return UL(e||"",a),new i_(null);const f=window.open(e||"",a,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new i_(f)}function UL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="__/auth/handler",BL="emulator/auth/handler",zL=encodeURIComponent("fac");async function o_(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ea,eventId:s};if(e instanceof S1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Vc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${zL}=${encodeURIComponent(c)}`:"";return`${WL(t)}?${Oc(a).slice(1)}${d}`}function WL({config:t}){return t.emulator?av(t,BL):`https://${t.authDomain}/${$L}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class HL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=mL,this._overrideRedirectResult=hL}async _openPopup(e,n,r,s){var o;rs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await o_(e,n,r,gg(),s);return FL(e,i,hv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await o_(e,n,r,gg(),s);return K4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DL(e),r=new yL(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hp,{type:Hp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Hp];i!==void 0&&n(!!i),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w1()||f1()||cv()}}const qL=HL;var a_="@firebase/auth",l_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YL(t){Tr(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x1(t)},d=new h4(r,s,i,c);return E4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new Xn("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new GL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(a_,l_,KL(t)),jn(a_,l_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=5*60,XL=qT("authIdTokenMaxAge")||QL;let c_=null;const JL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XL)return;const s=n==null?void 0:n.token;c_!==s&&(c_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ZL(t=iv()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_4(t,{popupRedirectResolver:qL,persistence:[rL,H4,R1]}),r=qT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=JL(i.toString());U4(n,o,()=>o(n.currentUser)),F4(n,a=>o(a))}}const s=WT("auth");return s&&b4(n,`http://${s}`),n}function eV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=gr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",eV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YL("Browser");var tV="firebase",nV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(tV,nV,"app");var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,V1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(k,N,j){for(var A=Array(arguments.length-2),$=2;$<arguments.length;$++)A[$-2]=arguments[$];return T.prototype[N].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)k[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)k[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],N=C.g[2];var j=C.g[3],A=T+(j^I&(N^j))+k[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=j+(N^T&(I^N))+k[1]+3905402710&4294967295,j=T+(A<<12&4294967295|A>>>20),A=N+(I^j&(T^I))+k[2]+606105819&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(T^N&(j^T))+k[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(j^I&(N^j))+k[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=j+(N^T&(I^N))+k[5]+1200080426&4294967295,j=T+(A<<12&4294967295|A>>>20),A=N+(I^j&(T^I))+k[6]+2821735955&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(T^N&(j^T))+k[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(j^I&(N^j))+k[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=j+(N^T&(I^N))+k[9]+2336552879&4294967295,j=T+(A<<12&4294967295|A>>>20),A=N+(I^j&(T^I))+k[10]+4294925233&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(T^N&(j^T))+k[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(j^I&(N^j))+k[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=j+(N^T&(I^N))+k[13]+4254626195&4294967295,j=T+(A<<12&4294967295|A>>>20),A=N+(I^j&(T^I))+k[14]+2792965006&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(T^N&(j^T))+k[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(N^j&(I^N))+k[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(T^I))+k[6]+3225465664&4294967295,j=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(j^T))+k[11]+643717713&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^T&(N^j))+k[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(N^j&(I^N))+k[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(T^I))+k[10]+38016083&4294967295,j=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(j^T))+k[15]+3634488961&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^T&(N^j))+k[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(N^j&(I^N))+k[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(T^I))+k[14]+3275163606&4294967295,j=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(j^T))+k[3]+4107603335&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^T&(N^j))+k[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(N^j&(I^N))+k[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(T^I))+k[2]+4243563512&4294967295,j=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(j^T))+k[7]+1735328473&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^T&(N^j))+k[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(I^N^j)+k[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=j+(T^I^N)+k[8]+2272392833&4294967295,j=T+(A<<11&4294967295|A>>>21),A=N+(j^T^I)+k[11]+1839030562&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^T)+k[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(I^N^j)+k[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=j+(T^I^N)+k[4]+1272893353&4294967295,j=T+(A<<11&4294967295|A>>>21),A=N+(j^T^I)+k[7]+4139469664&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^T)+k[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(I^N^j)+k[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=j+(T^I^N)+k[0]+3936430074&4294967295,j=T+(A<<11&4294967295|A>>>21),A=N+(j^T^I)+k[3]+3572445317&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^T)+k[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(I^N^j)+k[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=j+(T^I^N)+k[12]+3873151461&4294967295,j=T+(A<<11&4294967295|A>>>21),A=N+(j^T^I)+k[15]+530742520&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^T)+k[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(N^(I|~j))+k[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=j+(I^(T|~N))+k[7]+1126891415&4294967295,j=T+(A<<10&4294967295|A>>>22),A=N+(T^(j|~I))+k[14]+2878612391&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~T))+k[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=T+(N^(I|~j))+k[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=j+(I^(T|~N))+k[3]+2399980690&4294967295,j=T+(A<<10&4294967295|A>>>22),A=N+(T^(j|~I))+k[10]+4293915773&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~T))+k[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=T+(N^(I|~j))+k[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=j+(I^(T|~N))+k[15]+4264355552&4294967295,j=T+(A<<10&4294967295|A>>>22),A=N+(T^(j|~I))+k[6]+2734768916&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~T))+k[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=T+(N^(I|~j))+k[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=j+(I^(T|~N))+k[11]+3174756917&4294967295,j=T+(A<<10&4294967295|A>>>22),A=N+(T^(j|~I))+k[2]+718787259&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~T))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,k=this.B,N=this.h,j=0;j<T;){if(N==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<T;)if(k[N++]=C.charCodeAt(j++),N==this.blockSize){s(this,k),N=0;break}}else for(;j<T;)if(k[N++]=C[j++],N==this.blockSize){s(this,k),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)C[I++]=this.g[T]>>>k&255;return C};function i(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function o(C,T){this.h=T;for(var I=[],k=!0,N=C.length-1;0<=N;N--){var j=C[N]|0;k&&j==T||(I[N]=j,k=!1)}this.g=I}var a={};function c(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return S(d(-C));for(var T=[],I=1,k=0;C>=I;k++)T[k]=C/I|0,I*=4294967296;return new o(T,0)}function h(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return S(h(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(T,8)),k=f,N=0;N<C.length;N+=8){var j=Math.min(8,C.length-N),A=parseInt(C.substring(N,N+j),T);8>j?(j=d(Math.pow(T,j)),k=k.j(j).add(d(A))):(k=k.j(I),k=k.add(d(A)))}return k}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-S(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);C+=(0<=k?k:4294967296+k)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(g(this))return"-"+S(this).toString(C);for(var T=d(Math.pow(C,6)),I=this,k="";;){var N=R(I,T).g;I=w(I,N.j(T));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=N,_(I))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=w(this,C),g(C)?-1:_(C)?0:1};function S(C){for(var T=C.g.length,I=[],k=0;k<T;k++)I[k]=~C.g[k];return new o(I,~C.h).add(p)}t.abs=function(){return g(this)?S(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],k=0,N=0;N<=T;N++){var j=k+(this.i(N)&65535)+(C.i(N)&65535),A=(j>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=A>>>16,j&=65535,A&=65535,I[N]=A<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(C,T){return C.add(S(T))}t.j=function(C){if(_(this)||_(C))return f;if(g(this))return g(C)?S(this).j(S(C)):S(S(this).j(C));if(g(C))return S(this.j(S(C)));if(0>this.l(v)&&0>C.l(v))return d(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<C.g.length;N++){var j=this.i(k)>>>16,A=this.i(k)&65535,$=C.i(N)>>>16,Z=C.i(N)&65535;I[2*k+2*N]+=A*Z,x(I,2*k+2*N),I[2*k+2*N+1]+=j*Z,x(I,2*k+2*N+1),I[2*k+2*N+1]+=A*$,x(I,2*k+2*N+1),I[2*k+2*N+2]+=j*$,x(I,2*k+2*N+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new o(I,0)};function x(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function b(C,T){this.g=C,this.h=T}function R(C,T){if(_(T))throw Error("division by zero");if(_(C))return new b(f,f);if(g(C))return T=R(S(C),T),new b(S(T.g),S(T.h));if(g(T))return T=R(C,S(T)),new b(S(T.g),T.h);if(30<C.g.length){if(g(C)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,k=T;0>=k.l(C);)I=D(I),k=D(k);var N=O(I,1),j=O(k,1);for(k=O(k,2),I=O(I,2);!_(k);){var A=j.add(k);0>=A.l(C)&&(N=N.add(I),j=A),k=O(k,1),I=O(I,1)}return T=w(C,N.j(T)),new b(N,T)}for(N=f;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=d(I),A=j.j(T);g(A)||0<A.l(C);)I-=k,j=d(I),A=j.j(T);_(j)&&(j=p),N=N.add(j),C=w(C,A)}return new b(N,C)}t.A=function(C){return R(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&C.i(k);return new o(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|C.i(k);return new o(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^C.i(k);return new o(I,this.h^C.h)};function D(C){for(var T=C.g.length+1,I=[],k=0;k<T;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new o(I,C.h)}function O(C,T){var I=T>>5;T%=32;for(var k=C.g.length-I,N=[],j=0;j<k;j++)N[j]=0<T?C.i(j+I)>>>T|C.i(j+I+1)<<32-T:C.i(j+I);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,zs=o}).apply(typeof u_<"u"?u_:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F1,gl,U1,Sd,xg,$1,B1,z1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,E){return u==Array.prototype||u==Object.prototype||(u[m]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var E=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var M=u[P];if(!(M in E))break e;E=E[M]}u=u[u.length-1],P=E[u],m=m(P),m!=P&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var E=0,P=!1,M={next:function(){if(!P&&E<u.length){var F=E++;return{value:m(F,u[F]),done:!1}}return P=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,E){return u.call.apply(u.bind,arguments)}function f(u,m,E){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,P),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function v(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function _(u,m){function E(){}E.prototype=m.prototype,u.aa=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(P,M,F){for(var G=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)G[ze-2]=arguments[ze];return m.prototype[M].apply(P,G)}}function g(u){const m=u.length;if(0<m){const E=Array(m);for(let P=0;P<m;P++)E[P]=u[P];return E}return[]}function S(u,m){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(c(P)){const M=u.length||0,F=P.length||0;u.length=M+F;for(let G=0;G<F;G++)u[M+G]=P[G]}else u.push(P)}}class w{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,m,E){for(const P in u)m.call(E,u[P],P,u)}function C(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function T(u){const m={};for(const E in u)m[E]=u[E];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let E,P;for(let M=1;M<arguments.length;M++){P=arguments[M];for(E in P)u[E]=P[E];for(let F=0;F<I.length;F++)E=I[F],Object.prototype.hasOwnProperty.call(P,E)&&(u[E]=P[E])}}function N(u){var m=1;u=u.split(":");const E=[];for(;0<m&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function j(u){a.setTimeout(()=>{throw u},0)}function A(){var u=V;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,E){const P=Z.get();P.set(m,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Z=new w(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,L=!1,V=new $,W=()=>{const u=a.Promise.resolve(void 0);X=()=>{u.then(ee)}};var ee=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(E){j(E)}var m=Z;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}L=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return u}();function xe(u,m){if(z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{R(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}_(xe,z);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ze(u,m,E,P,M){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!P,this.ha=M,this.key=++je,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ne(u){this.src=u,this.g={},this.h=0}Ne.prototype.add=function(u,m,E,P,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=yt(u,m,P,M);return-1<G?(m=u[G],E||(m.fa=!1)):(m=new Ze(m,this.src,F,!!P,M),m.fa=E,u.push(m)),m};function ke(u,m){var E=m.type;if(E in u.g){var P=u.g[E],M=Array.prototype.indexOf.call(P,m,void 0),F;(F=0<=M)&&Array.prototype.splice.call(P,M,1),F&&(Ae(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function yt(u,m,E,P){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==m&&F.capture==!!E&&F.ha==P)return M}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Ln={};function ir(u,m,E,P,M){if(Array.isArray(m)){for(var F=0;F<m.length;F++)ir(u,m[F],E,P,M);return null}return E=ou(E),u&&u[re]?u.K(m,E,d(P)?!!P.capture:!1,M):Ar(u,m,E,!1,P,M)}function Ar(u,m,E,P,M,F){if(!m)throw Error("Invalid event type");var G=d(M)?!!M.capture:!!M,ze=gi(u);if(ze||(u[kt]=ze=new Ne(u)),E=ze.add(m,E,P,G,F),E.proxy)return E;if(P=Va(),E.proxy=P,P.src=u,P.listener=E,u.addEventListener)ce||(M=G),M===void 0&&(M=!1),u.addEventListener(m.toString(),P,M);else if(u.attachEvent)u.attachEvent(su(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Va(){function u(E){return m.call(u.src,u.listener,E)}const m=iu;return u}function Dr(u,m,E,P,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)Dr(u,m[F],E,P,M);else P=d(P)?!!P.capture:!!P,E=ou(E),u&&u[re]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],E=yt(F,E,P,M),-1<E&&(Ae(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=gi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,E,P,M)),(E=-1<u?m[u]:null)&&Fa(E))}function Fa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])ke(m.i,u);else{var E=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(E,P,u.capture):m.detachEvent?m.detachEvent(su(E),P):m.addListener&&m.removeListener&&m.removeListener(P),(E=gi(m))?(ke(E,u),E.h==0&&(E.src=null,m[kt]=null)):Ae(u)}}}function su(u){return u in Ln?Ln[u]:Ln[u]="on"+u}function iu(u,m){if(u.da)u=!0;else{m=new xe(m,this);var E=u.listener,P=u.ha||u.src;u.fa&&Fa(u),u=E.call(P,m)}return u}function gi(u){return u=u[kt],u instanceof Ne?u:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(u){return typeof u=="function"?u:(u[yi]||(u[yi]=function(m){return u.handleEvent(m)}),u[yi])}function Tt(){ie.call(this),this.i=new Ne(this),this.M=this,this.F=null}_(Tt,ie),Tt.prototype[re]=!0,Tt.prototype.removeEventListener=function(u,m,E,P){Dr(this,u,m,E,P)};function Pt(u,m){var E,P=u.F;if(P)for(E=[];P;P=P.F)E.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new z(m,u);else if(m instanceof z)m.target=m.target||u;else{var M=m;m=new z(P,u),k(m,M)}if(M=!0,E)for(var F=E.length-1;0<=F;F--){var G=m.g=E[F];M=oo(G,P,!0,m)&&M}if(G=m.g=u,M=oo(G,P,!0,m)&&M,M=oo(G,P,!1,m)&&M,E)for(F=0;F<E.length;F++)G=m.g=E[F],M=oo(G,P,!1,m)&&M}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var E=u.g[m],P=0;P<E.length;P++)Ae(E[P]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,E,P){return this.i.add(String(u),m,!1,E,P)},Tt.prototype.L=function(u,m,E,P){return this.i.add(String(u),m,!0,E,P)};function oo(u,m,E,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,F=0;F<m.length;++F){var G=m[F];if(G&&!G.da&&G.capture==E){var ze=G.listener,At=G.ha||G.src;G.fa&&ke(u.i,G),M=ze.call(At,P)!==!1&&M}}return M&&!P.defaultPrevented}function au(u,m,E){if(typeof u=="function")E&&(u=p(u,E));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function lu(u){u.g=au(()=>{u.g=null,u.i&&(u.i=!1,lu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xf extends ie{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(u){ie.call(this),this.h=u,this.g={}}_(vi,ie);var cu=[];function uu(u){O(u.g,function(m,E){this.g.hasOwnProperty(E)&&Fa(m)},u),u.g={}}vi.prototype.N=function(){vi.aa.N.call(this),uu(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=a.JSON.stringify,du=a.JSON.parse,Jf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function we(u){return u.h||(u.h=u.i())}function Be(){}var Se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function In(){z.call(this,"d")}_(In,z);function Xt(){z.call(this,"c")}_(Xt,z);var Cn={},vt=null;function Jt(){return vt=vt||new Tt}Cn.La="serverreachability";function Oe(u){z.call(this,Cn.La,u)}_(Oe,z);function wi(u){const m=Jt();Pt(m,new Oe(m))}Cn.STAT_EVENT="statevent";function hu(u,m){z.call(this,Cn.STAT_EVENT,u),this.stat=m}_(hu,z);function Rt(u){const m=Jt();Pt(m,new hu(m,u))}Cn.Ma="timingevent";function lo(u,m){z.call(this,Cn.Ma,u),this.size=m}_(lo,z);function jr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function $a(){this.g=!0}$a.prototype.xa=function(){this.g=!1};function MR(u,m,E,P,M,F){u.info(function(){if(u.g)if(F)for(var G="",ze=F.split("&"),At=0;At<ze.length;At++){var Me=ze[At].split("=");if(1<Me.length){var Ft=Me[0];Me=Me[1];var Ut=Ft.split("_");G=2<=Ut.length&&Ut[1]=="type"?G+(Ft+"="+Me+"&"):G+(Ft+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+P+") [attempt "+M+"]: "+m+`
`+E+`
`+G})}function LR(u,m,E,P,M,F,G){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+M+"]: "+m+`
`+E+`
`+F+" "+G})}function co(u,m,E,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+FR(u,E)+(P?" "+P:"")})}function VR(u,m){u.info(function(){return"TIMEOUT: "+m})}$a.prototype.info=function(){};function FR(u,m){if(!u.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var P=E[u];if(!(2>P.length)){var M=P[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return Ua(E)}catch{return m}}var fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zf;function pu(){}_(pu,ao),pu.prototype.g=function(){return new XMLHttpRequest},pu.prototype.i=function(){return{}},Zf=new pu;function fs(u,m,E,P){this.j=u,this.i=m,this.l=E,this.R=P||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jw}function jw(){this.i=null,this.g="",this.h=!1}var Ow={},ep={};function tp(u,m,E){u.L=1,u.v=vu(Or(m)),u.m=E,u.P=!0,Mw(u,null)}function Mw(u,m){u.F=Date.now(),mu(u),u.A=Or(u.v);var E=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),Qw(E.i,"t",P),u.C=0,E=u.j.J,u.h=new jw,u.g=px(u.j,E?m:null,!u.m),0<u.O&&(u.M=new Xf(p(u.Y,u,u.g),u.O)),m=u.U,E=u.g,P=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(cu[0]=M.toString()),M=cu);for(var F=0;F<M.length;F++){var G=ir(E,M[F],P||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wi(),MR(u.i,u.u,u.A,u.l,u.R,u.m)}fs.prototype.ca=function(u){u=u.target;const m=this.M;m&&Mr(u)==3?m.j():this.Y(u)},fs.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=Mr(this.g);var m=this.g.Ba();const fo=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||rx(this.g)))){this.J||Ut!=4||m==7||(m==8||0>=fo?wi(3):wi(2)),np(this);var E=this.g.Z();this.X=E;t:if(Lw(this)){var P=rx(this.g);u="";var M=P.length,F=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),Ba(this);var G="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(P[m],{stream:!(F&&m==M-1)});P.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=E==200,LR(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,At=this.g;if((ze=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ze)){var Me=ze;break t}}Me=null}if(E=Me)co(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rp(this,E);else{this.o=!1,this.s=3,Rt(12),xi(this),Ba(this);break e}}if(this.P){E=!0;let Vn;for(;!this.J&&this.C<G.length;)if(Vn=UR(this,G),Vn==ep){Ut==4&&(this.s=4,Rt(14),E=!1),co(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Ow){this.s=4,Rt(15),co(this.i,this.l,G,"[Invalid Chunk]"),E=!1;break}else co(this.i,this.l,Vn,null),rp(this,Vn);if(Lw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||G.length!=0||this.h.h||(this.s=1,Rt(16),E=!1),this.o=this.o&&E,!E)co(this.i,this.l,G,"[Invalid Chunked Response]"),xi(this),Ba(this);else if(0<G.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),cp(Ft),Ft.M=!0,Rt(11))}}else co(this.i,this.l,G,null),rp(this,G);Ut==4&&xi(this),this.o&&!this.J&&(Ut==4?ux(this.j,this):(this.o=!1,mu(this)))}else rA(this.g),E==400&&0<G.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),xi(this),Ba(this)}}}catch{}finally{}};function Lw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function UR(u,m){var E=u.C,P=m.indexOf(`
`,E);return P==-1?ep:(E=Number(m.substring(E,P)),isNaN(E)?Ow:(P+=1,P+E>m.length?ep:(m=m.slice(P,P+E),u.C=P+E,m)))}fs.prototype.cancel=function(){this.J=!0,xi(this)};function mu(u){u.S=Date.now()+u.I,Vw(u,u.I)}function Vw(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=jr(p(u.ba,u),m)}function np(u){u.B&&(a.clearTimeout(u.B),u.B=null)}fs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(VR(this.i,this.A),this.L!=2&&(wi(),Rt(17)),xi(this),this.s=2,Ba(this)):Vw(this,this.S-u)};function Ba(u){u.j.G==0||u.J||ux(u.j,u)}function xi(u){np(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,uu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function rp(u,m){try{var E=u.j;if(E.G!=0&&(E.g==u||sp(E.h,u))){if(!u.K&&sp(E.h,u)&&E.G==3){try{var P=E.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var M=P;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Su(E),Eu(E);else break e;lp(E),Rt(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=jr(p(E.Za,E),6e3));if(1>=$w(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ei(E,11)}else if((u.K||E.g==u)&&Su(E),!x(m))for(M=E.Da.g.parse(m),m=0;m<M.length;m++){let Me=M[m];if(E.T=Me[0],Me=Me[1],E.G==2)if(Me[0]=="c"){E.K=Me[1],E.ia=Me[2];const Ft=Me[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const Ut=Me[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const fo=Me[5];fo!=null&&typeof fo=="number"&&0<fo&&(P=1.5*fo,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Vn=u.g;if(Vn){const Iu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var F=P.h;F.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ip(F,F.h),F.h=null))}if(P.D){const up=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;up&&(P.ya=up,qe(P.I,P.D,up))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var G=u;if(P.qa=fx(P,P.J?P.ia:null,P.W),G.K){Bw(P.h,G);var ze=G,At=P.L;At&&(ze.I=At),ze.B&&(np(ze),mu(ze)),P.g=G}else lx(P);0<E.i.length&&bu(E)}else Me[0]!="stop"&&Me[0]!="close"||Ei(E,7);else E.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ei(E,7):ap(E):Me[0]!="noop"&&E.l&&E.l.ta(Me),E.v=0)}}wi(4)}catch{}}var $R=class{constructor(u,m){this.g=u,this.map=m}};function Fw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $w(u){return u.h?1:u.g?u.g.size:0}function sp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ip(u,m){u.g?u.g.add(m):u.h=m}function Bw(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fw.prototype.cancel=function(){if(this.i=zw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.D);return m}return g(u.i)}function BR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],E=u.length,P=0;P<E;P++)m.push(u[P]);return m}m=[],E=0;for(P in u)m[E++]=u[P];return m}function zR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var E=0;E<u;E++)m.push(E);return m}m=[],E=0;for(const P in u)m[E++]=P;return m}}}function Ww(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var E=zR(u),P=BR(u),M=P.length,F=0;F<M;F++)m.call(void 0,P[F],E&&E[F],u)}var Hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WR(u,m){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var P=u[E].indexOf("="),M=null;if(0<=P){var F=u[E].substring(0,P);M=u[E].substring(P+1)}else F=u[E];m(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,gu(this,u.j),this.o=u.o,this.g=u.g,yu(this,u.s),this.l=u.l;var m=u.i,E=new Ha;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),qw(this,E),this.m=u.m}else u&&(m=String(u).match(Hw))?(this.h=!1,gu(this,m[1]||"",!0),this.o=za(m[2]||""),this.g=za(m[3]||"",!0),yu(this,m[4]),this.l=za(m[5]||"",!0),qw(this,m[6]||"",!0),this.m=za(m[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wa(m,Gw,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wa(m,Gw,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Wa(E,E.charAt(0)=="/"?GR:qR,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Wa(E,YR)),u.join("")};function Or(u){return new _i(u)}function gu(u,m,E){u.j=E?za(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function yu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qw(u,m,E){m instanceof Ha?(u.i=m,QR(u.i,u.h)):(E||(m=Wa(m,KR)),u.i=new Ha(m,u.h))}function qe(u,m,E){u.i.set(m,E)}function vu(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function za(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wa(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,HR),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function HR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gw=/[#\/\?@]/g,qR=/[#\?:]/g,GR=/[#\?]/g,KR=/[#\?@]/g,YR=/#/g;function Ha(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ps(u){u.g||(u.g=new Map,u.h=0,u.i&&WR(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=Ha.prototype,t.add=function(u,m){ps(this),this.i=null,u=uo(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function Kw(u,m){ps(u),m=uo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Yw(u,m){return ps(u),m=uo(u,m),u.g.has(m)}t.forEach=function(u,m){ps(this),this.g.forEach(function(E,P){E.forEach(function(M){u.call(m,M,P,this)},this)},this)},t.na=function(){ps(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let P=0;P<m.length;P++){const M=u[P];for(let F=0;F<M.length;F++)E.push(m[P])}return E},t.V=function(u){ps(this);let m=[];if(typeof u=="string")Yw(this,u)&&(m=m.concat(this.g.get(uo(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)m=m.concat(u[E])}return m},t.set=function(u,m){return ps(this),this.i=null,u=uo(this,u),Yw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qw(u,m,E){Kw(u,m),0<E.length&&(u.i=null,u.g.set(uo(u,m),g(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var P=m[E];const F=encodeURIComponent(String(P)),G=this.V(P);for(P=0;P<G.length;P++){var M=F;G[P]!==""&&(M+="="+encodeURIComponent(String(G[P]))),u.push(M)}}return this.i=u.join("&")};function uo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function QR(u,m){m&&!u.j&&(ps(u),u.i=null,u.g.forEach(function(E,P){var M=P.toLowerCase();P!=M&&(Kw(this,P),Qw(this,M,E))},u)),u.j=m}function XR(u,m){const E=new $a;if(a.Image){const P=new Image;P.onload=v(ms,E,"TestLoadImage: loaded",!0,m,P),P.onerror=v(ms,E,"TestLoadImage: error",!1,m,P),P.onabort=v(ms,E,"TestLoadImage: abort",!1,m,P),P.ontimeout=v(ms,E,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function JR(u,m){const E=new $a,P=new AbortController,M=setTimeout(()=>{P.abort(),ms(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then(F=>{clearTimeout(M),F.ok?ms(E,"TestPingServer: ok",!0,m):ms(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),ms(E,"TestPingServer: error",!1,m)})}function ms(u,m,E,P,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),P(E)}catch{}}function ZR(){this.g=new Jf}function eA(u,m,E){const P=E||"";try{Ww(u,function(M,F){let G=M;d(M)&&(G=Ua(M)),m.push(P+F+"="+encodeURIComponent(G))})}catch(M){throw m.push(P+"type="+encodeURIComponent("_badmap")),M}}function wu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(wu,ao),wu.prototype.g=function(){return new xu(this.l,this.j)},wu.prototype.i=function(u){return function(){return u}}({});function xu(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(xu,Tt),t=xu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ga(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qa(this):Ga(this),this.readyState==3&&Xw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,qa(this))},t.Qa=function(u){this.g&&(this.response=u,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ga(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function Ga(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jw(u){let m="";return O(u,function(E,P){m+=P,m+=":",m+=E,m+=`\r
`}),m}function op(u,m,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Jw(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):qe(u,m,E))}function ot(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ot,Tt);var tA=/^https?$/i,nA=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zf.g(),this.v=this.o?we(this.o):we(Zf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Zw(this,F);return}if(u=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var M in P)E.set(M,P[M]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())E.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nA,m,void 0))||P||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of E)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nx(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Zw(this,F)}};function Zw(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ex(u),_u(u)}function ex(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pt(this,"complete"),Pt(this,"abort"),_u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_u(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tx(this):this.bb())},t.bb=function(){tx(this)};function tx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mr(u)!=4||u.Z()!=2)){if(u.u&&Mr(u)==4)au(u.Ea,0,u);else if(Pt(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var P;if(P=G===0){var M=String(u.D).match(Hw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),P=!tA.test(M?M.toLowerCase():"")}E=P}if(E)Pt(u,"complete"),Pt(u,"success");else{u.m=6;try{var F=2<Mr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ex(u)}}finally{_u(u)}}}}function _u(u,m){if(u.g){nx(u);const E=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Pt(u,"ready");try{E.onreadystatechange=P}catch{}}}function nx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),du(m)}};function rx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rA(u){const m={};u=(u.g&&2<=Mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(x(u[P]))continue;var E=N(u[P]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=m[M]||[];m[M]=F,F.push(E)}C(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function sx(u){this.Aa=0,this.i=[],this.j=new $a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,u),this.cb=Ka("retryDelaySeedMs",1e4,u),this.Wa=Ka("forwardChannelMaxRetries",2,u),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fw(u&&u.concurrentRequestLimit),this.Da=new ZR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sx.prototype,t.la=8,t.G=1,t.connect=function(u,m,E,P){Rt(0),this.W=u,this.H=m||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=fx(this,null,this.W),bu(this)};function ap(u){if(ix(u),u.G==3){var m=u.U++,E=Or(u.I);if(qe(E,"SID",u.K),qe(E,"RID",m),qe(E,"TYPE","terminate"),Ya(u,E),m=new fs(u,u.j,m),m.L=2,m.v=vu(Or(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=px(m.j,null),m.g.ea(m.v)),m.F=Date.now(),mu(m)}hx(u)}function Eu(u){u.g&&(cp(u),u.g.cancel(),u.g=null)}function ix(u){Eu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Su(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function bu(u){if(!Uw(u.h)&&!u.s){u.s=!0;var m=u.Ga;X||W(),L||(X(),L=!0),V.add(m,u),u.B=0}}function sA(u,m){return $w(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=jr(p(u.Ga,u,m),dx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new fs(this,this.j,u);let F=this.o;if(this.S&&(F?(F=T(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=ax(this,M,m),E=Or(this.I),qe(E,"RID",u),qe(E,"CVER",22),this.D&&qe(E,"X-HTTP-Session-Id",this.D),Ya(this,E),F&&(this.O?m="headers="+encodeURIComponent(String(Jw(F)))+"&"+m:this.m&&op(E,this.m,F)),ip(this.h,M),this.Ua&&qe(E,"TYPE","init"),this.P?(qe(E,"$req",m),qe(E,"SID","null"),M.T=!0,tp(M,E,null)):tp(M,E,m),this.G=2}}else this.G==3&&(u?ox(this,u):this.i.length==0||Uw(this.h)||ox(this))};function ox(u,m){var E;m?E=m.l:E=u.U++;const P=Or(u.I);qe(P,"SID",u.K),qe(P,"RID",E),qe(P,"AID",u.T),Ya(u,P),u.m&&u.o&&op(P,u.m,u.o),E=new fs(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ax(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ip(u.h,E),tp(E,P,m)}function Ya(u,m){u.H&&O(u.H,function(E,P){qe(m,P,E)}),u.l&&Ww({},function(E,P){qe(m,P,E)})}function ax(u,m,E){E=Math.min(u.i.length,E);var P=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const G=["count="+E];F==-1?0<E?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let ze=!0;for(let At=0;At<E;At++){let Me=M[At].g;const Ft=M[At].map;if(Me-=F,0>Me)F=Math.max(0,M[At].g-100),ze=!1;else try{eA(Ft,G,"req"+Me+"_")}catch{P&&P(Ft)}}if(ze){P=G.join("&");break e}}}return u=u.i.splice(0,E),m.D=u,P}function lx(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;X||W(),L||(X(),L=!0),V.add(m,u),u.v=0}}function lp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=jr(p(u.Fa,u),dx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,cx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=jr(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Eu(this),cx(this))};function cp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function cx(u){u.g=new fs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Or(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),Ya(u,m),u.m&&u.o&&op(m,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=vu(Or(m)),E.m=null,E.P=!0,Mw(E,u)}t.Za=function(){this.C!=null&&(this.C=null,Eu(this),lp(this),Rt(19))};function Su(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function ux(u,m){var E=null;if(u.g==m){Su(u),cp(u),u.g=null;var P=2}else if(sp(u.h,m))E=m.D,Bw(u.h,m),P=1;else return;if(u.G!=0){if(m.o)if(P==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;P=Jt(),Pt(P,new lo(P,E)),bu(u)}else lx(u);else if(M=m.s,M==3||M==0&&0<m.X||!(P==1&&sA(u,m)||P==2&&lp(u)))switch(E&&0<E.length&&(m=u.h,m.i=m.i.concat(E)),M){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function dx(u,m){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var E=p(u.fb,u),P=u.Xa;const M=!P;P=new _i(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gu(P,"https"),vu(P),M?XR(P.toString(),E):JR(P.toString(),E)}else Rt(2);u.G=0,u.l&&u.l.sa(m),hx(u),ix(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function hx(u){if(u.G=0,u.ka=[],u.l){const m=zw(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function fx(u,m,E){var P=E instanceof _i?Or(E):new _i(E);if(P.g!="")m&&(P.g=m+"."+P.g),yu(P,P.s);else{var M=a.location;P=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var F=new _i(null);P&&gu(F,P),m&&(F.g=m),M&&yu(F,M),E&&(F.l=E),P=F}return E=u.D,m=u.ya,E&&m&&qe(P,E,m),qe(P,"VER",u.la),Ya(u,P),P}function px(u,m,E){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ot(new wu({eb:E})):new ot(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mx(){}t=mx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tu(){}Tu.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){Tt.call(this),this.g=new sx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ho(this)}_(fn,Tt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){ap(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Ua(u),u=E);m.i.push(new $R(m.Ya++,u)),m.G==3&&bu(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,ap(this.g),delete this.g,fn.aa.N.call(this)};function gx(u){In.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(gx,In);function yx(){Xt.call(this),this.status=1}_(yx,Xt);function ho(u){this.g=u}_(ho,mx),ho.prototype.ua=function(){Pt(this.g,"a")},ho.prototype.ta=function(u){Pt(this.g,new gx(u))},ho.prototype.sa=function(u){Pt(this.g,new yx)},ho.prototype.ra=function(){Pt(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,z1=function(){return new Tu},B1=function(){return Jt()},$1=Cn,xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fu.NO_ERROR=0,fu.TIMEOUT=8,fu.HTTP_ERROR=6,Sd=fu,Dw.COMPLETE="complete",U1=Dw,Be.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,gl=Be,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,F1=ot}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",h_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new nf("@firebase/firestore");function wo(){return Bi.logLevel}function te(t,...e){if(Bi.logLevel<=Te.DEBUG){const n=e.map(pv);Bi.debug(`Firestore (${Sa}): ${t}`,...n)}}function ss(t,...e){if(Bi.logLevel<=Te.ERROR){const n=e.map(pv);Bi.error(`Firestore (${Sa}): ${t}`,...n)}}function ia(t,...e){if(Bi.logLevel<=Te.WARN){const n=e.map(pv);Bi.warn(`Firestore (${Sa}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W1(t,r,n)}function W1(t,e,n){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||W1(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class sV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iV{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new H1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class oV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new oV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=cV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function _g(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return qp(s)===qp(i)?Ie(s,i):qp(s)?1:-1}return Ie(t.length,e.length)}const uV=55296,dV=57343;function qp(t){const e=t.charCodeAt(0);return e>=uV&&e<=dV}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__name__";class cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=cr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=cr.isNumericId(e),s=cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?cr.extractNumericId(e).compare(cr.extractNumericId(n)):_g(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class We extends cr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends cr{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return hV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p_}static keyField(){return new Ot([p_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(We.fromString(e))}static fromName(e){return new ae(We.fromString(e).popFirst(5))}static empty(){return new ae(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fV(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m_(t){if(!ae.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g_(t){if(ae.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uc(t,e){if(!G1(t))throw new Q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,v_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*v_);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y_)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:pt("string",Re._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Re(0,0))}static max(){return new pe(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function pV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Qs(s,ae.empty(),e)}function mV(t){return new Qs(t.readTime,t.key,dc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(pe.min(),ae.empty(),dc)}static max(){return new Qs(pe.max(),ae.empty(),dc)}}function gV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==yV)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function wV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-1;function cf(t){return t==null}function ph(t){return t===0&&1/t==-1/0}function xV(t){return typeof t=="number"&&Number.isInteger(t)&&!ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="";function _V(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=w_(e)),e=EV(t.get(n),e);return w_(e)}function EV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case K1:n+="";break;default:n+=i}}return n}function w_(t){return t+K1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new wn([])}unionWith(e){let n=new bt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Q1("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const bV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=bV.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="server_timestamp",J1="__type__",Z1="__previous_value__",eI="__local_write_time__";function yv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[J1])==null?void 0:r.stringValue)===X1}function uf(t){const e=t.mapValue.fields[Z1];return yv(e)?uf(e):e}function hc(t){const e=Xs(t.mapValue.fields[eI].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const mh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="__type__",TV="__max__",Ku={mapValue:{}},nI="__vector__",gh="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yv(t)?4:CV(t)?9007199254740991:IV(t)?10:11:he(28295,{value:t})}function Ir(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xs(s.timestampValue),a=Xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Js(s.bytesValue).isEqual(Js(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?ph(o)===ph(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(x_(o)!==x_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ir(o[c],a[c])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function pc(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),c=lt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(hc(t),hc(e));case 5:return _g(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Js(i),c=Js(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ie(a[d],c[d]);if(h!==0)return h}return Ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(lt(i.latitude),lt(o.latitude));return a!==0?a:Ie(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return b_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,_,g;const a=i.fields||{},c=o.fields||{},d=(p=a[gh])==null?void 0:p.arrayValue,h=(v=c[gh])==null?void 0:v.arrayValue,f=Ie(((_=d==null?void 0:d.values)==null?void 0:_.length)||0,((g=h==null?void 0:h.values)==null?void 0:g.length)||0);return f!==0?f:b_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ku.mapValue&&o===Ku.mapValue)return 0;if(i===Ku.mapValue)return 1;if(o===Ku.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=_g(c[f],h[f]);if(p!==0)return p;const v=aa(a[c[f]],d[h[f]]);if(v!==0)return v}return Ie(c.length,h.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Xs(t),r=Xs(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function b_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=aa(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function la(t){return Eg(t)}function Eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Eg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Eg(n.fields[o])}`;return s+"}"}(t.mapValue):he(61005,{value:t})}function Td(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+Td(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Td(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ui(r.fields,(i,o)=>{s+=i.length+Td(o)}),s}(t.mapValue);default:throw he(13486,{value:t})}}function S_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bg(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function T_(t){return!!t&&"nullValue"in t}function I_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Id(t){return!!t&&"mapValue"in t}function IV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tI])==null?void 0:r.stringValue)===nI}function Ml(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return{...t}}function CV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ml(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Id(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ui(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Ml(this.value))}}function rI(t){const e=[];return ui(t.fields,(n,r)=>{const s=new Ot([n]);if(Id(r)){const i=rI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,pe.min(),pe.min(),pe.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,pe.min(),pe.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,pe.min(),pe.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function C_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function N_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function NV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sI=class{};class ft extends sI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PV(e,n,r):n==="array-contains"?new DV(e,r):n==="in"?new jV(e,r):n==="not-in"?new OV(e,r):n==="array-contains-any"?new MV(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RV(e,r):new AV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(aa(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends sI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zn(e,n)}matches(e){return iI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iI(t){return t.op==="and"}function oI(t){return kV(t)&&iI(t)}function kV(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Sg(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+la(t.value);if(oI(t))return t.filters.map(e=>Sg(e)).join(",");{const e=t.filters.map(n=>Sg(n)).join(",");return`${t.op}(${e})`}}function aI(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Ir(r.value,s.value)}(t,e):t instanceof Zn?function(r,s){return s instanceof Zn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&aI(o,s.filters[a]),!0):!1}(t,e):void he(19439)}function lI(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(lI).join(" ,")+"}"}(t):"Filter"}class PV extends ft{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class RV extends ft{constructor(e,n){super(e,"in",n),this.keys=cI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AV extends ft{constructor(e,n){super(e,"not-in",n),this.keys=cI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class DV extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&pc(n.arrayValue,this.value)}}class jV extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class OV extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class MV extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function k_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new LV(t,e,n,r,s,i,o)}function wv(t){const e=ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.Te=n}return e.Te}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N_(t.startAt,e.startAt)&&N_(t.endAt,e.endAt)}function Tg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VV(t,e,n,r,s,i,o,a){return new Ca(t,e,n,r,s,i,o,a)}function _v(t){return new Ca(t)}function P_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uI(t){return t.collectionGroup!==null}function Ll(t){const e=ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Ot.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new mc(i,r))}),n.has(Ot.keyField().canonicalString())||e.Ie.push(new mc(Ot.keyField(),r))}return e.Ie}function vr(t){const e=ge(t);return e.Ee||(e.Ee=FV(e,Ll(t))),e.Ee}function FV(t,e){if(t.limitType==="F")return k_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new mc(s.field,i)});const n=t.endAt?new yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yh(t.startAt.position,t.startAt.inclusive):null;return k_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ig(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vh(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return xv(vr(t),vr(e))&&t.limitType===e.limitType}function dI(t){return`${wv(vr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lI(s)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=C_(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,c){const d=C_(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Ll(r),s))}(t,e)}function UV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hI(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=$V(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function $V(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?aa(c,d):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new it(ae.comparator);function is(){return BV}const fI=new it(ae.comparator);function yl(...t){let e=fI;for(const n of t)e=e.insert(n.key,n);return e}function pI(t){let e=fI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return Vl()}function mI(){return Vl()}function Vl(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const zV=new it(ae.comparator),WV=new bt(ae.comparator);function Ce(...t){let e=WV;for(const n of t)e=e.add(n);return e}const HV=new bt(Ie);function qV(){return HV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function gI(t){return{integerValue:""+t}}function GV(t,e){return xV(e)?gI(e):Ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function KV(t,e,n){return t instanceof wh?function(s,i){const o={fields:{[J1]:{stringValue:X1},[eI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&yv(i)&&(i=uf(i)),i&&(o.fields[Z1]=i),{mapValue:o}}(n,e):t instanceof gc?vI(t,e):t instanceof yc?wI(t,e):function(s,i){const o=yI(s,i),a=R_(o)+R_(s.Ae);return bg(o)&&bg(s.Ae)?gI(a):Ev(s.serializer,a)}(t,e)}function YV(t,e,n){return t instanceof gc?vI(t,e):t instanceof yc?wI(t,e):n}function yI(t,e){return t instanceof xh?function(r){return bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class wh extends ff{}class gc extends ff{constructor(e){super(),this.elements=e}}function vI(t,e){const n=xI(e);for(const r of t.elements)n.some(s=>Ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class yc extends ff{constructor(e){super(),this.elements=e}}function wI(t,e){let n=xI(e);for(const r of t.elements)n=n.filter(s=>!Ir(s,r));return{arrayValue:{values:n}}}class xh extends ff{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function R_(t){return lt(t.integerValue||t.doubleValue)}function xI(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gc&&s instanceof gc||r instanceof yc&&s instanceof yc?oa(r.elements,s.elements,Ir):r instanceof xh&&s instanceof xh?Ir(r.Ae,s.Ae):r instanceof wh&&s instanceof wh}(t.transform,e.transform)}class XV{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bI(t.key,wr.none()):new $c(t.key,t.data,wr.none());{const n=t.data,r=an.empty();let s=new bt(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new di(t.key,r,new wn(s.toArray()),wr.none())}}function JV(t,e,n){t instanceof $c?function(s,i,o){const a=s.value.clone(),c=D_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof di?function(s,i,o){if(!Cd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=D_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(EI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof $c?function(i,o,a,c){if(!Cd(i.precondition,o))return a;const d=i.value.clone(),h=j_(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,o,a,c){if(!Cd(i.precondition,o))return a;const d=j_(i.fieldTransforms,c,o),h=o.data;return h.setAll(EI(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Cd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ZV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=yI(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>QV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends pf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class di extends pf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function EI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D_(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,YV(o,a,n[s]))}return r}function j_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KV(i,o,e))}return r}class bI extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eF extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&JV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=_I(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>A_(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>A_(n,r))}}class bv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return zV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Pe;function sF(t){switch(t){case U.OK:return he(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function SI(t){if(t===void 0)return ss("GRPC error has no .code"),U.UNKNOWN;switch(t){case dt.OK:return U.OK;case dt.CANCELLED:return U.CANCELLED;case dt.UNKNOWN:return U.UNKNOWN;case dt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case dt.INTERNAL:return U.INTERNAL;case dt.UNAVAILABLE:return U.UNAVAILABLE;case dt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case dt.NOT_FOUND:return U.NOT_FOUND;case dt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case dt.ABORTED:return U.ABORTED;case dt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case dt.DATA_LOSS:return U.DATA_LOSS;default:return he(39323,{code:t})}}(Pe=dt||(dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new zs([4294967295,4294967295],0);function O_(t){const e=iF().encode(t),n=new V1;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zs([n,r],0),new zs([s,i],0)]}class Sv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zs.fromNumber(r)));return s.compare(oF)===1&&(s=new zs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Sv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=O_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(pe.min(),s,new it(Ie),is(),Ce())}}class Bc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class TI{constructor(e,n){this.targetId=e,this.Ce=n}}class II{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class L_{constructor(){this.ve=0,this.Fe=V_(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),r=Ce();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he(38017,{changeType:i})}}),new Bc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=V_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aF{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.Je=Yu(),this.He=Yu(),this.Ye=new it(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Tg(i))if(r===0){const o=new ae(i.path);this.et(n,o,Gt.newNoDocument(o,pe.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Js(r).toUint8Array()}catch(c){if(c instanceof Q1)return ia("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Sv(o,s,i)}catch(c){return ia(c instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Tg(a.target)){const c=new ae(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Gt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ce();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new mf(e,n,this.Ye,this.je,r);return this.je=is(),this.Je=Yu(),this.He=Yu(),this.Ye=new it(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yu(){return new it(ae.comparator)}function V_(){return new it(ae.comparator)}const lF={asc:"ASCENDING",desc:"DESCENDING"},cF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uF={and:"AND",or:"OR"};class dF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cg(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hF(t,e){return _h(t,e.toTimestamp())}function xr(t){return Ve(!!t,49232),pe.fromTimestamp(function(n){const r=Xs(n);return new Re(r.seconds,r.nanos)}(t))}function Tv(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NI(t){const e=We.fromString(t);return Ve(DI(e),10190,{key:e.toString()}),e}function kg(t,e){return Tv(t.databaseId,e.path)}function Gp(t,e){const n=NI(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(PI(n))}function kI(t,e){return Tv(t.databaseId,e)}function fF(t){const e=NI(t);return e.length===4?We.emptyPath():PI(e)}function Pg(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function F_(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function pF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:SI(d.code);return new Q(h,d.message||"")}(o);n=new II(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gp(t,r.document.name),i=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):pe.min(),a=new an({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Nd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gp(t,r.document),i=r.readTime?xr(r.readTime):pe.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Nd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gp(t,r.document),i=r.removedTargetIds||[];n=new Nd([],i,s,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new rF(s,i),a=r.targetId;n=new TI(a,o)}}return n}function mF(t,e){let n;if(e instanceof $c)n={update:F_(t,e.key,e.value)};else if(e instanceof bI)n={delete:kg(t,e.key)};else if(e instanceof di)n={update:F_(t,e.key,e.data),updateMask:SF(e.fieldMask)};else{if(!(e instanceof eF))return he(16599,{Vt:e.type});n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof wh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw he(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he(27497)}(t,e.precondition)),n}function gF(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?xr(s.updateTime):xr(i);return o.isEqual(pe.min())&&(o=xr(i)),new XV(o,s.transformResults||[])}(n,e))):[]}function yF(t,e){return{documents:[kI(t,e.path)]}}function vF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kI(t,s);const i=function(d){if(d.length!==0)return AI(Zn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:_o(p.field),direction:_F(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function wF(t){let e=fF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=RI(f);return p instanceof Zn&&oI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new mc(Eo(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,cf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new yh(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new yh(v,p)}(n.endAt)),VV(e,s,o,i,a,"F",c,d)}function xF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Eo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(Eo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>RI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function _F(t){return lF[t]}function EF(t){return cF[t]}function bF(t){return uF[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Eo(t){return Ot.fromServerFormat(t.fieldPath)}function AI(t){return t instanceof ft?function(n){if(n.op==="=="){if(I_(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(T_(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I_(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(T_(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:EF(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(s=>AI(s));return r.length===1?r[0]:{compositeFilter:{op:bF(n.op),filters:r}}}(t):he(54877,{filter:t})}function SF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.yt=e}}function IF(t){const e=wF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.Cn=new NF}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class NF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jI=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(jI,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ca(0)}static cr(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",kF=1048576;function B_([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class PF{constructor(e){this.Ir=e,this.buffer=new bt(B_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();B_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?te($_,"Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.Vr(3e5)})}}class AF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(lf.ce);const r=new PF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(U_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),wo()<=Te.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function DF(t,e){return new AF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fl(r.mutation,s,wn.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=yl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=is();const o=Vl(),a=function(){return Vl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof di)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Fl(h.mutation,d,h.mutation.getFieldMask(),Re.now())):o.set(d.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new OF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Vl();let s=new it((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||wn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Ce()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=mI();h.forEach(p=>{if(!i.has(p)){const v=_I(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Pi());let a=dc,c=i;return o.next(d=>B.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ce())).next(h=>({batchId:a,changes:pI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=yl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=yl();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const d=function(f,p){return new Ca(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Gt.newInvalidDocument(h)))});let a=yl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Fl(h.mutation,d,wn.empty(),Re.now()),hf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:IF(s.bundledQuery),readTime:xr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.overlays=new it(ae.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Pi(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Pi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Pi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nF(n,r));let i=this.qr.get(n);i===void 0&&(i=Ce(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Qr=new bt(It.$r),this.Ur=new bt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new We([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new We([])),r=new It(n,e),s=new It(n,e+1);let i=Ce();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bt(It.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?gv:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Ie);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new It(new ae(i),0);let a=new bt(Ie);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.ri=e,this.docs=function(){return new it(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=is();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||gV(mV(h),r)<=0||(s.has(h.key)||hf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BF(this)}getSize(e){return B.resolve(this.size)}}class BF extends jF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.persistence=e,this.si=new so(n=>wv(n),xv),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Iv,this.targetCount=0,this.ai=ca.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new FF,this.referenceDelegate=e(this),this.Pi=new zF(this),this.indexManager=new CF,this.remoteDocumentCache=function(s){return new $F(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new TF(n),this.Ii=new LF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new UF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new WF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class WF extends vV{constructor(e){super(),this.currentSequenceNumber=e}}class Cv{constructor(e){this.persistence=e,this.Ri=new Iv,this.Vi=null}static mi(e){return new Cv(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new so(r=>_V(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=DF(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Td(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Nv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return xO()?8:wV(Yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new HF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(wo()<=Te.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(wo()<=Te.DEBUG&&te("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(wo()<=Te.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):B.resolve())}ys(e,n){if(P_(n))return B.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vh(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,vh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return P_(n)||s.isEqual(pe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(wo()<=Te.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xo(n)),this.vs(e,o,n,pV(s,dc)).next(a=>a))})}Ds(e,n){let r=new bt(hI(e));return n.forEach((s,i)=>{hf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return wo()<=Te.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LocalStore",GF=3e8;class KF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new it(Ie),this.xs=new so(i=>wv(i),xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function YF(t,e,n,r){return new KF(t,e,n,r)}async function MI(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ce();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function QF(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let v=B.resolve();return p.forEach(_=>{v=v.next(()=>h.getEntry(c,_)).next(g=>{const S=d.docVersions.get(_);Ve(S!==null,48541),g.version.compareTo(S)<0&&(f.applyToRemoteDocument(g,d),g.isValidDocument()&&(g.setReadTime(d.commitVersion),h.addEntry(g)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ce();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function LI(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function XF(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Vt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(g,S,w){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=GF?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let c=is(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(JF(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(pe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function JF(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=is();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te(kv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function ZF(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function e6(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new As(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Rg(t,e,n){const r=ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ia(o))throw o;te(kv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function z_(t,e,n){const r=ge(t);let s=pe.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=ge(c),p=f.xs.get(h);return p!==void 0?B.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,vr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ce())).next(a=>(t6(r,UV(e),a),{documents:a,Qs:i})))}function t6(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class W_{constructor(){this.activeTargetIds=qV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n6{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="ConnectivityMonitor";class q_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(H_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Ag(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ag(),a=this.zo(e,n.toUriEncodedString());te(Kp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=_a(d);return this.Jo(e,a,c,r,h).then(f=>(te(Kp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ia(Kp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=s6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class a6 extends i6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ag();return new Promise((a,c)=>{const d=new F1;d.setWithCredentials(!0),d.listenOnce(U1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Sd.NO_ERROR:const f=d.getResponseJson();te(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Sd.TIMEOUT:te(zt,`RPC '${e}' ${o} timed out`),c(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:const p=d.getStatus();if(te(zt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const g=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(_.status);c(new Q(g,_.message))}else c(new Q(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Q(U.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{te(zt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);te(zt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Ag(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=z1(),a=B1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");te(zt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const _=new o6({Yo:S=>{v?te(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(te(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),te(zt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),g=(S,w,x)=>{S.listen(w,b=>{try{x(b)}catch(R){setTimeout(()=>{throw R},0)}})};return g(f,gl.EventType.OPEN,()=>{v||(te(zt,`RPC '${e}' stream ${s} transport opened.`),_.o_())}),g(f,gl.EventType.CLOSE,()=>{v||(v=!0,te(zt,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(f))}),g(f,gl.EventType.ERROR,S=>{v||(v=!0,ia(zt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),_.a_(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),g(f,gl.EventType.MESSAGE,S=>{var w;if(!v){const x=S.data[0];Ve(!!x,16349);const b=x,R=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(R){te(zt,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let O=function(I){const k=dt[I];if(k!==void 0)return SI(k)}(D),C=R.message;O===void 0&&(O=U.INTERNAL,C="Unknown error status: "+D+" with message "+R.message),v=!0,_.a_(new Q(O,C)),f.close()}else te(zt,`RPC '${e}' stream ${s} received:`,x),_.u_(x)}}),g(a,$1.STAT_EVENT,S=>{S.stat===xg.PROXY?te(zt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===xg.NOPROXY&&te(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new dF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class FI{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l6 extends FI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pF(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?xr(o.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Tg(c)?{documents:yF(i,c)}:{query:vF(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CI(i,o.resumeToken);const d=Cg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=_h(i,o.snapshotVersion.toTimestamp());const d=Cg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=xF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.q_(n)}}class c6 extends FI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gF(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{}class d6 extends u6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ng(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Ng(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class h6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class f6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{io(this)&&(te(zi,"Restarting streams for network reachability change."),await async function(c){const d=ge(c);d.Ea.add(4),await zc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await yf(d)}(this))})}),this.Ra=new h6(r,s)}}async function yf(t){if(io(t))for(const e of t.da)await e(!0)}async function zc(t){for(const e of t.da)await e(!1)}function UI(t,e){const n=ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dv(n)?Av(n):Na(n).O_()&&Rv(n,e))}function Pv(t,e){const n=ge(t),r=Na(n);n.Ia.delete(e),r.O_()&&$I(n,e),n.Ia.size===0&&(r.O_()?r.L_():io(n)&&n.Ra.set("Unknown"))}function Rv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).Y_(e)}function $I(t,e){t.Va.Ue(e),Na(t).Z_(e)}function Av(t){t.Va=new aF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.Ra.ua()}function Dv(t){return io(t)&&!Na(t).x_()&&t.Ia.size>0}function io(t){return ge(t).Ea.size===0}function BI(t){t.Va=void 0}async function p6(t){t.Ra.set("Online")}async function m6(t){t.Ia.forEach((e,n)=>{Rv(t,e)})}async function g6(t,e){BI(t),Dv(t)?(t.Ra.ha(e),Av(t)):t.Ra.set("Unknown")}async function y6(t,e,n){if(t.Ra.set("Online"),e instanceof II&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){te(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(t,r)}else if(e instanceof Nd?t.Va.Ze(e):e instanceof TI?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await LI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),$I(i,c);const f=new As(h.target,c,d,h.sequenceNumber);Rv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(zi,"Failed to raise snapshot:",r),await bh(t,r)}}async function bh(t,e,n){if(!Ia(e))throw e;t.Ea.add(1),await zc(t),t.Ra.set("Offline"),n||(n=()=>LI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(zi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yf(t)})}function zI(t,e){return e().catch(n=>bh(t,n,e))}async function vf(t){const e=ge(t),n=ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gv;for(;v6(e);)try{const s=await ZF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,w6(e,s)}catch(s){await bh(e,s)}WI(e)&&HI(e)}function v6(t){return io(t)&&t.Ta.length<10}function w6(t,e){t.Ta.push(e);const n=ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WI(t){return io(t)&&!ei(t).x_()&&t.Ta.length>0}function HI(t){ei(t).start()}async function x6(t){ei(t).ra()}async function _6(t){const e=ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function E6(t,e,n){const r=t.Ta.shift(),s=bv.from(r,e,n);await zI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vf(t)}async function b6(t,e){e&&ei(t).X_&&await async function(r,s){if(function(o){return sF(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();ei(r).B_(),await zI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vf(r)}}(t,e),WI(t)&&HI(t)}async function K_(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),te(zi,"RemoteStore received new credentials");const r=io(n);n.Ea.add(3),await zc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yf(n)}async function S6(t,e){const n=ge(t);e?(n.Ea.delete(2),await yf(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function Na(t){return t.ma||(t.ma=function(n,r,s){const i=ge(n);return i.sa(),new l6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:p6.bind(null,t),t_:m6.bind(null,t),r_:g6.bind(null,t),H_:y6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Dv(t)?Av(t):t.Ra.set("Unknown")):(await t.ma.stop(),BI(t))})),t.ma}function ei(t){return t.fa||(t.fa=function(n,r,s){const i=ge(n);return i.sa(),new c6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:x6.bind(null,t),r_:b6.bind(null,t),ta:_6.bind(null,t),na:E6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await vf(t)):(await t.fa.stop(),t.Ta.length>0&&(te(zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new jv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Ia(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.ga=new it(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Go.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I6{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=Q_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function Q_(){return new so(t=>dI(t),df)}async function qI(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new T6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ov(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Mv(n)}async function GI(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C6(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Mv(n)}function N6(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Mv(t){t.Ca.forEach(e=>{e.next()})}var Dg,X_;(X_=Dg||(Dg={})).Ma="default",X_.Cache="cache";class KI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.key=e}}class QI{constructor(e){this.key=e}}class k6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=hI(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Y_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=hf(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),g=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?_!==g&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(c||d)&&(a=!0)),S&&(v?(o=o.add(v),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,_){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:S})}};return g(v)-g(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ua(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new QI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new YI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lv="SyncEngine";class P6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R6{constructor(e){this.key=e,this.hu=!1}}class A6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new so(a=>dI(a),df),this.Iu=new Map,this.Eu=new Set,this.du=new it(ae.comparator),this.Au=new Map,this.Ru=new Iv,this.Vu={},this.mu=new Map,this.fu=ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D6(t,e,n=!0){const r=nC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await XI(r,e,n,!0),s}async function j6(t,e){const n=nC(t);await XI(n,e,!0,!1)}async function XI(t,e,n,r){const s=await e6(t.localStore,vr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await O6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&UI(t.remoteStore,s),a}async function O6(t,e,n,r,s){t.pu=(f,p,v)=>async function(g,S,w,x){let b=S.view.ru(w);b.Cs&&(b=await z_(g.localStore,S.query,!1).then(({documents:C})=>S.view.ru(C,b)));const R=x&&x.targetChanges.get(S.targetId),D=x&&x.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(b,g.isPrimaryClient,R,D);return Z_(g,S.targetId,O.au),O.snapshot}(t,f,p,v);const i=await z_(t.localStore,e,!0),o=new k6(e,i.Qs),a=o.ru(i.documents),c=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);Z_(t,n,d.au);const h=new P6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function M6(t,e,n){const r=ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!df(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pv(r.remoteStore,s.targetId),jg(r,s.targetId)}).catch(Ta)):(jg(r,s.targetId),await Rg(r.localStore,s.targetId,!0))}async function L6(t,e){const n=ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pv(n.remoteStore,r.targetId))}async function V6(t,e,n){const r=H6(t);try{const s=await function(o,a){const c=ge(o),d=Re.now(),h=a.reduce((v,_)=>v.add(_.key),Ce());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let _=is(),g=Ce();return c.Ns.getEntries(v,h).next(S=>{_=S,_.forEach((w,x)=>{x.isValidDocument()||(g=g.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,_)).next(S=>{f=S;const w=[];for(const x of a){const b=ZV(x,f.get(x.key).overlayedDocument);b!=null&&w.push(new di(x.key,b,rI(b.value.mapValue),wr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,w,a)}).next(S=>{p=S;const w=S.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(v,S.batchId,w)})}).then(()=>({batchId:p.batchId,changes:pI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new it(Ie)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Wc(r,s.changes),await vf(r.remoteStore)}catch(s){const i=Ov(s,"Failed to persist write");n.reject(i)}}async function JI(t,e){const n=ge(t);try{const r=await XF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await Wc(n,r,e)}catch(r){await Ta(r)}}function J_(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ge(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&Mv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F6(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new it(ae.comparator);o=o.insert(i,Gt.newNoDocument(i,pe.min()));const a=Ce().add(i),c=new mf(pe.min(),new Map,new it(Ie),o,a);await JI(r,c),r.du=r.du.remove(i),r.Au.delete(e),Vv(r)}else await Rg(r.localStore,e,!1).then(()=>jg(r,e,n)).catch(Ta)}async function U6(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await QF(n.localStore,e);eC(n,r,null),ZI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wc(n,s)}catch(s){await Ta(s)}}async function $6(t,e,n){const r=ge(t);try{const s=await function(o,a){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);eC(r,e,n),ZI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wc(r,s)}catch(s){await Ta(s)}}function ZI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function eC(t,e,n){const r=ge(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||tC(t,r)})}function tC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Pv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vv(t))}function Z_(t,e,n){for(const r of n)r instanceof YI?(t.Ru.addReference(r.key,e),B6(t,r)):r instanceof QI?(te(Lv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tC(t,r.key)):he(19791,{wu:r})}function B6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(Lv,"New document in limbo: "+n),t.Eu.add(r),Vv(t))}function Vv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(We.fromString(e)),r=t.fu.next();t.Au.set(r,new R6(n)),t.du=t.du.insert(n,r),UI(t.remoteStore,new As(vr(_v(n.path)),r,"TargetPurposeLimboResolution",lf.ce))}}async function Wc(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Nv.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=ge(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>B.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Ia(f))throw f;te(kv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),_=v.snapshotVersion,g=v.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(p,g)}}}(r.localStore,i))}async function z6(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){te(Lv,"User change. New user:",e.toKey());const r=await MI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Q(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wc(n,r.Ls)}}function W6(t,e){const n=ge(t),r=n.Au.get(e);if(r&&r.hu)return Ce().add(r.key);{let s=Ce();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function nC(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F6.bind(null,e),e.Pu.H_=C6.bind(null,e.eventManager),e.Pu.yu=N6.bind(null,e.eventManager),e}function H6(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$6.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YF(this.persistence,new qF,e.initialUser,this.serializer)}Cu(e){return new OI(Cv.mi,this.serializer)}Du(e){return new n6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class q6 extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new OI(r=>Eh.mi(r,n),this.serializer)}}class Og{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>J_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z6.bind(null,this.syncEngine),await S6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I6}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),r=function(i){return new a6(i)}(e.databaseInfo);return function(i,o,a,c){return new d6(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new f6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>J_(this.syncEngine,n,0),function(){return q_.v()?new q_:new r6}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new A6(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);te(zi,"RemoteStore shutting down."),i.Ea.add(5),await zc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Og.provider={build:()=>new Og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirestoreClient";class G6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ov(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qp(t,e){t.asyncQueue.verifyOperationInProgress(),te(ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await MI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K6(t);te(ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>K_(e.remoteStore,s)),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(ti,"Using user provided OfflineComponentProvider");try{await Qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await Qp(t,new Sh)}}else te(ti,"Using default OfflineComponentProvider"),await Qp(t,new q6(void 0));return t._offlineComponents}async function sC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(ti,"Using user provided OnlineComponentProvider"),await eE(t,t._uninitializedComponentsProvider._online)):(te(ti,"Using default OnlineComponentProvider"),await eE(t,new Og))),t._onlineComponents}function Y6(t){return sC(t).then(e=>e.syncEngine)}async function iC(t){const e=await sC(t),n=e.eventManager;return n.onListen=D6.bind(null,e.syncEngine),n.onUnlisten=M6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L6.bind(null,e.syncEngine),n}function Q6(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new rC({next:p=>{h.Nu(),o.enqueueAndForget(()=>GI(i,f));const v=p.docs.has(a);!v&&p.fromCache?d.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new KI(_v(a.path),h,{includeMetadataChanges:!0,qa:!0});return qI(i,f)}(await iC(t),t.asyncQueue,e,n,r)),r.promise}function X6(t,e,n={}){const r=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new rC({next:p=>{h.Nu(),o.enqueueAndForget(()=>GI(i,f)),p.fromCache&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new KI(a,h,{includeMetadataChanges:!0,qa:!0});return qI(i,f)}(await iC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firestore.googleapis.com",nE=!0;class rE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aC,this.ssl=nE}else this.host=e.host,this.ssl=e.ssl??nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kF)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rV;switch(r.type){case"firstParty":return new aV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tE.get(n);r&&(te("ComponentProvider","Removing Datastore"),tE.delete(n),r.terminate())}(this),Promise.resolve()}}function J6(t,e,n,r={}){var d;t=Ys(t,wf);const s=_a(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(GT(`https://${a}`),KT("Firestore",!0)),i.host!==aC&&i.host!==a&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ks(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ht.MOCK_USER;else{h=hO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(p)}t._authCredentials=new sV(new H1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uc(n,mt._jsonSchema))return new mt(e,r||null,new ae(We.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class Ws extends hi{constructor(e,n,r){super(e,n,_v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ae(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function Hc(t,e,...n){if(t=gt(t),q1("collection","path",e),t instanceof wf){const r=We.fromString(e,...n);return g_(r),new Ws(t,null,r)}{if(!(t instanceof mt||t instanceof Ws))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return g_(r),new Ws(t.firestore,null,r)}}function lC(t,e,...n){if(t=gt(t),arguments.length===1&&(e=mv.newId()),q1("doc","path",e),t instanceof wf){const r=We.fromString(e,...n);return m_(r),new mt(t,null,new ae(r))}{if(!(t instanceof mt||t instanceof Ws))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return m_(r),new mt(t.firestore,t instanceof Ws?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VI(this,"async_queue_retry"),this._c=()=>{const r=Yp();r&&te(sE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ia(e))throw e;te(sE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",oE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&he(47125,{Pc:oE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qc extends wf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new iE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function Z6(t,e){const n=typeof t=="object"?t:iv(),r=typeof t=="string"?t:mh,s=no(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=uO("firestore");i&&J6(s,...i)}return s}function Fv(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e3(t),t._firestoreClient}function e3(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new SV(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,oC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new G6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(Vt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:pt("string",Rn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:pt("string",_r._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Er(e.vectorValues);throw new Q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:pt("string",Er._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=/^__.*__$/;class n3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class cC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:t})}}class $v{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $v({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uC(this.Ac)&&t3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class r3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gf(e)}Cc(e,n,r,s=!1){return new $v({Ac:e,methodName:n,Dc:r,path:Ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bv(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function s3(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);zv("Data must be an object, but it was:",o,r);const a=dC(r,o);let c,d;if(i.merge)c=new wn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Mg(e,f,n);if(!o.contains(p))throw new Q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);fC(h,p)||h.push(p)}c=new wn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new n3(new an(a),c,d)}class _f extends Uv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function i3(t,e,n,r){const s=t.Cc(1,e,n);zv("Data must be an object, but it was:",s,r);const i=[],o=an.empty();ui(r,(c,d)=>{const h=Wv(e,c,n);d=gt(d);const f=s.yc(h);if(d instanceof _f)i.push(h);else{const p=Gc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new wn(i);return new cC(o,a,s.fieldTransforms)}function o3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Mg(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Mg(e,i[p])),c.push(i[p+1]);const d=[],h=an.empty();for(let p=a.length-1;p>=0;--p)if(!fC(d,a[p])){const v=a[p];let _=c[p];_=gt(_);const g=o.yc(v);if(_ instanceof _f)d.push(v);else{const S=Gc(_,g);S!=null&&(d.push(v),h.set(v,S))}}const f=new wn(d);return new cC(h,f,o.fieldTransforms)}function a3(t,e,n,r=!1){return Gc(n,t.Cc(r?4:3,e))}function Gc(t,e){if(hC(t=gt(t)))return zv("Unsupported field value:",e,t),dC(t,e);if(t instanceof Uv)return function(r,s){if(!uC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Gc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:_h(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(s.serializer,i)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rn)return{bytesValue:CI(s.serializer,r._byteString)};if(r instanceof mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Er)return function(o,a){return{mapValue:{fields:{[tI]:{stringValue:nI},[gh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ev(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${af(r)}`)}(t,e)}function dC(t,e){const n={};return Y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(r,s)=>{const i=Gc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function hC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof _r||t instanceof Rn||t instanceof mt||t instanceof Uv||t instanceof Er)}function zv(t,e,n){if(!hC(n)||!G1(n)){const r=af(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Mg(t,e,n){if((e=gt(e))instanceof xf)return e._internalPath;if(typeof e=="string")return Wv(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const l3=new RegExp("[~\\*/\\[\\]]");function Wv(t,e,n){if(e.search(l3)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xf(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Q(U.INVALID_ARGUMENT,a+t+c)}function fC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ef("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c3 extends pC{data(){return super.data()}}function Ef(t,e){return typeof e=="string"?Wv(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class qv extends Hv{}function Kc(t,e,...n){let r=[];e instanceof Hv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Gv).length,a=i.filter(c=>c instanceof bf).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class bf extends qv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return mC(e._query,n),new hi(e.firestore,e.converter,Ig(e._query,n))}_parse(e){const n=Bv(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){lE(f,h);const _=[];for(const g of f)_.push(aE(c,i,g));p={arrayValue:{values:_}}}else p=aE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||lE(f,h),p=a3(a,o,f,h==="in"||h==="not-in");return ft.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yc(t,e,n){const r=e,s=Ef("where",t);return bf._create(s,r,n)}class Gv extends Hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)mC(o,c),o=Ig(o,c)}(e._query,n),new hi(e.firestore,e.converter,Ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kv extends qv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(i,o)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ca(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function d3(t,e="asc"){const n=e,r=Ef("orderBy",t);return Kv._create(r,n)}class Yv extends qv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Yv(e,n,r)}_apply(e){return new hi(e.firestore,e.converter,vh(e._query,this._limit,this._limitType))}}function h3(t){return Yv._create("limit",t,"F")}function aE(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uI(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ae.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S_(t,new ae(r))}if(n instanceof mt)return S_(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function lE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f3{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ui(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[gh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>lt(o.doubleValue));return new Er(n)}convertGeoPoint(e){return new _r(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ve(DI(r),9688,{name:e});const s=new fc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ji extends pC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ef("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ji._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",ji._jsonSchema={type:pt("string",ji._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class kd extends ji{data(e={}){return super.data(e)}}class Ko{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new kd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new wl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new kd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new wl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:m3(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function m3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){t=Ys(t,mt);const e=Ys(t.firestore,qc);return Q6(Fv(e),t._key).then(n=>v3(e,t,n))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:pt("string",Ko._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class gC extends f3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Qc(t){t=Ys(t,hi);const e=Ys(t.firestore,qc),n=Fv(e),r=new gC(e);return u3(t._query),X6(n,t._query).then(s=>new Ko(e,r,t,s))}function y3(t,e,n,...r){t=Ys(t,mt);const s=Ys(t.firestore,qc),i=Bv(s);let o;return o=typeof(e=gt(e))=="string"||e instanceof xf?o3(i,"updateDoc",t._key,e,n,r):i3(i,"updateDoc",t._key,e),yC(s,[o.toMutation(t._key,wr.exists(!0))])}function Sf(t,e){const n=Ys(t.firestore,qc),r=lC(t),s=p3(t.converter,e);return yC(n,[s3(Bv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function yC(t,e){return function(r,s){const i=new Yr;return r.asyncQueue.enqueueAndForget(async()=>V6(await Y6(r),s,i)),i.promise}(Fv(t),e)}function v3(t,e,n){const r=n.docs.get(e._key),s=new gC(t);return new ji(t,s,e._key,r,new wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Sa=s})(Ea),Tr(new Xn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new qc(new iV(r.getProvider("auth-internal")),new lV(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jn(d_,h_,e),jn(d_,h_,"esm2020")})();const vC="@firebase/installations",Qv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e4,xC=`w:${Qv}`,_C="FIS_v2",w3="https://firebaseinstallations.googleapis.com/v1",x3=60*60*1e3,_3="installations",E3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new to(_3,E3,b3);function EC(t){return t instanceof nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC({projectId:t}){return`${w3}/projects/${t}/installations`}function SC(t){return{token:t.token,requestStatus:2,expiresIn:T3(t.expiresIn),creationTime:Date.now()}}async function TC(t,e){const r=(await e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function IC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function S3(t,{refreshToken:e}){const n=IC(t);return n.append("Authorization",I3(e)),n}async function CC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function T3(t){return Number(t.replace("s","000"))}function I3(t){return`${_C} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bC(t),s=IC(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:_C,appId:t.appId,sdkVersion:xC},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await CC(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:SC(d.authToken)}}else throw await TC("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=/^[cdef][\w-]{21}$/,Lg="";function P3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=R3(t);return k3.test(n)?n:Lg}catch{return Lg}}function R3(t){return N3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Map;function PC(t,e){const n=Tf(t);RC(n,e),A3(n,e)}function RC(t,e){const n=kC.get(t);if(n)for(const r of n)r(e)}function A3(t,e){const n=D3();n&&n.postMessage({key:t,fid:e}),j3()}let Ri=null;function D3(){return!Ri&&"BroadcastChannel"in self&&(Ri=new BroadcastChannel("[Firebase] FID Change"),Ri.onmessage=t=>{RC(t.data.key,t.data.fid)}),Ri}function j3(){kC.size===0&&Ri&&(Ri.close(),Ri=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="firebase-installations-database",M3=1,Hi="firebase-installations-store";let Xp=null;function Xv(){return Xp||(Xp=e1(O3,M3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}})),Xp}async function Ih(t,e){const n=Tf(t),s=(await Xv()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&PC(t,e.fid),e}async function AC(t){const e=Tf(t),r=(await Xv()).transaction(Hi,"readwrite");await r.objectStore(Hi).delete(e),await r.done}async function If(t,e){const n=Tf(t),s=(await Xv()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&PC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(t){let e;const n=await If(t.appConfig,r=>{const s=L3(r),i=V3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Lg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function L3(t){const e=t||{fid:P3(),registrationStatus:0};return DC(e)}function V3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=F3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:U3(t)}:{installationEntry:e}}async function F3(t,e){try{const n=await C3(t,e);return Ih(t.appConfig,n)}catch(n){throw EC(n)&&n.customData.serverCode===409?await AC(t.appConfig):await Ih(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function U3(t){let e=await cE(t.appConfig);for(;e.registrationStatus===1;)await NC(100),e=await cE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Jv(t);return r||n}return e}function cE(t){return If(t,e=>{if(!e)throw Wi.create("installation-not-found");return DC(e)})}function DC(t){return $3(t)?{fid:t.fid,registrationStatus:0}:t}function $3(t){return t.registrationStatus===1&&t.registrationTime+wC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3({appConfig:t,heartbeatServiceProvider:e},n){const r=z3(t,n),s=S3(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:xC,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await CC(()=>fetch(r,a));if(c.ok){const d=await c.json();return SC(d)}else throw await TC("Generate Auth Token",c)}function z3(t,{fid:e}){return`${bC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(t,e=!1){let n;const r=await If(t.appConfig,i=>{if(!jC(i))throw Wi.create("not-registered");const o=i.authToken;if(!e&&q3(o))return i;if(o.requestStatus===1)return n=W3(t,e),i;{if(!navigator.onLine)throw Wi.create("app-offline");const a=K3(i);return n=H3(t,a),a}});return n?await n:r.authToken}async function W3(t,e){let n=await uE(t.appConfig);for(;n.authToken.requestStatus===1;)await NC(100),n=await uE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Zv(t,e):r}function uE(t){return If(t,e=>{if(!jC(e))throw Wi.create("not-registered");const n=e.authToken;return Y3(n)?{...e,authToken:{requestStatus:0}}:e})}async function H3(t,e){try{const n=await B3(t,e),r={...e,authToken:n};return await Ih(t.appConfig,r),n}catch(n){if(EC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await AC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ih(t.appConfig,r)}throw n}}function jC(t){return t!==void 0&&t.registrationStatus===2}function q3(t){return t.requestStatus===2&&!G3(t)}function G3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x3}function K3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Y3(t){return t.requestStatus===1&&t.requestTime+wC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Jv(e);return r?r.catch(console.error):Zv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e=!1){const n=t;return await J3(n),(await Zv(n,e)).token}async function J3(t){const{registrationPromise:e}=await Jv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){if(!t||!t.options)throw Jp("App Configuration");if(!t.name)throw Jp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jp(t){return Wi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="installations",eU="installations-internal",tU=t=>{const e=t.getProvider("app").getImmediate(),n=Z3(e),r=no(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nU=t=>{const e=t.getProvider("app").getImmediate(),n=no(e,OC).getImmediate();return{getId:()=>Q3(n),getToken:s=>X3(n,s)}};function rU(){Tr(new Xn(OC,tU,"PUBLIC")),Tr(new Xn(eU,nU,"PRIVATE"))}rU();jn(vC,Qv);jn(vC,Qv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="analytics",sU="firebase_id",iU="origin",oU=60*1e3,aU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ew="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new nf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new to("analytics","Analytics",lU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){if(!t.startsWith(ew)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(e.message),""}return t}function MC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function dU(t,e){const n=uU("firebase-js-sdk-policy",{createScriptURL:cU}),r=document.createElement("script"),s=`${ew}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function hU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fU(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await MC(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){hn.error(a)}t("config",s,i)}async function pU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await MC(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){hn.error(i)}}function mU(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await pU(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await fU(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){hn.error(a)}}return s}function gU(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=mU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function yU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ew)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=30,wU=1e3;class xU{constructor(e={},n=wU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LC=new xU;function _U(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function EU(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:_U(n)},s=aU.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(a=c.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function bU(t,e=LC,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw _n.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw _n.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new IU;return setTimeout(async()=>{a.abort()},oU),VC({appId:r,apiKey:s,measurementId:i},o,a,e)}async function VC(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=LC){var a;const{appId:i,measurementId:o}=t;try{await SU(r,e)}catch(c){if(o)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await EU(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!TU(d)){if(s.deleteThrottleMetadata(i),o)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?M0(n,s.intervalMillis,vU):M0(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),hn.debug(`Calling attemptFetch again in ${h} millis`),VC(t,f,r,s)}}function SU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TU(t){if(!(t instanceof nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(){if(QT())try{await XT()}catch(t){return hn.warn(_n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hn.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kU(t,e,n,r,s,i,o){const a=bU(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>hn.error(p)),e.push(a);const c=NU().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,c]);yU(i)||dU(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[iU]="firebase",f.update=!0,h!=null&&(f[sU]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},dE=[];const hE={};let Zp="dataLayer",RU="gtag",fE,FC,pE=!1;function AU(){const t=[];if(YT()&&t.push("This is a browser extension environment."),_O()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function DU(t,e,n){AU();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Ul[r]!=null)throw _n.create("already-exists",{id:r});if(!pE){hU(Zp);const{wrappedGtag:i,gtagCore:o}=gU(Ul,dE,hE,Zp,RU);FC=i,fE=o,pE=!0}return Ul[r]=kU(t,dE,hE,e,fE,Zp,n),new PU(t)}function jU(t=iv()){t=gt(t);const e=no(t,Ch);return e.isInitialized()?e.getImmediate():OU(t)}function OU(t,e={}){const n=no(t,Ch);if(n.isInitialized()){const s=n.getImmediate();if(Ks(e,n.getOptions()))return s;throw _n.create("already-initialized")}return n.initialize({options:e})}function MU(t,e,n,r){t=gt(t),CU(FC,Ul[t.app.options.appId],e,n,r).catch(s=>hn.error(s))}const mE="@firebase/analytics",gE="0.10.18";function LU(){Tr(new Xn(Ch,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return DU(r,s,n)},"PUBLIC")),Tr(new Xn("analytics-internal",t,"PRIVATE")),jn(mE,gE),jn(mE,gE,"esm2020");function t(e){try{const n=e.getProvider(Ch).getImmediate();return{logEvent:(r,s,i)=>MU(n,r,s,i)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}LU();const VU={apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},tw=t1(VU),Xu=ZL(tw),ka=Z6(tw);typeof window<"u"&&jU(tw);const UC=y.createContext(void 0),FU=()=>{const t=y.useContext(UC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},UU=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>$4(Xu,h=>{n(h),s(!1)}),[]);const c={user:e,login:async(d,h)=>{await V4(Xu,d,h)},register:async(d,h)=>{await L4(Xu,d,h)},logout:async()=>{await B4(Xu)},loading:r};return l.jsx(UC.Provider,{value:c,children:!r&&t})};function yE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $C(...t){return e=>{let n=!1;const r=t.map(s=>{const i=yE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():yE(t[s],null)}}}}function Le(...t){return y.useCallback($C(...t),t)}function qi(t){const e=BU(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(WU);if(c){const d=c.props.children,h=a.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var $U=qi("Slot");function BU(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=qU(s),a=HU(i,s.props);return s.type!==y.Fragment&&(a.ref=r?$C(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zU=Symbol("radix.slottable");function WU(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zU}function HU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function BC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=BC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=BC(t))&&(r&&(r+=" "),r+=e);return r}const vE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wE=zC,nw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return wE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=vE(h)||vE(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(_=>{let[g,S]=_;return Array.isArray(S)?S.includes({...i,...a}[g]):{...i,...a}[g]===S})?[...d,f,p]:d},[]);return wE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},rw="-",GU=t=>{const e=YU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(rw);return a[0]===""&&a.length!==1&&a.shift(),WC(a,e)||KU(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},WC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?WC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(rw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},xE=/^\[(.+)\]$/,KU=t=>{if(xE.test(t)){const e=xE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},YU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return XU(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vg(o,r,i,e)}),r},Vg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_E(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(QU(s)){Vg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vg(o,_E(e,i),n,r)})})},_E=(t,e)=>{let n=t;return e.split(rw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QU=t=>t.isThemeGetter,XU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,JU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},HC="!",ZU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let S=0;S<a.length;S++){let w=a[S];if(d===0){if(w===s&&(r||a.slice(S,S+i)===e)){c.push(a.slice(h,S)),h=S+i;continue}if(w==="/"){f=S;continue}}w==="["?d++:w==="]"&&d--}const p=c.length===0?a:a.substring(h),v=p.startsWith(HC),_=v?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},e5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},t5=t=>({cache:JU(t.cacheSize),parseClassName:ZU(t),...GU(t)}),n5=/\s+/,r5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(n5);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let _=!!v,g=r(_?p.substring(0,v):p);if(!g){if(!_){a=d+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=d+(a.length>0?" "+a:a);continue}_=!1}const S=e5(h).join(":"),w=f?S+HC:S,x=w+g;if(i.includes(x))continue;i.push(x);const b=s(g,_);for(let R=0;R<b.length;++R){const D=b[R];i.push(w+D)}a=d+(a.length>0?" "+a:a)}return a};function s5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qC(e))&&(r&&(r+=" "),r+=n);return r}const qC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qC(t[r]))&&(n&&(n+=" "),n+=e);return n};function i5(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=t5(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=r5(c,n);return s(c,h),h}return function(){return i(s5.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},GC=/^\[(?:([a-z-]+):)?(.+)\]$/i,o5=/^\d+\/\d+$/,a5=new Set(["px","full","screen"]),l5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=t=>Yo(t)||a5.has(t)||o5.test(t),vs=t=>Pa(t,"length",x5),Yo=t=>!!t&&!Number.isNaN(Number(t)),em=t=>Pa(t,"number",Yo),il=t=>!!t&&Number.isInteger(Number(t)),f5=t=>t.endsWith("%")&&Yo(t.slice(0,-1)),ve=t=>GC.test(t),ws=t=>l5.test(t),p5=new Set(["length","size","percentage"]),m5=t=>Pa(t,p5,KC),g5=t=>Pa(t,"position",KC),y5=new Set(["image","url"]),v5=t=>Pa(t,y5,E5),w5=t=>Pa(t,"",_5),ol=()=>!0,Pa=(t,e,n)=>{const r=GC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},x5=t=>c5.test(t)&&!u5.test(t),KC=()=>!1,_5=t=>d5.test(t),E5=t=>h5.test(t),b5=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),c=Ge("contrast"),d=Ge("grayscale"),h=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),v=Ge("gradientColorStops"),_=Ge("gradientColorStopPositions"),g=Ge("inset"),S=Ge("margin"),w=Ge("opacity"),x=Ge("padding"),b=Ge("saturate"),R=Ge("scale"),D=Ge("sepia"),O=Ge("skew"),C=Ge("space"),T=Ge("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ve,e],j=()=>[ve,e],A=()=>["",Lr,vs],$=()=>["auto",Yo,ve],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ve],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Yo,ve];return{cacheSize:500,separator:":",theme:{colors:[ol],spacing:[Lr,vs],blur:["none","",ws,ve],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ws,ve],borderSpacing:j(),borderWidth:A(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[f5,vs],inset:N(),margin:N(),opacity:ee(),padding:j(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),ve]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il,ve]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",il,ve]}],"grid-cols":[{"grid-cols":[ol]}],"col-start-end":[{col:["auto",{span:["full",il,ve]},ve]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ol]}],"row-start-end":[{row:["auto",{span:[il,ve]},ve]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",em]}],"font-family":[{font:[ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Yo,em]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,vs]}],"underline-offset":[{"underline-offset":["auto",Lr,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),g5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},v5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Lr,ve]}],"outline-w":[{outline:[Lr,vs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Lr,vs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,w5]}],"shadow-color":[{shadow:[ol]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ws,ve]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[il,ve]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Lr,vs,em]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},S5=i5(b5);function J(...t){return S5(zC(t))}const Fg=nw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?$U:"button";return l.jsx(o,{className:J(Fg({variant:e,size:n,className:t})),ref:i,...s})});se.displayName="Button";const ue=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ue.displayName="Card";const Xe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const Je=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));Je.displayName="CardTitle";const en=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("text-sm text-muted-foreground",t),...e}));en.displayName="CardDescription";const fe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("p-6 pt-0",t),...e}));fe.displayName="CardContent";const T5=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",t),...e}));T5.displayName="CardFooter";const I5=nw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ct({className:t,variant:e,...n}){return l.jsx("div",{className:J(I5({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...N5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YC("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(k5,{ref:i,iconNode:e,className:YC(`lucide-${C5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=_e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=_e("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=_e("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=_e("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function G5(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[l.jsx("section",{className:"relative py-20 px-4",children:l.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(ct,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[l.jsx(z5,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(se,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",l.jsx(Ju,{className:"ml-2 h-5 w-5"})]}),l.jsx(se,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:l.jsxs(ac,{to:"/brooklyn-hearts-club",children:["View Live Example",l.jsx(Ju,{className:"ml-2 h-5 w-5"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(ue,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Xe,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Et,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Je,{className:"text-xl",children:"Custom Event Pages"}),l.jsx(en,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),l.jsx(ue,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Xe,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Hn,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Je,{className:"text-xl",children:"Automated Waitlists"}),l.jsx(en,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),l.jsx(ue,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Xe,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx($l,{className:"h-6 w-6 text-purple-600"})}),l.jsx(Je,{className:"text-xl",children:"Community Messaging"}),l.jsx(en,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),l.jsx(ue,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:l.jsx(fe,{className:"p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx(ct,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l.jsx(se,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:l.jsxs(ac,{to:"/brooklyn-hearts-club",children:["Visit Brooklyn Hearts Club",l.jsx(Ju,{className:"ml-2 h-4 w-4"})]})})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),l.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:l.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),l.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),l.jsxs(se,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",l.jsx(Ju,{className:"ml-2 h-5 w-5"})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),l.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:l.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}function Zu(){return{apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const tN={development:{name:"development",dataSource:"firebase",firebaseConfig:Zu(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"firebase",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Zu(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Zu(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Zu(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function Nh(){const t="development";if(tN[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")||e.includes("voxxy-presents-client-staging")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function iw(){const t=Nh();return tN[t]}function nN(t){return iw().features[t]}function wc(){return iw().dataSource}function Bg(){return iw().apiBaseUrl}const K5=Bg()||void 0||"http://localhost:3001/api";class Rd extends Error{constructor(n,r){super(n);vx(this,"status");this.status=r,this.name="ApiError"}}async function gn(t,e){const n=`${K5}${t}`;try{console.log("API Request:",{url:n,method:(e==null?void 0:e.method)||"GET",timestamp:new Date().toISOString()});const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e});if(!r.ok){let i={};try{i=await r.json()}catch{i={message:`HTTP ${r.status}: ${r.statusText}`}}console.error("API Error Response:",{url:n,status:r.status,statusText:r.statusText,errorData:i,timestamp:new Date().toISOString()});const o=i.message||i.error||`API request failed (${r.status})`;throw new Rd(o,r.status)}const s=await r.json();return console.log("API Success:",{url:n,dataKeys:Object.keys(s||{}),timestamp:new Date().toISOString()}),s}catch(r){throw r instanceof Rd?r:(console.error("Network Error:",{url:n,error:r instanceof Error?r.message:"Unknown error",timestamp:new Date().toISOString()}),new Rd(`Network error: ${r instanceof Error?r.message:"Unknown error"}`,0))}}const TE={async getBySlug(t){return gn(`/organizations/${t}`)},async create(t){return gn("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return gn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})},async updateBySlug(t,e){return gn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},xc={async getById(t){return gn(`/events/${t}`)},async getByOrganization(t){return gn(`/events?organization=${t}`)},async getAll(){return gn("/events")},async create(t){return gn("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return gn(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return gn(`/events/${t}`,{method:"DELETE"})}},rN={async create(t){return gn("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return gn(`/registrations/event/${t}`)},async markEmailSent(t){return gn(`/registrations/${t}/email-sent`,{method:"PATCH"})}},sN=Hc(ka,"organizations"),iN=Hc(ka,"events"),oN=Hc(ka,"registrations"),zg=Hc(ka,"waitlists");Hc(ka,"users");const Y5=async t=>(await Sf(sN,{...t,createdAt:Re.now(),updatedAt:Re.now()})).id,xl=async t=>{const e=Kc(sN,Yc("slug","==",t),h3(1)),n=await Qc(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},Q5=async(t,e)=>{const n=lC(ka,"organizations",t),r={...e,updatedAt:Re.now()};await y3(n,r);const s=await g3(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},X5=async t=>(await Sf(iN,{...t,date:Re.fromDate(t.date),endDate:t.endDate?Re.fromDate(t.endDate):null,createdAt:Re.now(),updatedAt:Re.now()})).id,Wg=async t=>{const e=Kc(iN,Yc("organizationId","==",t),d3("date","desc"));return(await Qc(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})},J5=async t=>{const e=Kc(zg,Yc("eventId","==",t.eventId)),r=(await Qc(e)).size+1;return{id:(await Sf(zg,{...t,position:r,joinedAt:Re.now()})).id,position:r}},aN=async t=>{const e=Kc(zg,Yc("eventId","==",t));return(await Qc(e)).docs.map(s=>{var o;const i=s.data();return{id:s.id,...i,joinedAt:i.joinedAt.toDate(),notifiedAt:(o=i.notifiedAt)==null?void 0:o.toDate()}}).sort((s,i)=>s.position-i.position)},Z5=async t=>(await Sf(oN,{...t,registeredAt:Re.now()})).id,e9=async t=>{const e=Kc(oN,Yc("eventId","==",t));return(await Qc(e)).docs.map(s=>{var o,a,c;const i=s.data();return{id:s.id,...i,registeredAt:i.registeredAt.toDate(),confirmedAt:(o=i.confirmedAt)==null?void 0:o.toDate(),cancelledAt:(a=i.cancelledAt)==null?void 0:a.toDate(),lastEmailSent:(c=i.lastEmailSent)==null?void 0:c.toDate()}}).sort((s,i)=>s.registeredAt.getTime()-i.registeredAt.getTime())};function lN(t){const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState(!0),[a,c]=y.useState(null),d=y.useCallback(async()=>{try{o(!0),c(null);const p=Nh(),v=wc(),_=Bg();if(console.log(`Loading data for ${t} in ${p} environment using ${v}`),v==="firebase"){console.log("Using Firebase directly");const g=await xl(t);if(!g)throw new Error(`Organization '${t}' not found in ${p} environment`);n(g);const S=await Wg(g.id);s(S)}else if(v==="api"&&_){console.log(`Using API: ${_}`);const g=await TE.getBySlug(t);n(g);const S=await xc.getByOrganization(g.id);s(S)}else throw new Error(`Invalid data source configuration for ${p} environment`)}catch(p){console.error(`Error loading ${t} data:`,p),c(p instanceof Error?p.message:"Failed to load data")}finally{o(!1)}},[t]);return y.useEffect(()=>{t&&d()},[t,d]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const p=await xc.getByOrganization(e.id);s(p)}catch(p){console.error("Error refreshing events:",p)}},updateOrganization:async p=>{if(e)try{const v=Nh(),_=wc(),g=Bg();if(console.log(`Updating organization in ${v} environment using ${_}`),_==="firebase"){console.log(`Updating organization via Firebase (${v})`);const S=await Q5(e.id,p);n(S),console.log(`✅ Organization updated successfully in Firebase (${v})`)}else if(_==="api"&&g){console.log(`Updating organization via API: ${g}`);const S=await TE.update(e.id,p);n(S)}else throw new Error(`Invalid update configuration for ${v} environment`)}catch(v){throw console.error("Error updating organization:",v),v}},reload:d}}function me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function t9(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function rr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const d=f=>{var w;const{scope:p,children:v,..._}=f,g=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,S=y.useMemo(()=>_,Object.values(_));return l.jsx(g.Provider,{value:S,children:v})};d.displayName=i+"Provider";function h(f,p){var g;const v=((g=p==null?void 0:p[t])==null?void 0:g[c])||a,_=y.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,n9(s,...e)]}function n9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},r9=wb[" useId ".trim().toString()]||(()=>{}),s9=0;function Qr(t){const[e,n]=y.useState(r9());return Qt(()=>{n(r=>r??String(s9++))},[t]),e?`radix-${e}`:""}var i9=wb[" useInsertionEffect ".trim().toString()]||Qt;function as({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=o9({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const p=a9(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[c,d]}function o9({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return i9(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function a9(t){return typeof t=="function"}var l9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=l9.reduce((t,e)=>{const n=qi(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function c9(t,e){t&&va.flushSync(()=>t.dispatchEvent(e))}function ni(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function u9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var d9="DismissableLayer",Hg="dismissableLayer.update",h9="dismissableLayer.pointerDownOutside",f9="dismissableLayer.focusOutside",IE,cN=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=y.useContext(cN),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),_=Le(e,C=>f(C)),g=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(S),x=h?g.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,R=x>=w,D=g9(C=>{const T=C.target,I=[...d.branches].some(k=>k.contains(T));!R||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=y9(C=>{const T=C.target;[...d.branches].some(k=>k.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return u9(C=>{x===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(IE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),CE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=IE)}},[h,p,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),CE())},[h,d]),y.useEffect(()=>{const C=()=>v({});return document.addEventListener(Hg,C),()=>document.removeEventListener(Hg,C)},[]),l.jsx(ye.div,{...c,ref:_,style:{pointerEvents:b?R?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,O.onFocusCapture),onBlurCapture:me(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,D.onPointerDownCapture)})});Cf.displayName=d9;var p9="DismissableLayerBranch",m9=y.forwardRef((t,e)=>{const n=y.useContext(cN),r=y.useRef(null),s=Le(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(ye.div,{...t,ref:s})});m9.displayName=p9;function g9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){uN(h9,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function y9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&uN(f9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CE(){const t=new CustomEvent(Hg);document.dispatchEvent(t)}function uN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?c9(s,i):s.dispatchEvent(i)}var nm="focusScope.autoFocusOnMount",rm="focusScope.autoFocusOnUnmount",NE={bubbles:!1,cancelable:!0},v9="FocusScope",Nf=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),d=ni(s),h=ni(i),f=y.useRef(null),p=Le(e,g=>c(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(b){if(v.paused||!a)return;const R=b.target;a.contains(R)?f.current=R:_s(f.current,{select:!0})},S=function(b){if(v.paused||!a)return;const R=b.relatedTarget;R!==null&&(a.contains(R)||_s(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&_s(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),x.disconnect()}}},[r,a,v.paused]),y.useEffect(()=>{if(a){PE.add(v);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(nm,NE);a.addEventListener(nm,d),a.dispatchEvent(w),w.defaultPrevented||(w9(S9(dN(a)),{select:!0}),document.activeElement===g&&_s(a))}return()=>{a.removeEventListener(nm,d),setTimeout(()=>{const w=new CustomEvent(rm,NE);a.addEventListener(rm,h),a.dispatchEvent(w),w.defaultPrevented||_s(g??document.body,{select:!0}),a.removeEventListener(rm,h),PE.remove(v)},0)}}},[a,d,h,v]);const _=y.useCallback(g=>{if(!n&&!r||v.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(S&&w){const x=g.currentTarget,[b,R]=x9(x);b&&R?!g.shiftKey&&w===R?(g.preventDefault(),n&&_s(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),n&&_s(R,{select:!0})):w===x&&g.preventDefault()}},[n,r,v.paused]);return l.jsx(ye.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});Nf.displayName=v9;function w9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_s(r,{select:e}),document.activeElement!==n)return}function x9(t){const e=dN(t),n=kE(e,t),r=kE(e.reverse(),t);return[n,r]}function dN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kE(t,e){for(const n of t)if(!_9(n,{upTo:e}))return n}function _9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function E9(t){return t instanceof HTMLInputElement&&"select"in t}function _s(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&E9(t)&&e&&t.select()}}var PE=b9();function b9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RE(t,e),t.unshift(e)},remove(e){var n;t=RE(t,e),(n=t[0])==null||n.resume()}}}function RE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function S9(t){return t.filter(e=>e.tagName!=="A")}var T9="Portal",kf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?DD.createPortal(l.jsx(ye.div,{...r,ref:e}),o):null});kf.displayName=T9;function I9(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var ds=t=>{const{present:e,children:n}=t,r=C9(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Le(r.ref,N9(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ds.displayName="Presence";function C9(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=I9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=ed(r.current);i.current=a==="mounted"?d:"none"},[a]),Qt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,v=ed(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Qt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const g=ed(r.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=ed(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ed(t){return(t==null?void 0:t.animationName)||"none"}function N9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sm=0;function ow(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AE()),document.body.insertAdjacentElement("beforeend",t[1]??AE()),sm++,()=>{sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sm--}},[])}function AE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dr=function(){return dr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dr.apply(this,arguments)};function hN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function k9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ad="right-scroll-bar-position",Dd="width-before-scroll-bar",P9="with-scroll-bars-hidden",R9="--removed-body-scroll-bar-size";function im(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A9(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var D9=typeof window<"u"?y.useLayoutEffect:y.useEffect,DE=new WeakMap;function j9(t,e){var n=A9(null,function(r){return t.forEach(function(s){return im(s,r)})});return D9(function(){var r=DE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||im(a,null)}),i.forEach(function(a){s.has(a)||im(a,o)})}DE.set(n,t)},[t]),n}function O9(t){return t}function M9(t,e){e===void 0&&(e=O9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function L9(t){t===void 0&&(t={});var e=M9(null);return e.options=dr({async:!0,ssr:!1},t),e}var fN=function(t){var e=t.sideCar,n=hN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,dr({},n))};fN.isSideCarExport=!0;function V9(t,e){return t.useMedium(e),fN}var pN=L9(),om=function(){},Pf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:om,onWheelCapture:om,onTouchMoveCapture:om}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noRelative,_=t.noIsolation,g=t.inert,S=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,b=t.gapMode,R=hN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,O=j9([n,e]),C=dr(dr({},R),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:pN,removeScrollBar:d,shards:f,noRelative:v,noIsolation:_,inert:g,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(a),dr(dr({},C),{ref:O})):y.createElement(x,dr({},C,{className:c,ref:O}),a))});Pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pf.classNames={fullWidth:Dd,zeroRight:Ad};var F9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=F9();return e&&t.setAttribute("nonce",e),t}function $9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function B9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=U9())&&($9(e,n),B9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},W9=function(){var t=z9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mN=function(){var t=W9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},H9={left:0,top:0,right:0,gap:0},am=function(t){return parseInt(t||"",10)||0},q9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[am(n),am(r),am(s)]},G9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return H9;var e=q9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},K9=mN(),Qo="data-scroll-locked",Y9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(P9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ad,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(R9,": ").concat(a,`px;
  }
`)},jE=function(){var t=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(t)?t:0},Q9=function(){y.useEffect(function(){return document.body.setAttribute(Qo,(jE()+1).toString()),function(){var t=jE()-1;t<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,t.toString())}},[])},X9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Q9();var i=y.useMemo(function(){return G9(s)},[s]);return y.createElement(K9,{styles:Y9(i,!e,s,n?"":"!important")})},qg=!1;if(typeof window<"u")try{var td=Object.defineProperty({},"passive",{get:function(){return qg=!0,!0}});window.addEventListener("test",td,td),window.removeEventListener("test",td,td)}catch{qg=!1}var mo=qg?{passive:!1}:!1,J9=function(t){return t.tagName==="TEXTAREA"},gN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!J9(t)&&n[e]==="visible")},Z9=function(t){return gN(t,"overflowY")},e$=function(t){return gN(t,"overflowX")},OE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yN(t,r);if(s){var i=vN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},t$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},n$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yN=function(t,e){return t==="v"?Z9(e):e$(e)},vN=function(t,e){return t==="v"?t$(e):n$(e)},r$=function(t,e){return t==="h"&&e==="rtl"?-1:1},s$=function(t,e,n,r,s){var i=r$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var v=vN(t,a),_=v[0],g=v[1],S=v[2],w=g-S-i*_;(_||w)&&yN(t,a)&&(f+=w,p+=_);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},nd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ME=function(t){return[t.deltaX,t.deltaY]},LE=function(t){return t&&"current"in t?t.current:t},i$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},a$=0,go=[];function l$(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(a$++)[0],i=y.useState(mN)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=k9([t.lockRef.current],(t.shards||[]).map(LE),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=nd(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-w[0],R="deltaY"in g?g.deltaY:x[1]-w[1],D,O=g.target,C=Math.abs(b)>Math.abs(R)?"h":"v";if("touches"in g&&C==="h"&&O.type==="range")return!1;var T=OE(C,O);if(!T)return!0;if(T?D=C:(D=C==="v"?"h":"v",T=OE(C,O)),!T)return!1;if(!r.current&&"changedTouches"in g&&(b||R)&&(r.current=D),!D)return!0;var I=r.current||D;return s$(I,S,g,I==="h"?b:R)},[]),c=y.useCallback(function(g){var S=g;if(!(!go.length||go[go.length-1]!==i)){var w="deltaY"in S?ME(S):nd(S),x=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&i$(D.delta,w)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(LE).filter(Boolean).filter(function(D){return D.contains(S.target)}),R=b.length>0?a(S,b[0]):!o.current.noIsolation;R&&S.cancelable&&S.preventDefault()}}},[]),d=y.useCallback(function(g,S,w,x){var b={name:g,delta:S,target:w,should:x,shadowParent:c$(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(R){return R!==b})},1)},[]),h=y.useCallback(function(g){n.current=nd(g),r.current=void 0},[]),f=y.useCallback(function(g){d(g.type,ME(g),g.target,a(g,t.lockRef.current))},[]),p=y.useCallback(function(g){d(g.type,nd(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return go.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,mo),document.addEventListener("touchmove",c,mo),document.addEventListener("touchstart",h,mo),function(){go=go.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,mo),document.removeEventListener("touchmove",c,mo),document.removeEventListener("touchstart",h,mo)}},[]);var v=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(i,{styles:o$(s)}):null,v?y.createElement(X9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function c$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const u$=V9(pN,l$);var Rf=y.forwardRef(function(t,e){return y.createElement(Pf,dr({},t,{ref:e,sideCar:u$}))});Rf.classNames=Pf.classNames;var d$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yo=new WeakMap,rd=new WeakMap,sd={},lm=0,wN=function(t){return t&&(t.host||wN(t.parentNode))},h$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},f$=function(t,e,n,r){var s=h$(e,Array.isArray(t)?t:[t]);sd[n]||(sd[n]=new WeakMap);var i=sd[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var v=p.getAttribute(r),_=v!==null&&v!=="false",g=(yo.get(p)||0)+1,S=(i.get(p)||0)+1;yo.set(p,g),i.set(p,S),o.push(p),g===1&&_&&rd.set(p,!0),S===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),a.clear(),lm++,function(){o.forEach(function(f){var p=yo.get(f)-1,v=i.get(f)-1;yo.set(f,p),i.set(f,v),p||(rd.has(f)||f.removeAttribute(r),rd.delete(f)),v||f.removeAttribute(n)}),lm--,lm||(yo=new WeakMap,yo=new WeakMap,rd=new WeakMap,sd={})}},aw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=d$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),f$(r,s,n,"aria-hidden")):function(){return null}},Af="Dialog",[xN,FH]=rr(Af),[p$,sr]=xN(Af),_N=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[d,h]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Af});return l.jsx(p$,{scope:e,triggerRef:a,contentRef:c,contentId:Qr(),titleId:Qr(),descriptionId:Qr(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};_N.displayName=Af;var EN="DialogTrigger",m$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(EN,n),i=Le(e,s.triggerRef);return l.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":uw(s.open),...r,ref:i,onClick:me(t.onClick,s.onOpenToggle)})});m$.displayName=EN;var lw="DialogPortal",[g$,bN]=xN(lw,{forceMount:void 0}),SN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=sr(lw,e);return l.jsx(g$,{scope:e,forceMount:n,children:y.Children.map(r,o=>l.jsx(ds,{present:n||i.open,children:l.jsx(kf,{asChild:!0,container:s,children:o})}))})};SN.displayName=lw;var kh="DialogOverlay",TN=y.forwardRef((t,e)=>{const n=bN(kh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=sr(kh,t.__scopeDialog);return i.modal?l.jsx(ds,{present:r||i.open,children:l.jsx(v$,{...s,ref:e})}):null});TN.displayName=kh;var y$=qi("DialogOverlay.RemoveScroll"),v$=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(kh,n);return l.jsx(Rf,{as:y$,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ye.div,{"data-state":uw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",IN=y.forwardRef((t,e)=>{const n=bN(Ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=sr(Ki,t.__scopeDialog);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(w$,{...s,ref:e}):l.jsx(x$,{...s,ref:e})})});IN.displayName=Ki;var w$=y.forwardRef((t,e)=>{const n=sr(Ki,t.__scopeDialog),r=y.useRef(null),s=Le(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return aw(i)},[]),l.jsx(CN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:me(t.onFocusOutside,i=>i.preventDefault())})}),x$=y.forwardRef((t,e)=>{const n=sr(Ki,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(CN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),CN=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=sr(Ki,n),c=y.useRef(null),d=Le(e,c);return ow(),l.jsxs(l.Fragment,{children:[l.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Cf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":uw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(_$,{titleId:a.titleId}),l.jsx(b$,{contentRef:c,descriptionId:a.descriptionId})]})]})}),cw="DialogTitle",NN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(cw,n);return l.jsx(ye.h2,{id:s.titleId,...r,ref:e})});NN.displayName=cw;var kN="DialogDescription",PN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(kN,n);return l.jsx(ye.p,{id:s.descriptionId,...r,ref:e})});PN.displayName=kN;var RN="DialogClose",AN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=sr(RN,n);return l.jsx(ye.button,{type:"button",...r,ref:e,onClick:me(t.onClick,()=>s.onOpenChange(!1))})});AN.displayName=RN;function uw(t){return t?"open":"closed"}var DN="DialogTitleWarning",[UH,jN]=t9(DN,{contentName:Ki,titleName:cw,docsSlug:"dialog"}),_$=({titleId:t})=>{const e=jN(DN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},E$="DialogDescriptionWarning",b$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jN(E$).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},S$=_N,T$=SN,ON=TN,MN=IN,LN=NN,VN=PN,I$=AN;const Xc=S$,C$=T$,FN=y.forwardRef(({className:t,...e},n)=>l.jsx(ON,{ref:n,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));FN.displayName=ON.displayName;const Ra=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(C$,{children:[l.jsx(FN,{}),l.jsxs(MN,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(I$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(da,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ra.displayName=MN.displayName;const Aa=({className:t,...e})=>l.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Aa.displayName="DialogHeader";const Da=y.forwardRef(({className:t,...e},n)=>l.jsx(LN,{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",t),...e}));Da.displayName=LN.displayName;const Df=y.forwardRef(({className:t,...e},n)=>l.jsx(VN,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));Df.displayName=VN.displayName;const le=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));le.displayName="Input";var N$="Label",UN=y.forwardRef((t,e)=>l.jsx(ye.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));UN.displayName=N$;var $N=UN;const k$=nw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=y.forwardRef(({className:t,...e},n)=>l.jsx($N,{ref:n,className:J(k$(),t),...e}));K.displayName=$N.displayName;const Yn=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Yn.displayName="Textarea";function jf(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Of(t){const[e,n]=y.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mf="Checkbox",[P$,$H]=rr(Mf),[R$,dw]=P$(Mf);function A$(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=t,[p,v]=as({prop:n,defaultProp:s??!1,onChange:c,caller:Mf}),[_,g]=y.useState(null),[S,w]=y.useState(null),x=y.useRef(!1),b=_?!!o||!!_.closest("form"):!0,R={checked:p,disabled:i,setChecked:v,control:_,setControl:g,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Hs(s)?!1:s,isFormControl:b,bubbleInput:S,setBubbleInput:w};return l.jsx(R$,{scope:e,...R,children:D$(f)?f(R):r})}var BN="CheckboxTrigger",zN=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:c,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:_}=dw(BN,t),g=Le(s,h),S=y.useRef(c);return y.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>f(S.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,f]),l.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":Hs(c)?"mixed":c,"aria-required":d,"data-state":KN(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:me(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:me(n,w=>{f(x=>Hs(x)?!0:!x),_&&v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});zN.displayName=BN;var hw=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:d,form:h,...f}=t;return l.jsx(A$,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(zN,{...f,ref:e,__scopeCheckbox:n}),p&&l.jsx(GN,{__scopeCheckbox:n})]})})});hw.displayName=Mf;var WN="CheckboxIndicator",HN=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=dw(WN,n);return l.jsx(ds,{present:r||Hs(i.checked)||i.checked===!0,children:l.jsx(ye.span,{"data-state":KN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});HN.displayName=WN;var qN="CheckboxBubbleInput",GN=y.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:v}=dw(qN,t),_=Le(n,v),g=jf(i),S=Of(r);y.useEffect(()=>{const x=p;if(!x)return;const b=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(b,"checked").set,O=!s.current;if(g!==i&&D){const C=new Event("click",{bubbles:O});x.indeterminate=Hs(i),D.call(x,Hs(i)?!1:i),x.dispatchEvent(C)}},[p,g,i,s]);const w=y.useRef(Hs(i)?!1:i);return l.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:c,name:d,value:h,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});GN.displayName=qN;function D$(t){return typeof t=="function"}function Hs(t){return t==="indeterminate"}function KN(t){return Hs(t)?"indeterminate":t?"checked":"unchecked"}const Gg=y.forwardRef(({className:t,...e},n)=>l.jsx(hw,{ref:n,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(HN,{className:J("flex items-center justify-center text-current"),children:l.jsx(QC,{className:"h-4 w-4"})})}));Gg.displayName=hw.displayName;function YN(t){const e=t+"CollectionProvider",[n,r]=rr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:S,children:w}=g,x=Y.useRef(null),b=Y.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:b,collectionRef:x,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=qi(a),d=Y.forwardRef((g,S)=>{const{scope:w,children:x}=g,b=i(a,w),R=Le(S,b.collectionRef);return l.jsx(c,{ref:R,children:x})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=qi(h),v=Y.forwardRef((g,S)=>{const{scope:w,children:x,...b}=g,R=Y.useRef(null),D=Le(S,R),O=i(h,w);return Y.useEffect(()=>(O.itemMap.set(R,{ref:R,...b}),()=>void O.itemMap.delete(R))),l.jsx(p,{[f]:"",ref:D,children:x})});v.displayName=h;function _(g){const S=i(t+"CollectionConsumer",g);return Y.useCallback(()=>{const x=S.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((O,C)=>b.indexOf(O.ref.current)-b.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},_,r]}var j$=y.createContext(void 0);function Lf(t){const e=y.useContext(j$);return t||e||"ltr"}var cm="rovingFocusGroup.onEntryFocus",O$={bubbles:!1,cancelable:!0},Jc="RovingFocusGroup",[Kg,QN,M$]=YN(Jc),[L$,Vf]=rr(Jc,[M$]),[V$,F$]=L$(Jc),XN=y.forwardRef((t,e)=>l.jsx(Kg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Kg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(U$,{...t,ref:e})})}));XN.displayName=Jc;var U$=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=y.useRef(null),v=Le(e,p),_=Lf(i),[g,S]=as({prop:o,defaultProp:a??null,onChange:c,caller:Jc}),[w,x]=y.useState(!1),b=ni(d),R=QN(n),D=y.useRef(!1),[O,C]=y.useState(0);return y.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(cm,b),()=>T.removeEventListener(cm,b)},[b]),l.jsx(V$,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(T=>S(T),[S]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>C(T=>T-1),[]),children:l.jsx(ye.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:me(t.onMouseDown,()=>{D.current=!0}),onFocus:me(t.onFocus,T=>{const I=!D.current;if(T.target===T.currentTarget&&I&&!w){const k=new CustomEvent(cm,O$);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const N=R().filter(q=>q.focusable),j=N.find(q=>q.active),A=N.find(q=>q.id===g),Z=[j,A,...N].filter(Boolean).map(q=>q.ref.current);ek(Z,h)}}D.current=!1}),onBlur:me(t.onBlur,()=>x(!1))})})}),JN="RovingFocusGroupItem",ZN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Qr(),d=i||c,h=F$(JN,n),f=h.currentTabStopId===d,p=QN(n),{onFocusableItemAdd:v,onFocusableItemRemove:_,currentTabStopId:g}=h;return y.useEffect(()=>{if(r)return v(),()=>_()},[r,v,_]),l.jsx(Kg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(ye.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:me(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:me(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:me(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=z$(S,h.orientation,h.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let b=p().filter(R=>R.focusable).map(R=>R.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const R=b.indexOf(S.currentTarget);b=h.loop?W$(b,R+1):b.slice(R+1)}setTimeout(()=>ek(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});ZN.displayName=JN;var $$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function z$(t,e,n){const r=B$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $$[r]}function ek(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function W$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tk=XN,nk=ZN,fw="Radio",[H$,rk]=rr(fw),[q$,G$]=H$(fw),sk=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:c,form:d,...h}=t,[f,p]=y.useState(null),v=Le(e,S=>p(S)),_=y.useRef(!1),g=f?d||!!f.closest("form"):!0;return l.jsxs(q$,{scope:n,checked:s,disabled:o,children:[l.jsx(ye.button,{type:"button",role:"radio","aria-checked":s,"data-state":lk(s),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:v,onClick:me(t.onClick,S=>{s||c==null||c(),g&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),g&&l.jsx(ak,{control:f,bubbles:!_.current,name:r,value:a,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});sk.displayName=fw;var ik="RadioIndicator",ok=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=G$(ik,n);return l.jsx(ds,{present:r||i.checked,children:l.jsx(ye.span,{"data-state":lk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});ok.displayName=ik;var K$="RadioBubbleInput",ak=y.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Le(o,i),c=jf(n),d=Of(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const _=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(_)}},[c,n,r]),l.jsx(ye.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ak.displayName=K$;function lk(t){return t?"checked":"unchecked"}var Y$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ff="RadioGroup",[Q$,BH]=rr(Ff,[Vf,rk]),ck=Vf(),uk=rk(),[X$,J$]=Q$(Ff),dk=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...p}=t,v=ck(n),_=Lf(d),[g,S]=as({prop:i,defaultProp:s??null,onChange:f,caller:Ff});return l.jsx(X$,{scope:n,name:r,required:o,disabled:a,value:g,onValueChange:S,children:l.jsx(tk,{asChild:!0,...v,orientation:c,dir:_,loop:h,children:l.jsx(ye.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:_,...p,ref:e})})})});dk.displayName=Ff;var hk="RadioGroupItem",fk=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=J$(hk,n),o=i.disabled||r,a=ck(n),c=uk(n),d=y.useRef(null),h=Le(e,d),f=i.value===s.value,p=y.useRef(!1);return y.useEffect(()=>{const v=g=>{Y$.includes(g.key)&&(p.current=!0)},_=()=>p.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",_)}},[]),l.jsx(nk,{asChild:!0,...a,focusable:!o,active:f,children:l.jsx(sk,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:me(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:me(s.onFocus,()=>{var v;p.current&&((v=d.current)==null||v.click())})})})});fk.displayName=hk;var Z$="RadioGroupIndicator",pk=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=uk(n);return l.jsx(ok,{...s,...r,ref:e})});pk.displayName=Z$;var mk=dk,gk=fk,eB=pk;const yk=y.forwardRef(({className:t,...e},n)=>l.jsx(mk,{className:J("grid gap-2",t),...e,ref:n}));yk.displayName=mk.displayName;const vk=y.forwardRef(({className:t,...e},n)=>l.jsx(gk,{ref:n,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(eB,{className:"flex items-center justify-center",children:l.jsx(j5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));vk.displayName=gk.displayName;const tB=[{value:"friend",label:"Friend or word of mouth"},{value:"instagram",label:"Instagram"},{value:"eventbrite",label:"Eventbrite"},{value:"google",label:"Google search"},{value:"flyer",label:"Flyer or poster"},{value:"website",label:"Organization website"},{value:"newsletter",label:"Email newsletter"},{value:"other",label:"Other"}];function nB({isOpen:t,onClose:e,eventTitle:n}){const[r,s]=y.useState(""),[i,o]=y.useState(""),[a,c]=y.useState(!1),d=async()=>{if(r){c(!0);try{console.log("How did you hear about us submission:",{eventTitle:n,source:r,otherDetails:r==="other"?i:void 0}),await new Promise(p=>setTimeout(p,500)),e()}catch(p){console.error("Error submitting feedback:",p)}finally{c(!1)}}},h=()=>{e()},f=()=>{s(""),o(""),e()};return l.jsx(Xc,{open:t,onOpenChange:f,children:l.jsxs(Ra,{className:"sm:max-w-md",children:[l.jsx(Aa,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Da,{className:"flex items-center gap-2",children:[l.jsx($5,{className:"h-5 w-5 text-purple-600"}),"Quick Question"]}),l.jsx(se,{variant:"ghost",size:"sm",onClick:f,className:"h-6 w-6 p-0",children:l.jsx(da,{className:"h-4 w-4"})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["How did you hear about ",l.jsx("strong",{children:n}),"?"]}),l.jsx(yk,{value:r,onValueChange:s,children:l.jsx("div",{className:"space-y-3",children:tB.map(p=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vk,{value:p.value,id:p.value}),l.jsx(K,{htmlFor:p.value,className:"text-sm font-normal cursor-pointer",children:p.label})]},p.value))})}),r==="other"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{htmlFor:"other-details",className:"text-sm",children:"Please specify:"}),l.jsx(Yn,{id:"other-details",placeholder:"Tell us how you heard about this event...",value:i,onChange:p=>o(p.target.value),rows:2})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(se,{type:"button",variant:"ghost",onClick:h,className:"flex-1",disabled:a,children:"Skip"}),l.jsx(se,{onClick:d,disabled:!r||a,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":"Submit"})]})]})]})})}function VE({event:t}){const[e,n]=y.useState(!1),[r,s]=y.useState("interest"),[i,o]=y.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(null),[v,_]=y.useState(!1),g=()=>t.status==="sold_out"?"waitlist":t.eventbriteUrl?"eventbrite":t.status==="presale"?"presale":t.registrationRequired||t.price.type==="free"?"interest":null,S=b=>{s(b),n(!0),h(!1),p(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1})},w=async b=>{b.preventDefault(),c(!0),p(null);try{let R;if(r==="waitlist"?R="waitlist":r==="presale"?R="presale_request":R=i.rsvpType,wc()==="firebase")if(console.log(`Creating ${R} via Firebase (development)`),R==="waitlist"){const O={eventId:t.id,organizationId:t.organizationId,name:i.name,email:i.email||"",source:"website"};i.phone&&i.phone.trim()&&(O.phone=i.phone.trim()),i.notes&&i.notes.trim()&&(O.notes=i.notes.trim());const C=await J5(O);console.log(`✅ Waitlist entry created successfully in Firebase (position ${C.position})`)}else{const C={eventId:t.id,organizationId:t.organizationId,name:i.name,email:i.email||"",registrationType:"confirmed",emailSent:!1,source:"website"};i.phone&&i.phone.trim()&&(C.phone=i.phone.trim()),i.notes&&i.notes.trim()&&(C.notes=i.notes.trim()),await Z5(C),console.log("✅ Registration created successfully in Firebase")}else console.log("Creating registration via API"),await rN.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:R,notes:i.notes||void 0,subscribeToUpdates:i.subscribeToUpdates,subscribeToNewsletter:i.subscribeToNewsletter});h(!0),setTimeout(()=>{n(!1),h(!1),_(!0)},2e3)}catch(R){console.error("Error submitting registration:",R),R instanceof Rd?p(R.message):p("Failed to submit registration. Please try again.")}finally{c(!1)}},x=g();return x?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[x==="eventbrite"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",l.jsx($g,{className:"ml-2 h-4 w-4"})]}),x==="presale"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>S("presale"),children:["Presale",l.jsx(os,{className:"ml-2 h-4 w-4"})]}),x==="waitlist"&&l.jsxs(se,{className:"bg-orange-600 hover:bg-orange-700",onClick:()=>S("waitlist"),children:["Join Waitlist",l.jsx(Et,{className:"ml-2 h-4 w-4"})]}),x==="interest"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>S("interest"),children:["I'm Interested",l.jsx(Et,{className:"ml-2 h-4 w-4"})]})]}),l.jsx(Xc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"sm:max-w-md",children:[l.jsxs(Aa,{children:[l.jsx(Da,{className:"flex items-center gap-2",children:r==="waitlist"?l.jsxs(l.Fragment,{children:[l.jsx(Et,{className:"h-5 w-5 text-orange-600"}),"Join Waitlist"]}):r==="presale"?l.jsxs(l.Fragment,{children:[l.jsx(os,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):l.jsxs(l.Fragment,{children:[l.jsx(Et,{className:"h-5 w-5 text-purple-600"}),"Express Interest"]})}),l.jsx(Df,{children:r==="waitlist"?l.jsxs(l.Fragment,{children:["Join the waitlist for ",l.jsx("strong",{children:t.title}),". You'll be contacted in order if spots become available."]}):r==="presale"?l.jsxs(l.Fragment,{children:["Get notified when tickets become available for ",l.jsx("strong",{children:t.title})]}):l.jsxs(l.Fragment,{children:["Let us know your level of interest in ",l.jsx("strong",{children:t.title})]})})]}),d?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(XC,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="waitlist"?"Added to Waitlist!":r==="presale"?"Request Sent!":"Interest Submitted!"}),l.jsx("p",{className:"text-gray-600",children:r==="waitlist"?"You've been added to the waitlist. The organizer will contact you in order if spots become available.":r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for expressing your interest! This helps the organizer gauge event popularity."})]}):l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{htmlFor:"name",children:"Name *"}),l.jsx(le,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:b=>o(R=>({...R,name:b.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(K,{htmlFor:"email",children:["Email ",r==="presale"||r==="waitlist"?"*":"(optional)"]}),l.jsx(le,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:b=>o(R=>({...R,email:b.target.value})),required:r==="presale"||r==="waitlist"})]}),r==="interest"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{children:"How interested are you?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(b=>({...b,rsvpType:"rsvp_yes"})),children:"Very Interested"}),l.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(b=>({...b,rsvpType:"rsvp_maybe"})),children:"Somewhat Interested"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(Yn,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:b=>o(R=>({...R,notes:b.target.value})),rows:2})]}),i.email&&l.jsxs("div",{className:"space-y-3 border-t pt-4",children:[l.jsx(K,{className:"text-sm font-medium",children:"Email Alerts (optional)"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Gg,{id:"subscribe-updates",checked:i.subscribeToUpdates,onCheckedChange:b=>o(R=>({...R,subscribeToUpdates:!!b}))}),l.jsx(K,{htmlFor:"subscribe-updates",className:"text-sm font-normal cursor-pointer",children:"Get updates about this event"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Gg,{id:"subscribe-newsletter",checked:i.subscribeToNewsletter,onCheckedChange:b=>o(R=>({...R,subscribeToNewsletter:!!b}))}),l.jsx(K,{htmlFor:"subscribe-newsletter",className:"text-sm font-normal cursor-pointer",children:"Subscribe to organization newsletter"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Managed by event organizers. You can unsubscribe at any time."})]}),f&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(se,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),l.jsx(se,{type:"submit",disabled:a||!i.name||(r==="presale"||r==="waitlist")&&!i.email,className:`flex-1 ${r==="waitlist"?"bg-orange-600 hover:bg-orange-700":"bg-purple-600 hover:bg-purple-700"}`,children:a?"Submitting...":r==="waitlist"?"Join Waitlist":r==="presale"?"Send Request":"Submit Interest"})]})]})]})}),l.jsx(nB,{isOpen:v,onClose:()=>_(!1),eventTitle:t.title})]}):null}function rB({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:c,error:d}=lN(t),[h,f]=y.useState([]),p=v=>{f(_=>_.includes(v)?_.filter(g=>g!==v):[..._,v])};return c?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Gi,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):d?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",d]}),l.jsx(se,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?l.jsxs("div",{className:"min-h-screen bg-white",children:[s&&nN("adminControls")&&l.jsx("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:l.jsx(ac,{to:`/${t}/admin`,children:l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[l.jsx(eN,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})})}),l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:o.name}),l.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.background})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("All events:",a.map(S=>({id:S.id,title:S.title,status:S.status})));const v=a.filter(S=>{const w=S.status||"published";return["published","presale","sold_out"].includes(w)});console.log("Published events:",v.map(S=>({id:S.id,title:S.title,status:S.status})));const _=v.filter(S=>!S.isRecurring),g=v.filter(S=>S.isRecurring);return{publishedEvents:v,mainEvents:_,recurringEvents:g}})().publishedEvents.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsxs("div",{className:"space-y-12",children:[(()=>{const _=a.filter(g=>{const S=g.status||"published";return["published","presale","sold_out"].includes(S)}).filter(g=>!g.isRecurring);return _.length>0&&l.jsx("div",{className:"space-y-6",children:_.map(g=>l.jsx(ue,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.status==="sold_out"&&l.jsx(ct,{className:"bg-red-600 text-white",children:"SOLD OUT"}),g.status==="presale"&&l.jsx(ct,{className:"bg-purple-600 text-white",children:"PRESALE"}),g.isRecurring&&l.jsxs(ct,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(tm,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-4 w-4 mr-2"}),g.date instanceof Date?g.date.toLocaleDateString():new Date(g.date).toLocaleDateString()," • ",g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx($l,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.type==="group_deal"&&g.price.groupDealDetails?`${g.price.groupDealDetails.minimumPeople}+ people: $${g.price.groupDealDetails.pricePerPerson}/person (reg. $${g.price.groupDealDetails.normalPricePerPerson}/person)`:g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(VE,{event:g}),l.jsxs(se,{variant:"outline",onClick:()=>p(g.id),className:"flex items-center gap-2",children:["Details",h.includes(g.id)?l.jsx(Ug,{className:"h-4 w-4"}):l.jsx(vc,{className:"h-4 w-4"})]})]})]}),h.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:g.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",g.address]})})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((S,w)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:S.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[S.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:S.description})]})]},w))})]})]})]})})},g.id))})})(),(()=>{const _=a.filter(g=>{const S=g.status||"published";return["published","presale","sold_out"].includes(S)}).filter(g=>g.isRecurring);return _.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[l.jsx(tm,{className:"h-6 w-6"}),"Recurring Events"]}),l.jsx("div",{className:"space-y-6",children:_.map(g=>l.jsx(ue,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.status==="sold_out"&&l.jsx(ct,{className:"bg-red-600 text-white",children:"SOLD OUT"}),g.status==="presale"&&l.jsx(ct,{className:"bg-purple-600 text-white",children:"PRESALE"}),l.jsxs(ct,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(tm,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-4 w-4 mr-2"}),g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx($l,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.type==="group_deal"&&g.price.groupDealDetails?`${g.price.groupDealDetails.minimumPeople}+ people: $${g.price.groupDealDetails.pricePerPerson}/person (reg. $${g.price.groupDealDetails.normalPricePerPerson}/person)`:g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(VE,{event:g}),l.jsxs(se,{variant:"outline",onClick:()=>p(g.id),className:"flex items-center gap-2",children:["Details & Schedule",h.includes(g.id)?l.jsx(Ug,{className:"h-4 w-4"}):l.jsx(vc,{className:"h-4 w-4"})]})]})]}),h.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-700",children:g.series.description})]}),g.fullDescription&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.fullDescription})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Location"}),l.jsx("p",{className:"text-gray-700",children:g.address})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Upcoming Schedule"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((S,w)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:S.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[S.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:S.description})]})]},w))})]})]})]})})},g.id))})]})})()]})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?l.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),l.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&l.jsxs(l.Fragment,{children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((v,_)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),v]},_))})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&l.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:l.jsx(F5,{className:"h-6 w-6"})}),o.socialLinks.website&&l.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:l.jsx($g,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&l.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Et,{className:"h-6 w-6"})}),o.socialLinks.venmo&&l.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:l.jsx(O5,{className:"h-6 w-6"})}),o.socialLinks.other&&l.jsx("a",{href:o.socialLinks.other,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Other Social Link",target:"_blank",rel:"noopener noreferrer",children:l.jsx($g,{className:"h-6 w-6"})}),l.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:l.jsx(os,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx($l,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(os,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function sB(){const{orgSlug:t}=DT();return t?l.jsx(rB,{organizationSlug:t,showAdminControls:!1}):l.jsx("div",{children:"Organization not found"})}var Uf="Tabs",[iB,zH]=rr(Uf,[Vf]),wk=Vf(),[oB,pw]=iB(Uf),xk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Lf(a),[f,p]=as({prop:r,onChange:s,defaultProp:i??"",caller:Uf});return l.jsx(oB,{scope:n,baseId:Qr(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:l.jsx(ye.div,{dir:h,"data-orientation":o,...d,ref:e})})});xk.displayName=Uf;var _k="TabsList",Ek=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=pw(_k,n),o=wk(n);return l.jsx(tk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(ye.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Ek.displayName=_k;var bk="TabsTrigger",Sk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=pw(bk,n),a=wk(n),c=Ck(o.baseId,r),d=Nk(o.baseId,r),h=r===o.value;return l.jsx(nk,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(ye.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:me(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:me(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:me(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});Sk.displayName=bk;var Tk="TabsContent",Ik=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=pw(Tk,n),c=Ck(a.baseId,r),d=Nk(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(ds,{present:s||h,children:({present:p})=>l.jsx(ye.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Ik.displayName=Tk;function Ck(t,e){return`${t}-trigger-${e}`}function Nk(t,e){return`${t}-content-${e}`}var aB=xk,kk=Ek,Pk=Sk,Rk=Ik;const lB=aB,Ak=y.forwardRef(({className:t,...e},n)=>l.jsx(kk,{ref:n,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ak.displayName=kk.displayName;const _l=y.forwardRef(({className:t,...e},n)=>l.jsx(Pk,{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));_l.displayName=Pk.displayName;const El=y.forwardRef(({className:t,...e},n)=>l.jsx(Rk,{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));El.displayName=Rk.displayName;function cB({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=y.useState({name:t.name,description:t.description,background:t.background,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",aboutImageUrl:t.aboutImageUrl||"",aboutStory:t.aboutStory||"",aboutOfferings:t.aboutOfferings&&t.aboutOfferings.length>0?t.aboutOfferings:[""],socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||"",other:t.socialLinks.other||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress}}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(!1),[v,_]=y.useState(!1),g=s||a,S=(I,k)=>{o(N=>({...N,[I]:k}))},w=(I,k,N)=>{o(j=>({...j,[I]:{...j[I],[k]:N}}))},x=async I=>{var A;const k=(A=I.target.files)==null?void 0:A[0];if(!k)return;if(!["image/svg+xml","image/jpeg","image/jpg","image/png"].includes(k.type)){alert("Please upload a valid image file (SVG, JPEG, or PNG)");return}const j=5*1024*1024;if(k.size>j){alert("File size must be less than 5MB");return}h(!0);try{const $=new FileReader;$.onload=Z=>{var X;const q=(X=Z.target)==null?void 0:X.result;o(L=>({...L,logoUrl:q})),h(!1)},$.onerror=()=>{alert("Error reading file"),h(!1)},$.readAsDataURL(k)}catch($){console.error("Error uploading logo:",$),alert("Error uploading file"),h(!1)}},b=async I=>{var A;const k=(A=I.target.files)==null?void 0:A[0];if(!k)return;if(!["image/jpeg","image/jpg","image/png"].includes(k.type)){alert("Please upload a valid image file (JPEG or PNG)");return}const j=10*1024*1024;if(k.size>j){alert("File size must be less than 10MB");return}p(!0);try{const $=new FileReader;$.onload=Z=>{var X;const q=(X=Z.target)==null?void 0:X.result;o(L=>({...L,bannerUrl:q})),p(!1)},$.onerror=()=>{alert("Error reading file"),p(!1)},$.readAsDataURL(k)}catch($){console.error("Error uploading hero image:",$),alert("Error uploading file"),p(!1)}},R=async I=>{var A;const k=(A=I.target.files)==null?void 0:A[0];if(!k)return;if(!["image/jpeg","image/jpg","image/png"].includes(k.type)){alert("Please upload a valid image file (JPEG or PNG)");return}const j=10*1024*1024;if(k.size>j){alert("File size must be less than 10MB");return}_(!0);try{const $=new FileReader;$.onload=Z=>{var X;const q=(X=Z.target)==null?void 0:X.result;o(L=>({...L,aboutImageUrl:q})),_(!1)},$.onerror=()=>{alert("Error reading file"),_(!1)},$.readAsDataURL(k)}catch($){console.error("Error uploading about image:",$),alert("Error uploading file"),_(!1)}},D=()=>{o(I=>({...I,aboutOfferings:[...I.aboutOfferings,""]}))},O=I=>{o(k=>({...k,aboutOfferings:k.aboutOfferings.filter((N,j)=>j!==I)}))},C=(I,k)=>{o(N=>({...N,aboutOfferings:N.aboutOfferings.map((j,A)=>A===I?k:j)}))},T=async I=>{I.preventDefault(),s||c(!0);try{const k=i.aboutOfferings.filter($=>$.trim()!==""),N={...i,settings:{...i.settings,theme:{primaryColor:"#8b5cf6",backgroundColor:"#ffffff"}}};k.length>0&&(N.aboutOfferings=k);const j=$=>{if($===null||typeof $!="object")return $;const Z={};for(const[q,X]of Object.entries($))X!==void 0&&(typeof X=="object"&&X!==null?Z[q]=j(X):Z[q]=X);return Z},A=j(N);await e(A)}catch(k){console.error("Failed to save organization:",k)}finally{s||c(!1)}};return l.jsxs("div",{className:r?"":"p-6",children:[!r&&l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),l.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),l.jsxs(se,{onClick:n,variant:"outline",size:"sm",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),l.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Basic Information"}),l.jsx(en,{children:"Core details about your organization"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"name",children:"Organization Name"}),l.jsx(le,{id:"name",value:i.name,onChange:I=>S("name",I.target.value),placeholder:"Organization Name"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"contactEmail",children:"Contact Email"}),l.jsx(le,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:I=>S("contactEmail",I.target.value),placeholder:"contact@organization.com"})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"description",children:"Short Description"}),l.jsx(le,{id:"description",value:i.description,onChange:I=>S("description",I.target.value),placeholder:"Brief description for headers and previews"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"background",children:"Short Description"}),l.jsx(Yn,{id:"background",value:i.background,onChange:I=>S("background",I.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Default Location"}),l.jsx(en,{children:"Default venue information for events"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"defaultLocation",children:"Venue Name"}),l.jsx(le,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:I=>w("settings","defaultLocation",I.target.value),placeholder:"Venue Name"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"defaultAddress",children:"Address"}),l.jsx(le,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:I=>w("settings","defaultAddress",I.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Media & Branding"}),l.jsx(en,{children:"Images and visual identity for your organization"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"logoFile",children:"Logo Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"logoFile",type:"file",accept:".svg,.jpeg,.jpg,.png",onChange:x,disabled:d,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),d&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading logo..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: SVG, JPEG, PNG. Max size: 5MB"}),i.logoUrl&&!d&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("img",{src:i.logoUrl,alt:"Logo preview",className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Current logo"})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"heroFile",children:"Hero Background Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"heroFile",type:"file",accept:".jpeg,.jpg,.png",onChange:b,disabled:f,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),f&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading hero background..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPEG, PNG. Max size: 10MB. Recommended: 1200x400px or larger"}),i.bannerUrl&&!f&&l.jsxs("div",{className:"mt-3",children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Preview:"}),l.jsxs("div",{className:"mt-1 relative h-32 rounded-lg overflow-hidden border border-gray-200",children:[l.jsx("img",{src:i.bannerUrl,alt:"Hero background preview",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium",children:"Hero Background Preview"})})]})]})]})]})]})]}),l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"About Section"}),l.jsx(en,{children:"Content and images for your organization's about section"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"aboutImageFile",children:"About Image Upload"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{id:"aboutImageFile",type:"file",accept:".jpeg,.jpg,.png",onChange:R,disabled:v,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50 disabled:cursor-not-allowed"}),v&&l.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[l.jsx("span",{className:"animate-spin",children:"⭐"}),"Uploading about image..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPEG, PNG. Max size: 10MB. Recommended: 600x400px or larger"}),i.aboutImageUrl&&!v&&l.jsxs("div",{className:"mt-3",children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Preview:"}),l.jsx("div",{className:"mt-1 relative h-32 rounded-lg overflow-hidden border border-gray-200",children:l.jsx("img",{src:i.aboutImageUrl,alt:"About image preview",className:"w-full h-full object-cover"})})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"aboutStory",children:"Our Story"}),l.jsx(Yn,{id:"aboutStory",value:i.aboutStory,onChange:I=>S("aboutStory",I.target.value),placeholder:"Tell the story of your organization - how it started, your mission, and what makes you unique...",rows:6})]}),l.jsxs("div",{children:[l.jsx(K,{children:"What We Offer"}),l.jsxs("div",{className:"space-y-2",children:[i.aboutOfferings.map((I,k)=>l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(le,{value:I,onChange:N=>C(k,N.target.value),placeholder:"e.g., Weekly open studio sessions with shared materials",className:"flex-1"}),i.aboutOfferings.length>1&&l.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:()=>O(k),children:l.jsx(da,{className:"h-4 w-4"})})]},k)),l.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:D,className:"mt-2",children:"Add Offering"})]})]})]})]}),l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Social Media & Links"}),l.jsx(en,{children:"Connect your social media accounts and external links"})]}),l.jsx(fe,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"instagram",children:"Instagram Handle"}),l.jsx(le,{id:"instagram",value:i.socialLinks.instagram,onChange:I=>w("socialLinks","instagram",I.target.value),placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"website",children:"Website URL"}),l.jsx(le,{id:"website",value:i.socialLinks.website,onChange:I=>w("socialLinks","website",I.target.value),placeholder:"https://yourwebsite.com"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"eventbrite",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:I=>w("socialLinks","eventbrite",I.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"venmo",children:"Venmo Handle"}),l.jsx(le,{id:"venmo",value:i.socialLinks.venmo,onChange:I=>w("socialLinks","venmo",I.target.value),placeholder:"@yourvenmo"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"other",children:"Other Social Link"}),l.jsx(le,{id:"other",value:i.socialLinks.other,onChange:I=>w("socialLinks","other",I.target.value),placeholder:"https://linktr.ee/yourpage"})]})]})})]}),!r&&l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:g,children:[l.jsx(SE,{className:"h-4 w-4 mr-2"}),g?"Saving...":"Save Changes"]})]}),r&&l.jsx("div",{className:"sticky bottom-6 flex justify-center",children:l.jsxs(se,{type:"submit",disabled:g,className:"shadow-lg",size:"lg",children:[l.jsx(SE,{className:"h-4 w-4 mr-2"}),g?"Saving...":"Save Changes"]})})]})]})}function FE(t,[e,n]){return Math.min(n,Math.max(e,t))}const uB=["top","right","bottom","left"],ri=Math.min,yn=Math.max,Ph=Math.round,id=Math.floor,br=t=>({x:t,y:t}),dB={left:"right",right:"left",bottom:"top",top:"bottom"},hB={start:"end",end:"start"};function Yg(t,e,n){return yn(t,ri(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function ja(t){return t.split("-")[1]}function mw(t){return t==="x"?"y":"x"}function gw(t){return t==="y"?"height":"width"}const fB=new Set(["top","bottom"]);function hr(t){return fB.has(cs(t))?"y":"x"}function yw(t){return mw(hr(t))}function pB(t,e,n){n===void 0&&(n=!1);const r=ja(t),s=yw(t),i=gw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Rh(o)),[o,Rh(o)]}function mB(t){const e=Rh(t);return[Qg(t),e,Qg(e)]}function Qg(t){return t.replace(/start|end/g,e=>hB[e])}const UE=["left","right"],$E=["right","left"],gB=["top","bottom"],yB=["bottom","top"];function vB(t,e,n){switch(t){case"top":case"bottom":return n?e?$E:UE:e?UE:$E;case"left":case"right":return e?gB:yB;default:return[]}}function wB(t,e,n,r){const s=ja(t);let i=vB(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Qg)))),i}function Rh(t){return t.replace(/left|right|bottom|top/g,e=>dB[e])}function xB(t){return{top:0,right:0,bottom:0,left:0,...t}}function Dk(t){return typeof t!="number"?xB(t):{top:t,right:t,bottom:t,left:t}}function Ah(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function BE(t,e,n){let{reference:r,floating:s}=t;const i=hr(e),o=yw(e),a=gw(o),c=cs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(ja(e)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const _B=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=BE(d,r,c),p=r,v={},_=0;for(let g=0;g<a.length;g++){const{name:S,fn:w}=a[g],{x,y:b,data:R,reset:D}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=x??h,f=b??f,v={...v,[S]:{...v[S],...R}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=BE(d,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function _c(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=ls(e,t),_=Dk(v),S=a[p?f==="floating"?"reference":"floating":f],w=Ah(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Ah(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-D.top+_.top)/R.y,bottom:(D.bottom-w.bottom+_.bottom)/R.y,left:(w.left-D.left+_.left)/R.x,right:(D.right-w.right+_.right)/R.x}}const EB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=ls(t,e)||{};if(d==null)return{};const f=Dk(h),p={x:n,y:r},v=yw(s),_=gw(v),g=await o.getDimensions(d),S=v==="y",w=S?"top":"left",x=S?"bottom":"right",b=S?"clientHeight":"clientWidth",R=i.reference[_]+i.reference[v]-p[v]-i.floating[_],D=p[v]-i.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=O?O[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[b]||i.floating[_]);const T=R/2-D/2,I=C/2-g[_]/2-1,k=ri(f[w],I),N=ri(f[x],I),j=k,A=C-g[_]-N,$=C/2-g[_]/2+T,Z=Yg(j,$,A),q=!c.arrow&&ja(s)!=null&&$!==Z&&i.reference[_]/2-($<j?k:N)-g[_]/2<0,X=q?$<j?$-j:$-A:0;return{[v]:p[v]+X,data:{[v]:Z,centerOffset:$-Z-X,...q&&{alignmentOffset:X}},reset:q}}}),bB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...S}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=cs(s),x=hr(a),b=cs(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=p||(b||!g?[Rh(a)]:mB(a)),O=_!=="none";!p&&O&&D.push(...wB(a,g,_,R));const C=[a,...D],T=await _c(e,S),I=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(T[w]),f){const $=pB(s,o,R);I.push(T[$[0]],T[$[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every($=>$<=0)){var N,j;const $=(((N=i.flip)==null?void 0:N.index)||0)+1,Z=C[$];if(Z&&(!(f==="alignment"?x!==hr(Z):!1)||k.every(L=>hr(L.placement)===x?L.overflows[0]>0:!0)))return{data:{index:$,overflows:k},reset:{placement:Z}};let q=(j=k.filter(X=>X.overflows[0]<=0).sort((X,L)=>X.overflows[1]-L.overflows[1])[0])==null?void 0:j.placement;if(!q)switch(v){case"bestFit":{var A;const X=(A=k.filter(L=>{if(O){const V=hr(L.placement);return V===x||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,W)=>V+W,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:A[0];X&&(q=X);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function zE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WE(t){return uB.some(e=>t[e]>=0)}const SB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await _c(e,{...s,elementContext:"reference"}),o=zE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WE(o)}}}case"escaped":{const i=await _c(e,{...s,altBoundary:!0}),o=zE(i,n.floating);return{data:{escapedOffsets:o,escaped:WE(o)}}}default:return{}}}}},jk=new Set(["left","top"]);async function TB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=ja(n),c=hr(n)==="y",d=jk.has(o)?-1:1,h=i&&c?-1:1,f=ls(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(v=a==="end"?_*-1:_),c?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const IB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await TB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},CB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:w,y:x}=S;return{x:w,y:x}}},...c}=ls(t,e),d={x:n,y:r},h=await _c(e,c),f=hr(cs(s)),p=mw(f);let v=d[p],_=d[f];if(i){const S=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=v+h[S],b=v-h[w];v=Yg(x,v,b)}if(o){const S=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=_+h[S],b=_-h[w];_=Yg(x,_,b)}const g=a.fn({...e,[p]:v,[f]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},NB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ls(t,e),h={x:n,y:r},f=hr(s),p=mw(f);let v=h[p],_=h[f];const g=ls(a,e),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=p==="y"?"height":"width",R=i.reference[p]-i.floating[b]+S.mainAxis,D=i.reference[p]+i.reference[b]-S.mainAxis;v<R?v=R:v>D&&(v=D)}if(d){var w,x;const b=p==="y"?"width":"height",R=jk.has(cs(s)),D=i.reference[f]-i.floating[b]+(R&&((w=o.offset)==null?void 0:w[f])||0)+(R?0:S.crossAxis),O=i.reference[f]+i.reference[b]+(R?0:((x=o.offset)==null?void 0:x[f])||0)-(R?S.crossAxis:0);_<D?_=D:_>O&&(_=O)}return{[p]:v,[f]:_}}}},kB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=ls(t,e),h=await _c(e,d),f=cs(s),p=ja(s),v=hr(s)==="y",{width:_,height:g}=i.floating;let S,w;f==="top"||f==="bottom"?(S=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,S=p==="end"?"top":"bottom");const x=g-h.top-h.bottom,b=_-h.left-h.right,R=ri(g-h[S],x),D=ri(_-h[w],b),O=!e.middlewareData.shift;let C=R,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),O&&!p){const k=yn(h.left,0),N=yn(h.right,0),j=yn(h.top,0),A=yn(h.bottom,0);v?T=_-2*(k!==0||N!==0?k+N:yn(h.left,h.right)):C=g-2*(j!==0||A!==0?j+A:yn(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:C});const I=await o.getDimensions(a.floating);return _!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function Oa(t){return Ok(t)?(t.nodeName||"").toLowerCase():"#document"}function En(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pr(t){var e;return(e=(Ok(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ok(t){return $f()?t instanceof Node||t instanceof En(t).Node:!1}function er(t){return $f()?t instanceof Element||t instanceof En(t).Element:!1}function Cr(t){return $f()?t instanceof HTMLElement||t instanceof En(t).HTMLElement:!1}function HE(t){return!$f()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof En(t).ShadowRoot}const PB=new Set(["inline","contents"]);function Zc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!PB.has(s)}const RB=new Set(["table","td","th"]);function AB(t){return RB.has(Oa(t))}const DB=[":popover-open",":modal"];function Bf(t){return DB.some(e=>{try{return t.matches(e)}catch{return!1}})}const jB=["transform","translate","scale","rotate","perspective"],OB=["transform","translate","scale","rotate","perspective","filter"],MB=["paint","layout","strict","content"];function vw(t){const e=ww(),n=er(t)?tr(t):t;return jB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||OB.some(r=>(n.willChange||"").includes(r))||MB.some(r=>(n.contain||"").includes(r))}function LB(t){let e=si(t);for(;Cr(e)&&!ha(e);){if(vw(e))return e;if(Bf(e))return null;e=si(e)}return null}function ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VB=new Set(["html","body","#document"]);function ha(t){return VB.has(Oa(t))}function tr(t){return En(t).getComputedStyle(t)}function zf(t){return er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function si(t){if(Oa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HE(t)&&t.host||Pr(t);return HE(e)?e.host:e}function Mk(t){const e=si(t);return ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cr(e)&&Zc(e)?e:Mk(e)}function Ec(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Mk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=En(s);if(i){const a=Xg(o);return e.concat(o,o.visualViewport||[],Zc(s)?s:[],a&&n?Ec(a):[])}return e.concat(s,Ec(s,[],n))}function Xg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lk(t){const e=tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ph(n)!==i||Ph(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function xw(t){return er(t)?t:t.contextElement}function Xo(t){const e=xw(t);if(!Cr(e))return br(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Lk(e);let o=(i?Ph(n.width):n.width)/r,a=(i?Ph(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const FB=br(0);function Vk(t){const e=En(t);return!ww()||!e.visualViewport?FB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==En(t)?!1:e}function Yi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=xw(t);let o=br(1);e&&(r?er(r)&&(o=Xo(r)):o=Xo(t));const a=UB(i,n,r)?Vk(i):br(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=En(i),v=r&&er(r)?En(r):r;let _=p,g=Xg(_);for(;g&&r&&v!==_;){const S=Xo(g),w=g.getBoundingClientRect(),x=tr(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*S.x,R=w.top+(g.clientTop+parseFloat(x.paddingTop))*S.y;c*=S.x,d*=S.y,h*=S.x,f*=S.y,c+=b,d+=R,_=En(g),g=Xg(_)}}return Ah({width:h,height:f,x:c,y:d})}function _w(t,e){const n=zf(t).scrollLeft;return e?e.left+n:Yi(Pr(t)).left+n}function Fk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:_w(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function $B(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Pr(r),a=e?Bf(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=br(1);const h=br(0),f=Cr(r);if((f||!f&&!i)&&((Oa(r)!=="body"||Zc(o))&&(c=zf(r)),Cr(r))){const v=Yi(r);d=Xo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=o&&!f&&!i?Fk(o,c,!0):br(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function BB(t){return Array.from(t.getClientRects())}function zB(t){const e=Pr(t),n=zf(t),r=t.ownerDocument.body,s=yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_w(t);const a=-n.scrollTop;return tr(r).direction==="rtl"&&(o+=yn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function WB(t,e){const n=En(t),r=Pr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=ww();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const HB=new Set(["absolute","fixed"]);function qB(t,e){const n=Yi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cr(t)?Xo(t):br(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function qE(t,e,n){let r;if(e==="viewport")r=WB(t,n);else if(e==="document")r=zB(Pr(t));else if(er(e))r=qB(e,n);else{const s=Vk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ah(r)}function Uk(t,e){const n=si(t);return n===e||!er(n)||ha(n)?!1:tr(n).position==="fixed"||Uk(n,e)}function GB(t,e){const n=e.get(t);if(n)return n;let r=Ec(t,[],!1).filter(a=>er(a)&&Oa(a)!=="body"),s=null;const i=tr(t).position==="fixed";let o=i?si(t):t;for(;er(o)&&!ha(o);){const a=tr(o),c=vw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&HB.has(s.position)||Zc(o)&&!c&&Uk(t,o))?r=r.filter(h=>h!==o):s=a,o=si(o)}return e.set(t,r),r}function KB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bf(e)?[]:GB(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=qE(e,h,s);return d.top=yn(f.top,d.top),d.right=ri(f.right,d.right),d.bottom=ri(f.bottom,d.bottom),d.left=yn(f.left,d.left),d},qE(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YB(t){const{width:e,height:n}=Lk(t);return{width:e,height:n}}function QB(t,e,n){const r=Cr(e),s=Pr(e),i=n==="fixed",o=Yi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=br(0);function d(){c.x=_w(s)}if(r||!r&&!i)if((Oa(e)!=="body"||Zc(s))&&(a=zf(e)),r){const v=Yi(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?Fk(s,a):br(0),f=o.left+a.scrollLeft-c.x-h.x,p=o.top+a.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function um(t){return tr(t).position==="static"}function GE(t,e){if(!Cr(t)||tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pr(t)===n&&(n=n.ownerDocument.body),n}function $k(t,e){const n=En(t);if(Bf(t))return n;if(!Cr(t)){let s=si(t);for(;s&&!ha(s);){if(er(s)&&!um(s))return s;s=si(s)}return n}let r=GE(t,e);for(;r&&AB(r)&&um(r);)r=GE(r,e);return r&&ha(r)&&um(r)&&!vw(r)?n:r||LB(t)||n}const XB=async function(t){const e=this.getOffsetParent||$k,n=this.getDimensions,r=await n(t.floating);return{reference:QB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JB(t){return tr(t).direction==="rtl"}const ZB={convertOffsetParentRelativeRectToViewportRelativeRect:$B,getDocumentElement:Pr,getClippingRect:KB,getOffsetParent:$k,getElementRects:XB,getClientRects:BB,getDimensions:YB,getScale:Xo,isElement:er,isRTL:JB};function Bk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ez(t,e){let n=null,r;const s=Pr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=d;if(a||e(),!p||!v)return;const _=id(f),g=id(s.clientWidth-(h+p)),S=id(s.clientHeight-(f+v)),w=id(h),b={rootMargin:-_+"px "+-g+"px "+-S+"px "+-w+"px",threshold:yn(0,ri(1,c))||1};let R=!0;function D(O){const C=O[0].intersectionRatio;if(C!==c){if(!R)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Bk(d,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(D,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return o(!0),i}function tz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=xw(t),h=s||i?[...d?Ec(d):[],...Ec(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=d&&a?ez(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let _,g=c?Yi(t):null;c&&S();function S(){const w=Yi(t);g&&!Bk(g,w)&&n(),g=w,_=requestAnimationFrame(S)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(_)}}const nz=IB,rz=CB,sz=bB,iz=kB,oz=SB,KE=EB,az=NB,lz=(t,e,n)=>{const r=new Map,s={platform:ZB,...n},i={...s.platform,_c:r};return _B(t,e,{...s,platform:i})};var cz=typeof document<"u",uz=function(){},jd=cz?y.useLayoutEffect:uz;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Dh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YE(t,e){const n=zk(t);return Math.round(e*n)/n}function dm(t){const e=y.useRef(t);return jd(()=>{e.current=t}),e}function dz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=y.useState(r);Dh(p,r)||v(r);const[_,g]=y.useState(null),[S,w]=y.useState(null),x=y.useCallback(L=>{L!==O.current&&(O.current=L,g(L))},[]),b=y.useCallback(L=>{L!==C.current&&(C.current=L,w(L))},[]),R=i||_,D=o||S,O=y.useRef(null),C=y.useRef(null),T=y.useRef(h),I=c!=null,k=dm(c),N=dm(s),j=dm(d),A=y.useCallback(()=>{if(!O.current||!C.current)return;const L={placement:e,strategy:n,middleware:p};N.current&&(L.platform=N.current),lz(O.current,C.current,L).then(V=>{const W={...V,isPositioned:j.current!==!1};$.current&&!Dh(T.current,W)&&(T.current=W,va.flushSync(()=>{f(W)}))})},[p,e,n,N,j]);jd(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const $=y.useRef(!1);jd(()=>($.current=!0,()=>{$.current=!1}),[]),jd(()=>{if(R&&(O.current=R),D&&(C.current=D),R&&D){if(k.current)return k.current(R,D,A);A()}},[R,D,A,k,I]);const Z=y.useMemo(()=>({reference:O,floating:C,setReference:x,setFloating:b}),[x,b]),q=y.useMemo(()=>({reference:R,floating:D}),[R,D]),X=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!q.floating)return L;const V=YE(q.floating,h.x),W=YE(q.floating,h.y);return a?{...L,transform:"translate("+V+"px, "+W+"px)",...zk(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:W}},[n,a,q.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:A,refs:Z,elements:q,floatingStyles:X}),[h,A,Z,q,X])}const hz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?KE({element:r.current,padding:s}).fn(n):{}:r?KE({element:r,padding:s}).fn(n):{}}}},fz=(t,e)=>({...nz(t),options:[t,e]}),pz=(t,e)=>({...rz(t),options:[t,e]}),mz=(t,e)=>({...az(t),options:[t,e]}),gz=(t,e)=>({...sz(t),options:[t,e]}),yz=(t,e)=>({...iz(t),options:[t,e]}),vz=(t,e)=>({...oz(t),options:[t,e]}),wz=(t,e)=>({...hz(t),options:[t,e]});var xz="Arrow",Wk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(ye.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wk.displayName=xz;var _z=Wk,Ew="Popper",[Hk,Wf]=rr(Ew),[Ez,qk]=Hk(Ew),Gk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return l.jsx(Ez,{scope:e,anchor:r,onAnchorChange:s,children:n})};Gk.displayName=Ew;var Kk="PopperAnchor",Yk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qk(Kk,n),o=y.useRef(null),a=Le(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(ye.div,{...s,ref:a})});Yk.displayName=Kk;var bw="PopperContent",[bz,Sz]=Hk(bw),Qk=y.forwardRef((t,e)=>{var re,je,Ze,Ae,Ne,ke;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:_,...g}=t,S=qk(bw,n),[w,x]=y.useState(null),b=Le(e,yt=>x(yt)),[R,D]=y.useState(null),O=Of(R),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(d)?d:[d],j=N.length>0,A={padding:k,boundary:N.filter(Iz),altBoundary:j},{refs:$,floatingStyles:Z,placement:q,isPositioned:X,middlewareData:L}=dz({strategy:"fixed",placement:I,whileElementsMounted:(...yt)=>tz(...yt,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[fz({mainAxis:s+T,alignmentAxis:o}),c&&pz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mz():void 0,...A}),c&&gz({...A}),yz({...A,apply:({elements:yt,rects:kt,availableWidth:Ln,availableHeight:ir})=>{const{width:Ar,height:Va}=kt.reference,Dr=yt.floating.style;Dr.setProperty("--radix-popper-available-width",`${Ln}px`),Dr.setProperty("--radix-popper-available-height",`${ir}px`),Dr.setProperty("--radix-popper-anchor-width",`${Ar}px`),Dr.setProperty("--radix-popper-anchor-height",`${Va}px`)}}),R&&wz({element:R,padding:a}),Cz({arrowWidth:C,arrowHeight:T}),p&&vz({strategy:"referenceHidden",...A})]}),[V,W]=Zk(q),ee=ni(_);Qt(()=>{X&&(ee==null||ee())},[X,ee]);const ie=(re=L.arrow)==null?void 0:re.x,z=(je=L.arrow)==null?void 0:je.y,ce=((Ze=L.arrow)==null?void 0:Ze.centerOffset)!==0,[xe,be]=y.useState();return Qt(()=>{w&&be(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:X?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Ae=L.transformOrigin)==null?void 0:Ae.x,(Ne=L.transformOrigin)==null?void 0:Ne.y].join(" "),...((ke=L.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(bz,{scope:n,placedSide:V,onArrowChange:D,arrowX:ie,arrowY:z,shouldHideArrow:ce,children:l.jsx(ye.div,{"data-side":V,"data-align":W,...g,ref:b,style:{...g.style,animation:X?void 0:"none"}})})})});Qk.displayName=bw;var Xk="PopperArrow",Tz={top:"bottom",right:"left",bottom:"top",left:"right"},Jk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Sz(Xk,r),o=Tz[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(_z,{...s,ref:n,style:{...s.style,display:"block"}})})});Jk.displayName=Xk;function Iz(t){return t!==null}var Cz=t=>({name:"transformOrigin",options:t,fn(e){var S,w,x;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=Zk(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let _="",g="";return d==="bottom"?(_=o?f:`${p}px`,g=`${-c}px`):d==="top"?(_=o?f:`${p}px`,g=`${r.floating.height+c}px`):d==="right"?(_=`${-c}px`,g=o?f:`${v}px`):d==="left"&&(_=`${r.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:_,y:g}}}});function Zk(t){const[e,n="center"]=t.split("-");return[e,n]}var eP=Gk,Sw=Yk,tP=Qk,nP=Jk,rP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Nz="VisuallyHidden",kz=y.forwardRef((t,e)=>l.jsx(ye.span,{...t,ref:e,style:{...rP,...t.style}}));kz.displayName=Nz;var Pz=[" ","Enter","ArrowUp","ArrowDown"],Rz=[" ","Enter"],Qi="Select",[Hf,qf,Az]=YN(Qi),[Ma,WH]=rr(Qi,[Az,Wf]),Gf=Wf(),[Dz,fi]=Ma(Qi),[jz,Oz]=Ma(Qi),sP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:v,form:_}=t,g=Gf(e),[S,w]=y.useState(null),[x,b]=y.useState(null),[R,D]=y.useState(!1),O=Lf(d),[C,T]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Qi}),[I,k]=as({prop:o,defaultProp:a,onChange:c,caller:Qi}),N=y.useRef(null),j=S?_||!!S.closest("form"):!0,[A,$]=y.useState(new Set),Z=Array.from(A).map(q=>q.props.value).join(";");return l.jsx(eP,{...g,children:l.jsxs(Dz,{required:v,scope:e,trigger:S,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:Qr(),value:I,onValueChange:k,open:C,onOpenChange:T,dir:O,triggerPointerDownPosRef:N,disabled:p,children:[l.jsx(Hf.Provider,{scope:e,children:l.jsx(jz,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(q=>{$(X=>new Set(X).add(q))},[]),onNativeOptionRemove:y.useCallback(q=>{$(X=>{const L=new Set(X);return L.delete(q),L})},[]),children:n})}),j?l.jsxs(NP,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:q=>k(q.target.value),disabled:p,form:_,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(A)]},Z):null]})})};sP.displayName=Qi;var iP="SelectTrigger",oP=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Gf(n),o=fi(iP,n),a=o.disabled||r,c=Le(e,o.onTriggerChange),d=qf(n),h=y.useRef("touch"),[f,p,v]=PP(g=>{const S=d().filter(b=>!b.disabled),w=S.find(b=>b.value===o.value),x=RP(S,g,w);x!==void 0&&o.onValueChange(x.value)}),_=g=>{a||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Sw,{asChild:!0,...i,children:l.jsx(ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":kP(o.value)?"":void 0,...s,ref:c,onClick:me(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&_(g)}),onPointerDown:me(s.onPointerDown,g=>{h.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(_(g),g.preventDefault())}),onKeyDown:me(s.onKeyDown,g=>{const S=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(S&&g.key===" ")&&Pz.includes(g.key)&&(_(),g.preventDefault())})})})});oP.displayName=iP;var aP="SelectValue",lP=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=fi(aP,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Le(e,c.onValueNodeChange);return Qt(()=>{d(h)},[d,h]),l.jsx(ye.span,{...a,ref:f,style:{pointerEvents:"none"},children:kP(c.value)?l.jsx(l.Fragment,{children:o}):i})});lP.displayName=aP;var Mz="SelectIcon",cP=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(ye.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});cP.displayName=Mz;var Lz="SelectPortal",uP=t=>l.jsx(kf,{asChild:!0,...t});uP.displayName=Lz;var Xi="SelectContent",dP=y.forwardRef((t,e)=>{const n=fi(Xi,t.__scopeSelect),[r,s]=y.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?va.createPortal(l.jsx(hP,{scope:t.__scopeSelect,children:l.jsx(Hf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(fP,{...t,ref:e})});dP.displayName=Xi;var Un=10,[hP,pi]=Ma(Xi),Vz="SelectContentImpl",Fz=qi("SelectContent.RemoveScroll"),fP=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:S,...w}=t,x=fi(Xi,n),[b,R]=y.useState(null),[D,O]=y.useState(null),C=Le(e,re=>R(re)),[T,I]=y.useState(null),[k,N]=y.useState(null),j=qf(n),[A,$]=y.useState(!1),Z=y.useRef(!1);y.useEffect(()=>{if(b)return aw(b)},[b]),ow();const q=y.useCallback(re=>{const[je,...Ze]=j().map(ke=>ke.ref.current),[Ae]=Ze.slice(-1),Ne=document.activeElement;for(const ke of re)if(ke===Ne||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===je&&D&&(D.scrollTop=0),ke===Ae&&D&&(D.scrollTop=D.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ne))return},[j,D]),X=y.useCallback(()=>q([T,b]),[q,T,b]);y.useEffect(()=>{A&&X()},[A,X]);const{onOpenChange:L,triggerPointerDownPosRef:V}=x;y.useEffect(()=>{if(b){let re={x:0,y:0};const je=Ae=>{var Ne,ke;re={x:Math.abs(Math.round(Ae.pageX)-(((Ne=V.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((ke=V.current)==null?void 0:ke.y)??0))}},Ze=Ae=>{re.x<=10&&re.y<=10?Ae.preventDefault():b.contains(Ae.target)||L(!1),document.removeEventListener("pointermove",je),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[b,L,V]),y.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[W,ee]=PP(re=>{const je=j().filter(Ne=>!Ne.disabled),Ze=je.find(Ne=>Ne.ref.current===document.activeElement),Ae=RP(je,re,Ze);Ae&&setTimeout(()=>Ae.ref.current.focus())}),ie=y.useCallback((re,je,Ze)=>{const Ae=!Z.current&&!Ze;(x.value!==void 0&&x.value===je||Ae)&&(I(re),Ae&&(Z.current=!0))},[x.value]),z=y.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=y.useCallback((re,je,Ze)=>{const Ae=!Z.current&&!Ze;(x.value!==void 0&&x.value===je||Ae)&&N(re)},[x.value]),xe=r==="popper"?Jg:pP,be=xe===Jg?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:S}:{};return l.jsx(hP,{scope:n,content:b,viewport:D,onViewportChange:O,itemRefCallback:ie,selectedItem:T,onItemLeave:z,itemTextRefCallback:ce,focusSelectedItem:X,selectedItemText:k,position:r,isPositioned:A,searchRef:W,children:l.jsx(Rf,{as:Fz,allowPinchZoom:!0,children:l.jsx(Nf,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:me(s,re=>{var je;(je=x.trigger)==null||je.focus({preventScroll:!0}),re.preventDefault()}),children:l.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(xe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault(),...w,...be,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:me(w.onKeyDown,re=>{const je=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!je&&re.key.length===1&&ee(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ae=j().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ne=re.target,ke=Ae.indexOf(Ne);Ae=Ae.slice(ke+1)}setTimeout(()=>q(Ae)),re.preventDefault()}})})})})})})});fP.displayName=Vz;var Uz="SelectItemAlignedPosition",pP=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=fi(Xi,n),o=pi(Xi,n),[a,c]=y.useState(null),[d,h]=y.useState(null),f=Le(e,C=>h(C)),p=qf(n),v=y.useRef(!1),_=y.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:w,focusSelectedItem:x}=o,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&g&&S&&w){const C=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=k.left-T.left,ke=I.left-Ne,yt=C.left-ke,kt=C.width+yt,Ln=Math.max(kt,T.width),ir=window.innerWidth-Un,Ar=FE(ke,[Un,Math.max(Un,ir-Ln)]);a.style.minWidth=kt+"px",a.style.left=Ar+"px"}else{const Ne=T.right-k.right,ke=window.innerWidth-I.right-Ne,yt=window.innerWidth-C.right-ke,kt=C.width+yt,Ln=Math.max(kt,T.width),ir=window.innerWidth-Un,Ar=FE(ke,[Un,Math.max(Un,ir-Ln)]);a.style.minWidth=kt+"px",a.style.right=Ar+"px"}const N=p(),j=window.innerHeight-Un*2,A=g.scrollHeight,$=window.getComputedStyle(d),Z=parseInt($.borderTopWidth,10),q=parseInt($.paddingTop,10),X=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),V=Z+q+A+L+X,W=Math.min(S.offsetHeight*5,V),ee=window.getComputedStyle(g),ie=parseInt(ee.paddingTop,10),z=parseInt(ee.paddingBottom,10),ce=C.top+C.height/2-Un,xe=j-ce,be=S.offsetHeight/2,re=S.offsetTop+be,je=Z+q+re,Ze=V-je;if(je<=ce){const Ne=N.length>0&&S===N[N.length-1].ref.current;a.style.bottom="0px";const ke=d.clientHeight-g.offsetTop-g.offsetHeight,yt=Math.max(xe,be+(Ne?z:0)+ke+X),kt=je+yt;a.style.height=kt+"px"}else{const Ne=N.length>0&&S===N[0].ref.current;a.style.top="0px";const yt=Math.max(ce,Z+g.offsetTop+(Ne?ie:0)+be)+Ze;a.style.height=yt+"px",g.scrollTop=je-ce+g.offsetTop}a.style.margin=`${Un}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,d,g,S,w,i.dir,r]);Qt(()=>b(),[b]);const[R,D]=y.useState();Qt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=y.useCallback(C=>{C&&_.current===!0&&(b(),x==null||x(),_.current=!1)},[b,x]);return l.jsx(Bz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(ye.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pP.displayName=Uz;var $z="SelectPopperPosition",Jg=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=t,o=Gf(n);return l.jsx(tP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jg.displayName=$z;var[Bz,Tw]=Ma(Xi,{}),Zg="SelectViewport",mP=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pi(Zg,n),o=Tw(Zg,n),a=Le(e,i.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Hf.Slot,{scope:n,children:l.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const _=window.innerHeight-Un*2,g=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),w=Math.max(g,S);if(w<_){const x=w+v,b=Math.min(_,x),R=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});mP.displayName=Zg;var gP="SelectGroup",[zz,Wz]=Ma(gP),Hz=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Qr();return l.jsx(zz,{scope:n,id:s,children:l.jsx(ye.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Hz.displayName=gP;var yP="SelectLabel",vP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wz(yP,n);return l.jsx(ye.div,{id:s.id,...r,ref:e})});vP.displayName=yP;var jh="SelectItem",[qz,wP]=Ma(jh),xP=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=fi(jh,n),c=pi(jh,n),d=a.value===r,[h,f]=y.useState(i??""),[p,v]=y.useState(!1),_=Le(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),g=Qr(),S=y.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(qz,{scope:n,value:r,disabled:s,textId:g,isSelected:d,onItemTextChange:y.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Hf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(ye.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:me(o.onFocus,()=>v(!0)),onBlur:me(o.onBlur,()=>v(!1)),onClick:me(o.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:me(o.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:me(o.onPointerDown,x=>{S.current=x.pointerType}),onPointerMove:me(o.onPointerMove,x=>{var b;S.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):S.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:me(o.onKeyDown,x=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&x.key===" "||(Rz.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});xP.displayName=jh;var bl="SelectItemText",_P=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=fi(bl,n),a=pi(bl,n),c=wP(bl,n),d=Oz(bl,n),[h,f]=y.useState(null),p=Le(e,w=>f(w),c.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,c.value,c.disabled)}),v=h==null?void 0:h.textContent,_=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=d;return Qt(()=>(g(_),()=>S(_)),[g,S,_]),l.jsxs(l.Fragment,{children:[l.jsx(ye.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?va.createPortal(i.children,o.valueNode):null]})});_P.displayName=bl;var EP="SelectItemIndicator",bP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wP(EP,n).isSelected?l.jsx(ye.span,{"aria-hidden":!0,...r,ref:e}):null});bP.displayName=EP;var ey="SelectScrollUpButton",SP=y.forwardRef((t,e)=>{const n=pi(ey,t.__scopeSelect),r=Tw(ey,t.__scopeSelect),[s,i]=y.useState(!1),o=Le(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(IP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});SP.displayName=ey;var ty="SelectScrollDownButton",TP=y.forwardRef((t,e)=>{const n=pi(ty,t.__scopeSelect),r=Tw(ty,t.__scopeSelect),[s,i]=y.useState(!1),o=Le(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(IP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});TP.displayName=ty;var IP=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pi("SelectScrollButton",n),o=y.useRef(null),a=qf(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Qt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(ye.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{c()})})}),Gz="SelectSeparator",CP=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ye.div,{"aria-hidden":!0,...r,ref:e})});CP.displayName=Gz;var ny="SelectArrow",Kz=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gf(n),i=fi(ny,n),o=pi(ny,n);return i.open&&o.position==="popper"?l.jsx(nP,{...s,...r,ref:e}):null});Kz.displayName=ny;var Yz="SelectBubbleInput",NP=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=Le(r,s),o=jf(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(ye.select,{...n,style:{...rP,...n.style},ref:i,defaultValue:e})});NP.displayName=Yz;function kP(t){return t===""||t===void 0}function PP(t){const e=ni(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function RP(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Qz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Qz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Xz=sP,AP=oP,Jz=lP,Zz=cP,eW=uP,DP=dP,tW=mP,jP=vP,OP=xP,nW=_P,rW=bP,MP=SP,LP=TP,VP=CP;const Oh=Xz,Mh=Jz,bc=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(AP,{ref:r,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Zz,{asChild:!0,children:l.jsx(vc,{className:"h-4 w-4 opacity-50"})})]}));bc.displayName=AP.displayName;const FP=y.forwardRef(({className:t,...e},n)=>l.jsx(MP,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Ug,{className:"h-4 w-4"})}));FP.displayName=MP.displayName;const UP=y.forwardRef(({className:t,...e},n)=>l.jsx(LP,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(vc,{className:"h-4 w-4"})}));UP.displayName=LP.displayName;const Sc=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(eW,{children:l.jsxs(DP,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(FP,{}),l.jsx(tW,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(UP,{})]})}));Sc.displayName=DP.displayName;const sW=y.forwardRef(({className:t,...e},n)=>l.jsx(jP,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sW.displayName=jP.displayName;const wt=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(OP,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(rW,{children:l.jsx(QC,{className:"h-4 w-4"})})}),l.jsx(nW,{children:e})]}));wt.displayName=OP.displayName;const iW=y.forwardRef(({className:t,...e},n)=>l.jsx(VP,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));iW.displayName=VP.displayName;var Kf="Switch",[oW,HH]=rr(Kf),[aW,lW]=oW(Kf),$P=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,v]=y.useState(null),_=Le(e,b=>v(b)),g=y.useRef(!1),S=p?h||!!p.closest("form"):!0,[w,x]=as({prop:s,defaultProp:i??!1,onChange:d,caller:Kf});return l.jsxs(aW,{scope:n,checked:w,disabled:a,children:[l.jsx(ye.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":HP(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:_,onClick:me(t.onClick,b=>{x(R=>!R),S&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),S&&l.jsx(WP,{control:p,bubbles:!g.current,name:r,value:c,checked:w,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});$P.displayName=Kf;var BP="SwitchThumb",zP=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=lW(BP,n);return l.jsx(ye.span,{"data-state":HP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});zP.displayName=BP;var cW="SwitchBubbleInput",WP=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Le(o,i),c=jf(n),d=Of(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const _=new Event("click",{bubbles:r});v.call(h,n),h.dispatchEvent(_)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WP.displayName=cW;function HP(t){return t?"checked":"unchecked"}var qP=$P,uW=zP;const Iw=y.forwardRef(({className:t,...e},n)=>l.jsx(qP,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(uW,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Iw.displayName=qP.displayName;const hm={},Sl={};function Bl(t,e){try{const r=(hm[t]||(hm[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Sl?Sl[r]:QE(r,r.split(":"))}catch{if(t in Sl)return Sl[t];const n=t==null?void 0:t.match(dW);return n?QE(t,n.slice(1)):NaN}}const dW=/([+-]\d\d):?(\d\d)?/;function QE(t,e){const n=+e[0],r=+(e[1]||0);return Sl[t]=n>0?n*60+r:n*60-r}class fr extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Bl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),GP(this),ry(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new fr(...n,e):new fr(Date.now(),e)}withTimeZone(e){return new fr(+this,e)}getTimezoneOffset(){return-Bl(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),ry(this),+this}[Symbol.for("constructDateFrom")](e){return new fr(+new Date(e),this.timeZone)}}const XE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!XE.test(t))return;const e=t.replace(XE,"$1UTC");fr.prototype[e]&&(t.startsWith("get")?fr.prototype[t]=function(){return this.internal[e]()}:(fr.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),hW(this),+this},fr.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),ry(this),+this}))});function ry(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function hW(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),GP(t)}function GP(t){const e=Bl(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const c=Bl(t.timeZone,t),h=-new Date(+t).getTimezoneOffset()-c,f=c!==e,p=h-a;if(f&&p){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p);const v=Bl(t.timeZone,t),_=c-v;_&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+_))}}class Wt extends fr{static tz(e,...n){return n.length?new Wt(...n,e):new Wt(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${fW(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new Wt(+this,e)}[Symbol.for("constructDateFrom")](e){return new Wt(+new Date(e),this.timeZone)}}function fW(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var oe;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(oe||(oe={}));var et;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(et||(et={}));var qn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(qn||(qn={}));var mn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(mn||(mn={}));const KP=6048e5,pW=864e5,JE=Symbol.for("constructDateFrom");function St(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&JE in t?t[JE](e):t instanceof Date?new t.constructor(e):new Date(e)}function $e(t,e){return St(e||t,t)}function YP(t,e,n){const r=$e(t,n==null?void 0:n.in);return isNaN(e)?St(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function QP(t,e,n){const r=$e(t,n==null?void 0:n.in);if(isNaN(e))return St(t,NaN);if(!e)return r;const s=r.getDate(),i=St(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let mW={};function eu(){return mW}function fa(t,e){var a,c,d,h;const n=eu(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$e(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Tc(t,e){return fa(t,{...e,weekStartsOn:1})}function XP(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=St(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Tc(s),o=St(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Tc(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function ZE(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function La(t,...e){const n=St.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ic(t,e){const n=$e(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function JP(t,e,n){const[r,s]=La(n==null?void 0:n.in,t,e),i=Ic(r),o=Ic(s),a=+i-ZE(i),c=+o-ZE(o);return Math.round((a-c)/pW)}function gW(t,e){const n=XP(t,e),r=St(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Tc(r)}function yW(t,e,n){return YP(t,e*7,n)}function vW(t,e,n){return QP(t,e*12,n)}function wW(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=St.bind(null,s));const i=$e(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),St(r,n||NaN)}function xW(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=St.bind(null,s));const i=$e(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),St(r,n||NaN)}function _W(t,e,n){const[r,s]=La(n==null?void 0:n.in,t,e);return+Ic(r)==+Ic(s)}function ZP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function EW(t){return!(!ZP(t)&&typeof t!="number"||isNaN(+$e(t)))}function bW(t,e,n){const[r,s]=La(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function SW(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function TW(t,e){const[n,r]=La(t,e.start,e.end);return{start:n,end:r}}function IW(t,e){const{start:n,end:r}=TW(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(St(n,o)),o.setMonth(o.getMonth()+a);return s?c.reverse():c}function CW(t,e){const n=$e(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function NW(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function eR(t,e){const n=$e(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tR(t,e){var a,c,d,h;const n=eu(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$e(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function kW(t,e){return tR(t,{...e,weekStartsOn:1})}const PW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RW=(t,e,n)=>{let r;const s=PW[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const AW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OW={date:fm({formats:AW,defaultWidth:"full"}),time:fm({formats:DW,defaultWidth:"full"}),dateTime:fm({formats:jW,defaultWidth:"full"})},MW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LW=(t,e,n,r)=>MW[t];function al(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const VW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$W={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WW=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HW={ordinalNumber:WW,era:al({values:VW,defaultWidth:"wide"}),quarter:al({values:FW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:al({values:UW,defaultWidth:"wide"}),day:al({values:$W,defaultWidth:"wide"}),dayPeriod:al({values:BW,defaultWidth:"wide",formattingValues:zW,defaultFormattingWidth:"wide"})};function ll(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?GW(a,f=>f.test(o)):qW(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function qW(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function GW(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function KW(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const YW=/^(\d+)(th|st|nd|rd)?/i,QW=/\d+/i,XW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JW={any:[/^b/i,/^(a|c)/i]},ZW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e8={any:[/1/i,/2/i,/3/i,/4/i]},t8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},s8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a8={ordinalNumber:KW({matchPattern:YW,parsePattern:QW,valueCallback:t=>parseInt(t,10)}),era:ll({matchPatterns:XW,defaultMatchWidth:"wide",parsePatterns:JW,defaultParseWidth:"any"}),quarter:ll({matchPatterns:ZW,defaultMatchWidth:"wide",parsePatterns:e8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ll({matchPatterns:t8,defaultMatchWidth:"wide",parsePatterns:n8,defaultParseWidth:"any"}),day:ll({matchPatterns:r8,defaultMatchWidth:"wide",parsePatterns:s8,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:i8,defaultMatchWidth:"any",parsePatterns:o8,defaultParseWidth:"any"})},Cw={code:"en-US",formatDistance:RW,formatLong:OW,formatRelative:LW,localize:HW,match:a8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function l8(t,e){const n=$e(t,e==null?void 0:e.in);return JP(n,eR(n))+1}function nR(t,e){const n=$e(t,e==null?void 0:e.in),r=+Tc(n)-+gW(n);return Math.round(r/KP)+1}function rR(t,e){var h,f,p,v;const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=eu(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(p=s.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=St((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=fa(o,e),c=St((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=fa(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function c8(t,e){var a,c,d,h;const n=eu(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=rR(t,e),i=St((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),fa(i,e)}function sR(t,e){const n=$e(t,e==null?void 0:e.in),r=+fa(n,e)-+c8(n,e);return Math.round(r/KP)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Fe(s,e.length)}},vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return xs.y(t,e)},Y:function(t,e,n,r){const s=rR(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Fe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Fe(i,e.length)},R:function(t,e){const n=XP(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=sR(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},I:function(t,e,n){const r=nR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xs.d(t,e)},D:function(t,e,n){const r=l8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Fe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=vo.noon:r===0?s=vo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=vo.evening:r>=12?s=vo.afternoon:r>=4?s=vo.morning:s=vo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xs.s(t,e)},S:function(t,e){return xs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return nb(r);case"XXXX":case"XX":return Ii(r);case"XXXXX":case"XXX":default:return Ii(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return nb(r);case"xxxx":case"xx":return Ii(r);case"xxxxx":case"xxx":default:return Ii(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tb(r,":");case"OOOO":default:return"GMT"+Ii(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tb(r,":");case"zzzz":default:return"GMT"+Ii(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Fe(r,e.length)},T:function(t,e,n){return Fe(+t,e.length)}};function tb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Fe(i,2)}function nb(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):Ii(t,e)}function Ii(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Fe(Math.trunc(r/60),2),i=Fe(r%60,2);return n+s+e+i}const rb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},u8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return rb(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",rb(r,e)).replace("{{time}}",iR(s,e))},d8={p:iR,P:u8},h8=/^D+$/,f8=/^Y+$/,p8=["D","DD","YY","YYYY"];function m8(t){return h8.test(t)}function g8(t){return f8.test(t)}function y8(t,e,n){const r=v8(t,e,n);if(console.warn(r),p8.includes(t))throw new RangeError(r)}function v8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_8=/^'([^]*?)'?$/,E8=/''/g,b8=/[a-zA-Z]/;function Nw(t,e,n){var h,f,p,v,_,g,S,w;const r=eu(),s=(n==null?void 0:n.locale)??r.locale??Cw,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(S=r.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,a=$e(t,n==null?void 0:n.in);if(!EW(a))throw new RangeError("Invalid time value");let c=e.match(x8).map(x=>{const b=x[0];if(b==="p"||b==="P"){const R=d8[b];return R(x,s.formatLong)}return x}).join("").match(w8).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:S8(x)};if(eb[b])return{isToken:!0,value:x};if(b.match(b8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&g8(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&m8(b))&&y8(b,e,String(t));const R=eb[b[0]];return R(a,b,s.localize,d)}).join("")}function S8(t){const e=t.match(_8);return e?e[1].replace(E8,"'"):t}function T8(t,e){const n=$e(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=St(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function I8(t,e){return $e(t,e==null?void 0:e.in).getMonth()}function C8(t,e){return $e(t,e==null?void 0:e.in).getFullYear()}function N8(t,e){return+$e(t)>+$e(e)}function k8(t,e){return+$e(t)<+$e(e)}function P8(t,e,n){const[r,s]=La(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function R8(t,e,n){const[r,s]=La(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function A8(t,e,n){const r=$e(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=St(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=T8(o);return r.setMonth(e,Math.min(i,a)),r}function D8(t,e,n){const r=$e(t,n==null?void 0:n.in);return isNaN(+r)?St(t,NaN):(r.setFullYear(e),r)}const sb=5,j8=4;function O8(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,sb*7-1);return e.getMonth(t)===e.getMonth(i)?sb:j8}function oR(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function M8(t,e){const n=oR(t,e),r=O8(t,e);return e.addDays(n,r*7-1)}class hs{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Wt.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new Wt(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):YP(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):QP(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):yW(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):vW(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):JP(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):bW(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):IW(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):M8(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):kW(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):SW(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):tR(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):NW(r)},this.format=(r,s,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(r,s,this.options):Nw(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):nR(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):I8(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):C8(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):sR(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):N8(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):k8(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):ZP(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):_W(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):P8(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):R8(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):wW(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):xW(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):A8(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):D8(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):oR(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Ic(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Tc(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):CW(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):fa(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):eR(r)},this.options={locale:Cw,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Rr=new hs;class aR{constructor(e,n,r=Rr){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class L8{constructor(e,n){this.date=e,this.weeks=n}}class V8{constructor(e,n){this.days=n,this.weekNumber=e}}function Wr(t,e,n=!1,r=Rr){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&s?a(s,e):!1}function lR(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function kw(t){return!!(t&&typeof t=="object"&&"from"in t)}function cR(t){return!!(t&&typeof t=="object"&&"after"in t)}function uR(t){return!!(t&&typeof t=="object"&&"before"in t)}function dR(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function hR(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Hr(t,e,n=Rr){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(t,a);if(hR(a,n))return a.includes(t);if(kw(a))return Wr(a,t,!1,n);if(dR(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(lR(a)){const c=i(a.before,t),d=i(a.after,t),h=c>0,f=d<0;return o(a.before,a.after)?f&&h:h||f}return cR(a)?i(t,a.after)>0:uR(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function F8(t,e,n,r,s){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:c,broadcastCalendar:d,today:h}=e,{isSameDay:f,isSameMonth:p,startOfMonth:v,isBefore:_,endOfMonth:g,isAfter:S}=s,w=n&&v(n),x=r&&g(r),b={[et.focused]:[],[et.outside]:[],[et.disabled]:[],[et.hidden]:[],[et.today]:[]},R={};for(const D of t){const{date:O,displayMonth:C}=D,T=!!(C&&!p(O,C)),I=!!(w&&_(O,w)),k=!!(x&&S(O,x)),N=!!(i&&Hr(O,i,s)),j=!!(o&&Hr(O,o,s))||I||k||!d&&!c&&T||d&&c===!1&&T,A=f(O,h??s.today());T&&b.outside.push(D),N&&b.disabled.push(D),j&&b.hidden.push(D),A&&b.today.push(D),a&&Object.keys(a).forEach($=>{const Z=a==null?void 0:a[$];Z&&Hr(O,Z,s)&&(R[$]?R[$].push(D):R[$]=[D])})}return D=>{const O={[et.focused]:!1,[et.disabled]:!1,[et.hidden]:!1,[et.outside]:!1,[et.today]:!1},C={};for(const T in b){const I=b[T];O[T]=I.some(k=>k===D)}for(const T in R)C[T]=R[T].some(I=>I===D);return{...O,...C}}}function U8(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[et[i]]?s.push(e[et[i]]):e[qn[i]]&&s.push(e[qn[i]]),s),[e[oe.Day]])}function $8(t){return Y.createElement("button",{...t})}function B8(t){return Y.createElement("span",{...t})}function z8(t){const{size:e=24,orientation:n="left",className:r}=t;return Y.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Y.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Y.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Y.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Y.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function W8(t){const{day:e,modifiers:n,...r}=t;return Y.createElement("td",{...r})}function H8(t){const{day:e,modifiers:n,...r}=t,s=Y.useRef(null);return Y.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),Y.createElement("button",{ref:s,...r})}function q8(t){const{options:e,className:n,components:r,classNames:s,...i}=t,o=[s[oe.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return Y.createElement("span",{"data-disabled":i.disabled,className:s[oe.DropdownRoot]},Y.createElement(r.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:d,disabled:h})=>Y.createElement(r.Option,{key:c,value:c,disabled:h},d))),Y.createElement("span",{className:s[oe.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,Y.createElement(r.Chevron,{orientation:"down",size:18,className:s[oe.Chevron]})))}function G8(t){return Y.createElement("div",{...t})}function K8(t){return Y.createElement("div",{...t})}function Y8(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Y.createElement("div",{...r},t.children)}function Q8(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Y.createElement("div",{...r})}function X8(t){return Y.createElement("table",{...t})}function J8(t){return Y.createElement("div",{...t})}const fR=y.createContext(void 0);function tu(){const t=y.useContext(fR);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function Z8(t){const{components:e}=tu();return Y.createElement(e.Dropdown,{...t})}function e7(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:d}}=tu(),h=y.useCallback(p=>{s&&(n==null||n(p))},[s,n]),f=y.useCallback(p=>{r&&(e==null||e(p))},[r,e]);return Y.createElement("nav",{...i},Y.createElement(o.PreviousMonthButton,{type:"button",className:a[oe.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},Y.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[oe.Chevron],orientation:"left"})),Y.createElement(o.NextMonthButton,{type:"button",className:a[oe.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:h},Y.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[oe.Chevron]})))}function t7(t){const{components:e}=tu();return Y.createElement(e.Button,{...t})}function n7(t){return Y.createElement("option",{...t})}function r7(t){const{components:e}=tu();return Y.createElement(e.Button,{...t})}function s7(t){const{rootRef:e,...n}=t;return Y.createElement("div",{...n,ref:e})}function i7(t){return Y.createElement("select",{...t})}function o7(t){const{week:e,...n}=t;return Y.createElement("tr",{...n})}function a7(t){return Y.createElement("th",{...t})}function l7(t){return Y.createElement("thead",{"aria-hidden":!0},Y.createElement("tr",{...t}))}function c7(t){const{week:e,...n}=t;return Y.createElement("th",{...n})}function u7(t){return Y.createElement("th",{...t})}function d7(t){return Y.createElement("tbody",{...t})}function h7(t){const{components:e}=tu();return Y.createElement(e.Dropdown,{...t})}const f7=Object.freeze(Object.defineProperty({__proto__:null,Button:$8,CaptionLabel:B8,Chevron:z8,Day:W8,DayButton:H8,Dropdown:q8,DropdownNav:G8,Footer:K8,Month:Y8,MonthCaption:Q8,MonthGrid:X8,Months:J8,MonthsDropdown:Z8,Nav:e7,NextMonthButton:t7,Option:n7,PreviousMonthButton:r7,Root:s7,Select:i7,Week:o7,WeekNumber:c7,WeekNumberHeader:u7,Weekday:a7,Weekdays:l7,Weeks:d7,YearsDropdown:h7},Symbol.toStringTag,{value:"Module"}));function p7(t){return{...f7,...t}}function m7(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Pw(){const t={};for(const e in oe)t[oe[e]]=`rdp-${oe[e]}`;for(const e in et)t[et[e]]=`rdp-${et[e]}`;for(const e in qn)t[qn[e]]=`rdp-${qn[e]}`;for(const e in mn)t[mn[e]]=`rdp-${mn[e]}`;return t}function pR(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const g7=pR;function y7(t,e,n){return(n??new hs(e)).format(t,"d")}function v7(t,e=Rr){return e.format(t,"LLLL")}function w7(t,e=Rr){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function x7(){return""}function _7(t,e,n){return(n??new hs(e)).format(t,"cccccc")}function mR(t,e=Rr){return e.format(t,"yyyy")}const E7=mR,b7=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:pR,formatDay:y7,formatMonthCaption:g7,formatMonthDropdown:v7,formatWeekNumber:w7,formatWeekNumberHeader:x7,formatWeekdayName:_7,formatYearCaption:E7,formatYearDropdown:mR},Symbol.toStringTag,{value:"Module"}));function S7(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...b7,...t}}function T7(t,e,n,r,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:d}=s;return c({start:o(t),end:a(t)}).map(p=>{const v=r.formatMonthDropdown(p,s),_=d(p),g=e&&p<i(e)||n&&p>i(n)||!1;return{value:_,label:v,disabled:g}})}function I7(t,e={},n={}){let r={...e==null?void 0:e[oe.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function C7(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function N7(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:c,isSameYear:d}=r,h=s(t),f=i(e),p=[];let v=h;for(;c(v,f)||d(v,f);)p.push(v),v=o(v,1);return p.map(_=>{const g=n.formatYearDropdown(_,r);return{value:a(_),label:g,disabled:!1}})}function gR(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const k7=gR;function P7(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function yR(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const R7=yR;function A7(){return""}function D7(t){return"Choose the Month"}function j7(t){return"Go to the Next Month"}function O7(t){return"Go to the Previous Month"}function M7(t,e,n){return(n??new hs(e)).format(t,"cccc")}function L7(t,e){return`Week ${t}`}function V7(t){return"Week Number"}function F7(t){return"Choose the Year"}const U7=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:k7,labelDay:R7,labelDayButton:yR,labelGrid:gR,labelGridcell:P7,labelMonthDropdown:D7,labelNav:A7,labelNext:j7,labelPrevious:O7,labelWeekNumber:L7,labelWeekNumberHeader:V7,labelWeekday:M7,labelYearDropdown:F7},Symbol.toStringTag,{value:"Module"})),nu=t=>t instanceof HTMLElement?t:null,pm=t=>[...t.querySelectorAll("[data-animated-month]")??[]],$7=t=>nu(t.querySelector("[data-animated-month]")),mm=t=>nu(t.querySelector("[data-animated-caption]")),gm=t=>nu(t.querySelector("[data-animated-weeks]")),B7=t=>nu(t.querySelector("[data-animated-nav]")),z7=t=>nu(t.querySelector("[data-animated-weekdays]"));function W7(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const o=y.useRef(null),a=y.useRef(r),c=y.useRef(!1);y.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const h=i.isSameMonth(r[0].date,d[0].date),f=i.isAfter(r[0].date,d[0].date),p=f?n[mn.caption_after_enter]:n[mn.caption_before_enter],v=f?n[mn.weeks_after_enter]:n[mn.weeks_before_enter],_=o.current,g=t.current.cloneNode(!0);if(g instanceof HTMLElement?(pm(g).forEach(b=>{if(!(b instanceof HTMLElement))return;const R=$7(b);R&&b.contains(R)&&b.removeChild(R);const D=mm(b);D&&D.classList.remove(p);const O=gm(b);O&&O.classList.remove(v)}),o.current=g):o.current=null,c.current||h||s)return;const S=_ instanceof HTMLElement?pm(_):[],w=pm(t.current);if(w&&w.every(x=>x instanceof HTMLElement)&&S&&S.every(x=>x instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const x=B7(t.current);x&&(x.style.zIndex="1"),w.forEach((b,R)=>{const D=S[R];if(!D)return;b.style.position="relative",b.style.overflow="hidden";const O=mm(b);O&&O.classList.add(p);const C=gm(b);C&&C.classList.add(v);const T=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),x&&(x.style.zIndex=""),O&&O.classList.remove(p),C&&C.classList.remove(v),b.style.position="",b.style.overflow="",b.contains(D)&&b.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const I=z7(D);I&&(I.style.opacity="0");const k=mm(D);k&&(k.classList.add(f?n[mn.caption_before_exit]:n[mn.caption_after_exit]),k.addEventListener("animationend",T));const N=gm(D);N&&N.classList.add(f?n[mn.weeks_before_exit]:n[mn.weeks_after_exit]),b.insertBefore(D,b.firstChild)})}})}function H7(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:v,endOfMonth:_,endOfWeek:g,isAfter:S,startOfBroadcastWeek:w,startOfISOWeek:x,startOfWeek:b}=r,R=c?w(s,r):o?x(s):b(s),D=c?p(i):o?v(_(i)):g(_(i)),O=h(D,R),C=f(i,s)+1,T=[];for(let N=0;N<=O;N++){const j=d(R,N);if(e&&S(j,e))break;T.push(j)}const k=(c?35:42)*C;if(a&&T.length<k){const N=k-T.length;for(let j=0;j<N;j++){const A=d(T[T.length-1],1);T.push(A)}}return T}function q7(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,o)=>[...i,...o.days],e);return[...n,...s]},e)}function G7(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let o=0;o<s;o++){const a=r.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function ib(t,e,n,r){const{month:s,defaultMonth:i,today:o=r.today(),numberOfMonths:a=1}=t;let c=s||i||o;const{differenceInCalendarMonths:d,addMonths:h,startOfMonth:f}=r;if(n&&d(n,c)<a-1){const p=-1*(a-1);c=h(n,p)}return e&&d(c,e)<0&&(c=e),f(c)}function K7(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:d,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:v}=r,_=t.reduce((g,S)=>{const w=n.broadcastCalendar?f(S,r):n.ISOWeek?p(S):v(S),x=n.broadcastCalendar?i(S):n.ISOWeek?o(a(S)):c(a(S)),b=e.filter(C=>C>=w&&C<=x),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&b.length<R){const C=e.filter(T=>{const I=R-b.length;return T>x&&T<=s(x,I)});b.push(...C)}const D=b.reduce((C,T)=>{const I=n.ISOWeek?d(T):h(T),k=C.find(j=>j.weekNumber===I),N=new aR(T,S,r);return k?k.days.push(N):C.push(new V8(I,[N])),C},[]),O=new L8(S,D);return g.push(O),g},[]);return n.reverseMonths?_.reverse():_}function Y7(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:d,newDate:h,today:f}=e,{fromYear:p,toYear:v,fromMonth:_,toMonth:g}=t;!n&&_&&(n=_),!n&&p&&(n=e.newDate(p,0,1)),!r&&g&&(r=g),!r&&v&&(r=h(v,11,31));const S=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):p?n=h(p,0,1):!n&&S&&(n=s(c(t.today??f(),-100))),r?r=a(r):v?r=h(v,11,31):!r&&S&&(r=d(t.today??f())),[n&&i(n),r&&i(r)]}function Q7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i:1,h=o(t);if(!e)return a(h,d);if(!(c(e,t)<i))return a(h,d)}function X7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i??1:1,h=o(t);if(!e)return a(h,-d);if(!(c(h,e)<=0))return a(h,-d)}function J7(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Yf(t,e){const[n,r]=y.useState(t);return[e===void 0?n:e,r]}function Z7(t,e){const[n,r]=Y7(t,e),{startOfMonth:s,endOfMonth:i}=e,o=ib(t,n,r,e),[a,c]=Yf(o,t.month?o:void 0);y.useEffect(()=>{const O=ib(t,n,r,e);c(O)},[t.timeZone]);const d=G7(a,r,t,e),h=H7(d,t.endMonth?i(t.endMonth):void 0,t,e),f=K7(d,h,t,e),p=J7(f),v=q7(f),_=X7(a,n,t,e),g=Q7(a,r,t,e),{disableNavigation:S,onMonthChange:w}=t,x=O=>p.some(C=>C.days.some(T=>T.isEqualTo(O))),b=O=>{if(S)return;let C=s(O);n&&C<s(n)&&(C=s(n)),r&&C>s(r)&&(C=s(r)),c(C),w==null||w(C)};return{months:f,weeks:p,days:v,navStart:n,navEnd:r,previousMonth:_,nextMonth:g,goToMonth:b,goToDay:O=>{x(O)||b(O.date)}}}var lr;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(lr||(lr={}));function ob(t){return!t[et.disabled]&&!t[et.hidden]&&!t[et.outside]}function eH(t,e,n,r){let s,i=-1;for(const o of t){const a=e(o);ob(a)&&(a[et.focused]&&i<lr.FocusedModifier?(s=o,i=lr.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<lr.LastFocused?(s=o,i=lr.LastFocused):n(o.date)&&i<lr.Selected?(s=o,i=lr.Selected):a[et.today]&&i<lr.Today&&(s=o,i=lr.Today))}return s||(s=t.find(o=>ob(e(o)))),s}function tH(t,e,n,r,s,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:d,addMonths:h,addWeeks:f,addYears:p,endOfBroadcastWeek:v,endOfISOWeek:_,endOfWeek:g,max:S,min:w,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:R}=o;let O={day:d,week:f,month:h,year:p,startOfWeek:C=>c?x(C,o):a?b(C):R(C),endOfWeek:C=>c?v(C):a?_(C):g(C)}[t](n,e==="after"?1:-1);return e==="before"&&r?O=S([r,O]):e==="after"&&s&&(O=w([s,O])),O}function vR(t,e,n,r,s,i,o,a=0){if(a>365)return;const c=tH(t,e,n.date,r,s,i,o),d=!!(i.disabled&&Hr(c,i.disabled,o)),h=!!(i.hidden&&Hr(c,i.hidden,o)),f=c,p=new aR(c,f,o);return!d&&!h?p:vR(t,e,p,r,s,i,o,a+1)}function nH(t,e,n,r,s){const{autoFocus:i}=t,[o,a]=y.useState(),c=eH(e.days,n,r||(()=>!1),o),[d,h]=y.useState(i?c:void 0);return{isFocusTarget:g=>!!(c!=null&&c.isEqualTo(g)),setFocused:h,focused:d,blur:()=>{a(d),h(void 0)},moveFocus:(g,S)=>{if(!d)return;const w=vR(g,S,d,e.navStart,e.navEnd,t,s);w&&(e.goToDay(w),h(w))}}}function rH(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=Yf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e,d=v=>(a==null?void 0:a.some(_=>c(_,v)))??!1,{min:h,max:f}=t;return{selected:a,select:(v,_,g)=>{let S=[...a??[]];if(d(v)){if((a==null?void 0:a.length)===h||r&&(a==null?void 0:a.length)===1)return;S=a==null?void 0:a.filter(w=>!c(w,v))}else(a==null?void 0:a.length)===f?S=[v]:S=[...S,v];return s||o(S),s==null||s(S,v,_,g),S},isSelected:d}}function sH(t,e,n=0,r=0,s=!1,i=Rr){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:d,isBefore:h}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)c(o,t)?s?f={from:o,to:void 0}:f=void 0:h(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))s?f={from:o,to:a}:f=void 0;else if(c(o,t))f={from:o,to:n>0?void 0:t};else if(c(a,t))f={from:t,to:n>0?void 0:t};else if(h(t,o))f={from:t,to:a};else if(d(t,o))f={from:o,to:t};else if(d(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const p=i.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:t,to:void 0}:n>1&&p<n&&(f={from:t,to:void 0})}return f}function iH(t,e,n=Rr){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function ab(t,e,n=Rr){return Wr(t,e.from,!1,n)||Wr(t,e.to,!1,n)||Wr(e,t.from,!1,n)||Wr(e,t.to,!1,n)}function oH(t,e,n=Rr){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Wr(t,a,!1,n):hR(a,n)?a.some(c=>Wr(t,c,!1,n)):kw(a)?a.from&&a.to?ab(t,{from:a.from,to:a.to},n):!1:dR(a)?iH(t,a.dayOfWeek,n):lR(a)?n.isAfter(a.before,a.after)?ab(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):Hr(t.from,a,n)||Hr(t.to,a,n):cR(a)||uR(a)?Hr(t.from,a,n)||Hr(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=c;d++){if(o.some(h=>h(a)))return!0;a=n.addDays(a,1)}}return!1}function aH(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:o}=t,[a,c]=Yf(s,o?s:void 0),d=o?s:a;return{selected:d,select:(p,v,_)=>{const{min:g,max:S}=t,w=p?sH(p,d,g,S,i,e):void 0;return r&&n&&(w!=null&&w.from)&&w.to&&oH({from:w.from,to:w.to},n,e)&&(w.from=p,w.to=void 0),o||c(w),o==null||o(w,p,v,_),w},isSelected:p=>d&&Wr(d,p,!1,e)}}function lH(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=Yf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e;return{selected:a,select:(f,p,v)=>{let _=f;return!r&&a&&a&&c(f,a)&&(_=void 0),s||o(_),s==null||s(_,f,p,v),_},isSelected:f=>a?c(a,f):!1}}function cH(t,e){const n=lH(t,e),r=rH(t,e),s=aH(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function uH(t){var ao;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new Wt(e.today,e.timeZone)),e.month&&(e.month=new Wt(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Wt(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Wt(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Wt(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Wt(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(ao=e.selected)==null?void 0:ao.map(we=>new Wt(we,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Wt(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Wt(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:o,classNames:a}=y.useMemo(()=>{const we={...Cw,...e.locale};return{dateLib:new hs({locale:we,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:p7(e.components),formatters:S7(e.formatters),labels:{...U7,...e.labels},locale:we,classNames:{...Pw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:d,navLayout:h,numberOfMonths:f=1,onDayBlur:p,onDayClick:v,onDayFocus:_,onDayKeyDown:g,onDayMouseEnter:S,onDayMouseLeave:w,onNextClick:x,onPrevClick:b,showWeekNumber:R,styles:D}=e,{formatCaption:O,formatDay:C,formatMonthDropdown:T,formatWeekNumber:I,formatWeekNumberHeader:k,formatWeekdayName:N,formatYearDropdown:j}=r,A=Z7(e,i),{days:$,months:Z,navStart:q,navEnd:X,previousMonth:L,nextMonth:V,goToMonth:W}=A,ee=F8($,e,q,X,i),{isSelected:ie,select:z,selected:ce}=cH(e,i)??{},{blur:xe,focused:be,isFocusTarget:re,moveFocus:je,setFocused:Ze}=nH(e,A,ee,ie??(()=>!1),i),{labelDayButton:Ae,labelGridcell:Ne,labelGrid:ke,labelMonthDropdown:yt,labelNav:kt,labelPrevious:Ln,labelNext:ir,labelWeekday:Ar,labelWeekNumber:Va,labelWeekNumberHeader:Dr,labelYearDropdown:Fa}=s,su=y.useMemo(()=>C7(i,e.ISOWeek),[i,e.ISOWeek]),iu=d!==void 0||v!==void 0,gi=y.useCallback(()=>{L&&(W(L),b==null||b(L))},[L,W,b]),yi=y.useCallback(()=>{V&&(W(V),x==null||x(V))},[W,V,x]),ou=y.useCallback((we,Be)=>Se=>{Se.preventDefault(),Se.stopPropagation(),Ze(we),z==null||z(we.date,Be,Se),v==null||v(we.date,Be,Se)},[z,v,Ze]),Tt=y.useCallback((we,Be)=>Se=>{Ze(we),_==null||_(we.date,Be,Se)},[_,Ze]),Pt=y.useCallback((we,Be)=>Se=>{xe(),p==null||p(we.date,Be,Se)},[xe,p]),oo=y.useCallback((we,Be)=>Se=>{const In={ArrowLeft:[Se.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Se.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Se.shiftKey?"year":"week","after"],ArrowUp:[Se.shiftKey?"year":"week","before"],PageUp:[Se.shiftKey?"year":"month","before"],PageDown:[Se.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(In[Se.key]){Se.preventDefault(),Se.stopPropagation();const[Xt,Cn]=In[Se.key];je(Xt,Cn)}g==null||g(we.date,Be,Se)},[je,g,e.dir]),au=y.useCallback((we,Be)=>Se=>{S==null||S(we.date,Be,Se)},[S]),lu=y.useCallback((we,Be)=>Se=>{w==null||w(we.date,Be,Se)},[w]),Xf=y.useCallback(we=>Be=>{const Se=Number(Be.target.value),In=i.setMonth(i.startOfMonth(we),Se);W(In)},[i,W]),vi=y.useCallback(we=>Be=>{const Se=Number(Be.target.value),In=i.setYear(i.startOfMonth(we),Se);W(In)},[i,W]),{className:cu,style:uu}=y.useMemo(()=>({className:[a[oe.Root],e.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[oe.Root],...e.style}}),[a,e.className,e.style,D]),Ua=m7(e),du=y.useRef(null);W7(du,!!e.animate,{classNames:a,months:Z,focused:be,dateLib:i});const Jf={dayPickerProps:e,selected:ce,select:z,isSelected:ie,months:Z,nextMonth:V,previousMonth:L,goToMonth:W,getModifiers:ee,components:n,classNames:a,styles:D,labels:s,formatters:r};return Y.createElement(fR.Provider,{value:Jf},Y.createElement(n.Root,{rootRef:e.animate?du:void 0,className:cu,style:uu,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Ua},Y.createElement(n.Months,{className:a[oe.Months],style:D==null?void 0:D[oe.Months]},!e.hideNavigation&&!h&&Y.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[oe.Nav],style:D==null?void 0:D[oe.Nav],"aria-label":kt(),onPreviousClick:gi,onNextClick:yi,previousMonth:L,nextMonth:V}),Z.map((we,Be)=>{const Se=T7(we.date,q,X,r,i),In=N7(q,X,r,i);return Y.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[oe.Month],style:D==null?void 0:D[oe.Month],key:Be,displayIndex:Be,calendarMonth:we},h==="around"&&!e.hideNavigation&&Be===0&&Y.createElement(n.PreviousMonthButton,{type:"button",className:a[oe.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":Ln(L),onClick:gi,"data-animated-button":e.animate?"true":void 0},Y.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[oe.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Y.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[oe.MonthCaption],style:D==null?void 0:D[oe.MonthCaption],calendarMonth:we,displayIndex:Be},c!=null&&c.startsWith("dropdown")?Y.createElement(n.DropdownNav,{className:a[oe.Dropdowns],style:D==null?void 0:D[oe.Dropdowns]},c==="dropdown"||c==="dropdown-months"?Y.createElement(n.MonthsDropdown,{className:a[oe.MonthsDropdown],"aria-label":yt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:Xf(we.date),options:Se,style:D==null?void 0:D[oe.Dropdown],value:i.getMonth(we.date)}):Y.createElement("span",null,T(we.date,i)),c==="dropdown"||c==="dropdown-years"?Y.createElement(n.YearsDropdown,{className:a[oe.YearsDropdown],"aria-label":Fa(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:vi(we.date),options:In,style:D==null?void 0:D[oe.Dropdown],value:i.getYear(we.date)}):Y.createElement("span",null,j(we.date,i)),Y.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(we.date,i.options,i))):Y.createElement(n.CaptionLabel,{className:a[oe.CaptionLabel],role:"status","aria-live":"polite"},O(we.date,i.options,i))),h==="around"&&!e.hideNavigation&&Be===f-1&&Y.createElement(n.NextMonthButton,{type:"button",className:a[oe.NextMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":ir(V),onClick:yi,"data-animated-button":e.animate?"true":void 0},Y.createElement(n.Chevron,{disabled:V?void 0:!0,className:a[oe.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Be===f-1&&h==="after"&&!e.hideNavigation&&Y.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[oe.Nav],style:D==null?void 0:D[oe.Nav],"aria-label":kt(),onPreviousClick:gi,onNextClick:yi,previousMonth:L,nextMonth:V}),Y.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":ke(we.date,i.options,i)||void 0,className:a[oe.MonthGrid],style:D==null?void 0:D[oe.MonthGrid]},!e.hideWeekdays&&Y.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[oe.Weekdays],style:D==null?void 0:D[oe.Weekdays]},R&&Y.createElement(n.WeekNumberHeader,{"aria-label":Dr(i.options),className:a[oe.WeekNumberHeader],style:D==null?void 0:D[oe.WeekNumberHeader],scope:"col"},k()),su.map((Xt,Cn)=>Y.createElement(n.Weekday,{"aria-label":Ar(Xt,i.options,i),className:a[oe.Weekday],key:Cn,style:D==null?void 0:D[oe.Weekday],scope:"col"},N(Xt,i.options,i)))),Y.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[oe.Weeks],style:D==null?void 0:D[oe.Weeks]},we.weeks.map((Xt,Cn)=>Y.createElement(n.Week,{className:a[oe.Week],key:Xt.weekNumber,style:D==null?void 0:D[oe.Week],week:Xt},R&&Y.createElement(n.WeekNumber,{week:Xt,style:D==null?void 0:D[oe.WeekNumber],"aria-label":Va(Xt.weekNumber,{locale:o}),className:a[oe.WeekNumber],scope:"row",role:"rowheader"},I(Xt.weekNumber,i)),Xt.days.map(vt=>{const{date:Jt}=vt,Oe=ee(vt);if(Oe[et.focused]=!Oe.hidden&&!!(be!=null&&be.isEqualTo(vt)),Oe[qn.selected]=(ie==null?void 0:ie(Jt))||Oe.selected,kw(ce)){const{from:lo,to:jr}=ce;Oe[qn.range_start]=!!(lo&&jr&&i.isSameDay(Jt,lo)),Oe[qn.range_end]=!!(lo&&jr&&i.isSameDay(Jt,jr)),Oe[qn.range_middle]=Wr(ce,Jt,!0,i)}const wi=I7(Oe,D,e.modifiersStyles),hu=U8(Oe,a,e.modifiersClassNames),Rt=!iu&&!Oe.hidden?Ne(Jt,Oe,i.options,i):void 0;return Y.createElement(n.Day,{key:`${i.format(Jt,"yyyy-MM-dd")}_${i.format(vt.displayMonth,"yyyy-MM")}`,day:vt,modifiers:Oe,className:hu.join(" "),style:wi,role:"gridcell","aria-selected":Oe.selected||void 0,"aria-label":Rt,"data-day":i.format(Jt,"yyyy-MM-dd"),"data-month":vt.outside?i.format(Jt,"yyyy-MM"):void 0,"data-selected":Oe.selected||void 0,"data-disabled":Oe.disabled||void 0,"data-hidden":Oe.hidden||void 0,"data-outside":vt.outside||void 0,"data-focused":Oe.focused||void 0,"data-today":Oe.today||void 0},!Oe.hidden&&iu?Y.createElement(n.DayButton,{className:a[oe.DayButton],style:D==null?void 0:D[oe.DayButton],type:"button",day:vt,modifiers:Oe,disabled:Oe.disabled||void 0,tabIndex:re(vt)?0:-1,"aria-label":Ae(Jt,Oe,i.options,i),onClick:ou(vt,Oe),onBlur:Pt(vt,Oe),onFocus:Tt(vt,Oe),onKeyDown:oo(vt,Oe),onMouseEnter:au(vt,Oe),onMouseLeave:lu(vt,Oe)},C(Jt,i.options,i)):!Oe.hidden&&C(vt.date,i.options,i))}))))))})),e.footer&&Y.createElement(n.Footer,{className:a[oe.Footer],style:D==null?void 0:D[oe.Footer],role:"status","aria-live":"polite"},e.footer)))}function wR({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:i,components:o,...a}){const c=Pw();return l.jsx(uH,{showOutsideDays:n,className:J("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:J("w-fit",c.root),months:J("flex gap-4 flex-col md:flex-row relative",c.months),month:J("flex flex-col w-full gap-4",c.month),nav:J("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:J(Fg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:J(Fg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:J("flex items-center justify-center h-[--cell-size] w-full px-[--cell-size]",c.month_caption),dropdowns:J("w-full flex items-center text-sm font-medium justify-center h-[--cell-size] gap-1.5",c.dropdowns),dropdown_root:J("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:J("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:J("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:J("flex",c.weekdays),weekday:J("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:J("flex w-full mt-2",c.week),week_number_header:J("select-none w-[--cell-size]",c.week_number_header),week_number:J("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:J("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:J("rounded-l-md bg-accent",c.range_start),range_middle:J("rounded-none",c.range_middle),range_end:J("rounded-r-md bg-accent",c.range_end),today:J("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:J("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:J("text-muted-foreground opacity-50",c.disabled),hidden:J("invisible",c.hidden),...e},components:{Root:({className:d,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:J(d),...f}),Chevron:({className:d,orientation:h,...f})=>h==="left"?l.jsx(R5,{className:J("size-4",d),...f}):h==="right"?l.jsx(A5,{className:J("size-4",d),...f}):l.jsx(vc,{className:J("size-4",d),...f}),DayButton:dH,WeekNumber:({children:d,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:d})}),...o},...a})}function dH({className:t,day:e,modifiers:n,...r}){const s=Pw(),i=y.useRef(null);return y.useEffect(()=>{var o;n.focused&&((o=i.current)==null||o.focus())},[n.focused]),l.jsx(se,{ref:i,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:J("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square w-full min-w-[--cell-size] flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Qf="Popover",[xR,qH]=rr(Qf,[Wf]),ru=Wf(),[hH,mi]=xR(Qf),_R=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=ru(e),c=y.useRef(null),[d,h]=y.useState(!1),[f,p]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Qf});return l.jsx(eP,{...a,children:l.jsx(hH,{scope:e,contentId:Qr(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(v=>!v),[p]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};_R.displayName=Qf;var ER="PopoverAnchor",fH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mi(ER,n),i=ru(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(Sw,{...i,...r,ref:e})});fH.displayName=ER;var bR="PopoverTrigger",SR=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mi(bR,n),i=ru(n),o=Le(e,s.triggerRef),a=l.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kR(s.open),...r,ref:o,onClick:me(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Sw,{asChild:!0,...i,children:a})});SR.displayName=bR;var Rw="PopoverPortal",[pH,mH]=xR(Rw,{forceMount:void 0}),TR=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=mi(Rw,e);return l.jsx(pH,{scope:e,forceMount:n,children:l.jsx(ds,{present:n||i.open,children:l.jsx(kf,{asChild:!0,container:s,children:r})})})};TR.displayName=Rw;var pa="PopoverContent",IR=y.forwardRef((t,e)=>{const n=mH(pa,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=mi(pa,t.__scopePopover);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(yH,{...s,ref:e}):l.jsx(vH,{...s,ref:e})})});IR.displayName=pa;var gH=qi("PopoverContent.RemoveScroll"),yH=y.forwardRef((t,e)=>{const n=mi(pa,t.__scopePopover),r=y.useRef(null),s=Le(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return aw(o)},[]),l.jsx(Rf,{as:gH,allowPinchZoom:!0,children:l.jsx(CR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:me(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),vH=y.forwardRef((t,e)=>{const n=mi(pa,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(CR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),CR=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...f}=t,p=mi(pa,n),v=ru(n);return ow(),l.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(tP,{"data-state":kR(p.open),role:"dialog",id:p.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),NR="PopoverClose",wH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=mi(NR,n);return l.jsx(ye.button,{type:"button",...r,ref:e,onClick:me(t.onClick,()=>s.onOpenChange(!1))})});wH.displayName=NR;var xH="PopoverArrow",_H=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ru(n);return l.jsx(nP,{...s,...r,ref:e})});_H.displayName=xH;function kR(t){return t?"open":"closed"}var EH=_R,bH=SR,SH=TR,PR=IR;const RR=EH,AR=bH,Aw=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(SH,{children:l.jsx(PR,{ref:s,align:e,sideOffset:n,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Aw.displayName=PR.displayName;function TH({organization:t,isOpen:e,onClose:n,onSuccess:r}){var D,O,C,T,I,k,N,j,A,$,Z,q,X,L;const[s,i]=y.useState(!1),[o,a]=y.useState(null),[c,d]=y.useState(),[h,f]=y.useState(),[p,v]=y.useState([]),[_,g]=y.useState({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,eventbriteUrl:"",series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),S=(V,W)=>{if(V.startsWith("price.groupDealDetails.")){const ee=V.split(".")[2];g(ie=>{var z;return{...ie,price:{...ie.price,groupDealDetails:{...(z=ie.price)==null?void 0:z.groupDealDetails,[ee]:W}}}})}else if(V.startsWith("price.")){const ee=V.split(".")[1];g(ie=>({...ie,price:{...ie.price,[ee]:W}}))}else if(V.startsWith("series.")){const ee=V.split(".")[1];g(ie=>({...ie,series:{...ie.series,[ee]:W}}))}else g(ee=>({...ee,[V]:W}))},w=()=>{v(V=>[...V,{date:"",theme:"",description:""}])},x=(V,W,ee)=>{v(ie=>ie.map((z,ce)=>ce===V?{...z,[W]:ee}:z))},b=V=>{v(W=>W.filter((ee,ie)=>ie!==V))},R=async V=>{V.preventDefault(),i(!0),a(null);try{if(!c)throw new Error("Please select an event date");const W={..._,date:c,endDate:h,recurringDates:_.isRecurring&&p.length>0?p:void 0},ee=await xc.create(W);r(ee),n(),g({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,eventbriteUrl:"",series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),d(void 0),f(void 0),v([])}catch(W){console.error("Failed to create event:",W),a(W instanceof Error?W.message:"Failed to create event")}finally{i(!1)}};return l.jsx(Xc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Aa,{children:[l.jsx(Da,{children:"Create New Event"}),l.jsxs(Df,{children:["Create a new event for ",t.name,". Fill out the details below."]})]}),l.jsxs("form",{onSubmit:R,className:"space-y-6",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:o})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(K,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:_.title,onChange:V=>S("title",V.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"status",children:"Status"}),l.jsxs(Oh,{value:_.status,onValueChange:V=>S("status",V),children:[l.jsx(bc,{children:l.jsx(Mh,{})}),l.jsxs(Sc,{children:[l.jsx(wt,{value:"draft",children:"Draft"}),l.jsx(wt,{value:"presale",children:"PreSale"}),l.jsx(wt,{value:"published",children:"Published"}),l.jsx(wt,{value:"sold_out",children:"Sold Out"}),l.jsx(wt,{value:"cancelled",children:"Canceled"}),l.jsx(wt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"description",children:"Short Description *"}),l.jsx(Yn,{id:"description",value:_.description,onChange:V=>S("description",V.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Yn,{id:"fullDescription",value:_.fullDescription,onChange:V=>S("fullDescription",V.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Event Date *"}),l.jsxs(RR,{children:[l.jsx(AR,{asChild:!0,children:l.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Et,{className:"mr-2 h-4 w-4"}),c?Nw(c,"PPP"):"Pick a date"]})}),l.jsx(Aw,{className:"w-auto p-0",children:l.jsx(wR,{mode:"single",selected:c,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:_.time,onChange:V=>S("time",V.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:_.duration,onChange:V=>S("duration",V.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:_.location,onChange:V=>S("location",V.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:_.address,onChange:V=>S("address",V.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Ticketing"})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Price Type"}),l.jsxs(Oh,{value:(D=_.price)==null?void 0:D.type,onValueChange:V=>S("price.type",V),children:[l.jsx(bc,{children:l.jsx(Mh,{})}),l.jsxs(Sc,{children:[l.jsx(wt,{value:"free",children:"Free"}),l.jsx(wt,{value:"paid",children:"Paid"}),l.jsx(wt,{value:"group_deal",children:"Group Ticket Deal"})]})]})]}),((O=_.price)==null?void 0:O.type)==="paid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((C=_.price)==null?void 0:C.amount)||"",onChange:V=>S("price.amount",parseFloat(V.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((T=_.price)==null?void 0:T.advancePrice)||"",onChange:V=>S("price.advancePrice",parseFloat(V.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",_.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:_.eventbriteUrl,onChange:V=>S("eventbriteUrl",V.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:_.status==="published"})]})]}),((I=_.price)==null?void 0:I.type)==="group_deal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"minimumPeople",children:"Minimum People *"}),l.jsx(le,{id:"minimumPeople",type:"number",value:((N=(k=_.price)==null?void 0:k.groupDealDetails)==null?void 0:N.minimumPeople)||"",onChange:V=>S("price.groupDealDetails.minimumPeople",parseInt(V.target.value)||void 0),placeholder:"4",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"pricePerPerson",children:"Group Price Per Person"}),l.jsx(le,{id:"pricePerPerson",type:"number",step:"0.01",value:((A=(j=_.price)==null?void 0:j.groupDealDetails)==null?void 0:A.pricePerPerson)||"",onChange:V=>S("price.groupDealDetails.pricePerPerson",parseFloat(V.target.value)||void 0),placeholder:"15.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"normalPricePerPerson",children:"Normal Price Per Person"}),l.jsx(le,{id:"normalPricePerPerson",type:"number",step:"0.01",value:((Z=($=_.price)==null?void 0:$.groupDealDetails)==null?void 0:Z.normalPricePerPerson)||"",onChange:V=>S("price.groupDealDetails.normalPricePerPerson",parseFloat(V.target.value)||void 0),placeholder:"20.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",_.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:_.eventbriteUrl,onChange:V=>S("eventbriteUrl",V.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:_.status==="published"})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:(q=_.price)==null?void 0:q.description,onChange:V=>S("price.description",V.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:_.capacity||"",onChange:V=>S("capacity",parseInt(V.target.value)||void 0),placeholder:"Maximum attendees"})]})]})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((X=_.series)==null?void 0:X.name)||"",onChange:V=>S("series.name",V.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Yn,{id:"seriesDescription",value:((L=_.series)==null?void 0:L.description)||"",onChange:V=>S("series.description",V.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Iw,{id:"isRecurring",checked:_.isRecurring,onCheckedChange:V=>{S("isRecurring",V),V||v([])}}),l.jsx(K,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),_.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(K,{children:"Recurring Dates & Themes"}),l.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:w,children:[l.jsx(sw,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),p.map((V,W)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:V.date,onChange:ee=>x(W,"date",ee.target.value)}),l.jsx(le,{placeholder:"Theme",value:V.theme,onChange:ee=>x(W,"theme",ee.target.value)}),l.jsx(le,{placeholder:"Description",value:V.description,onChange:ee=>x(W,"description",ee.target.value)})]}),l.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(W),children:l.jsx(da,{className:"h-4 w-4"})})]},W))]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:_.imageUrl,onChange:V=>S("imageUrl",V.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:s,children:[s&&l.jsx(Gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})]})]})]})})}function IH({event:t,isOpen:e,onClose:n,onSuccess:r,onDelete:s}){var I,k,N,j,A,$,Z,q,X,L,V,W,ee,ie;const[i,o]=y.useState(!1),[a,c]=y.useState(!1),[d,h]=y.useState(null),[f,p]=y.useState(),[v,_]=y.useState(),[g,S]=y.useState([]),[w,x]=y.useState({});y.useEffect(()=>{t&&(x({title:t.title,description:t.description,fullDescription:t.fullDescription,time:t.time,duration:t.duration,location:t.location,address:t.address,price:{...t.price},capacity:t.capacity,eventbriteUrl:t.eventbriteUrl,series:t.series?{...t.series}:void 0,isRecurring:t.isRecurring,imageUrl:t.imageUrl,status:t.status}),p(t.date instanceof Date?t.date:new Date(t.date)),_(t.endDate?t.endDate instanceof Date?t.endDate:new Date(t.endDate):void 0),S(t.recurringDates||[]))},[t]);const b=(z,ce)=>{if(z.startsWith("price.groupDealDetails.")){const xe=z.split(".")[2];x(be=>{var re;return{...be,price:{...be.price,groupDealDetails:{...(re=be.price)==null?void 0:re.groupDealDetails,[xe]:ce}}}})}else if(z.startsWith("price.")){const xe=z.split(".")[1];x(be=>({...be,price:{...be.price,[xe]:ce}}))}else if(z.startsWith("series.")){const xe=z.split(".")[1];x(be=>({...be,series:{...be.series,[xe]:ce}}))}else x(xe=>({...xe,[z]:ce}))},R=()=>{S(z=>[...z,{date:"",theme:"",description:""}])},D=(z,ce,xe)=>{S(be=>be.map((re,je)=>je===z?{...re,[ce]:xe}:re))},O=z=>{S(ce=>ce.filter((xe,be)=>be!==z))},C=async z=>{z.preventDefault(),o(!0),h(null);try{if(!f)throw new Error("Please select an event date");const ce={...w,date:f,endDate:v,recurringDates:w.isRecurring&&g.length>0?g:void 0},xe=await xc.update(t.id,ce);r(xe),n()}catch(ce){console.error("Failed to update event:",ce),h(ce instanceof Error?ce.message:"Failed to update event")}finally{o(!1)}},T=async()=>{if(!(!s||!window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`))){c(!0),h(null);try{await xc.delete(t.id),s(t.id),n()}catch(ce){console.error("Failed to delete event:",ce),h(ce instanceof Error?ce.message:"Failed to delete event")}finally{c(!1)}}};return l.jsx(Xc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Aa,{children:[l.jsx(Da,{children:"Edit Event"}),l.jsxs(Df,{children:['Update the details for "',t.title,'".']})]}),l.jsxs("form",{onSubmit:C,className:"space-y-6",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:d})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(K,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:w.title||"",onChange:z=>b("title",z.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"status",children:"Status"}),l.jsxs(Oh,{value:w.status,onValueChange:z=>b("status",z),children:[l.jsx(bc,{children:l.jsx(Mh,{})}),l.jsxs(Sc,{children:[l.jsx(wt,{value:"draft",children:"Draft"}),l.jsx(wt,{value:"presale",children:"PreSale"}),l.jsx(wt,{value:"published",children:"Published"}),l.jsx(wt,{value:"sold_out",children:"Sold Out"}),l.jsx(wt,{value:"cancelled",children:"Canceled"}),l.jsx(wt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"description",children:"Short Description *"}),l.jsx(Yn,{id:"description",value:w.description||"",onChange:z=>b("description",z.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Yn,{id:"fullDescription",value:w.fullDescription||"",onChange:z=>b("fullDescription",z.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Event Date *"}),l.jsxs(RR,{children:[l.jsx(AR,{asChild:!0,children:l.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Et,{className:"mr-2 h-4 w-4"}),f?Nw(f,"PPP"):"Pick a date"]})}),l.jsx(Aw,{className:"w-auto p-0",children:l.jsx(wR,{mode:"single",selected:f,onSelect:p,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:w.time||"",onChange:z=>b("time",z.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:w.duration||"",onChange:z=>b("duration",z.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:w.location||"",onChange:z=>b("location",z.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:w.address||"",onChange:z=>b("address",z.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Ticketing"})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{children:"Price Type"}),l.jsxs(Oh,{value:(I=w.price)==null?void 0:I.type,onValueChange:z=>b("price.type",z),children:[l.jsx(bc,{children:l.jsx(Mh,{})}),l.jsxs(Sc,{children:[l.jsx(wt,{value:"free",children:"Free"}),l.jsx(wt,{value:"paid",children:"Paid"}),l.jsx(wt,{value:"group_deal",children:"Group Ticket Deal"})]})]})]}),((k=w.price)==null?void 0:k.type)==="paid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((N=w.price)==null?void 0:N.amount)||"",onChange:z=>b("price.amount",parseFloat(z.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((j=w.price)==null?void 0:j.advancePrice)||"",onChange:z=>b("price.advancePrice",parseFloat(z.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",w.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:w.eventbriteUrl||"",onChange:z=>b("eventbriteUrl",z.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:w.status==="published"})]})]}),((A=w.price)==null?void 0:A.type)==="group_deal"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"minimumPeople",children:"Minimum People *"}),l.jsx(le,{id:"minimumPeople",type:"number",value:((Z=($=w.price)==null?void 0:$.groupDealDetails)==null?void 0:Z.minimumPeople)||"",onChange:z=>b("price.groupDealDetails.minimumPeople",parseInt(z.target.value)||void 0),placeholder:"4",required:!0})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"pricePerPerson",children:"Group Price Per Person"}),l.jsx(le,{id:"pricePerPerson",type:"number",step:"0.01",value:((X=(q=w.price)==null?void 0:q.groupDealDetails)==null?void 0:X.pricePerPerson)||"",onChange:z=>b("price.groupDealDetails.pricePerPerson",parseFloat(z.target.value)||void 0),placeholder:"15.00"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"normalPricePerPerson",children:"Normal Price Per Person"}),l.jsx(le,{id:"normalPricePerPerson",type:"number",step:"0.01",value:((V=(L=w.price)==null?void 0:L.groupDealDetails)==null?void 0:V.normalPricePerPerson)||"",onChange:z=>b("price.groupDealDetails.normalPricePerPerson",parseFloat(z.target.value)||void 0),placeholder:"20.00"})]})]}),l.jsxs("div",{children:[l.jsxs(K,{htmlFor:"eventbriteUrl",children:["Ticket Purchase Link ",w.status==="published"?"*":"(optional)"]}),l.jsx(le,{id:"eventbriteUrl",value:w.eventbriteUrl||"",onChange:z=>b("eventbriteUrl",z.target.value),placeholder:"https://eventbrite.com/... or https://venmo.com/...",required:w.status==="published"})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:((W=w.price)==null?void 0:W.description)||"",onChange:z=>b("price.description",z.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:w.capacity||"",onChange:z=>b("capacity",parseInt(z.target.value)||void 0),placeholder:"Maximum attendees"})]})]})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((ee=w.series)==null?void 0:ee.name)||"",onChange:z=>b("series.name",z.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Yn,{id:"seriesDescription",value:((ie=w.series)==null?void 0:ie.description)||"",onChange:z=>b("series.description",z.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Iw,{id:"isRecurring",checked:w.isRecurring||!1,onCheckedChange:z=>{b("isRecurring",z),z||S([])}}),l.jsx(K,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),w.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(K,{children:"Recurring Dates & Themes"}),l.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:R,children:[l.jsx(sw,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),g.map((z,ce)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:z.date,onChange:xe=>D(ce,"date",xe.target.value)}),l.jsx(le,{placeholder:"Theme",value:z.theme,onChange:xe=>D(ce,"theme",xe.target.value)}),l.jsx(le,{placeholder:"Description",value:z.description,onChange:xe=>D(ce,"description",xe.target.value)})]}),l.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(ce),children:l.jsx(da,{className:"h-4 w-4"})})]},ce))]})]})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:w.imageUrl||"",onChange:z=>b("imageUrl",z.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsx("div",{children:s&&l.jsxs(se,{type:"button",variant:"destructive",onClick:T,disabled:a,children:[a&&l.jsx(Gi,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(W5,{className:"mr-2 h-4 w-4"}),"Delete Event"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:i,children:[i&&l.jsx(Gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})]})]})]})]})})}const DR=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:J("w-full caption-bottom text-sm",t),...e})}));DR.displayName="Table";const jR=y.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:J("[&_tr]:border-b",t),...e}));jR.displayName="TableHeader";const OR=y.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:J("[&_tr:last-child]:border-0",t),...e}));OR.displayName="TableBody";const CH=y.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));CH.displayName="TableFooter";const sy=y.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));sy.displayName="TableRow";const bo=y.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));bo.displayName="TableHead";const So=y.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));So.displayName="TableCell";const NH=y.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:J("mt-4 text-sm text-muted-foreground",t),...e}));NH.displayName="TableCaption";function kH({event:t,isOpen:e,onClose:n}){const[r,s]=y.useState([]),[i,o]=y.useState({veryInterested:0,somewhatInterested:0,presaleRequests:0,waitlistCount:0,totalRegistrations:0}),[a,c]=y.useState(0),[d,h]=y.useState(!1),[f,p]=y.useState(null),[v,_]=y.useState(0);y.useEffect(()=>{e&&g()},[e,t.id]),y.useEffect(()=>{const N=localStorage.getItem(`manual-sales-${t.id}`);N&&c(parseInt(N,10)||0)},[t.id]);const g=async()=>{h(!0),p(null);try{console.log("Loading registrations for event:",t.id);const N=wc();let j=[];if(N==="firebase"){console.log("Loading from Firebase (development mode)");const $=await e9(t.id);console.log("DB Registrations:",$.length);const Z=$.map(L=>({id:L.id,eventId:L.eventId,name:L.name||"No name",email:L.email,phone:L.phone,registrationType:L.registrationType==="confirmed"?"rsvp_yes":"rsvp_maybe",notes:L.notes,registeredAt:L.registeredAt.toISOString()})),q=await aN(t.id);console.log("Waitlist entries:",q.length);const X=q.map(L=>({id:L.id,eventId:L.eventId,name:L.name||"No name",email:L.email,phone:L.phone,registrationType:"waitlist",notes:L.notes,registeredAt:L.joinedAt.toISOString(),position:L.position}));j=[...Z,...X],console.log("Total combined data:",j.length)}else{console.log("Loading from API (production/staging mode)");const $=await rN.getByEvent(t.id);if(Array.isArray($))j=$;else if($&&Array.isArray($.data))j=$.data;else if($&&$.registrations&&Array.isArray($.registrations))j=$.registrations;else if($&&$.registrations&&typeof $.registrations=="object"){const Z=[];Object.values($.registrations).forEach(q=>{Array.isArray(q)&&Z.push(...q)}),j=Z}else j=[]}console.log("Final registration data:",j.length),s(j);const A={veryInterested:j.filter($=>$.registrationType==="rsvp_yes").length,somewhatInterested:j.filter($=>$.registrationType==="rsvp_maybe").length,presaleRequests:j.filter($=>$.registrationType==="presale_request").length,waitlistCount:j.filter($=>$.registrationType==="waitlist").length,totalRegistrations:j.length};o(A)}catch(N){console.error("Failed to load registrations:",N);let j="Failed to load registration data";N instanceof Error&&(j=N.message);const A=`${j} (Event: ${t.id}, Attempt: ${v+1})`;p(A)}finally{h(!1)}},S=()=>{_(N=>N+1),g()},w=N=>{const j=parseInt(N,10)||0;c(j),localStorage.setItem(`manual-sales-${t.id}`,j.toString())},x=()=>t.capacity?Math.max(0,t.capacity-i.totalRegistrations-a):null,b=()=>{const N=x();return N===null?null:N===0?{color:"destructive",text:"Full"}:N<=5?{color:"secondary",text:"Almost Full"}:{color:"default",text:"Available"}},R=N=>{switch(N){case"rsvp_yes":return l.jsx(H5,{className:"h-4 w-4 text-green-600"});case"rsvp_maybe":return l.jsx(q5,{className:"h-4 w-4 text-yellow-600"});case"presale_request":return l.jsx(U5,{className:"h-4 w-4 text-blue-600"});case"waitlist":return l.jsx(Pd,{className:"h-4 w-4 text-orange-600"});default:return l.jsx(Hn,{className:"h-4 w-4 text-gray-400"})}},D=N=>{switch(N){case"rsvp_yes":return"Very Interested";case"rsvp_maybe":return"Somewhat Interested";case"presale_request":return"Presale Request";case"waitlist":return"Waitlist";default:return N}},O=N=>{switch(N){case"rsvp_yes":return l.jsx(ct,{className:"bg-green-600",children:"Very Interested"});case"rsvp_maybe":return l.jsx(ct,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Somewhat Interested"});case"presale_request":return l.jsx(ct,{variant:"outline",className:"border-blue-500 text-blue-700",children:"Presale"});case"waitlist":return l.jsx(ct,{className:"bg-orange-600",children:"Waitlist"});default:return l.jsx(ct,{variant:"outline",children:N})}},C=()=>{if(r.length===0)return;const j=[["Name","Email","Phone","Type","Notes","Registered At"],...r.map(q=>[q.name||"",q.email||"",q.phone||"",D(q.registrationType),q.notes||"",new Date(q.registeredAt||q.createdAt||"").toLocaleDateString()])].map(q=>q.map(X=>`"${X}"`).join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),$=URL.createObjectURL(A),Z=document.createElement("a");Z.href=$,Z.download=`${t.title}-registrations.csv`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL($)},T=N=>{try{return new Date(N).toLocaleString()}catch{return N}},I=x(),k=b();return l.jsx(Xc,{open:e,onOpenChange:n,children:l.jsxs(Ra,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Aa,{children:l.jsxs(Da,{className:"flex items-center gap-2",children:[l.jsx(Hn,{className:"h-5 w-5"}),"Registration Management - ",t.title]})}),l.jsxs("div",{className:"space-y-6",children:[d&&l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(Gi,{className:"h-6 w-6 animate-spin mr-2"}),"Loading registrations..."]}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(D5,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Unable to Load Registration Data"}),l.jsx("p",{className:"text-sm text-red-700 mb-3",children:f}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(se,{size:"sm",variant:"outline",onClick:S,disabled:d,className:"text-red-700 border-red-300 hover:bg-red-100",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Gi,{className:"h-4 w-4 animate-spin mr-2"}),"Retrying..."]}):"Retry"}),l.jsx(se,{size:"sm",variant:"ghost",onClick:()=>p(null),className:"text-red-700 hover:bg-red-100",children:"Dismiss"})]})]})]})}),f&&l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[l.jsx(Et,{className:"h-5 w-5"}),"Event Information"]})}),l.jsx(fe,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Event:"})," ",t.title]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),t.capacity&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Capacity:"})," ",t.capacity]})]})})]}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(XC,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Very Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.veryInterested})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Et,{className:"h-8 w-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Somewhat Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.somewhatInterested})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(os,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presale Requests"}),l.jsx("p",{className:"text-2xl font-bold",children:i.presaleRequests})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Pd,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Waitlist"}),l.jsx("p",{className:"text-2xl font-bold",children:i.waitlistCount})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Hn,{className:"h-8 w-8 text-gray-700"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:i.totalRegistrations})]})]})})]}),t.capacity&&l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsx(Je,{className:"text-lg",children:"Capacity Management"})}),l.jsx(fe,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Event Capacity"}),l.jsx("p",{className:"text-xl font-semibold",children:t.capacity})]}),l.jsxs("div",{children:[l.jsx(K,{htmlFor:"manual-sales",className:"text-sm text-gray-600",children:"External Sales"}),l.jsx(le,{id:"manual-sales",type:"number",min:"0",value:a,onChange:N=>w(N.target.value),className:"mt-1",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(K,{className:"text-sm text-gray-600",children:"App Registrations"}),l.jsx("p",{className:"text-xl font-semibold",children:i.totalRegistrations})]}),l.jsxs("div",{children:[l.jsx(K,{className:"text-sm text-gray-600",children:"Remaining"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[k&&l.jsx(ct,{variant:k.color,children:k.text}),l.jsx("span",{className:"text-xl font-semibold",children:I!==null?I:"Unlimited"})]})]})]})})]}),l.jsxs(ue,{children:[l.jsx(Xe,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Je,{className:"text-lg",children:"Registration Details"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:g,children:[l.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Refresh"]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:C,disabled:r.length===0,children:[l.jsx(JC,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),l.jsx(fe,{children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-500 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Registrations will appear here when people express interest or request presale info."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(DR,{children:[l.jsx(jR,{children:l.jsxs(sy,{children:[l.jsx(bo,{children:"Type"}),l.jsx(bo,{children:"Name"}),l.jsx(bo,{children:"Contact"}),l.jsx(bo,{children:"Registered"}),l.jsx(bo,{children:"Notes"})]})}),l.jsx(OR,{children:r.map((N,j)=>(console.log(`Rendering registration ${j}:`,N),console.log(`- ID: ${N==null?void 0:N.id}`),console.log(`- Name: ${N==null?void 0:N.name}`),console.log(`- Email: ${N==null?void 0:N.email}`),console.log(`- Type: ${N==null?void 0:N.registrationType}`),console.log(`- Created: ${N==null?void 0:N.createdAt}`),l.jsxs(sy,{children:[l.jsx(So,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[R((N==null?void 0:N.registrationType)||""),O((N==null?void 0:N.registrationType)||"")]})}),l.jsx(So,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[(N==null?void 0:N.name)||"No name provided",(N==null?void 0:N.registrationType)==="waitlist"&&(N==null?void 0:N.position)&&l.jsxs(ct,{variant:"outline",className:"text-xs",children:["#",N.position]})]})}),l.jsx(So,{children:l.jsxs("div",{className:"space-y-1",children:[(N==null?void 0:N.email)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(os,{className:"h-3 w-3"}),l.jsx("a",{href:`mailto:${N.email}`,className:"text-blue-600 hover:underline",children:N.email})]}),(N==null?void 0:N.phone)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(B5,{className:"h-3 w-3"}),l.jsx("a",{href:`tel:${N.phone}`,className:"text-blue-600 hover:underline",children:N.phone})]}),!(N!=null&&N.email)&&!(N!=null&&N.phone)&&l.jsx("span",{className:"text-gray-400 text-sm",children:"No contact info"})]})}),l.jsx(So,{className:"text-sm text-gray-600",children:T((N==null?void 0:N.registeredAt)||(N==null?void 0:N.createdAt)||"")}),l.jsx(So,{children:N!=null&&N.notes?l.jsxs("div",{className:"flex items-start gap-1",children:[l.jsx(L5,{className:"h-3 w-3 mt-0.5 text-gray-400"}),l.jsx("span",{className:"text-sm",children:N.notes})]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"No notes"})})]},(N==null?void 0:N.id)||`reg-${j}`)))})]})})})]})]})]})]})})}function PH({organizationId:t,events:e}){const[n,r]=y.useState({}),[s,i]=y.useState(!0),[o,a]=y.useState(null),c=wc();y.useEffect(()=>{(async()=>{if(c!=="firebase"){i(!1);return}try{i(!0);const p={};for(const v of e)if(v.status==="sold_out"){const _=await aN(v.id);_.length>0&&(p[v.id]=_)}r(p)}catch(p){console.error("Error loading waitlists:",p),a("Failed to load waitlists")}finally{i(!1)}})()},[e,c]);const d=Object.values(n).reduce((f,p)=>f+p.length,0),h=Object.keys(n).length;return c!=="firebase"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(os,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email Subscribers"}),l.jsx("p",{className:"text-2xl font-bold",children:"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:"API Mode"})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Hn,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Waitlists"}),l.jsx("p",{className:"text-2xl font-bold",children:"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:"API Mode"})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Et,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Events with Interest"}),l.jsx("p",{className:"text-2xl font-bold",children:"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:"API Mode"})]})]})})]}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Hn,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"API Mode"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Subscriber data is available through the API in staging/production environments."})]})})]}):s?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(f=>l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse mb-2"}),l.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})]})]})},f))}),l.jsx(ue,{children:l.jsx(fe,{className:"py-12",children:l.jsx("div",{className:"text-center",children:"Loading waitlists..."})})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(os,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email Subscribers"}),l.jsx("p",{className:"text-2xl font-bold",children:"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Hn,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Waitlists"}),l.jsx("p",{className:"text-2xl font-bold",children:d}),l.jsxs("p",{className:"text-xs text-gray-500",children:[h," events"]})]})]})}),l.jsx(ue,{children:l.jsxs(fe,{className:"flex items-center gap-3 p-4",children:[l.jsx(Et,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Event Interests"}),l.jsx("p",{className:"text-2xl font-bold",children:"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})})]}),d>0?l.jsxs(ue,{children:[l.jsxs(Xe,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Je,{className:"text-lg",children:"Event Waitlists"}),l.jsx(en,{children:"People waiting for sold-out events"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{variant:"outline",size:"sm",children:[l.jsx(V5,{className:"h-4 w-4 mr-2"}),"Filter"]}),l.jsxs(se,{variant:"outline",size:"sm",children:[l.jsx(JC,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),l.jsx(fe,{children:l.jsx("div",{className:"space-y-6",children:Object.entries(n).map(([f,p])=>{const v=e.find(_=>_.id===f);return v?l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold",children:v.title}),l.jsx(ct,{className:"bg-red-600 text-white text-xs",children:"SOLD OUT"})]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[v.date instanceof Date?v.date.toLocaleDateString():new Date(v.date).toLocaleDateString()," • ",p.length," on waitlist"]})]}),l.jsx(se,{variant:"outline",size:"sm",children:"Contact Waitlist"})]}),l.jsxs("div",{className:"space-y-2",children:[p.slice(0,5).map((_,g)=>l.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ct,{variant:"outline",className:"text-xs",children:["#",_.position]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:_.name}),l.jsx("p",{className:"text-xs text-gray-600",children:_.email})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx(Pd,{className:"h-3 w-3"}),_.joinedAt.toLocaleDateString()]})]},_.id)),p.length>5&&l.jsx("div",{className:"text-center py-2",children:l.jsxs(se,{variant:"ghost",size:"sm",children:["Show ",p.length-5," more"]})})]})]},f):null})})})]}):l.jsx(ue,{children:l.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Hn,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Waitlists Yet"}),l.jsx("p",{className:"text-gray-600 text-center",children:"When events are sold out and people join waitlists, they'll appear here."})]})}),o&&l.jsx(ue,{children:l.jsx(fe,{className:"py-4",children:l.jsxs("p",{className:"text-red-600",children:["Error: ",o]})})})]})}function RH(){const{orgSlug:t}=DT(),e=AT(),{organization:n,events:r,loading:s,error:i,updateOrganization:o,refreshEvents:a}=lN(t||""),[c,d]=y.useState(!1),[h,f]=y.useState(null),[p,v]=y.useState(!1),[_,g]=y.useState(null),[S,w]=y.useState(null),x=Nh(),b=nN("adminControls"),R=async I=>{d(!0),f(null);try{await o(I),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(k){console.error("Failed to save organization:",k);const N=k instanceof Error?k.message:"Unknown error occurred";f(`❌ Failed to save changes: ${N}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{d(!1)}},D=I=>{f("✅ Event created successfully!"),setTimeout(()=>f(null),4e3),a()},O=I=>{f("✅ Event updated successfully!"),setTimeout(()=>f(null),4e3),a(),g(null)},C=I=>{f("✅ Event deleted successfully!"),setTimeout(()=>f(null),4e3),a(),g(null)},T=I=>{w(I)};return b?s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Gi,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),l.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[l.jsx(P5,{className:"h-4 w-4"}),"Back to Public Page"]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ct,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),x]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[l.jsx(M5,{className:"h-4 w-4"}),"Preview"]})]})]}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg border ${h.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:l.jsx("p",{className:"text-sm font-medium",children:h})})]})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(lB,{defaultValue:"organization",className:"flex gap-8",orientation:"vertical",children:[l.jsx("div",{className:"w-64 flex-shrink-0",children:l.jsxs(Ak,{className:"flex flex-col h-fit w-full",children:[l.jsxs(_l,{value:"organization",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(ZC,{className:"h-4 w-4"}),"Organization"]}),l.jsxs(_l,{value:"events",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Et,{className:"h-4 w-4"}),"Events"]}),l.jsxs(_l,{value:"subscribers",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(os,{className:"h-4 w-4"}),"Subscribers"]}),l.jsxs(_l,{value:"analytics",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(EE,{className:"h-4 w-4"}),"Analytics"]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(El,{value:"organization",children:l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Organization Settings"}),l.jsx(en,{children:"Update your organization's information, branding, and contact details."})]}),l.jsx(fe,{children:l.jsx(cB,{organization:n,onSave:R,onCancel:()=>{},isFullPage:!0,isSaving:c})})]})}),l.jsx(El,{value:"events",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),l.jsxs(se,{className:"flex items-center gap-2",onClick:()=>v(!0),children:[l.jsx(sw,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?l.jsx(ue,{children:l.jsxs(fe,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Et,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),l.jsx(se,{onClick:()=>v(!0),children:"Create Your First Event"})]})}):l.jsx("div",{className:"space-y-4",children:r.map(I=>l.jsx(ue,{children:l.jsx(fe,{className:"p-6",children:l.jsx("div",{className:"flex flex-col",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(ct,{variant:I.status==="published"?"default":I.status==="presale"?"secondary":I.status==="sold_out"||I.status==="cancelled"?"destructive":I.status==="completed"?"outline":"secondary",children:I.status==="presale"?"PreSale":I.status==="sold_out"?"Sold Out":I.status==="cancelled"?"Canceled":I.status==="completed"?"Complete":I.status==="published"?"Published":I.status==="draft"?"Draft":I.status}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:I.title})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:I.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-4 w-4 mr-2"}),I.date instanceof Date?I.date.toLocaleDateString():new Date(I.date).toLocaleDateString()," • ",I.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx($l,{className:"h-4 w-4 mr-2"}),I.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",I.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>g(I),children:[l.jsx(eN,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>T(I),children:[l.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]})})})},I.id))})]})}),l.jsx(El,{value:"subscribers",children:l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Subscriber Management"}),l.jsx(en,{children:"Manage waitlists, email subscribers, and audience engagement."})]}),l.jsx(fe,{children:n&&l.jsx(PH,{organizationId:n.id,events:r})})]})}),l.jsx(El,{value:"analytics",children:l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsx(Je,{children:"Analytics Dashboard"}),l.jsx(en,{children:"View insights about your events and audience engagement."})]}),l.jsx(fe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[l.jsx(EE,{className:"h-16 w-16 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analytics Coming Soon"}),l.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"Detailed analytics and insights about your events, registrations, and audience engagement will be available here."})]})})]})})]})]})}),p&&n&&l.jsx(TH,{organization:n,isOpen:p,onClose:()=>v(!1),onSuccess:D}),_&&l.jsx(IH,{event:_,isOpen:!!_,onClose:()=>g(null),onSuccess:O,onDelete:C}),S&&l.jsx(kH,{event:S,isOpen:!!S,onClose:()=>w(null)})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",x," environment."]}),l.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})})}function AH(){const{user:t}=FU(),[e,n]=y.useState([]),[r,s]=y.useState(!1),[i,o]=y.useState([]),a=async()=>{s(!0);try{const v=await xl("voxxy-presents-nyc");if(v){o(g=>[...g,`✅ Voxxy Presents NYC found: ${v.name}`]);const _=await Wg(v.id);n(_),o(g=>[...g,`✅ Found ${_.length} events for Voxxy Presents NYC`])}else o(_=>[..._,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(v){o(_=>[..._,`❌ Error testing Voxxy Presents NYC: ${v}`])}s(!1)},c=async()=>{s(!0);try{const v=await Y5({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",background:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(_=>[..._,`✅ Organization created with ID: ${v}`])}catch(v){o(_=>[..._,`❌ Error creating organization: ${v}`])}s(!1)},d=async()=>{s(!0);try{const v=await xl("brooklyn-hearts-club");return v?(o(_=>[..._,`✅ Organization found: ${v.name}`]),v):(o(_=>[..._,"❌ Organization not found"]),null)}catch(v){return o(_=>[..._,`❌ Error retrieving organization: ${v}`]),null}finally{s(!1)}},h=async()=>{s(!0);try{const v=await xl("brooklyn-hearts-club");if(!v){o(g=>[...g,"❌ Need to create organization first"]),s(!1);return}const _=await X5({organizationId:v.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(g=>[...g,`✅ Event created with ID: ${_}`])}catch(v){o(_=>[..._,`❌ Error creating event: ${v}`])}s(!1)},f=async()=>{s(!0);try{const v=await xl("brooklyn-hearts-club");if(!v){o(g=>[...g,"❌ Need to create organization first"]),s(!1);return}const _=await Wg(v.id);n(_),o(g=>[...g,`✅ Found ${_.length} events`])}catch(v){o(_=>[..._,`❌ Error retrieving events: ${v}`])}s(!1)},p=()=>{o([]),n([])};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ct,{variant:"secondary",children:t.email}),l.jsx(se,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsxs(Je,{className:"flex items-center gap-2",children:[l.jsx(bE,{className:"h-5 w-5"}),"Database Testing"]}),l.jsx(en,{children:"Test Firebase Firestore connection and basic operations"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(se,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),l.jsx(se,{onClick:c,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),l.jsx(se,{onClick:d,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),l.jsx(se,{onClick:h,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),l.jsx(se,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),l.jsx(se,{onClick:p,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?l.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((v,_)=>l.jsx("div",{className:"mb-1",children:v},_))})]})]}),l.jsxs(ue,{children:[l.jsxs(Xe,{children:[l.jsxs(Je,{className:"flex items-center gap-2",children:[l.jsx(Et,{className:"h-5 w-5"}),"Events"]}),l.jsx(en,{children:"Events retrieved from database"})]}),l.jsx(fe,{children:e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):l.jsx("div",{className:"space-y-4",children:e.map(v=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:v.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsx("span",{children:v.date.toLocaleDateString()}),l.jsx("span",{children:v.time})]})]}),l.jsx(ct,{variant:v.status==="published"?"default":"secondary",children:v.status})]})},v.id))})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[l.jsx(ue,{children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Hn,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),l.jsx(ue,{children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Et,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),l.jsx(ue,{children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(bE,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),l.jsx(ue,{children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ZC,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function DH(){return l.jsx(UU,{children:l.jsx(qj,{children:l.jsxs(bj,{children:[l.jsx(fl,{path:"/",element:l.jsx(G5,{})}),l.jsx(fl,{path:"/:orgSlug",element:l.jsx(sB,{})}),l.jsx(fl,{path:"/:orgSlug/admin",element:l.jsx(RH,{})}),l.jsx(fl,{path:"/admin",element:l.jsx(AH,{})})]})})})}ET(document.getElementById("root")).render(l.jsx(y.StrictMode,{children:l.jsx(DH,{})}));
