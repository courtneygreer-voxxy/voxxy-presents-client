var PC=Object.defineProperty;var DC=(t,e,n)=>e in t?PC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xy=(t,e,n)=>DC(t,typeof e!="symbol"?e+"":e,n);function OC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hw={exports:{}},Ic={},qw={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),jC=Symbol.for("react.portal"),LC=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),MC=Symbol.for("react.profiler"),FC=Symbol.for("react.provider"),UC=Symbol.for("react.context"),zC=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),$C=Symbol.for("react.memo"),WC=Symbol.for("react.lazy"),Ty=Symbol.iterator;function HC(t){return t===null||typeof t!="object"?null:(t=Ty&&t[Ty]||t["@@iterator"],typeof t=="function"?t:null)}var Gw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kw=Object.assign,Qw={};function zi(t,e,n){this.props=t,this.context=e,this.refs=Qw,this.updater=n||Gw}zi.prototype.isReactComponent={};zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yw(){}Yw.prototype=zi.prototype;function fp(t,e,n){this.props=t,this.context=e,this.refs=Qw,this.updater=n||Gw}var pp=fp.prototype=new Yw;pp.constructor=fp;Kw(pp,zi.prototype);pp.isPureReactComponent=!0;var Iy=Array.isArray,Xw=Object.prototype.hasOwnProperty,mp={current:null},Jw={key:!0,ref:!0,__self:!0,__source:!0};function Zw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Xw.call(e,r)&&!Jw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ja,type:t,key:i,ref:o,props:s,_owner:mp.current}}function qC(t,e){return{$$typeof:ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ja}function GC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sy=/\/+/g;function zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GC(""+t.key):e.toString(36)}function eu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ja:case jC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+zd(o,0):r,Iy(s)?(n="",t!=null&&(n=t.replace(Sy,"$&/")+"/"),eu(s,e,n,"",function(c){return c})):s!=null&&(gp(s)&&(s=qC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Iy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+zd(i,a);o+=eu(i,e,n,u,s)}else if(u=HC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+zd(i,a++),o+=eu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xl(t,e,n){if(t==null)return t;var r=[],s=0;return eu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function KC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},tu={transition:null},QC={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:tu,ReactCurrentOwner:mp};function e0(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:xl,forEach:function(t,e,n){xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xl(t,function(){e++}),e},toArray:function(t){return xl(t,function(e){return e})||[]},only:function(t){if(!gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=zi;te.Fragment=LC;te.Profiler=MC;te.PureComponent=fp;te.StrictMode=VC;te.Suspense=BC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;te.act=e0;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Xw.call(e,u)&&!Jw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ja,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:UC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FC,_context:t},t.Consumer=t};te.createElement=Zw;te.createFactory=function(t){var e=Zw.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:zC,render:t}};te.isValidElement=gp;te.lazy=function(t){return{$$typeof:WC,_payload:{_status:-1,_result:t},_init:KC}};te.memo=function(t,e){return{$$typeof:$C,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=tu.transition;tu.transition={};try{t()}finally{tu.transition=e}};te.unstable_act=e0;te.useCallback=function(t,e){return Et.current.useCallback(t,e)};te.useContext=function(t){return Et.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};te.useEffect=function(t,e){return Et.current.useEffect(t,e)};te.useId=function(){return Et.current.useId()};te.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Et.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};te.useRef=function(t){return Et.current.useRef(t)};te.useState=function(t){return Et.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Et.current.useTransition()};te.version="18.3.1";qw.exports=te;var E=qw.exports;const vr=Ww(E),t0=OC({__proto__:null,default:vr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=E,XC=Symbol.for("react.element"),JC=Symbol.for("react.fragment"),ZC=Object.prototype.hasOwnProperty,eA=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tA={key:!0,ref:!0,__self:!0,__source:!0};function n0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZC.call(e,r)&&!tA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:XC,type:t,key:i,ref:o,props:s,_owner:eA.current}}Ic.Fragment=JC;Ic.jsx=n0;Ic.jsxs=n0;Hw.exports=Ic;var d=Hw.exports,r0={exports:{}},zt={},s0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var X=B.length;B.push(G);e:for(;0<X;){var oe=X-1>>>1,he=B[oe];if(0<s(he,G))B[oe]=G,B[X]=he,X=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],X=B.pop();if(X!==G){B[0]=X;e:for(var oe=0,he=B.length,Ne=he>>>1;oe<Ne;){var Mn=2*(oe+1)-1,Fn=B[Mn],Un=Mn+1,zn=B[Un];if(0>s(Fn,X))Un<he&&0>s(zn,Fn)?(B[oe]=zn,B[Un]=X,oe=Un):(B[oe]=Fn,B[Mn]=X,oe=Mn);else if(Un<he&&0>s(zn,X))B[oe]=zn,B[Un]=X,oe=Un;else break e}}return G}function s(B,G){var X=B.sortIndex-G.sortIndex;return X!==0?X:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,m=null,p=3,w=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=B)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function D(B){if(x=!1,S(B),!_)if(n(u)!==null)_=!0,qe(L);else{var G=n(c);G!==null&&Wt(D,G.startTime-B)}}function L(B,G){_=!1,x&&(x=!1,y(T),T=-1),w=!0;var X=p;try{for(S(G),m=n(u);m!==null&&(!(m.expirationTime>G)||B&&!k());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,p=m.priorityLevel;var he=oe(m.expirationTime<=G);G=t.unstable_now(),typeof he=="function"?m.callback=he:m===n(u)&&r(u),S(G)}else r(u);m=n(u)}if(m!==null)var Ne=!0;else{var Mn=n(c);Mn!==null&&Wt(D,Mn.startTime-G),Ne=!1}return Ne}finally{m=null,p=X,w=!1}}var F=!1,C=null,T=-1,R=5,b=-1;function k(){return!(t.unstable_now()-b<R)}function P(){if(C!==null){var B=t.unstable_now();b=B;var G=!0;try{G=C(!0,B)}finally{G?N():(F=!1,C=null)}}else F=!1}var N;if(typeof v=="function")N=function(){v(P)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,$t=He.port2;He.port1.onmessage=P,N=function(){$t.postMessage(null)}}else N=function(){A(P,0)};function qe(B){C=B,F||(F=!0,N())}function Wt(B,G){T=A(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,qe(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var X=p;p=G;try{return B()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=p;p=B;try{return G()}finally{p=X}},t.unstable_scheduleCallback=function(B,G,X){var oe=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,B={id:f++,callback:G,priorityLevel:B,startTime:X,expirationTime:he,sortIndex:-1},X>oe?(B.sortIndex=X,e(c,B),n(u)===null&&B===n(c)&&(x?(y(T),T=-1):x=!0,Wt(D,X-oe))):(B.sortIndex=he,e(u,B),_||w||(_=!0,qe(L))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var G=p;return function(){var X=p;p=G;try{return B.apply(this,arguments)}finally{p=X}}}})(i0);s0.exports=i0;var nA=s0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA=E,Ut=nA;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o0=new Set,na={};function Os(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(na[t]=e,t=0;t<e.length;t++)o0.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=Object.prototype.hasOwnProperty,sA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cy={},Ay={};function iA(t){return Fh.call(Ay,t)?!0:Fh.call(Cy,t)?!1:sA.test(t)?Ay[t]=!0:(Cy[t]=!0,!1)}function oA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aA(t,e,n,r){if(e===null||typeof e>"u"||oA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var yp=/[\-:]([a-z])/g;function vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yp,vp);nt[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yp,vp);nt[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yp,vp);nt[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _p(t,e,n,r){var s=nt.hasOwnProperty(e)?nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aA(e,n,s,r)&&(n=null),r||s===null?iA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cr=rA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),ti=Symbol.for("react.portal"),ni=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),a0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),u0=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=Ry&&t[Ry]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Bd;function Co(t){if(Bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var $d=!1;function Wd(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Co(t):""}function lA(t){switch(t.tag){case 5:return Co(t.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return t=Wd(t.type,!1),t;case 11:return t=Wd(t.type.render,!1),t;case 1:return t=Wd(t.type,!0),t;default:return""}}function $h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ni:return"Fragment";case ti:return"Portal";case Uh:return"Profiler";case wp:return"StrictMode";case zh:return"Suspense";case Bh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l0:return(t.displayName||"Context")+".Consumer";case a0:return(t._context.displayName||"Context")+".Provider";case Ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xp:return e=t.displayName||null,e!==null?e:$h(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return $h(t(e))}catch{}}return null}function uA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $h(e);case 8:return e===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cA(t){var e=c0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=cA(t))}function d0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=c0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Au(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wh(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function by(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h0(t,e){e=e.checked,e!=null&&_p(t,"checked",e,!1)}function Hh(t,e){h0(t,e);var n=$r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qh(t,e.type,n):e.hasOwnProperty("defaultValue")&&qh(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qh(t,e,n){(e!=="number"||Au(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ao=Array.isArray;function pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$r(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ky(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ao(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$r(n)}}function f0(t,e){var n=$r(e.value),r=$r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Py(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sl,m0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sl=Sl||document.createElement("div"),Sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dA=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(t){dA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fo[e]=Fo[t]})});function g0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fo.hasOwnProperty(t)&&Fo[t]?(""+e).trim():e+"px"}function y0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=g0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hA=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qh(t,e){if(e){if(hA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Yh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=null;function Tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jh=null,mi=null,gi=null;function Dy(t){if(t=Ma(t)){if(typeof Jh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=bc(e),Jh(t.stateNode,t.type,e))}}function v0(t){mi?gi?gi.push(t):gi=[t]:mi=t}function _0(){if(mi){var t=mi,e=gi;if(gi=mi=null,Dy(t),e)for(t=0;t<e.length;t++)Dy(e[t])}}function w0(t,e){return t(e)}function E0(){}var Hd=!1;function x0(t,e,n){if(Hd)return t(e,n);Hd=!0;try{return w0(t,e,n)}finally{Hd=!1,(mi!==null||gi!==null)&&(E0(),_0())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var r=bc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Zh=!1;if(tr)try{var go={};Object.defineProperty(go,"passive",{get:function(){Zh=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Zh=!1}function fA(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Uo=!1,Ru=null,bu=!1,ef=null,pA={onError:function(t){Uo=!0,Ru=t}};function mA(t,e,n,r,s,i,o,a,u){Uo=!1,Ru=null,fA.apply(pA,arguments)}function gA(t,e,n,r,s,i,o,a,u){if(mA.apply(this,arguments),Uo){if(Uo){var c=Ru;Uo=!1,Ru=null}else throw Error(U(198));bu||(bu=!0,ef=c)}}function js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oy(t){if(js(t)!==t)throw Error(U(188))}function yA(t){var e=t.alternate;if(!e){if(e=js(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Oy(s),t;if(i===r)return Oy(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function I0(t){return t=yA(t),t!==null?S0(t):null}function S0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=S0(t);if(e!==null)return e;t=t.sibling}return null}var C0=Ut.unstable_scheduleCallback,jy=Ut.unstable_cancelCallback,vA=Ut.unstable_shouldYield,_A=Ut.unstable_requestPaint,Pe=Ut.unstable_now,wA=Ut.unstable_getCurrentPriorityLevel,Ip=Ut.unstable_ImmediatePriority,A0=Ut.unstable_UserBlockingPriority,Nu=Ut.unstable_NormalPriority,EA=Ut.unstable_LowPriority,R0=Ut.unstable_IdlePriority,Sc=null,Tn=null;function xA(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:SA,TA=Math.log,IA=Math.LN2;function SA(t){return t>>>=0,t===0?32:31-(TA(t)/IA|0)|0}var Cl=64,Al=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ro(a):(i&=o,i!==0&&(r=Ro(i)))}else o=n&~s,o!==0?r=Ro(o):i!==0&&(r=Ro(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),s=1<<n,r|=t[n],e&=~s;return r}function CA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-un(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=CA(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function b0(){var t=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),t}function qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function La(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function RA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function N0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var k0,Cp,P0,D0,O0,nf=!1,Rl=[],kr=null,Pr=null,Dr=null,ia=new Map,oa=new Map,xr=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(t,e){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ia.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ma(e),e!==null&&Cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function NA(t,e,n,r,s){switch(e){case"focusin":return kr=yo(kr,t,e,n,r,s),!0;case"dragenter":return Pr=yo(Pr,t,e,n,r,s),!0;case"mouseover":return Dr=yo(Dr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ia.set(i,yo(ia.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oa.set(i,yo(oa.get(i)||null,t,e,n,r,s)),!0}return!1}function j0(t){var e=ps(t.target);if(e!==null){var n=js(e);if(n!==null){if(e=n.tag,e===13){if(e=T0(n),e!==null){t.blockedOn=e,O0(t.priority,function(){P0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xh=r,n.target.dispatchEvent(r),Xh=null}else return e=Ma(n),e!==null&&Cp(e),t.blockedOn=n,!1;e.shift()}return!0}function Vy(t,e,n){nu(t)&&n.delete(e)}function kA(){nf=!1,kr!==null&&nu(kr)&&(kr=null),Pr!==null&&nu(Pr)&&(Pr=null),Dr!==null&&nu(Dr)&&(Dr=null),ia.forEach(Vy),oa.forEach(Vy)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,nf||(nf=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,kA)))}function aa(t){function e(s){return vo(s,t)}if(0<Rl.length){vo(Rl[0],t);for(var n=1;n<Rl.length;n++){var r=Rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kr!==null&&vo(kr,t),Pr!==null&&vo(Pr,t),Dr!==null&&vo(Dr,t),ia.forEach(e),oa.forEach(e),n=0;n<xr.length;n++)r=xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)j0(n),n.blockedOn===null&&xr.shift()}var yi=cr.ReactCurrentBatchConfig,Pu=!0;function PA(t,e,n,r){var s=de,i=yi.transition;yi.transition=null;try{de=1,Ap(t,e,n,r)}finally{de=s,yi.transition=i}}function DA(t,e,n,r){var s=de,i=yi.transition;yi.transition=null;try{de=4,Ap(t,e,n,r)}finally{de=s,yi.transition=i}}function Ap(t,e,n,r){if(Pu){var s=rf(t,e,n,r);if(s===null)nh(t,e,r,Du,n),Ly(t,r);else if(NA(s,t,e,n,r))r.stopPropagation();else if(Ly(t,r),e&4&&-1<bA.indexOf(t)){for(;s!==null;){var i=Ma(s);if(i!==null&&k0(i),i=rf(t,e,n,r),i===null&&nh(t,e,r,Du,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nh(t,e,r,null,n)}}var Du=null;function rf(t,e,n,r){if(Du=null,t=Tp(r),t=ps(t),t!==null)if(e=js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Du=t,null}function L0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wA()){case Ip:return 1;case A0:return 4;case Nu:case EA:return 16;case R0:return 536870912;default:return 16}default:return 16}}var Rr=null,Rp=null,ru=null;function V0(){if(ru)return ru;var t,e=Rp,n=e.length,r,s="value"in Rr?Rr.value:Rr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ru=s.slice(t,1<r?1-r:void 0)}function su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function My(){return!1}function Bt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bl:My,this.isPropagationStopped=My,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bp=Bt(Bi),Va=Ie({},Bi,{view:0,detail:0}),OA=Bt(Va),Gd,Kd,_o,Cc=Ie({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(Gd=t.screenX-_o.screenX,Kd=t.screenY-_o.screenY):Kd=Gd=0,_o=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Kd}}),Fy=Bt(Cc),jA=Ie({},Cc,{dataTransfer:0}),LA=Bt(jA),VA=Ie({},Va,{relatedTarget:0}),Qd=Bt(VA),MA=Ie({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),FA=Bt(MA),UA=Ie({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zA=Bt(UA),BA=Ie({},Bi,{data:0}),Uy=Bt(BA),$A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HA[t])?!!e[t]:!1}function Np(){return qA}var GA=Ie({},Va,{key:function(t){if(t.key){var e=$A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(t){return t.type==="keypress"?su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KA=Bt(GA),QA=Ie({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=Bt(QA),YA=Ie({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),XA=Bt(YA),JA=Ie({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZA=Bt(JA),eR=Ie({},Cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tR=Bt(eR),nR=[9,13,27,32],kp=tr&&"CompositionEvent"in window,zo=null;tr&&"documentMode"in document&&(zo=document.documentMode);var rR=tr&&"TextEvent"in window&&!zo,M0=tr&&(!kp||zo&&8<zo&&11>=zo),By=" ",$y=!1;function F0(t,e){switch(t){case"keyup":return nR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function sR(t,e){switch(t){case"compositionend":return U0(e);case"keypress":return e.which!==32?null:($y=!0,By);case"textInput":return t=e.data,t===By&&$y?null:t;default:return null}}function iR(t,e){if(ri)return t==="compositionend"||!kp&&F0(t,e)?(t=V0(),ru=Rp=Rr=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M0&&e.locale!=="ko"?null:e.data;default:return null}}var oR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oR[t.type]:e==="textarea"}function z0(t,e,n,r){v0(r),e=Ou(e,"onChange"),0<e.length&&(n=new bp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bo=null,la=null;function aR(t){J0(t,0)}function Ac(t){var e=oi(t);if(d0(e))return t}function lR(t,e){if(t==="change")return e}var B0=!1;if(tr){var Yd;if(tr){var Xd="oninput"in document;if(!Xd){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Xd=typeof Hy.oninput=="function"}Yd=Xd}else Yd=!1;B0=Yd&&(!document.documentMode||9<document.documentMode)}function qy(){Bo&&(Bo.detachEvent("onpropertychange",$0),la=Bo=null)}function $0(t){if(t.propertyName==="value"&&Ac(la)){var e=[];z0(e,la,t,Tp(t)),x0(aR,e)}}function uR(t,e,n){t==="focusin"?(qy(),Bo=e,la=n,Bo.attachEvent("onpropertychange",$0)):t==="focusout"&&qy()}function cR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ac(la)}function dR(t,e){if(t==="click")return Ac(e)}function hR(t,e){if(t==="input"||t==="change")return Ac(e)}function fR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:fR;function ua(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fh.call(e,s)||!hn(t[s],e[s]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ky(t,e){var n=Gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function W0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H0(){for(var t=window,e=Au();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Au(t.document)}return e}function Pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pR(t){var e=H0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W0(n.ownerDocument.documentElement,n)){if(r!==null&&Pp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ky(n,i);var o=Ky(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mR=tr&&"documentMode"in document&&11>=document.documentMode,si=null,sf=null,$o=null,of=!1;function Qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||si==null||si!==Au(r)||(r=si,"selectionStart"in r&&Pp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&ua($o,r)||($o=r,r=Ou(sf,"onSelect"),0<r.length&&(e=new bp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=si)))}function Nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ii={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},Jd={},q0={};tr&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Rc(t){if(Jd[t])return Jd[t];if(!ii[t])return t;var e=ii[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q0)return Jd[t]=e[n];return t}var G0=Rc("animationend"),K0=Rc("animationiteration"),Q0=Rc("animationstart"),Y0=Rc("transitionend"),X0=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){X0.set(t,e),Os(e,[t])}for(var Zd=0;Zd<Yy.length;Zd++){var eh=Yy[Zd],gR=eh.toLowerCase(),yR=eh[0].toUpperCase()+eh.slice(1);Zr(gR,"on"+yR)}Zr(G0,"onAnimationEnd");Zr(K0,"onAnimationIteration");Zr(Q0,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Y0,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function Xy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gA(r,e,void 0,t),t.currentTarget=null}function J0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Xy(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Xy(s,a,c),i=u}}}if(bu)throw t=ef,bu=!1,ef=null,t}function ve(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var r=t+"__bubble";n.has(r)||(Z0(e,t,2,!1),n.add(r))}function th(t,e,n){var r=0;e&&(r|=4),Z0(n,t,r,e)}var kl="_reactListening"+Math.random().toString(36).slice(2);function ca(t){if(!t[kl]){t[kl]=!0,o0.forEach(function(n){n!=="selectionchange"&&(vR.has(n)||th(n,!1,t),th(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kl]||(e[kl]=!0,th("selectionchange",!1,e))}}function Z0(t,e,n,r){switch(L0(e)){case 1:var s=PA;break;case 4:s=DA;break;default:s=Ap}n=s.bind(null,e,n,t),s=void 0,!Zh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}x0(function(){var c=i,f=Tp(n),m=[];e:{var p=X0.get(t);if(p!==void 0){var w=bp,_=t;switch(t){case"keypress":if(su(n)===0)break e;case"keydown":case"keyup":w=KA;break;case"focusin":_="focus",w=Qd;break;case"focusout":_="blur",w=Qd;break;case"beforeblur":case"afterblur":w=Qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=LA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=XA;break;case G0:case K0:case Q0:w=FA;break;case Y0:w=ZA;break;case"scroll":w=OA;break;case"wheel":w=tR;break;case"copy":case"cut":case"paste":w=zA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=zy}var x=(e&4)!==0,A=!x&&t==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var v=c,S;v!==null;){S=v;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,y!==null&&(D=sa(v,y),D!=null&&x.push(da(v,D,S)))),A)break;v=v.return}0<x.length&&(p=new w(p,_,null,n,f),m.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==Xh&&(_=n.relatedTarget||n.fromElement)&&(ps(_)||_[nr]))break e;if((w||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=c,_=_?ps(_):null,_!==null&&(A=js(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=c),w!==_)){if(x=Fy,D="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=zy,D="onPointerLeave",y="onPointerEnter",v="pointer"),A=w==null?p:oi(w),S=_==null?p:oi(_),p=new x(D,v+"leave",w,n,f),p.target=A,p.relatedTarget=S,D=null,ps(f)===c&&(x=new x(y,v+"enter",_,n,f),x.target=S,x.relatedTarget=A,D=x),A=D,w&&_)t:{for(x=w,y=_,v=0,S=x;S;S=qs(S))v++;for(S=0,D=y;D;D=qs(D))S++;for(;0<v-S;)x=qs(x),v--;for(;0<S-v;)y=qs(y),S--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=qs(x),y=qs(y)}x=null}else x=null;w!==null&&Jy(m,p,w,x,!1),_!==null&&A!==null&&Jy(m,A,_,x,!0)}}e:{if(p=c?oi(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var L=lR;else if(Wy(p))if(B0)L=hR;else{L=cR;var F=uR}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=dR);if(L&&(L=L(t,c))){z0(m,L,n,f);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&qh(p,"number",p.value)}switch(F=c?oi(c):window,t){case"focusin":(Wy(F)||F.contentEditable==="true")&&(si=F,sf=c,$o=null);break;case"focusout":$o=sf=si=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Qy(m,n,f);break;case"selectionchange":if(mR)break;case"keydown":case"keyup":Qy(m,n,f)}var C;if(kp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ri?F0(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(M0&&n.locale!=="ko"&&(ri||T!=="onCompositionStart"?T==="onCompositionEnd"&&ri&&(C=V0()):(Rr=f,Rp="value"in Rr?Rr.value:Rr.textContent,ri=!0)),F=Ou(c,T),0<F.length&&(T=new Uy(T,t,null,n,f),m.push({event:T,listeners:F}),C?T.data=C:(C=U0(n),C!==null&&(T.data=C)))),(C=rR?sR(t,n):iR(t,n))&&(c=Ou(c,"onBeforeInput"),0<c.length&&(f=new Uy("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=C))}J0(m,e)})}function da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sa(t,n),i!=null&&r.unshift(da(t,i,s)),i=sa(t,e),i!=null&&r.push(da(t,i,s))),t=t.return}return r}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=sa(n,i),u!=null&&o.unshift(da(n,u,a))):s||(u=sa(n,i),u!=null&&o.push(da(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _R=/\r\n?/g,wR=/\u0000|\uFFFD/g;function Zy(t){return(typeof t=="string"?t:""+t).replace(_R,`
`).replace(wR,"")}function Pl(t,e,n){if(e=Zy(e),Zy(t)!==e&&n)throw Error(U(425))}function ju(){}var af=null,lf=null;function uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,xR=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(TR)}:cf;function TR(t){setTimeout(function(){throw t})}function rh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);aa(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $i=Math.random().toString(36).slice(2),En="__reactFiber$"+$i,ha="__reactProps$"+$i,nr="__reactContainer$"+$i,df="__reactEvents$"+$i,IR="__reactListeners$"+$i,SR="__reactHandles$"+$i;function ps(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nr]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tv(t);t!==null;){if(n=t[En])return n;t=tv(t)}return e}t=n,n=t.parentNode}return null}function Ma(t){return t=t[En]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function bc(t){return t[ha]||null}var hf=[],ai=-1;function es(t){return{current:t}}function _e(t){0>ai||(t.current=hf[ai],hf[ai]=null,ai--)}function me(t,e){ai++,hf[ai]=t.current,t.current=e}var Wr={},pt=es(Wr),At=es(!1),xs=Wr;function Ri(t,e){var n=t.type.contextTypes;if(!n)return Wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Rt(t){return t=t.childContextTypes,t!=null}function Lu(){_e(At),_e(pt)}function nv(t,e,n){if(pt.current!==Wr)throw Error(U(168));me(pt,e),me(At,n)}function eE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,uA(t)||"Unknown",s));return Ie({},n,r)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,xs=pt.current,me(pt,t),me(At,At.current),!0}function rv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=eE(t,e,xs),r.__reactInternalMemoizedMergedChildContext=t,_e(At),_e(pt),me(pt,t)):_e(At),me(At,n)}var qn=null,Nc=!1,sh=!1;function tE(t){qn===null?qn=[t]:qn.push(t)}function CR(t){Nc=!0,tE(t)}function ts(){if(!sh&&qn!==null){sh=!0;var t=0,e=de;try{var n=qn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,Nc=!1}catch(s){throw qn!==null&&(qn=qn.slice(t+1)),C0(Ip,ts),s}finally{de=e,sh=!1}}return null}var li=[],ui=0,Mu=null,Fu=0,Ht=[],qt=0,Ts=null,Gn=1,Kn="";function ds(t,e){li[ui++]=Fu,li[ui++]=Mu,Mu=t,Fu=e}function nE(t,e,n){Ht[qt++]=Gn,Ht[qt++]=Kn,Ht[qt++]=Ts,Ts=t;var r=Gn;t=Kn;var s=32-un(r)-1;r&=~(1<<s),n+=1;var i=32-un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gn=1<<32-un(e)+s|n<<s|r,Kn=i+t}else Gn=1<<i|n<<s|r,Kn=t}function Dp(t){t.return!==null&&(ds(t,1),nE(t,1,0))}function Op(t){for(;t===Mu;)Mu=li[--ui],li[ui]=null,Fu=li[--ui],li[ui]=null;for(;t===Ts;)Ts=Ht[--qt],Ht[qt]=null,Kn=Ht[--qt],Ht[qt]=null,Gn=Ht[--qt],Ht[qt]=null}var Mt=null,Dt=null,we=!1,an=null;function rE(t,e){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ts!==null?{id:Gn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mt=t,Dt=null,!0):!1;default:return!1}}function ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pf(t){if(we){var e=Dt;if(e){var n=e;if(!sv(t,e)){if(ff(t))throw Error(U(418));e=Or(n.nextSibling);var r=Mt;e&&sv(t,e)?rE(r,n):(t.flags=t.flags&-4097|2,we=!1,Mt=t)}}else{if(ff(t))throw Error(U(418));t.flags=t.flags&-4097|2,we=!1,Mt=t}}}function iv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function Dl(t){if(t!==Mt)return!1;if(!we)return iv(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uf(t.type,t.memoizedProps)),e&&(e=Dt)){if(ff(t))throw sE(),Error(U(418));for(;e;)rE(t,e),e=Or(e.nextSibling)}if(iv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Mt?Or(t.stateNode.nextSibling):null;return!0}function sE(){for(var t=Dt;t;)t=Or(t.nextSibling)}function bi(){Dt=Mt=null,we=!1}function jp(t){an===null?an=[t]:an.push(t)}var AR=cr.ReactCurrentBatchConfig;function wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ov(t){var e=t._init;return e(t._payload)}function iE(t){function e(y,v){if(t){var S=y.deletions;S===null?(y.deletions=[v],y.flags|=16):S.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Mr(y,v),y.index=0,y.sibling=null,y}function i(y,v,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<v?(y.flags|=2,v):S):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,S,D){return v===null||v.tag!==6?(v=dh(S,y.mode,D),v.return=y,v):(v=s(v,S),v.return=y,v)}function u(y,v,S,D){var L=S.type;return L===ni?f(y,v,S.props.children,D,S.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===wr&&ov(L)===v.type)?(D=s(v,S.props),D.ref=wo(y,v,S),D.return=y,D):(D=du(S.type,S.key,S.props,null,y.mode,D),D.ref=wo(y,v,S),D.return=y,D)}function c(y,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=hh(S,y.mode,D),v.return=y,v):(v=s(v,S.children||[]),v.return=y,v)}function f(y,v,S,D,L){return v===null||v.tag!==7?(v=ws(S,y.mode,D,L),v.return=y,v):(v=s(v,S),v.return=y,v)}function m(y,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=dh(""+v,y.mode,S),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tl:return S=du(v.type,v.key,v.props,null,y.mode,S),S.ref=wo(y,null,v),S.return=y,S;case ti:return v=hh(v,y.mode,S),v.return=y,v;case wr:var D=v._init;return m(y,D(v._payload),S)}if(Ao(v)||mo(v))return v=ws(v,y.mode,S,null),v.return=y,v;Ol(y,v)}return null}function p(y,v,S,D){var L=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:a(y,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tl:return S.key===L?u(y,v,S,D):null;case ti:return S.key===L?c(y,v,S,D):null;case wr:return L=S._init,p(y,v,L(S._payload),D)}if(Ao(S)||mo(S))return L!==null?null:f(y,v,S,D,null);Ol(y,S)}return null}function w(y,v,S,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(S)||null,a(v,y,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Tl:return y=y.get(D.key===null?S:D.key)||null,u(v,y,D,L);case ti:return y=y.get(D.key===null?S:D.key)||null,c(v,y,D,L);case wr:var F=D._init;return w(y,v,S,F(D._payload),L)}if(Ao(D)||mo(D))return y=y.get(S)||null,f(v,y,D,L,null);Ol(v,D)}return null}function _(y,v,S,D){for(var L=null,F=null,C=v,T=v=0,R=null;C!==null&&T<S.length;T++){C.index>T?(R=C,C=null):R=C.sibling;var b=p(y,C,S[T],D);if(b===null){C===null&&(C=R);break}t&&C&&b.alternate===null&&e(y,C),v=i(b,v,T),F===null?L=b:F.sibling=b,F=b,C=R}if(T===S.length)return n(y,C),we&&ds(y,T),L;if(C===null){for(;T<S.length;T++)C=m(y,S[T],D),C!==null&&(v=i(C,v,T),F===null?L=C:F.sibling=C,F=C);return we&&ds(y,T),L}for(C=r(y,C);T<S.length;T++)R=w(C,y,T,S[T],D),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),v=i(R,v,T),F===null?L=R:F.sibling=R,F=R);return t&&C.forEach(function(k){return e(y,k)}),we&&ds(y,T),L}function x(y,v,S,D){var L=mo(S);if(typeof L!="function")throw Error(U(150));if(S=L.call(S),S==null)throw Error(U(151));for(var F=L=null,C=v,T=v=0,R=null,b=S.next();C!==null&&!b.done;T++,b=S.next()){C.index>T?(R=C,C=null):R=C.sibling;var k=p(y,C,b.value,D);if(k===null){C===null&&(C=R);break}t&&C&&k.alternate===null&&e(y,C),v=i(k,v,T),F===null?L=k:F.sibling=k,F=k,C=R}if(b.done)return n(y,C),we&&ds(y,T),L;if(C===null){for(;!b.done;T++,b=S.next())b=m(y,b.value,D),b!==null&&(v=i(b,v,T),F===null?L=b:F.sibling=b,F=b);return we&&ds(y,T),L}for(C=r(y,C);!b.done;T++,b=S.next())b=w(C,y,T,b.value,D),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?T:b.key),v=i(b,v,T),F===null?L=b:F.sibling=b,F=b);return t&&C.forEach(function(P){return e(y,P)}),we&&ds(y,T),L}function A(y,v,S,D){if(typeof S=="object"&&S!==null&&S.type===ni&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Tl:e:{for(var L=S.key,F=v;F!==null;){if(F.key===L){if(L=S.type,L===ni){if(F.tag===7){n(y,F.sibling),v=s(F,S.props.children),v.return=y,y=v;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===wr&&ov(L)===F.type){n(y,F.sibling),v=s(F,S.props),v.ref=wo(y,F,S),v.return=y,y=v;break e}n(y,F);break}else e(y,F);F=F.sibling}S.type===ni?(v=ws(S.props.children,y.mode,D,S.key),v.return=y,y=v):(D=du(S.type,S.key,S.props,null,y.mode,D),D.ref=wo(y,v,S),D.return=y,y=D)}return o(y);case ti:e:{for(F=S.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(y,v.sibling),v=s(v,S.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=hh(S,y.mode,D),v.return=y,y=v}return o(y);case wr:return F=S._init,A(y,v,F(S._payload),D)}if(Ao(S))return _(y,v,S,D);if(mo(S))return x(y,v,S,D);Ol(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,S),v.return=y,y=v):(n(y,v),v=dh(S,y.mode,D),v.return=y,y=v),o(y)):n(y,v)}return A}var Ni=iE(!0),oE=iE(!1),Uu=es(null),zu=null,ci=null,Lp=null;function Vp(){Lp=ci=zu=null}function Mp(t){var e=Uu.current;_e(Uu),t._currentValue=e}function mf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vi(t,e){zu=t,Lp=ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(Lp!==t)if(t={context:t,memoizedValue:e,next:null},ci===null){if(zu===null)throw Error(U(308));ci=t,zu.dependencies={lanes:0,firstContext:t}}else ci=ci.next=t;return e}var ms=null;function Fp(t){ms===null?ms=[t]:ms.push(t)}function aE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fp(e)):(n.next=s.next,s.next=n),e.interleaved=n,rr(t,r)}function rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function Up(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,rr(t,n)}return s=r.interleaved,s===null?(e.next=e,Fp(r)):(e.next=s.next,s.next=e),r.interleaved=e,rr(t,n)}function iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}function av(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bu(t,e,n,r){var s=t.updateQueue;Er=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,f=c=u=null,a=i;do{var p=a.lane,w=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(p=e,w=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){m=_.call(w,m,p);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,p=typeof _=="function"?_.call(w,m,p):_,p==null)break e;m=Ie({},m,p);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=w,u=m):f=f.next=w,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ss|=o,t.lanes=o,t.memoizedState=m}}function lv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Fa={},In=es(Fa),fa=es(Fa),pa=es(Fa);function gs(t){if(t===Fa)throw Error(U(174));return t}function zp(t,e){switch(me(pa,e),me(fa,t),me(In,Fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kh(e,t)}_e(In),me(In,e)}function ki(){_e(In),_e(fa),_e(pa)}function uE(t){gs(pa.current);var e=gs(In.current),n=Kh(e,t.type);e!==n&&(me(fa,t),me(In,n))}function Bp(t){fa.current===t&&(_e(In),_e(fa))}var Ee=es(0);function $u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ih=[];function $p(){for(var t=0;t<ih.length;t++)ih[t]._workInProgressVersionPrimary=null;ih.length=0}var ou=cr.ReactCurrentDispatcher,oh=cr.ReactCurrentBatchConfig,Is=0,xe=null,Ue=null,Ke=null,Wu=!1,Wo=!1,ma=0,RR=0;function at(){throw Error(U(321))}function Wp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function Hp(t,e,n,r,s,i){if(Is=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?PR:DR,t=n(r,s),Wo){i=0;do{if(Wo=!1,ma=0,25<=i)throw Error(U(301));i+=1,Ke=Ue=null,e.updateQueue=null,ou.current=OR,t=n(r,s)}while(Wo)}if(ou.current=Hu,e=Ue!==null&&Ue.next!==null,Is=0,Ke=Ue=xe=null,Wu=!1,e)throw Error(U(300));return t}function qp(){var t=ma!==0;return ma=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function tn(){if(Ue===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ke===null?xe.memoizedState:Ke.next;if(e!==null)Ke=e,Ue=t;else{if(t===null)throw Error(U(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function ga(t,e){return typeof e=="function"?e(t):e}function ah(t){var e=tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var f=c.lane;if((Is&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,xe.lanes|=f,Ss|=f}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,hn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,Ss|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lh(t){var e=tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hn(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cE(){}function dE(t,e){var n=xe,r=tn(),s=e(),i=!hn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ct=!0),r=r.queue,Gp(pE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,ya(9,fE.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(U(349));Is&30||hE(n,e,s)}return s}function hE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fE(t,e,n,r){e.value=n,e.getSnapshot=r,mE(e)&&gE(t)}function pE(t,e,n){return n(function(){mE(e)&&gE(t)})}function mE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function gE(t){var e=rr(t,1);e!==null&&cn(e,t,1,-1)}function uv(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},e.queue=t,t=t.dispatch=kR.bind(null,xe,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yE(){return tn().memoizedState}function au(t,e,n,r){var s=_n();xe.flags|=t,s.memoizedState=ya(1|e,n,void 0,r===void 0?null:r)}function kc(t,e,n,r){var s=tn();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&Wp(r,o.deps)){s.memoizedState=ya(e,n,i,r);return}}xe.flags|=t,s.memoizedState=ya(1|e,n,i,r)}function cv(t,e){return au(8390656,8,t,e)}function Gp(t,e){return kc(2048,8,t,e)}function vE(t,e){return kc(4,2,t,e)}function _E(t,e){return kc(4,4,t,e)}function wE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EE(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,wE.bind(null,e,t),n)}function Kp(){}function xE(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TE(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IE(t,e,n){return Is&21?(hn(n,e)||(n=b0(),xe.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function bR(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=oh.transition;oh.transition={};try{t(!1),e()}finally{de=n,oh.transition=r}}function SE(){return tn().memoizedState}function NR(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CE(t))AE(e,n);else if(n=aE(t,e,n,r),n!==null){var s=wt();cn(n,t,r,s),RE(n,e,r)}}function kR(t,e,n){var r=Vr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CE(t))AE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hn(a,o)){var u=e.interleaved;u===null?(s.next=s,Fp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=aE(t,e,s,r),n!==null&&(s=wt(),cn(n,t,r,s),RE(n,e,r))}}function CE(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function AE(t,e){Wo=Wu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}var Hu={readContext:en,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},PR={readContext:en,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:cv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,au(4194308,4,wE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return au(4194308,4,t,e)},useInsertionEffect:function(t,e){return au(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NR.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:uv,useDebugValue:Kp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=uv(!1),e=t[0];return t=bR.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,s=_n();if(we){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Qe===null)throw Error(U(349));Is&30||hE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cv(pE.bind(null,r,i,t),[t]),r.flags|=2048,ya(9,fE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_n(),e=Qe.identifierPrefix;if(we){var n=Kn,r=Gn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DR={readContext:en,useCallback:xE,useContext:en,useEffect:Gp,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:_E,useMemo:TE,useReducer:ah,useRef:yE,useState:function(){return ah(ga)},useDebugValue:Kp,useDeferredValue:function(t){var e=tn();return IE(e,Ue.memoizedState,t)},useTransition:function(){var t=ah(ga)[0],e=tn().memoizedState;return[t,e]},useMutableSource:cE,useSyncExternalStore:dE,useId:SE,unstable_isNewReconciler:!1},OR={readContext:en,useCallback:xE,useContext:en,useEffect:Gp,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:_E,useMemo:TE,useReducer:lh,useRef:yE,useState:function(){return lh(ga)},useDebugValue:Kp,useDeferredValue:function(t){var e=tn();return Ue===null?e.memoizedState=t:IE(e,Ue.memoizedState,t)},useTransition:function(){var t=lh(ga)[0],e=tn().memoizedState;return[t,e]},useMutableSource:cE,useSyncExternalStore:dE,useId:SE,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pc={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),s=Vr(t),i=Xn(r,s);i.payload=e,n!=null&&(i.callback=n),e=jr(t,i,s),e!==null&&(cn(e,t,s,r),iu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),s=Vr(t),i=Xn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=jr(t,i,s),e!==null&&(cn(e,t,s,r),iu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=Vr(t),s=Xn(n,r);s.tag=2,e!=null&&(s.callback=e),e=jr(t,s,r),e!==null&&(cn(e,t,r,n),iu(e,t,r))}};function dv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ua(n,r)||!ua(s,i):!0}function bE(t,e,n){var r=!1,s=Wr,i=e.contextType;return typeof i=="object"&&i!==null?i=en(i):(s=Rt(e)?xs:pt.current,r=e.contextTypes,i=(r=r!=null)?Ri(t,s):Wr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pc.enqueueReplaceState(e,e.state,null)}function yf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Up(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=en(i):(i=Rt(e)?xs:pt.current,s.context=Ri(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Pc.enqueueReplaceState(s,s.state,null),Bu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pi(t,e){try{var n="",r=e;do n+=lA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jR=typeof WeakMap=="function"?WeakMap:Map;function NE(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gu||(Gu=!0,Rf=r),vf(t,e)},n}function kE(t,e,n){n=Xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vf(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QR.bind(null,t,e,n),e.then(t,t))}function pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var LR=cr.ReactCurrentOwner,Ct=!1;function _t(t,e,n,r){e.child=t===null?oE(e,null,n,r):Ni(e,t.child,n,r)}function gv(t,e,n,r,s){n=n.render;var i=e.ref;return vi(e,s),r=Hp(t,e,n,r,i,s),n=qp(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sr(t,e,s)):(we&&n&&Dp(e),e.flags|=1,_t(t,e,r,s),e.child)}function yv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!nm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,PE(t,e,i,r,s)):(t=du(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ua,n(o,r)&&t.ref===e.ref)return sr(t,e,s)}return e.flags|=1,t=Mr(i,r),t.ref=e.ref,t.return=e,e.child=t}function PE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ua(i,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,sr(t,e,s)}return _f(t,e,n,r,s)}function DE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(hi,Pt),Pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(hi,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(hi,Pt),Pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(hi,Pt),Pt|=r;return _t(t,e,s,n),e.child}function OE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _f(t,e,n,r,s){var i=Rt(n)?xs:pt.current;return i=Ri(e,i),vi(e,s),n=Hp(t,e,n,r,i,s),r=qp(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sr(t,e,s)):(we&&r&&Dp(e),e.flags|=1,_t(t,e,n,s),e.child)}function vv(t,e,n,r,s){if(Rt(n)){var i=!0;Vu(e)}else i=!1;if(vi(e,s),e.stateNode===null)lu(t,e),bE(e,n,r),yf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=en(c):(c=Rt(n)?xs:pt.current,c=Ri(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&hv(e,o,r,c),Er=!1;var p=e.memoizedState;o.state=p,Bu(e,r,o,s),u=e.memoizedState,a!==r||p!==u||At.current||Er?(typeof f=="function"&&(gf(e,n,f,r),u=e.memoizedState),(a=Er||dv(e,n,a,r,p,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sn(e.type,a),o.props=c,m=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=en(u):(u=Rt(n)?xs:pt.current,u=Ri(e,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==u)&&hv(e,o,r,u),Er=!1,p=e.memoizedState,o.state=p,Bu(e,r,o,s);var _=e.memoizedState;a!==m||p!==_||At.current||Er?(typeof w=="function"&&(gf(e,n,w,r),_=e.memoizedState),(c=Er||dv(e,n,c,r,p,_,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return wf(t,e,n,r,i,s)}function wf(t,e,n,r,s,i){OE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rv(e,n,!1),sr(t,e,i);r=e.stateNode,LR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ni(e,t.child,null,i),e.child=Ni(e,null,a,i)):_t(t,e,a,i),e.memoizedState=r.state,s&&rv(e,n,!0),e.child}function jE(t){var e=t.stateNode;e.pendingContext?nv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nv(t,e.context,!1),zp(t,e.containerInfo)}function _v(t,e,n,r,s){return bi(),jp(s),e.flags|=256,_t(t,e,n,r),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function LE(t,e,n){var r=e.pendingProps,s=Ee.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(Ee,s&1),t===null)return pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jc(o,r,0,null),t=ws(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xf(n),e.memoizedState=Ef,t):Qp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Mr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mr(a,i):(i=ws(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ef,r}return i=t.child,t=i.sibling,r=Mr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qp(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jl(t,e,n,r){return r!==null&&jp(r),Ni(e,t.child,null,n),t=Qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=uh(Error(U(422))),jl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=jc({mode:"visible",children:r.children},s,0,null),i=ws(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ni(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=Ef,i);if(!(e.mode&1))return jl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=uh(i,r,void 0),jl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ct||a){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rr(t,s),cn(r,t,s,-1))}return tm(),r=uh(Error(U(421))),jl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dt=Or(s.nextSibling),Mt=e,we=!0,an=null,t!==null&&(Ht[qt++]=Gn,Ht[qt++]=Kn,Ht[qt++]=Ts,Gn=t.id,Kn=t.overflow,Ts=e),e=Qp(e,r.children),e.flags|=4096,e)}function wv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mf(t.return,e,n)}function ch(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function VE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_t(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wv(t,n,e);else if(t.tag===19)wv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$u(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ch(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$u(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ch(e,!0,n,null,i);break;case"together":ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MR(t,e,n){switch(e.tag){case 3:jE(e),bi();break;case 5:uE(e);break;case 1:Rt(e.type)&&Vu(e);break;case 4:zp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(Uu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?LE(t,e,n):(me(Ee,Ee.current&1),t=sr(t,e,n),t!==null?t.sibling:null);me(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,DE(t,e,n)}return sr(t,e,n)}var ME,Tf,FE,UE;ME=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tf=function(){};FE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,gs(In.current);var i=null;switch(n){case"input":s=Wh(t,s),r=Wh(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=Gh(t,s),r=Gh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ju)}Qh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(na.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(na.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};UE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Eo(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FR(t,e,n){var r=e.pendingProps;switch(Op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Rt(e.type)&&Lu(),lt(e),null;case 3:return r=e.stateNode,ki(),_e(At),_e(pt),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(kf(an),an=null))),Tf(t,e),lt(e),null;case 5:Bp(e);var s=gs(pa.current);if(n=e.type,t!==null&&e.stateNode!=null)FE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return lt(e),null}if(t=gs(In.current),Dl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[En]=e,r[ha]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<bo.length;s++)ve(bo[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":by(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":ky(r,i),ve("invalid",r)}Qh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),s=["children",""+a]):na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Il(r),Ny(r,i,!0);break;case"textarea":Il(r),Py(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ju)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[En]=e,t[ha]=r,ME(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yh(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<bo.length;s++)ve(bo[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":by(t,r),s=Wh(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),ve("invalid",t);break;case"textarea":ky(t,r),s=Gh(t,r),ve("invalid",t);break;default:s=r}Qh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?y0(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&m0(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ra(t,u):typeof u=="number"&&ra(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(na.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ve("scroll",t):u!=null&&_p(t,i,u,o))}switch(n){case"input":Il(t),Ny(t,r,!1);break;case"textarea":Il(t),Py(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$r(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)UE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=gs(pa.current),gs(In.current),Dl(e)){if(r=e.stateNode,n=e.memoizedProps,r[En]=e,(i=r.nodeValue!==n)&&(t=Mt,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=e,e.stateNode=r}return lt(e),null;case 13:if(_e(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&Dt!==null&&e.mode&1&&!(e.flags&128))sE(),bi(),e.flags|=98560,i=!1;else if(i=Dl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[En]=e}else bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else an!==null&&(kf(an),an=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Be===0&&(Be=3):tm())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return ki(),Tf(t,e),t===null&&ca(e.stateNode.containerInfo),lt(e),null;case 10:return Mp(e.type._context),lt(e),null;case 17:return Rt(e.type)&&Lu(),lt(e),null;case 19:if(_e(Ee),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Eo(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$u(t),o!==null){for(e.flags|=128,Eo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Ee,Ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&Pe()>Di&&(e.flags|=128,r=!0,Eo(i,!1),e.lanes=4194304)}else{if(!r)if(t=$u(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return lt(e),null}else 2*Pe()-i.renderingStartTime>Di&&n!==1073741824&&(e.flags|=128,r=!0,Eo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pe(),e.sibling=null,n=Ee.current,me(Ee,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function UR(t,e){switch(Op(e),e.tag){case 1:return Rt(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ki(),_e(At),_e(pt),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bp(e),null;case 13:if(_e(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ee),null;case 4:return ki(),null;case 10:return Mp(e.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var Ll=!1,ht=!1,zR=typeof WeakSet=="function"?WeakSet:Set,H=null;function di(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function If(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var Ev=!1;function BR(t,e){if(af=Pu,t=H0(),Pp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var w;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)p=m,m=w;for(;;){if(m===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++f===r&&(u=o),(w=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:t,selectionRange:n},Pu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,A=_.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:sn(e.type,x),A);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(D){Ae(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return _=Ev,Ev=!1,_}function Ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&If(e,n,i)}s=s.next}while(s!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zE(t){var e=t.alternate;e!==null&&(t.alternate=null,zE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[ha],delete e[df],delete e[IR],delete e[SR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BE(t){return t.tag===5||t.tag===3||t.tag===4}function xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ju));else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}function Af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Af(t,e,n),t=t.sibling;t!==null;)Af(t,e,n),t=t.sibling}var Xe=null,on=!1;function pr(t,e,n){for(n=n.child;n!==null;)$E(t,e,n),n=n.sibling}function $E(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:ht||di(n,e);case 6:var r=Xe,s=on;Xe=null,pr(t,e,n),Xe=r,on=s,Xe!==null&&(on?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(on?(t=Xe,n=n.stateNode,t.nodeType===8?rh(t.parentNode,n):t.nodeType===1&&rh(t,n),aa(t)):rh(Xe,n.stateNode));break;case 4:r=Xe,s=on,Xe=n.stateNode.containerInfo,on=!0,pr(t,e,n),Xe=r,on=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&If(n,e,o),s=s.next}while(s!==r)}pr(t,e,n);break;case 1:if(!ht&&(di(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,e,a)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,pr(t,e,n),ht=r):pr(t,e,n);break;default:pr(t,e,n)}}function Tv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zR),e.forEach(function(r){var s=XR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,on=!1;break e;case 3:Xe=a.stateNode.containerInfo,on=!0;break e;case 4:Xe=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(Xe===null)throw Error(U(160));$E(i,o,s),Xe=null,on=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ae(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WE(e,t),e=e.sibling}function WE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),vn(t),r&4){try{Ho(3,t,t.return),Dc(3,t)}catch(x){Ae(t,t.return,x)}try{Ho(5,t,t.return)}catch(x){Ae(t,t.return,x)}}break;case 1:rn(e,t),vn(t),r&512&&n!==null&&di(n,n.return);break;case 5:if(rn(e,t),vn(t),r&512&&n!==null&&di(n,n.return),t.flags&32){var s=t.stateNode;try{ra(s,"")}catch(x){Ae(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&h0(s,i),Yh(a,o);var c=Yh(a,i);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?y0(s,m):f==="dangerouslySetInnerHTML"?m0(s,m):f==="children"?ra(s,m):_p(s,f,m,c)}switch(a){case"input":Hh(s,i);break;case"textarea":f0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?pi(s,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?pi(s,!!i.multiple,i.defaultValue,!0):pi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ha]=i}catch(x){Ae(t,t.return,x)}}break;case 6:if(rn(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Ae(t,t.return,x)}}break;case 3:if(rn(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(e.containerInfo)}catch(x){Ae(t,t.return,x)}break;case 4:rn(e,t),vn(t);break;case 13:rn(e,t),vn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jp=Pe())),r&4&&Tv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(c=ht)||f,rn(e,t),ht=c):rn(e,t),vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(m=H=f;H!==null;){switch(p=H,w=p.child,p.tag){case 0:case 11:case 14:case 15:Ho(4,p,p.return);break;case 1:di(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){Ae(r,n,x)}}break;case 5:di(p,p.return);break;case 22:if(p.memoizedState!==null){Sv(m);continue}}w!==null?(w.return=p,H=w):Sv(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=g0("display",o))}catch(x){Ae(t,t.return,x)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(x){Ae(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:rn(e,t),vn(t),r&4&&Tv(t);break;case 21:break;default:rn(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ra(s,""),r.flags&=-33);var i=xv(t);Af(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xv(t);Cf(t,a,o);break;default:throw Error(U(161))}}catch(u){Ae(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $R(t,e,n){H=t,HE(t)}function HE(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ll;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ht;a=Ll;var c=ht;if(Ll=o,(ht=u)&&!c)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?Cv(s):u!==null?(u.return=o,H=u):Cv(s);for(;i!==null;)H=i,HE(i),i=i.sibling;H=s,Ll=a,ht=c}Iv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Iv(t)}}function Iv(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&aa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ht||e.flags&512&&Sf(e)}catch(p){Ae(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Sv(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Cv(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(u){Ae(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ae(e,s,u)}}var i=e.return;try{Sf(e)}catch(u){Ae(e,i,u)}break;case 5:var o=e.return;try{Sf(e)}catch(u){Ae(e,o,u)}}}catch(u){Ae(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var WR=Math.ceil,qu=cr.ReactCurrentDispatcher,Yp=cr.ReactCurrentOwner,Xt=cr.ReactCurrentBatchConfig,ae=0,Qe=null,Oe=null,et=0,Pt=0,hi=es(0),Be=0,va=null,Ss=0,Oc=0,Xp=0,qo=null,It=null,Jp=0,Di=1/0,Hn=null,Gu=!1,Rf=null,Lr=null,Vl=!1,br=null,Ku=0,Go=0,bf=null,uu=-1,cu=0;function wt(){return ae&6?Pe():uu!==-1?uu:uu=Pe()}function Vr(t){return t.mode&1?ae&2&&et!==0?et&-et:AR.transition!==null?(cu===0&&(cu=b0()),cu):(t=de,t!==0||(t=window.event,t=t===void 0?16:L0(t.type)),t):1}function cn(t,e,n,r){if(50<Go)throw Go=0,bf=null,Error(U(185));La(t,n,r),(!(ae&2)||t!==Qe)&&(t===Qe&&(!(ae&2)&&(Oc|=n),Be===4&&Tr(t,et)),bt(t,r),n===1&&ae===0&&!(e.mode&1)&&(Di=Pe()+500,Nc&&ts()))}function bt(t,e){var n=t.callbackNode;AA(t,e);var r=ku(t,t===Qe?et:0);if(r===0)n!==null&&jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jy(n),e===1)t.tag===0?CR(Av.bind(null,t)):tE(Av.bind(null,t)),xR(function(){!(ae&6)&&ts()}),n=null;else{switch(N0(r)){case 1:n=Ip;break;case 4:n=A0;break;case 16:n=Nu;break;case 536870912:n=R0;break;default:n=Nu}n=ZE(n,qE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qE(t,e){if(uu=-1,cu=0,ae&6)throw Error(U(327));var n=t.callbackNode;if(_i()&&t.callbackNode!==n)return null;var r=ku(t,t===Qe?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qu(t,r);else{e=r;var s=ae;ae|=2;var i=KE();(Qe!==t||et!==e)&&(Hn=null,Di=Pe()+500,_s(t,e));do try{GR();break}catch(a){GE(t,a)}while(!0);Vp(),qu.current=i,ae=s,Oe!==null?e=0:(Qe=null,et=0,e=Be)}if(e!==0){if(e===2&&(s=tf(t),s!==0&&(r=s,e=Nf(t,s))),e===1)throw n=va,_s(t,0),Tr(t,r),bt(t,Pe()),n;if(e===6)Tr(t,r);else{if(s=t.current.alternate,!(r&30)&&!HR(s)&&(e=Qu(t,r),e===2&&(i=tf(t),i!==0&&(r=i,e=Nf(t,i))),e===1))throw n=va,_s(t,0),Tr(t,r),bt(t,Pe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:hs(t,It,Hn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=Jp+500-Pe(),10<e)){if(ku(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cf(hs.bind(null,t,It,Hn),e);break}hs(t,It,Hn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WR(r/1960))-r,10<r){t.timeoutHandle=cf(hs.bind(null,t,It,Hn),r);break}hs(t,It,Hn);break;case 5:hs(t,It,Hn);break;default:throw Error(U(329))}}}return bt(t,Pe()),t.callbackNode===n?qE.bind(null,t):null}function Nf(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=Qu(t,e),t!==2&&(e=It,It=n,e!==null&&kf(e)),t}function kf(t){It===null?It=t:It.push.apply(It,t)}function HR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Xp,e&=~Oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function Av(t){if(ae&6)throw Error(U(327));_i();var e=ku(t,0);if(!(e&1))return bt(t,Pe()),null;var n=Qu(t,e);if(t.tag!==0&&n===2){var r=tf(t);r!==0&&(e=r,n=Nf(t,r))}if(n===1)throw n=va,_s(t,0),Tr(t,e),bt(t,Pe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,It,Hn),bt(t,Pe()),null}function Zp(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(Di=Pe()+500,Nc&&ts())}}function Cs(t){br!==null&&br.tag===0&&!(ae&6)&&_i();var e=ae;ae|=1;var n=Xt.transition,r=de;try{if(Xt.transition=null,de=1,t)return t()}finally{de=r,Xt.transition=n,ae=e,!(ae&6)&&ts()}}function em(){Pt=hi.current,_e(hi)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ER(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lu();break;case 3:ki(),_e(At),_e(pt),$p();break;case 5:Bp(r);break;case 4:ki();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:Mp(r.type._context);break;case 22:case 23:em()}n=n.return}if(Qe=t,Oe=t=Mr(t.current,null),et=Pt=e,Be=0,va=null,Xp=Oc=Ss=0,It=qo=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ms=null}return t}function GE(t,e){do{var n=Oe;try{if(Vp(),ou.current=Hu,Wu){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wu=!1}if(Is=0,Ke=Ue=xe=null,Wo=!1,ma=0,Yp.current=null,n===null||n.return===null){Be=1,va=e,Oe=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=et,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=pv(o);if(w!==null){w.flags&=-257,mv(w,o,a,i,e),w.mode&1&&fv(i,c,e),e=w,u=c;var _=e.updateQueue;if(_===null){var x=new Set;x.add(u),e.updateQueue=x}else _.add(u);break e}else{if(!(e&1)){fv(i,c,e),tm();break e}u=Error(U(426))}}else if(we&&a.mode&1){var A=pv(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),mv(A,o,a,i,e),jp(Pi(u,a));break e}}i=u=Pi(u,a),Be!==4&&(Be=2),qo===null?qo=[i]:qo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=NE(i,u,e);av(i,y);break e;case 1:a=u;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Lr===null||!Lr.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=kE(i,a,e);av(i,D);break e}}i=i.return}while(i!==null)}YE(n)}catch(L){e=L,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function KE(){var t=qu.current;return qu.current=Hu,t===null?Hu:t}function tm(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(Ss&268435455)&&!(Oc&268435455)||Tr(Qe,et)}function Qu(t,e){var n=ae;ae|=2;var r=KE();(Qe!==t||et!==e)&&(Hn=null,_s(t,e));do try{qR();break}catch(s){GE(t,s)}while(!0);if(Vp(),ae=n,qu.current=r,Oe!==null)throw Error(U(261));return Qe=null,et=0,Be}function qR(){for(;Oe!==null;)QE(Oe)}function GR(){for(;Oe!==null&&!vA();)QE(Oe)}function QE(t){var e=JE(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?YE(t):Oe=e,Yp.current=null}function YE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UR(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Oe=null;return}}else if(n=FR(n,e,Pt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Be===0&&(Be=5)}function hs(t,e,n){var r=de,s=Xt.transition;try{Xt.transition=null,de=1,KR(t,e,n,r)}finally{Xt.transition=s,de=r}return null}function KR(t,e,n,r){do _i();while(br!==null);if(ae&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(RA(t,i),t===Qe&&(Oe=Qe=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vl||(Vl=!0,ZE(Nu,function(){return _i(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xt.transition,Xt.transition=null;var o=de;de=1;var a=ae;ae|=4,Yp.current=null,BR(t,n),WE(n,t),pR(lf),Pu=!!af,lf=af=null,t.current=n,$R(n),_A(),ae=a,de=o,Xt.transition=i}else t.current=n;if(Vl&&(Vl=!1,br=t,Ku=s),i=t.pendingLanes,i===0&&(Lr=null),xA(n.stateNode),bt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gu)throw Gu=!1,t=Rf,Rf=null,t;return Ku&1&&t.tag!==0&&_i(),i=t.pendingLanes,i&1?t===bf?Go++:(Go=0,bf=t):Go=0,ts(),null}function _i(){if(br!==null){var t=N0(Ku),e=Xt.transition,n=de;try{if(Xt.transition=null,de=16>t?16:t,br===null)var r=!1;else{if(t=br,br=null,Ku=0,ae&6)throw Error(U(331));var s=ae;for(ae|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Ho(8,f,i)}var m=f.child;if(m!==null)m.return=f,H=m;else for(;H!==null;){f=H;var p=f.sibling,w=f.return;if(zE(f),f===c){H=null;break}if(p!==null){p.return=w,H=p;break}H=w}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ho(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,H=y;break e}H=i.return}}var v=t.current;for(H=v;H!==null;){o=H;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,H=S;else e:for(o=v;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(L){Ae(a,a.return,L)}if(a===o){H=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,H=D;break e}H=a.return}}if(ae=s,ts(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{de=n,Xt.transition=e}}return!1}function Rv(t,e,n){e=Pi(n,e),e=NE(t,e,1),t=jr(t,e,1),e=wt(),t!==null&&(La(t,1,e),bt(t,e))}function Ae(t,e,n){if(t.tag===3)Rv(t,t,n);else for(;e!==null;){if(e.tag===3){Rv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=Pi(n,t),t=kE(e,t,1),e=jr(e,t,1),t=wt(),e!==null&&(La(e,1,t),bt(e,t));break}}e=e.return}}function QR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(et&n)===n&&(Be===4||Be===3&&(et&130023424)===et&&500>Pe()-Jp?_s(t,0):Xp|=n),bt(t,e)}function XE(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=wt();t=rr(t,e),t!==null&&(La(t,e,n),bt(t,n))}function YR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XE(t,n)}function XR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),XE(t,n)}var JE;JE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,MR(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,we&&e.flags&1048576&&nE(e,Fu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lu(t,e),t=e.pendingProps;var s=Ri(e,pt.current);vi(e,n),s=Hp(null,e,r,t,s,n);var i=qp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(r)?(i=!0,Vu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Up(e),s.updater=Pc,e.stateNode=s,s._reactInternals=e,yf(e,r,t,n),e=wf(null,e,r,!0,i,n)):(e.tag=0,we&&i&&Dp(e),_t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZR(r),t=sn(r,t),s){case 0:e=_f(null,e,r,t,n);break e;case 1:e=vv(null,e,r,t,n);break e;case 11:e=gv(null,e,r,t,n);break e;case 14:e=yv(null,e,r,sn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),_f(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),vv(t,e,r,s,n);case 3:e:{if(jE(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lE(t,e),Bu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pi(Error(U(423)),e),e=_v(t,e,r,n,s);break e}else if(r!==s){s=Pi(Error(U(424)),e),e=_v(t,e,r,n,s);break e}else for(Dt=Or(e.stateNode.containerInfo.firstChild),Mt=e,we=!0,an=null,n=oE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bi(),r===s){e=sr(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return uE(e),t===null&&pf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,uf(r,s)?o=null:i!==null&&uf(r,i)&&(e.flags|=32),OE(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&pf(e),null;case 13:return LE(t,e,n);case 4:return zp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ni(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),gv(t,e,r,s,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(Uu,r._currentValue),r._currentValue=o,i!==null)if(hn(i.value,o)){if(i.children===s.children&&!At.current){e=sr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Xn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),mf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vi(e,n),s=en(s),r=r(s),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,s=sn(r,e.pendingProps),s=sn(r.type,s),yv(t,e,r,s,n);case 15:return PE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),lu(t,e),e.tag=1,Rt(r)?(t=!0,Vu(e)):t=!1,vi(e,n),bE(e,r,s),yf(e,r,s,n),wf(null,e,r,!0,t,n);case 19:return VE(t,e,n);case 22:return DE(t,e,n)}throw Error(U(156,e.tag))};function ZE(t,e){return C0(t,e)}function JR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,n,r){return new JR(t,e,n,r)}function nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZR(t){if(typeof t=="function")return nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ep)return 11;if(t===xp)return 14}return 2}function Mr(t,e){var n=t.alternate;return n===null?(n=Yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function du(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")nm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ni:return ws(n.children,s,i,e);case wp:o=8,s|=8;break;case Uh:return t=Yt(12,n,e,s|2),t.elementType=Uh,t.lanes=i,t;case zh:return t=Yt(13,n,e,s),t.elementType=zh,t.lanes=i,t;case Bh:return t=Yt(19,n,e,s),t.elementType=Bh,t.lanes=i,t;case u0:return jc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a0:o=10;break e;case l0:o=9;break e;case Ep:o=11;break e;case xp:o=14;break e;case wr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Yt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ws(t,e,n,r){return t=Yt(7,t,r,e),t.lanes=n,t}function jc(t,e,n,r){return t=Yt(22,t,r,e),t.elementType=u0,t.lanes=n,t.stateNode={isHidden:!1},t}function dh(t,e,n){return t=Yt(6,t,null,e),t.lanes=n,t}function hh(t,e,n){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rm(t,e,n,r,s,i,o,a,u){return t=new eb(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Up(i),t}function tb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ex(t){if(!t)return Wr;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Rt(n))return eE(t,n,e)}return e}function tx(t,e,n,r,s,i,o,a,u){return t=rm(n,r,!0,t,s,i,o,a,u),t.context=ex(null),n=t.current,r=wt(),s=Vr(n),i=Xn(r,s),i.callback=e??null,jr(n,i,s),t.current.lanes=s,La(t,s,r),bt(t,r),t}function Lc(t,e,n,r){var s=e.current,i=wt(),o=Vr(s);return n=ex(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(s,e,o),t!==null&&(cn(t,s,o,i),iu(t,s,o)),o}function Yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sm(t,e){bv(t,e),(t=t.alternate)&&bv(t,e)}function nb(){return null}var nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function im(t){this._internalRoot=t}Vc.prototype.render=im.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Lc(t,e,null,null)};Vc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cs(function(){Lc(null,t,null,null)}),e[nr]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var e=D0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&j0(t)}};function om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function rb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Yu(o);i.call(c)}}var o=tx(e,r,t,0,null,!1,!1,"",Nv);return t._reactRootContainer=o,t[nr]=o.current,ca(t.nodeType===8?t.parentNode:t),Cs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Yu(u);a.call(c)}}var u=rm(t,0,!1,null,null,!1,!1,"",Nv);return t._reactRootContainer=u,t[nr]=u.current,ca(t.nodeType===8?t.parentNode:t),Cs(function(){Lc(e,u,n,r)}),u}function Fc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Yu(o);a.call(u)}}Lc(e,o,t,s)}else o=rb(n,e,t,s,r);return Yu(o)}k0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ro(e.pendingLanes);n!==0&&(Sp(e,n|1),bt(e,Pe()),!(ae&6)&&(Di=Pe()+500,ts()))}break;case 13:Cs(function(){var r=rr(t,1);if(r!==null){var s=wt();cn(r,t,1,s)}}),sm(t,1)}};Cp=function(t){if(t.tag===13){var e=rr(t,134217728);if(e!==null){var n=wt();cn(e,t,134217728,n)}sm(t,134217728)}};P0=function(t){if(t.tag===13){var e=Vr(t),n=rr(t,e);if(n!==null){var r=wt();cn(n,t,e,r)}sm(t,e)}};D0=function(){return de};O0=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Jh=function(t,e,n){switch(e){case"input":if(Hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bc(r);if(!s)throw Error(U(90));d0(r),Hh(r,s)}}}break;case"textarea":f0(t,n);break;case"select":e=n.value,e!=null&&pi(t,!!n.multiple,e,!1)}};w0=Zp;E0=Cs;var sb={usingClientEntryPoint:!1,Events:[Ma,oi,bc,v0,_0,Zp]},xo={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ib={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I0(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||nb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Sc=Ml.inject(ib),Tn=Ml}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sb;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(e))throw Error(U(200));return tb(t,e,null,n)};zt.createRoot=function(t,e){if(!om(t))throw Error(U(299));var n=!1,r="",s=nx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rm(t,1,!1,null,null,n,!1,r,s),t[nr]=e.current,ca(t.nodeType===8?t.parentNode:t),new im(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=I0(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return Cs(t)};zt.hydrate=function(t,e,n){if(!Mc(e))throw Error(U(200));return Fc(null,t,e,!0,n)};zt.hydrateRoot=function(t,e,n){if(!om(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tx(e,null,t,1,n??null,s,!1,i,o),t[nr]=e.current,ca(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vc(e)};zt.render=function(t,e,n){if(!Mc(e))throw Error(U(200));return Fc(null,t,e,!1,n)};zt.unmountComponentAtNode=function(t){if(!Mc(t))throw Error(U(40));return t._reactRootContainer?(Cs(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1};zt.unstable_batchedUpdates=Zp;zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Fc(t,e,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(t){console.error(t)}}rx(),r0.exports=zt;var am=r0.exports;const ob=Ww(am);var sx,kv=am;sx=kv.createRoot,kv.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pv="popstate";function ab(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Pf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_a(s)}return ub(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lb(){return Math.random().toString(36).substring(2,10)}function Dv(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wi(e):e,state:n,key:e&&e.key||r||lb()}}function _a({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ub(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",u=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function m(){a="POP";let A=f(),y=A==null?null:A-c;c=A,u&&u({action:a,location:x.location,delta:y})}function p(A,y){a="PUSH";let v=Pf(x.location,A,y);c=f()+1;let S=Dv(v,c),D=x.createHref(v);try{o.pushState(S,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(D)}i&&u&&u({action:a,location:x.location,delta:1})}function w(A,y){a="REPLACE";let v=Pf(x.location,A,y);c=f();let S=Dv(v,c),D=x.createHref(v);o.replaceState(S,"",D),i&&u&&u({action:a,location:x.location,delta:0})}function _(A){return cb(A)}let x={get action(){return a},get location(){return t(s,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Pv,m),u=A,()=>{s.removeEventListener(Pv,m),u=null}},createHref(A){return e(s,A)},createURL:_,encodeLocation(A){let y=_(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:w,go(A){return o.go(A)}};return x}function cb(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_a(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ix(t,e,n="/"){return db(t,e,n,!1)}function db(t,e,n,r){let s=typeof e=="string"?Wi(e):e,i=ir(s.pathname||"/",n);if(i==null)return null;let o=ox(t);hb(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Tb(i);a=Eb(o[u],c,r)}return a}function ox(t,e=[],n=[],r=""){let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Jn([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Te(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ox(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_b(c,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of ax(i.path))s(i,o,u)}),e}function ax(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ax(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function hb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fb=/^:[\w-]+$/,pb=3,mb=2,gb=1,yb=10,vb=-2,Ov=t=>t==="*";function _b(t,e){let n=t.split("/"),r=n.length;return n.some(Ov)&&(r+=vb),e&&(r+=mb),n.filter(s=>!Ov(s)).reduce((s,i)=>s+(fb.test(i)?pb:i===""?gb:yb),r)}function wb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Eb(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=Xu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Xu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Jn([i,m.pathname]),pathnameBase:Ab(Jn([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Jn([i,m.pathnameBase]))}return o}function Xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let _=a[p]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const w=a[p];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function xb(t,e=!1,n=!0){Pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Tb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ib(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:Sb(n,e):e,search:Rb(r),hash:bb(s)}}function Sb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lx(t){let e=Cb(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ux(t,e,n,r=!1){let s;typeof t=="string"?s=Wi(t):(s={...t},Te(!s.pathname||!s.pathname.includes("?"),fh("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),fh("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),fh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}a=m>=0?e[m]:"/"}let u=Ib(s,a),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Jn=t=>t.join("/").replace(/\/\/+/g,"/"),Ab=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Nb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var kb=["GET",...cx];new Set(kb);var Hi=E.createContext(null);Hi.displayName="DataRouter";var Uc=E.createContext(null);Uc.displayName="DataRouterState";E.createContext(!1);var dx=E.createContext({isTransitioning:!1});dx.displayName="ViewTransition";var Pb=E.createContext(new Map);Pb.displayName="Fetchers";var Db=E.createContext(null);Db.displayName="Await";var Ln=E.createContext(null);Ln.displayName="Navigation";var Ua=E.createContext(null);Ua.displayName="Location";var Vn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var lm=E.createContext(null);lm.displayName="RouteError";function Ob(t,{relative:e}={}){Te(za(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Ln),{hash:s,pathname:i,search:o}=Ba(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Jn([n,i])),r.createHref({pathname:a,search:o,hash:s})}function za(){return E.useContext(Ua)!=null}function Ls(){return Te(za(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ua).location}var hx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(t){E.useContext(Ln).static||E.useLayoutEffect(t)}function px(){let{isDataRoute:t}=E.useContext(Vn);return t?Kb():jb()}function jb(){Te(za(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Hi),{basename:e,navigator:n}=E.useContext(Ln),{matches:r}=E.useContext(Vn),{pathname:s}=Ls(),i=JSON.stringify(lx(r)),o=E.useRef(!1);return fx(()=>{o.current=!0}),E.useCallback((u,c={})=>{if(Pn(o.current,hx),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=ux(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,i,s,t])}E.createContext(null);function Lb(){let{matches:t}=E.useContext(Vn),e=t[t.length-1];return e?e.params:{}}function Ba(t,{relative:e}={}){let{matches:n}=E.useContext(Vn),{pathname:r}=Ls(),s=JSON.stringify(lx(n));return E.useMemo(()=>ux(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Vb(t,e){return mx(t,e)}function mx(t,e,n,r){var y;Te(za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(Ln),{matches:i}=E.useContext(Vn),o=i[i.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let v=f&&f.path||"";gx(u,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let m=Ls(),p;if(e){let v=typeof e=="string"?Wi(e):e;Te(c==="/"||((y=v.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=m;let w=p.pathname||"/",_=w;if(c!=="/"){let v=c.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=ix(t,{pathname:_});Pn(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Pn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Bb(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Jn([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Jn([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&A?E.createElement(Ua.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},A):A}function Mb(){let t=Gb(),e=Nb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var Fb=E.createElement(Mb,null),Ub=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Vn.Provider,{value:this.props.routeContext},E.createElement(lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zb({routeContext:t,match:e,children:n}){let r=E.useContext(Hi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Vn.Provider,{value:t},n)}function Bb(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let u=s.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);Te(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:f,errors:m}=n,p=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((u,c,f)=>{let m,p=!1,w=null,_=null;n&&(m=i&&c.route.id?i[c.route.id]:void 0,w=c.route.errorElement||Fb,o&&(a<0&&f===0?(gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):a===f&&(p=!0,_=c.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,f+1)),A=()=>{let y;return m?y=w:p?y=_:c.route.Component?y=E.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,E.createElement(zb,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?E.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function um(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(t){let e=E.useContext(Hi);return Te(e,um(t)),e}function Wb(t){let e=E.useContext(Uc);return Te(e,um(t)),e}function Hb(t){let e=E.useContext(Vn);return Te(e,um(t)),e}function cm(t){let e=Hb(t),n=e.matches[e.matches.length-1];return Te(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qb(){return cm("useRouteId")}function Gb(){var r;let t=E.useContext(lm),e=Wb("useRouteError"),n=cm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Kb(){let{router:t}=$b("useNavigate"),e=cm("useNavigate"),n=E.useRef(!1);return fx(()=>{n.current=!0}),E.useCallback(async(s,i={})=>{Pn(n.current,hx),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var jv={};function gx(t,e,n){!e&&!jv[t]&&(jv[t]=!0,Pn(!1,n))}E.memo(Qb);function Qb({routes:t,future:e,state:n}){return mx(t,void 0,n,e)}function Ys(t){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Te(!za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Wi(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,w=E.useMemo(()=>{let _=ir(u,o);return _==null?null:{location:{pathname:_,search:c,hash:f,state:m,key:p},navigationType:r}},[o,u,c,f,m,p,r]);return Pn(w!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(Ln.Provider,{value:a},E.createElement(Ua.Provider,{children:e,value:w}))}function Xb({children:t,location:e}){return Vb(Df(t),e)}function Df(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,Df(r.props.children,i));return}Te(r.type===Ys,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Df(r.props.children,i)),n.push(o)}),n}var hu="get",fu="application/x-www-form-urlencoded";function zc(t){return t!=null&&typeof t.tagName=="string"}function Jb(t){return zc(t)&&t.tagName.toLowerCase()==="button"}function Zb(t){return zc(t)&&t.tagName.toLowerCase()==="form"}function eN(t){return zc(t)&&t.tagName.toLowerCase()==="input"}function tN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nN(t,e){return t.button===0&&(!e||e==="_self")&&!tN(t)}var Fl=null;function rN(){if(Fl===null)try{new FormData(document.createElement("form"),0),Fl=!1}catch{Fl=!0}return Fl}var sN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ph(t){return t!=null&&!sN.has(t)?(Pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):t}function iN(t,e){let n,r,s,i,o;if(Zb(t)){let a=t.getAttribute("action");r=a?ir(a,e):null,n=t.getAttribute("method")||hu,s=ph(t.getAttribute("enctype"))||fu,i=new FormData(t)}else if(Jb(t)||eN(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?ir(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||hu,s=ph(t.getAttribute("formenctype"))||ph(a.getAttribute("enctype"))||fu,i=new FormData(a,t),!rN()){let{name:c,type:f,value:m}=t;if(f==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,m)}}else{if(zc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hu,r=null,s=fu,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ir(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function aN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await aN(i,n);return o.links?o.links():[]}return[]}));return fN(r.flat(1).filter(lN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Lv(t,e,n,r,s,i){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):i==="data"?e.filter((u,c)=>{var m;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function cN(t,e,{includeHydrateFallback:n}={}){return dN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function dN(t){return[...new Set(t)]}function hN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(hN(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function yx(){let t=E.useContext(Hi);return dm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pN(){let t=E.useContext(Uc);return dm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hm=E.createContext(void 0);hm.displayName="FrameworkContext";function vx(){let t=E.useContext(hm);return dm(t,"You must render this element inside a <HydratedRouter> element"),t}function mN(t,e){let n=E.useContext(hm),[r,s]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,p=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=y=>{y.forEach(v=>{o(v.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return p.current&&A.observe(p.current),()=>{A.disconnect()}}},[t]),E.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let w=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:To(a,w),onBlur:To(u,_),onMouseEnter:To(c,w),onMouseLeave:To(f,_),onTouchStart:To(m,w)}]:[!1,p,{}]}function To(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function gN({page:t,...e}){let{router:n}=yx(),r=E.useMemo(()=>ix(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(vN,{page:t,matches:r,...e}):null}function yN(t){let{manifest:e,routeModules:n}=vx(),[r,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return uN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function vN({page:t,matches:e,...n}){let r=Ls(),{manifest:s,routeModules:i}=vx(),{basename:o}=yx(),{loaderData:a,matches:u}=pN(),c=E.useMemo(()=>Lv(t,e,u,s,r,"data"),[t,e,u,s,r]),f=E.useMemo(()=>Lv(t,e,u,s,r,"assets"),[t,e,u,s,r]),m=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,x=!1;if(e.forEach(y=>{var S;let v=s.routes[y.route.id];!v||!v.hasLoader||(!c.some(D=>D.route.id===y.route.id)&&y.route.id in a&&((S=i[y.route.id])!=null&&S.shouldRevalidate)||v.hasClientLoader?x=!0:_.add(y.route.id))}),_.size===0)return[];let A=oN(t,o,"data");return x&&_.size>0&&A.searchParams.set("_routes",e.filter(y=>_.has(y.route.id)).map(y=>y.route.id).join(",")),[A.pathname+A.search]},[o,a,r,s,c,e,t,i]),p=E.useMemo(()=>cN(f,s),[f,s]),w=yN(f);return E.createElement(E.Fragment,null,m.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),w.map(({key:_,link:x})=>E.createElement("link",{key:_,...x})))}function _N(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_x&&(window.__reactRouterVersion="7.7.1")}catch{}function wN({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=ab({window:n,v5Compat:!0}));let s=r.current,[i,o]=E.useState({action:s.action,location:s.location}),a=E.useCallback(u=>{E.startTransition(()=>o(u))},[o]);return E.useLayoutEffect(()=>s.listen(a),[s,a]),E.createElement(Yb,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wa=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:m,...p},w){let{basename:_}=E.useContext(Ln),x=typeof c=="string"&&wx.test(c),A,y=!1;if(typeof c=="string"&&x&&(A=c,_x))try{let R=new URL(window.location.href),b=c.startsWith("//")?new URL(R.protocol+c):new URL(c),k=ir(b.pathname,_);b.origin===R.origin&&k!=null?c=k+b.search+b.hash:y=!0}catch{Pn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=Ob(c,{relative:s}),[S,D,L]=mN(r,p),F=IN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:s,viewTransition:m});function C(R){e&&e(R),R.defaultPrevented||F(R)}let T=E.createElement("a",{...p,...L,href:A||v,onClick:y||i?e:C,ref:_N(w,D),target:u,"data-discover":!x&&n==="render"?"true":void 0});return S&&!x?E.createElement(E.Fragment,null,T,E.createElement(gN,{page:v})):T});wa.displayName="Link";var EN=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...c},f){let m=Ba(o,{relative:c.relative}),p=Ls(),w=E.useContext(Uc),{navigator:_,basename:x}=E.useContext(Ln),A=w!=null&&bN(m)&&a===!0,y=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,v=p.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(v=v.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&x&&(S=ir(S,x)||S);const D=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let L=v===y||!s&&v.startsWith(y)&&v.charAt(D)==="/",F=S!=null&&(S===y||!s&&S.startsWith(y)&&S.charAt(y.length)==="/"),C={isActive:L,isPending:F,isTransitioning:A},T=L?e:void 0,R;typeof r=="function"?R=r(C):R=[r,L?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let b=typeof i=="function"?i(C):i;return E.createElement(wa,{...c,"aria-current":T,className:R,ref:f,style:b,to:o,viewTransition:a},typeof u=="function"?u(C):u)});EN.displayName="NavLink";var xN=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=hu,action:a,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...p},w)=>{let _=AN(),x=RN(a,{relative:c}),A=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&wx.test(a),v=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let D=S.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||o;_(D||S.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:i,relative:c,preventScrollReset:f,viewTransition:m})};return E.createElement("form",{ref:w,method:A,action:x,onSubmit:r?u:v,...p,"data-discover":!y&&t==="render"?"true":void 0})});xN.displayName="Form";function TN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ex(t){let e=E.useContext(Hi);return Te(e,TN(t)),e}function IN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=px(),u=Ls(),c=Ba(t,{relative:i});return E.useCallback(f=>{if(nN(f,e)){f.preventDefault();let m=n!==void 0?n:_a(u)===_a(c);a(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,a,c,n,r,e,t,s,i,o])}var SN=0,CN=()=>`__${String(++SN)}__`;function AN(){let{router:t}=Ex("useSubmit"),{basename:e}=E.useContext(Ln),n=qb();return E.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:u,body:c}=iN(r,e);if(s.navigate===!1){let f=s.fetcherKey||CN();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function RN(t,{relative:e}={}){let{basename:n}=E.useContext(Ln),r=E.useContext(Vn);Te(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ba(t||".",{relative:e})},o=Ls();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(f=>f==="")){a.delete("index"),u.filter(m=>m).forEach(m=>a.append("index",m));let f=a.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Jn([n,i.pathname])),_a(i)}function bN(t,{relative:e}={}){let n=E.useContext(dx);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ex("useViewTransitionState"),s=Ba(t,{relative:e});if(!n.isTransitioning)return!1;let i=ir(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ir(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xu(s.pathname,o)!=null||Xu(s.pathname,i)!=null}const NN=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Tx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,f=i>>2,m=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(p=64)),r.push(n[f],n[m],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new PN;const p=i<<2|a>>4;if(r.push(p),c!==64){const w=a<<4&240|c>>2;if(r.push(w),m!==64){const _=c<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DN=function(t){const e=xx(t);return Tx.encodeByteArray(e,!0)},Ju=function(t){return DN(t).replace(/\./g,"")},Ix=function(t){try{return Tx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=()=>ON().__FIREBASE_DEFAULTS__,LN=()=>{if(typeof process>"u"||typeof Vv>"u")return;const t=Vv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ix(t[1]);return e&&JSON.parse(e)},Bc=()=>{try{return NN()||jN()||LN()||VN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sx=t=>{var e,n;return(n=(e=Bc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MN=t=>{const e=Sx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cx=()=>{var t;return(t=Bc())==null?void 0:t.config},Ax=t=>{var e;return(e=Bc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ju(JSON.stringify(n)),Ju(JSON.stringify(o)),""].join(".")}const Ko={};function zN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?t.emulator.push(e):t.prod.push(e);return t}function BN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mv=!1;function bx(t,e){if(typeof window>"u"||typeof document>"u"||!qi(window.location.host)||Ko[t]===e||Ko[t]||Mv)return;Ko[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=zN().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,w){p.setAttribute("width","24"),p.setAttribute("id",w),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Mv=!0,o()},p}function f(p,w){p.setAttribute("id",w),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=BN(r),w=n("text"),_=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),A=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),f(A,x);const D=c();u(v,y),S.append(v,_,A,D),document.body.appendChild(S)}i?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function WN(){var e;const t=(e=Bc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KN(){return!WN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kx(){try{return typeof indexedDB=="object"}catch{return!1}}function Px(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function QN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}}class Vs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?XN(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gn(s,a,r)}}function XN(t,e){return t.replace(JN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JN=/\{\$([^}]+)}/g;function ZN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Fv(i)&&Fv(o)){if(!Hr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function No(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ek(t,e){const n=new tk(t,e);return n.subscribe.bind(n)}class tk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=mh),s.error===void 0&&(s.error=mh),s.complete===void 0&&(s.complete=mh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=1e3,sk=2,ik=4*60*60*1e3,ok=.5;function Uv(t,e=rk,n=sk){const r=e*Math.pow(n,t),s=Math.round(ok*r*(Math.random()-.5)*2);return Math.min(ik,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uk(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lk(t){return t===fs?void 0:t}function uk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ak(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const dk={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},hk=ne.INFO,fk={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},pk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $c{constructor(e){this.name=e,this._logLevel=hk,this._logHandler=pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const mk=(t,e)=>e.some(n=>t instanceof n);let zv,Bv;function gk(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yk(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dx=new WeakMap,Of=new WeakMap,Ox=new WeakMap,gh=new WeakMap,fm=new WeakMap;function vk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dx.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function _k(t){if(Of.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Of.set(t,e)}let jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Of.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wk(t){jf=t(jf)}function Ek(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yh(this),e,...n);return Ox.set(r,e.sort?e.sort():[e]),Fr(r)}:yk().includes(t)?function(...e){return t.apply(yh(this),e),Fr(Dx.get(this))}:function(...e){return Fr(t.apply(yh(this),e))}}function xk(t){return typeof t=="function"?Ek(t):(t instanceof IDBTransaction&&_k(t),mk(t,gk())?new Proxy(t,jf):t)}function Fr(t){if(t instanceof IDBRequest)return vk(t);if(gh.has(t))return gh.get(t);const e=xk(t);return e!==t&&(gh.set(t,e),fm.set(e,t)),e}const yh=t=>fm.get(t);function jx(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Fr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fr(o.result),u.oldVersion,u.newVersion,Fr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Tk=["get","getKey","getAll","getAllKeys","count"],Ik=["put","add","delete","clear"],vh=new Map;function $v(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ik.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Tk.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return vh.set(e,i),i}wk(t=>({...t,get:(e,n,r)=>$v(e,n)||t.get(e,n,r),has:(e,n)=>!!$v(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ck(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ck(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lf="@firebase/app",Wv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new $c("@firebase/app"),Ak="@firebase/app-compat",Rk="@firebase/analytics-compat",bk="@firebase/analytics",Nk="@firebase/app-check-compat",kk="@firebase/app-check",Pk="@firebase/auth",Dk="@firebase/auth-compat",Ok="@firebase/database",jk="@firebase/data-connect",Lk="@firebase/database-compat",Vk="@firebase/functions",Mk="@firebase/functions-compat",Fk="@firebase/installations",Uk="@firebase/installations-compat",zk="@firebase/messaging",Bk="@firebase/messaging-compat",$k="@firebase/performance",Wk="@firebase/performance-compat",Hk="@firebase/remote-config",qk="@firebase/remote-config-compat",Gk="@firebase/storage",Kk="@firebase/storage-compat",Qk="@firebase/firestore",Yk="@firebase/ai",Xk="@firebase/firestore-compat",Jk="firebase",Zk="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",eP={[Lf]:"fire-core",[Ak]:"fire-core-compat",[bk]:"fire-analytics",[Rk]:"fire-analytics-compat",[kk]:"fire-app-check",[Nk]:"fire-app-check-compat",[Pk]:"fire-auth",[Dk]:"fire-auth-compat",[Ok]:"fire-rtdb",[jk]:"fire-data-connect",[Lk]:"fire-rtdb-compat",[Vk]:"fire-fn",[Mk]:"fire-fn-compat",[Fk]:"fire-iid",[Uk]:"fire-iid-compat",[zk]:"fire-fcm",[Bk]:"fire-fcm-compat",[$k]:"fire-perf",[Wk]:"fire-perf-compat",[Hk]:"fire-rc",[qk]:"fire-rc-compat",[Gk]:"fire-gcs",[Kk]:"fire-gcs-compat",[Qk]:"fire-fst",[Xk]:"fire-fst-compat",[Yk]:"fire-vertex","fire-js":"fire-js",[Jk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,tP=new Map,Mf=new Map;function Hv(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){const e=t.name;if(Mf.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,t);for(const n of Zu.values())Hv(n,t);for(const n of tP.values())Hv(n,t);return!0}function Ms(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Vs("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=Zk;function Lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Vf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ur.create("bad-app-name",{appName:String(s)});if(n||(n=Cx()),!n)throw Ur.create("no-options");const i=Zu.get(s);if(i){if(Hr(n,i.options)&&Hr(r,i.config))return i;throw Ur.create("duplicate-app",{appName:s})}const o=new ck(s);for(const u of Mf.values())o.addComponent(u);const a=new rP(n,r,o);return Zu.set(s,a),a}function pm(t=Vf){const e=Zu.get(t);if(!e&&t===Vf&&Cx())return Lx();if(!e)throw Ur.create("no-app",{appName:t});return e}function Jt(t,e,n){let r=eP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(o.join(" "));return}Dn(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="firebase-heartbeat-database",iP=1,Ea="firebase-heartbeat-store";let _h=null;function Vx(){return _h||(_h=jx(sP,iP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),_h}async function oP(t){try{const n=(await Vx()).transaction(Ea),r=await n.objectStore(Ea).get(Mx(t));return await n.done,r}catch(e){if(e instanceof gn)or.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function qv(t,e){try{const r=(await Vx()).transaction(Ea,"readwrite");await r.objectStore(Ea).put(e,Mx(t)),await r.done}catch(n){if(n instanceof gn)or.warn(n.message);else{const r=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(r.message)}}}function Mx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=1024,lP=30;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>lP){const o=hP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:r,unsentEntries:s}=cP(this._heartbeatsCache.heartbeats),i=Ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return or.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function cP(t,e=aP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Kv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Kv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kx()?Px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Kv(t){return Ju(JSON.stringify({version:2,heartbeats:t})).length}function hP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){Dn(new fn("platform-logger",e=>new Sk(e),"PRIVATE")),Dn(new fn("heartbeat",e=>new uP(e),"PRIVATE")),Jt(Lf,Wv,t),Jt(Lf,Wv,"esm2020"),Jt("fire-js","")}fP("");function Fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=Fx,Ux=new Vs("auth","Firebase",Fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new $c("@firebase/auth");function mP(t,...e){ec.logLevel<=ne.WARN&&ec.warn(`Auth (${Gi}): ${t}`,...e)}function pu(t,...e){ec.logLevel<=ne.ERROR&&ec.error(`Auth (${Gi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw mm(t,...e)}function Sn(t,...e){return mm(t,...e)}function zx(t,e,n){const r={...pP(),[e]:n};return new Vs("auth","Firebase",r).create(e,{appName:t.name})}function Zn(t){return zx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ux.create(t,...e)}function K(t,e,...n){if(!t)throw mm(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pu(e),new Error(e)}function ar(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gP(){return Qv()==="http:"||Qv()==="https:"}function Qv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||Nx()||"connection"in navigator)?navigator.onLine:!0}function vP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=$N()||qN()}get(){return yP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EP=new Wa(3e4,6e4);function ns(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rs(t,e,n,r,s={}){return $x(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$a({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return HN()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&qi(t.emulatorConfig.host)&&(c.credentials="include"),Bx.fetch()(await Wx(t,t.config.apiHost,n,a),c)})}async function $x(t,e,n){t._canInitEmulator=!1;const r={..._P,...e};try{const s=new TP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ul(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ul(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zx(t,f,c);pn(t,f)}}catch(s){if(s instanceof gn)throw s;pn(t,"network-request-failed",{message:String(s)})}}async function Ha(t,e,n,r,s={}){const i=await rs(t,e,n,r,s);return"mfaPendingCredential"in i&&pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Wx(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?gm(t.config,s):`${t.config.apiScheme}://${s}`;return wP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function xP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),EP.get())})}}function Ul(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sn(t,e,r);return s.customData._tokenResponse=n,s}function Yv(t){return t!==void 0&&t.enterprise!==void 0}class IP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SP(t,e){return rs(t,"GET","/v2/recaptchaConfig",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function tc(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AP(t,e=!1){const n=Me(t),r=await n.getIdToken(e),s=ym(r);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Qo(wh(s.auth_time)),issuedAtTime:Qo(wh(s.iat)),expirationTime:Qo(wh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wh(t){return Number(t)*1e3}function ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ix(n);return s?JSON.parse(s):(pu("Failed to decode base64 JWT payload"),null)}catch(s){return pu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Xv(t){const e=ym(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gn&&RP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){var m;const e=t.auth,n=await t.getIdToken(),r=await xa(t,tc(e,{idToken:n}));K(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?Hx(s.providerUserInfo):[],o=kP(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Uf(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function NP(t){const e=Me(t);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Hx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){const n=await $x(t,{},async()=>{const r=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Wx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&qi(t.emulatorConfig.host)&&(u.credentials="include"),Bx.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DP(t,e){return rs(t,"POST","/v2/accounts:revokeToken",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await PP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new wi;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wi,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new bP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xa(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AP(this,e)}reload(){return NP(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await xa(this,CP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:w,providerData:_,stsTokenManager:x}=n;K(m&&x,e,"internal-error");const A=wi.fromJSON(this.name,x);K(typeof m=="string",e,"internal-error"),mr(r,e.name),mr(s,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof w=="boolean",e,"internal-error"),mr(i,e.name),mr(o,e.name),mr(a,e.name),mr(u,e.name),mr(c,e.name),mr(f,e.name);const y=new ln({uid:m,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:A,createdAt:c,lastLoginAt:f});return _&&Array.isArray(_)&&(y.providerData=_.map(v=>({...v}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new wi;s.updateFromServerResponse(n);const i=new ln({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];K(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Hx(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new wi;a.updateFromIdToken(r);const u=new ln({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Uf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function Yn(t){ar(t instanceof Function,"Expected a class definition");let e=Jv.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qx.type="NONE";const Zv=qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ei{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=mu(this.userKey,s.apiKey,i),this.fullPersistenceKey=mu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tc(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ei(Yn(Zv),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Yn(Zv);const o=mu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){let m;if(typeof f=="string"){const p=await tc(e,{idToken:f}).catch(()=>{});if(!p)break;m=await ln._fromGetAccountInfoResponse(e,p,f)}else m=ln._fromJSON(e,f);c!==i&&(a=m),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ei(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ei(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jx(e))return"Blackberry";if(Zx(e))return"Webos";if(Kx(e))return"Safari";if((e.includes("chrome/")||Qx(e))&&!e.includes("edge/"))return"Chrome";if(Xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gx(t=mt()){return/firefox\//i.test(t)}function Kx(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qx(t=mt()){return/crios\//i.test(t)}function Yx(t=mt()){return/iemobile/i.test(t)}function Xx(t=mt()){return/android/i.test(t)}function Jx(t=mt()){return/blackberry/i.test(t)}function Zx(t=mt()){return/webos/i.test(t)}function vm(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OP(t=mt()){var e;return vm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jP(){return GN()&&document.documentMode===10}function eT(t=mt()){return vm(t)||Xx(t)||Zx(t)||Jx(t)||/windows phone/i.test(t)||Yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e=[]){let n;switch(t){case"Browser":n=e_(mt());break;case"Worker":n=`${e_(mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e={}){return rs(t,"GET","/v2/passwordPolicy",ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=6;class FP{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ei.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tc(this,{idToken:e}),r=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Kt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(Zn(this));const n=e?Me(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VP(this),n=new FP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ei.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fs(t){return Me(t)}class t_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ek(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zP(t){Wc=t}function nT(t){return Wc.loadJS(t)}function BP(){return Wc.recaptchaEnterpriseScript}function $P(){return Wc.gapiScript}function WP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HP{constructor(){this.enterprise=new qP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GP="recaptcha-enterprise",rT="NO_RECAPTCHA";class KP{constructor(e){this.type=GP,this.auth=Fs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{SP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new IP(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Yv(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(rT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HP().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Yv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=BP();u.length!==0&&(u+=a),nT(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function n_(t,e,n,r=!1,s=!1){const i=new KP(t);let o;if(s)o=rT;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zf(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await n_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await n_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){const n=Ms(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hr(i,e??{}))return s;pn(s,"already-initialized")}return n.initialize({options:e})}function YP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XP(t,e,n){const r=Fs(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=sT(e),{host:o,port:a}=JP(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Hr(c,r.config.emulator)&&Hr(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,qi(o)?(Rx(`${i}//${o}${u}`),bx("Auth",!0)):ZP()}function sT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JP(t){const e=sT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:r_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:r_(o)}}}function r_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function e2(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e){return Ha(t,"POST","/v1/accounts:signInWithPassword",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}async function r2(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends _m{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ta(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ta(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,n,"signInWithPassword",t2);case"emailLink":return n2(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,r,"signUpPassword",e2);case"emailLink":return r2(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e){return Ha(t,"POST","/v1/accounts:signInWithIdp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="http://localhost";class As extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new As(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xi(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$a(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o2(t){const e=No(ko(t)).link,n=e?No(ko(e)).deep_link_id:null,r=No(ko(t)).deep_link_id;return(r?No(ko(r)).link:null)||r||n||e||t}class wm{constructor(e){const n=No(ko(e)),r=n.apiKey??null,s=n.oobCode??null,i=i2(n.mode??null);K(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=o2(e);try{return new wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.providerId=Ki.PROVIDER_ID}static credential(e,n){return Ta._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wm.parseLink(n);return K(r,"argument-error"),Ta._fromEmailAndCode(e,r.code,r.tenantId)}}Ki.PROVIDER_ID="password";Ki.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ki.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends iT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends qa{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends qa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends qa{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends qa{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e){return Ha(t,"POST","/v1/accounts:signUp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ln._fromIdTokenResponse(e,r,s),o=s_(r);return new Rs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=s_(r);return new Rs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function s_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends gn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rc(e,n,r,s)}}function oT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rc._fromErrorAndOperation(t,i,e,r):i})}async function l2(t,e,n=!1){const r=await xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e,n=!1){const{auth:r}=t;if(Kt(r.app))return Promise.reject(Zn(r));const s="reauthenticate";try{const i=await xa(t,oT(r,s,e,t),n);K(i.idToken,r,"internal-error");const o=ym(i.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(t,e,n=!1){if(Kt(t.app))return Promise.reject(Zn(t));const r="signIn",s=await oT(t,r,e),i=await Rs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function c2(t,e){return aT(Fs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(t){const e=Fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d2(t,e,n){if(Kt(t.app))return Promise.reject(Zn(t));const r=Fs(t),o=await zf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&lT(t),u}),a=await Rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function h2(t,e,n){return Kt(t.app)?Promise.reject(Zn(t)):c2(Me(t),Ki.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lT(t),r})}function f2(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function p2(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function m2(t,e,n,r){return Me(t).onAuthStateChanged(e,n,r)}function g2(t){return Me(t).signOut()}const sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sc,"1"),this.storage.removeItem(sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1e3,v2=10;class cT extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,v2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cT.type="LOCAL";const _2=cT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dT.type="SESSION";const hT=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Hc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await w2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Em("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function x2(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function T2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function S2(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebaseLocalStorageDb",C2=1,ic="firebaseLocalStorage",mT="fbase_key";class Ga{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qc(t,e){return t.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function A2(){const t=indexedDB.deleteDatabase(pT);return new Ga(t).toPromise()}function Bf(){const t=indexedDB.open(pT,C2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ic,{keyPath:mT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ic)?e(r):(r.close(),await A2(),e(await Bf()))})})}async function i_(t,e,n){const r=qc(t,!0).put({[mT]:e,value:n});return new Ga(r).toPromise()}async function R2(t,e){const n=qc(t,!1).get(e),r=await new Ga(n).toPromise();return r===void 0?null:r.value}function o_(t,e){const n=qc(t,!0).delete(e);return new Ga(n).toPromise()}const b2=800,N2=3;class gT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bf();return await i_(e,sc,"1"),await o_(e,sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>i_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qc(s,!1).getAll();return new Ga(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gT.type="LOCAL";const k2=gT;new Wa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){return e?Yn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends _m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D2(t){return aT(t.auth,new xm(t),t.bypassAuthState)}function O2(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),u2(n,new xm(t),t.bypassAuthState)}async function j2(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),l2(n,new xm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:pn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new Wa(2e3,1e4);class fi extends yT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fi.currentPopupAction&&fi.currentPopupAction.cancel(),fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L2.get())};e()}}fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="pendingRedirect",gu=new Map;class M2 extends yT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gu.get(this.auth._key());if(!e){try{const r=await F2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(t,e){const n=B2(e),r=z2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function U2(t,e){gu.set(t._key(),e)}function z2(t){return Yn(t._redirectPersistence)}function B2(t){return mu(V2,t.config.apiKey,t.name)}async function $2(t,e,n=!1){if(Kt(t.app))return Promise.reject(Zn(t));const r=Fs(t),s=P2(r,e),o=await new M2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*60*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vT(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function Y2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G2(t);for(const n of e)try{if(X2(n))return}catch{}pn(t,"unauthorized-domain")}function X2(t){const e=Ff(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q2.test(n))return!1;if(K2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Wa(3e4,6e4);function l_(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z2(t){return new Promise((e,n)=>{var s,i,o;function r(){l_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l_(),n(Sn(t,"network-request-failed"))},timeout:J2.get()})}if((i=(s=Cn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Cn().gapi)!=null&&o.load)r();else{const a=WP("iframefcb");return Cn()[a]=()=>{gapi.load?r():n(Sn(t,"network-request-failed"))},nT(`${$P()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw yu=null,e})}let yu=null;function eD(t){return yu=yu||Z2(t),yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Wa(5e3,15e3),nD="__/auth/iframe",rD="emulator/auth/iframe",sD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gm(e,rD):`https://${t.config.authDomain}/${nD}`,r={apiKey:e.apiKey,appName:t.name,v:Gi},s=iD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$a(r).slice(1)}`}async function aD(t){const e=await eD(t),n=Cn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:oD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=Cn().setTimeout(()=>{i(o)},tD.get());function u(){Cn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uD=500,cD=600,dD="_blank",hD="http://localhost";class u_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(t,e,n,r=uD,s=cD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...lD,width:r.toString(),height:s.toString(),top:i,left:o},c=mt().toLowerCase();n&&(a=Qx(c)?dD:n),Gx(c)&&(e=e||hD,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[w,_])=>`${p}${w}=${_},`,"");if(OP(c)&&a!=="_self")return pD(e||"",a),new u_(null);const m=window.open(e||"",a,f);K(m,t,"popup-blocked");try{m.focus()}catch{}return new u_(m)}function pD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__/auth/handler",gD="emulator/auth/handler",yD=encodeURIComponent("fac");async function c_(t,e,n,r,s,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gi,eventId:s};if(e instanceof iT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof qa){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${yD}=${encodeURIComponent(u)}`:"";return`${vD(t)}?${$a(a).slice(1)}${c}`}function vD({config:t}){return t.emulator?gm(t,gD):`https://${t.authDomain}/${mD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="webStorageSupport";class _D{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=$2,this._overrideRedirectResult=U2}async _openPopup(e,n,r,s){var o;ar((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await c_(e,n,r,Ff(),s);return fD(e,i,Em())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await c_(e,n,r,Ff(),s);return x2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aD(e),r=new H2(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eh,{type:Eh},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Eh];i!==void 0&&n(!!i),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||Kx()||vm()}}const wD=_D;var d_="@firebase/auth",h_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(t){Dn(new fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(t)},c=new UP(r,s,i,u);return YP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new fn("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(r=>new ED(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jt(d_,h_,xD(t)),Jt(d_,h_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=5*60,SD=Ax("authIdTokenMaxAge")||ID;let f_=null;const CD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SD)return;const s=n==null?void 0:n.token;f_!==s&&(f_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AD(t=pm()){const e=Ms(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QP(t,{popupRedirectResolver:wD,persistence:[k2,_2,hT]}),r=Ax("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=CD(i.toString());p2(n,o,()=>o(n.currentUser)),f2(n,a=>o(a))}}const s=Sx("auth");return s&&XP(n,`http://${s}`),n}function RD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}zP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",RD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");var bD="firebase",ND="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt(bD,ND,"app");var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,_T;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function R(){}R.prototype=T.prototype,C.D=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(b,k,P){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return T.prototype[k].apply(b,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,R){R||(R=0);var b=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)b[k]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(k=0;16>k;++k)b[k]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=C.g[0],R=C.g[1],k=C.g[2];var P=C.g[3],N=T+(P^R&(k^P))+b[0]+3614090360&4294967295;T=R+(N<<7&4294967295|N>>>25),N=P+(k^T&(R^k))+b[1]+3905402710&4294967295,P=T+(N<<12&4294967295|N>>>20),N=k+(R^P&(T^R))+b[2]+606105819&4294967295,k=P+(N<<17&4294967295|N>>>15),N=R+(T^k&(P^T))+b[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=T+(P^R&(k^P))+b[4]+4118548399&4294967295,T=R+(N<<7&4294967295|N>>>25),N=P+(k^T&(R^k))+b[5]+1200080426&4294967295,P=T+(N<<12&4294967295|N>>>20),N=k+(R^P&(T^R))+b[6]+2821735955&4294967295,k=P+(N<<17&4294967295|N>>>15),N=R+(T^k&(P^T))+b[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=T+(P^R&(k^P))+b[8]+1770035416&4294967295,T=R+(N<<7&4294967295|N>>>25),N=P+(k^T&(R^k))+b[9]+2336552879&4294967295,P=T+(N<<12&4294967295|N>>>20),N=k+(R^P&(T^R))+b[10]+4294925233&4294967295,k=P+(N<<17&4294967295|N>>>15),N=R+(T^k&(P^T))+b[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=T+(P^R&(k^P))+b[12]+1804603682&4294967295,T=R+(N<<7&4294967295|N>>>25),N=P+(k^T&(R^k))+b[13]+4254626195&4294967295,P=T+(N<<12&4294967295|N>>>20),N=k+(R^P&(T^R))+b[14]+2792965006&4294967295,k=P+(N<<17&4294967295|N>>>15),N=R+(T^k&(P^T))+b[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=T+(k^P&(R^k))+b[1]+4129170786&4294967295,T=R+(N<<5&4294967295|N>>>27),N=P+(R^k&(T^R))+b[6]+3225465664&4294967295,P=T+(N<<9&4294967295|N>>>23),N=k+(T^R&(P^T))+b[11]+643717713&4294967295,k=P+(N<<14&4294967295|N>>>18),N=R+(P^T&(k^P))+b[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=T+(k^P&(R^k))+b[5]+3593408605&4294967295,T=R+(N<<5&4294967295|N>>>27),N=P+(R^k&(T^R))+b[10]+38016083&4294967295,P=T+(N<<9&4294967295|N>>>23),N=k+(T^R&(P^T))+b[15]+3634488961&4294967295,k=P+(N<<14&4294967295|N>>>18),N=R+(P^T&(k^P))+b[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=T+(k^P&(R^k))+b[9]+568446438&4294967295,T=R+(N<<5&4294967295|N>>>27),N=P+(R^k&(T^R))+b[14]+3275163606&4294967295,P=T+(N<<9&4294967295|N>>>23),N=k+(T^R&(P^T))+b[3]+4107603335&4294967295,k=P+(N<<14&4294967295|N>>>18),N=R+(P^T&(k^P))+b[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=T+(k^P&(R^k))+b[13]+2850285829&4294967295,T=R+(N<<5&4294967295|N>>>27),N=P+(R^k&(T^R))+b[2]+4243563512&4294967295,P=T+(N<<9&4294967295|N>>>23),N=k+(T^R&(P^T))+b[7]+1735328473&4294967295,k=P+(N<<14&4294967295|N>>>18),N=R+(P^T&(k^P))+b[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=T+(R^k^P)+b[5]+4294588738&4294967295,T=R+(N<<4&4294967295|N>>>28),N=P+(T^R^k)+b[8]+2272392833&4294967295,P=T+(N<<11&4294967295|N>>>21),N=k+(P^T^R)+b[11]+1839030562&4294967295,k=P+(N<<16&4294967295|N>>>16),N=R+(k^P^T)+b[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=T+(R^k^P)+b[1]+2763975236&4294967295,T=R+(N<<4&4294967295|N>>>28),N=P+(T^R^k)+b[4]+1272893353&4294967295,P=T+(N<<11&4294967295|N>>>21),N=k+(P^T^R)+b[7]+4139469664&4294967295,k=P+(N<<16&4294967295|N>>>16),N=R+(k^P^T)+b[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=T+(R^k^P)+b[13]+681279174&4294967295,T=R+(N<<4&4294967295|N>>>28),N=P+(T^R^k)+b[0]+3936430074&4294967295,P=T+(N<<11&4294967295|N>>>21),N=k+(P^T^R)+b[3]+3572445317&4294967295,k=P+(N<<16&4294967295|N>>>16),N=R+(k^P^T)+b[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=T+(R^k^P)+b[9]+3654602809&4294967295,T=R+(N<<4&4294967295|N>>>28),N=P+(T^R^k)+b[12]+3873151461&4294967295,P=T+(N<<11&4294967295|N>>>21),N=k+(P^T^R)+b[15]+530742520&4294967295,k=P+(N<<16&4294967295|N>>>16),N=R+(k^P^T)+b[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=T+(k^(R|~P))+b[0]+4096336452&4294967295,T=R+(N<<6&4294967295|N>>>26),N=P+(R^(T|~k))+b[7]+1126891415&4294967295,P=T+(N<<10&4294967295|N>>>22),N=k+(T^(P|~R))+b[14]+2878612391&4294967295,k=P+(N<<15&4294967295|N>>>17),N=R+(P^(k|~T))+b[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=T+(k^(R|~P))+b[12]+1700485571&4294967295,T=R+(N<<6&4294967295|N>>>26),N=P+(R^(T|~k))+b[3]+2399980690&4294967295,P=T+(N<<10&4294967295|N>>>22),N=k+(T^(P|~R))+b[10]+4293915773&4294967295,k=P+(N<<15&4294967295|N>>>17),N=R+(P^(k|~T))+b[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=T+(k^(R|~P))+b[8]+1873313359&4294967295,T=R+(N<<6&4294967295|N>>>26),N=P+(R^(T|~k))+b[15]+4264355552&4294967295,P=T+(N<<10&4294967295|N>>>22),N=k+(T^(P|~R))+b[6]+2734768916&4294967295,k=P+(N<<15&4294967295|N>>>17),N=R+(P^(k|~T))+b[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=T+(k^(R|~P))+b[4]+4149444226&4294967295,T=R+(N<<6&4294967295|N>>>26),N=P+(R^(T|~k))+b[11]+3174756917&4294967295,P=T+(N<<10&4294967295|N>>>22),N=k+(T^(P|~R))+b[2]+718787259&4294967295,k=P+(N<<15&4294967295|N>>>17),N=R+(P^(k|~T))+b[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var R=T-this.blockSize,b=this.B,k=this.h,P=0;P<T;){if(k==0)for(;P<=R;)s(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<T;)if(b[k++]=C.charCodeAt(P++),k==this.blockSize){s(this,b),k=0;break}}else for(;P<T;)if(b[k++]=C[P++],k==this.blockSize){s(this,b),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var R=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=R&255,R/=256;for(this.u(C),C=Array(16),T=R=0;4>T;++T)for(var b=0;32>b;b+=8)C[R++]=this.g[T]>>>b&255;return C};function i(C,T){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=T(C)}function o(C,T){this.h=T;for(var R=[],b=!0,k=C.length-1;0<=k;k--){var P=C[k]|0;b&&P==T||(R[k]=P,b=!1)}this.g=R}var a={};function u(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return A(c(-C));for(var T=[],R=1,b=0;C>=R;b++)T[b]=C/R|0,R*=4294967296;return new o(T,0)}function f(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return A(f(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),b=m,k=0;k<C.length;k+=8){var P=Math.min(8,C.length-k),N=parseInt(C.substring(k,k+P),T);8>P?(P=c(Math.pow(T,P)),b=b.j(P).add(c(N))):(b=b.j(R),b=b.add(c(N)))}return b}var m=u(0),p=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-A(this).m();for(var C=0,T=1,R=0;R<this.g.length;R++){var b=this.i(R);C+=(0<=b?b:4294967296+b)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(x(this))return"-"+A(this).toString(C);for(var T=c(Math.pow(C,6)),R=this,b="";;){var k=D(R,T).g;R=y(R,k.j(T));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=k,_(R))return P+b;for(;6>P.length;)P="0"+P;b=P+b}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=y(this,C),x(C)?-1:_(C)?0:1};function A(C){for(var T=C.g.length,R=[],b=0;b<T;b++)R[b]=~C.g[b];return new o(R,~C.h).add(p)}t.abs=function(){return x(this)?A(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0,k=0;k<=T;k++){var P=b+(this.i(k)&65535)+(C.i(k)&65535),N=(P>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);b=N>>>16,P&=65535,N&=65535,R[k]=N<<16|P}return new o(R,R[R.length-1]&-2147483648?-1:0)};function y(C,T){return C.add(A(T))}t.j=function(C){if(_(this)||_(C))return m;if(x(this))return x(C)?A(this).j(A(C)):A(A(this).j(C));if(x(C))return A(this.j(A(C)));if(0>this.l(w)&&0>C.l(w))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,R=[],b=0;b<2*T;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<C.g.length;k++){var P=this.i(b)>>>16,N=this.i(b)&65535,He=C.i(k)>>>16,$t=C.i(k)&65535;R[2*b+2*k]+=N*$t,v(R,2*b+2*k),R[2*b+2*k+1]+=P*$t,v(R,2*b+2*k+1),R[2*b+2*k+1]+=N*He,v(R,2*b+2*k+1),R[2*b+2*k+2]+=P*He,v(R,2*b+2*k+2)}for(b=0;b<T;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=T;b<2*T;b++)R[b]=0;return new o(R,0)};function v(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function D(C,T){if(_(T))throw Error("division by zero");if(_(C))return new S(m,m);if(x(C))return T=D(A(C),T),new S(A(T.g),A(T.h));if(x(T))return T=D(C,A(T)),new S(A(T.g),T.h);if(30<C.g.length){if(x(C)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var R=p,b=T;0>=b.l(C);)R=L(R),b=L(b);var k=F(R,1),P=F(b,1);for(b=F(b,2),R=F(R,2);!_(b);){var N=P.add(b);0>=N.l(C)&&(k=k.add(R),P=N),b=F(b,1),R=F(R,1)}return T=y(C,k.j(T)),new S(k,T)}for(k=m;0<=C.l(T);){for(R=Math.max(1,Math.floor(C.m()/T.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),P=c(R),N=P.j(T);x(N)||0<N.l(C);)R-=b,P=c(R),N=P.j(T);_(P)&&(P=p),k=k.add(P),C=y(C,N)}return new S(k,C)}t.A=function(C){return D(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0;b<T;b++)R[b]=this.i(b)&C.i(b);return new o(R,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0;b<T;b++)R[b]=this.i(b)|C.i(b);return new o(R,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),R=[],b=0;b<T;b++)R[b]=this.i(b)^C.i(b);return new o(R,this.h^C.h)};function L(C){for(var T=C.g.length+1,R=[],b=0;b<T;b++)R[b]=C.i(b)<<1|C.i(b-1)>>>31;return new o(R,C.h)}function F(C,T){var R=T>>5;T%=32;for(var b=C.g.length-R,k=[],P=0;P<b;P++)k[P]=0<T?C.i(P+R)>>>T|C.i(P+R+1)<<32-T:C.i(P+R);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_T=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,zr=o}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,Po,ET,vu,$f,xT,TT,IT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var O=l[I];if(!(O in g))break e;g=g[O]}l=l[l.length-1],I=g[l],h=h(I),h!=I&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var g=0,I=!1,O={next:function(){if(!I&&g<l.length){var j=g++;return{value:h(j,l[j]),done:!1}}return I=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,g){return l.call.apply(l.bind,arguments)}function m(l,h,g){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,I),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function w(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function _(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(I,O,j){for(var z=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)z[fe-2]=arguments[fe];return h.prototype[O].apply(I,z)}}function x(l){const h=l.length;if(0<h){const g=Array(h);for(let I=0;I<h;I++)g[I]=l[I];return g}return[]}function A(l,h){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(u(I)){const O=l.length||0,j=I.length||0;l.length=O+j;for(let z=0;z<j;z++)l[O+z]=I[z]}else l.push(I)}}class y{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var L=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function F(l,h,g){for(const I in l)h.call(g,l[I],I,l)}function C(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function T(l){const h={};for(const g in l)h[g]=l[g];return h}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,h){let g,I;for(let O=1;O<arguments.length;O++){I=arguments[O];for(g in I)l[g]=I[g];for(let j=0;j<R.length;j++)g=R[j],Object.prototype.hasOwnProperty.call(I,g)&&(l[g]=I[g])}}function k(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function P(l){a.setTimeout(()=>{throw l},0)}function N(){var l=G;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class He{constructor(){this.h=this.g=null}add(h,g){const I=$t.get();I.set(h,g),this.h?this.h.next=I:this.g=I,this.h=I}}var $t=new y(()=>new qe,l=>l.reset());class qe{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,B=!1,G=new He,X=()=>{const l=a.Promise.resolve(void 0);Wt=()=>{l.then(oe)}};var oe=()=>{for(var l;l=N();){try{l.h.call(l.g)}catch(g){P(g)}var h=$t;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}B=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Mn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function Fn(l,h){if(Ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(L){e:{try{D(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Un[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fn.aa.h.call(this)}}_(Fn,Ne);var Un={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var zn="closure_listenable_"+(1e6*Math.random()|0),tC=0;function nC(l,h,g,I,O){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!I,this.ha=O,this.key=++tC,this.da=this.fa=!1}function sl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function il(l){this.src=l,this.g={},this.h=0}il.prototype.add=function(l,h,g,I,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var z=_d(l,h,I,O);return-1<z?(h=l[z],g||(h.fa=!1)):(h=new nC(h,this.src,j,!!I,O),h.fa=g,l.push(h)),h};function vd(l,h){var g=h.type;if(g in l.g){var I=l.g[g],O=Array.prototype.indexOf.call(I,h,void 0),j;(j=0<=O)&&Array.prototype.splice.call(I,O,1),j&&(sl(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function _d(l,h,g,I){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==h&&j.capture==!!g&&j.ha==I)return O}return-1}var wd="closure_lm_"+(1e6*Math.random()|0),Ed={};function Tg(l,h,g,I,O){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Tg(l,h[j],g,I,O);return null}return g=Cg(g),l&&l[zn]?l.K(h,g,c(I)?!!I.capture:!1,O):rC(l,h,g,!1,I,O)}function rC(l,h,g,I,O,j){if(!h)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,fe=Td(l);if(fe||(l[wd]=fe=new il(l)),g=fe.add(h,g,I,z,j),g.proxy)return g;if(I=sC(),g.proxy=I,I.src=l,I.listener=g,l.addEventListener)Mn||(O=z),O===void 0&&(O=!1),l.addEventListener(h.toString(),I,O);else if(l.attachEvent)l.attachEvent(Sg(h.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function sC(){function l(g){return h.call(l.src,l.listener,g)}const h=iC;return l}function Ig(l,h,g,I,O){if(Array.isArray(h))for(var j=0;j<h.length;j++)Ig(l,h[j],g,I,O);else I=c(I)?!!I.capture:!!I,g=Cg(g),l&&l[zn]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],g=_d(j,g,I,O),-1<g&&(sl(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=Td(l))&&(h=l.g[h.toString()],l=-1,h&&(l=_d(h,g,I,O)),(g=-1<l?h[l]:null)&&xd(g))}function xd(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[zn])vd(h.i,l);else{var g=l.type,I=l.proxy;h.removeEventListener?h.removeEventListener(g,I,l.capture):h.detachEvent?h.detachEvent(Sg(g),I):h.addListener&&h.removeListener&&h.removeListener(I),(g=Td(h))?(vd(g,l),g.h==0&&(g.src=null,h[wd]=null)):sl(l)}}}function Sg(l){return l in Ed?Ed[l]:Ed[l]="on"+l}function iC(l,h){if(l.da)l=!0;else{h=new Fn(h,this);var g=l.listener,I=l.ha||l.src;l.fa&&xd(l),l=g.call(I,h)}return l}function Td(l){return l=l[wd],l instanceof il?l:null}var Id="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cg(l){return typeof l=="function"?l:(l[Id]||(l[Id]=function(h){return l.handleEvent(h)}),l[Id])}function st(){he.call(this),this.i=new il(this),this.M=this,this.F=null}_(st,he),st.prototype[zn]=!0,st.prototype.removeEventListener=function(l,h,g,I){Ig(this,l,h,g,I)};function yt(l,h){var g,I=l.F;if(I)for(g=[];I;I=I.F)g.push(I);if(l=l.M,I=h.type||h,typeof h=="string")h=new Ne(h,l);else if(h instanceof Ne)h.target=h.target||l;else{var O=h;h=new Ne(I,l),b(h,O)}if(O=!0,g)for(var j=g.length-1;0<=j;j--){var z=h.g=g[j];O=ol(z,I,!0,h)&&O}if(z=h.g=l,O=ol(z,I,!0,h)&&O,O=ol(z,I,!1,h)&&O,g)for(j=0;j<g.length;j++)z=h.g=g[j],O=ol(z,I,!1,h)&&O}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],I=0;I<g.length;I++)sl(g[I]);delete l.g[h],l.h--}}this.F=null},st.prototype.K=function(l,h,g,I){return this.i.add(String(l),h,!1,g,I)},st.prototype.L=function(l,h,g,I){return this.i.add(String(l),h,!0,g,I)};function ol(l,h,g,I){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,j=0;j<h.length;++j){var z=h[j];if(z&&!z.da&&z.capture==g){var fe=z.listener,Ye=z.ha||z.src;z.fa&&vd(l.i,z),O=fe.call(Ye,I)!==!1&&O}}return O&&!I.defaultPrevented}function Ag(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Rg(l){l.g=Ag(()=>{l.g=null,l.i&&(l.i=!1,Rg(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class oC extends he{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Rg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(l){he.call(this),this.h=l,this.g={}}_(to,he);var bg=[];function Ng(l){F(l.g,function(h,g){this.g.hasOwnProperty(g)&&xd(h)},l),l.g={}}to.prototype.N=function(){to.aa.N.call(this),Ng(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sd=a.JSON.stringify,aC=a.JSON.parse,lC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Cd(){}Cd.prototype.h=null;function kg(l){return l.h||(l.h=l.i())}function Pg(){}var no={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ad(){Ne.call(this,"d")}_(Ad,Ne);function Rd(){Ne.call(this,"c")}_(Rd,Ne);var as={},Dg=null;function al(){return Dg=Dg||new st}as.La="serverreachability";function Og(l){Ne.call(this,as.La,l)}_(Og,Ne);function ro(l){const h=al();yt(h,new Og(h))}as.STAT_EVENT="statevent";function jg(l,h){Ne.call(this,as.STAT_EVENT,l),this.stat=h}_(jg,Ne);function vt(l){const h=al();yt(h,new jg(h,l))}as.Ma="timingevent";function Lg(l,h){Ne.call(this,as.Ma,l),this.size=h}_(Lg,Ne);function so(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function uC(l,h,g,I,O,j){l.info(function(){if(l.g)if(j)for(var z="",fe=j.split("&"),Ye=0;Ye<fe.length;Ye++){var le=fe[Ye].split("=");if(1<le.length){var it=le[0];le=le[1];var ot=it.split("_");z=2<=ot.length&&ot[1]=="type"?z+(it+"="+le+"&"):z+(it+"=redacted&")}}else z=null;else z=j;return"XMLHTTP REQ ("+I+") [attempt "+O+"]: "+h+`
`+g+`
`+z})}function cC(l,h,g,I,O,j,z){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+O+"]: "+h+`
`+g+`
`+j+" "+z})}function Bs(l,h,g,I){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+hC(l,g)+(I?" "+I:"")})}function dC(l,h){l.info(function(){return"TIMEOUT: "+h})}io.prototype.info=function(){};function hC(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var I=g[l];if(!(2>I.length)){var O=I[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Sd(g)}catch{return h}}var ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bd;function ul(){}_(ul,Cd),ul.prototype.g=function(){return new XMLHttpRequest},ul.prototype.i=function(){return{}},bd=new ul;function dr(l,h,g,I){this.j=l,this.i=h,this.l=g,this.R=I||1,this.U=new to(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mg}function Mg(){this.i=null,this.g="",this.h=!1}var Fg={},Nd={};function kd(l,h,g){l.L=1,l.v=fl(Bn(h)),l.m=g,l.P=!0,Ug(l,null)}function Ug(l,h){l.F=Date.now(),cl(l),l.A=Bn(l.v);var g=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),ey(g.i,"t",I),l.C=0,g=l.j.J,l.h=new Mg,l.g=vy(l.j,g?h:null,!l.m),0<l.O&&(l.M=new oC(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,I=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(bg[0]=O.toString()),O=bg);for(var j=0;j<O.length;j++){var z=Tg(g,O[j],I||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ro(),uC(l.i,l.u,l.A,l.l,l.R,l.m)}dr.prototype.ca=function(l){l=l.target;const h=this.M;h&&$n(l)==3?h.j():this.Y(l)},dr.prototype.Y=function(l){try{if(l==this.g)e:{const ot=$n(this.g);var h=this.g.Ba();const Hs=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||ay(this.g)))){this.J||ot!=4||h==7||(h==8||0>=Hs?ro(3):ro(2)),Pd(this);var g=this.g.Z();this.X=g;t:if(zg(this)){var I=ay(this.g);l="";var O=I.length,j=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),oo(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(I[h],{stream:!(j&&h==O-1)});I.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,cC(this.i,this.u,this.A,this.l,this.R,ot,g),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,Ye=this.g;if((fe=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(fe)){var le=fe;break t}}le=null}if(g=le)Bs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dd(this,g);else{this.o=!1,this.s=3,vt(12),ls(this),oo(this);break e}}if(this.P){g=!0;let nn;for(;!this.J&&this.C<z.length;)if(nn=fC(this,z),nn==Nd){ot==4&&(this.s=4,vt(14),g=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Fg){this.s=4,vt(15),Bs(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else Bs(this.i,this.l,nn,null),Dd(this,nn);if(zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||z.length!=0||this.h.h||(this.s=1,vt(16),g=!1),this.o=this.o&&g,!g)Bs(this.i,this.l,z,"[Invalid Chunked Response]"),ls(this),oo(this);else if(0<z.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Fd(it),it.M=!0,vt(11))}}else Bs(this.i,this.l,z,null),Dd(this,z);ot==4&&ls(this),this.o&&!this.J&&(ot==4?py(this.j,this):(this.o=!1,cl(this)))}else NC(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),ls(this),oo(this)}}}catch{}finally{}};function zg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fC(l,h){var g=l.C,I=h.indexOf(`
`,g);return I==-1?Nd:(g=Number(h.substring(g,I)),isNaN(g)?Fg:(I+=1,I+g>h.length?Nd:(h=h.slice(I,I+g),l.C=I+g,h)))}dr.prototype.cancel=function(){this.J=!0,ls(this)};function cl(l){l.S=Date.now()+l.I,Bg(l,l.I)}function Bg(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=so(p(l.ba,l),h)}function Pd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}dr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(dC(this.i,this.A),this.L!=2&&(ro(),vt(17)),ls(this),this.s=2,oo(this)):Bg(this,this.S-l)};function oo(l){l.j.G==0||l.J||py(l.j,l)}function ls(l){Pd(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Ng(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Dd(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||Od(g.h,l))){if(!l.K&&Od(g.h,l)&&g.G==3){try{var I=g.Da.g.parse(h)}catch{I=null}if(Array.isArray(I)&&I.length==3){var O=I;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)_l(g),yl(g);else break e;Md(g),vt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=so(p(g.Za,g),6e3));if(1>=Hg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else cs(g,11)}else if((l.K||g.g==l)&&_l(g),!v(h))for(O=g.Da.g.parse(h),h=0;h<O.length;h++){let le=O[h];if(g.T=le[0],le=le[1],g.G==2)if(le[0]=="c"){g.K=le[1],g.ia=le[2];const it=le[3];it!=null&&(g.la=it,g.j.info("VER="+g.la));const ot=le[4];ot!=null&&(g.Aa=ot,g.j.info("SVER="+g.Aa));const Hs=le[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(I=1.5*Hs,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const nn=l.g;if(nn){const El=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(El){var j=I.h;j.g||El.indexOf("spdy")==-1&&El.indexOf("quic")==-1&&El.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(jd(j,j.h),j.h=null))}if(I.D){const Ud=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ud&&(I.ya=Ud,ge(I.I,I.D,Ud))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var z=l;if(I.qa=yy(I,I.J?I.ia:null,I.W),z.K){qg(I.h,z);var fe=z,Ye=I.L;Ye&&(fe.I=Ye),fe.B&&(Pd(fe),cl(fe)),I.g=z}else hy(I);0<g.i.length&&vl(g)}else le[0]!="stop"&&le[0]!="close"||cs(g,7);else g.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?cs(g,7):Vd(g):le[0]!="noop"&&g.l&&g.l.ta(le),g.v=0)}}ro(4)}catch{}}var pC=class{constructor(l,h){this.g=l,this.map=h}};function $g(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Hg(l){return l.h?1:l.g?l.g.size:0}function Od(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function jd(l,h){l.g?l.g.add(h):l.h=h}function qg(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}$g.prototype.cancel=function(){if(this.i=Gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Gg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return x(l.i)}function mC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],g=l.length,I=0;I<g;I++)h.push(l[I]);return h}h=[],g=0;for(I in l)h[g++]=l[I];return h}function gC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const I in l)h[g++]=I;return h}}}function Kg(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=gC(l),I=mC(l),O=I.length,j=0;j<O;j++)h.call(void 0,I[j],g&&g[j],l)}var Qg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yC(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var I=l[g].indexOf("="),O=null;if(0<=I){var j=l[g].substring(0,I);O=l[g].substring(I+1)}else j=l[g];h(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function us(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof us){this.h=l.h,dl(this,l.j),this.o=l.o,this.g=l.g,hl(this,l.s),this.l=l.l;var h=l.i,g=new uo;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),Yg(this,g),this.m=l.m}else l&&(h=String(l).match(Qg))?(this.h=!1,dl(this,h[1]||"",!0),this.o=ao(h[2]||""),this.g=ao(h[3]||"",!0),hl(this,h[4]),this.l=ao(h[5]||"",!0),Yg(this,h[6]||"",!0),this.m=ao(h[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}us.prototype.toString=function(){var l=[],h=this.j;h&&l.push(lo(h,Xg,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(lo(h,Xg,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(lo(g,g.charAt(0)=="/"?wC:_C,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",lo(g,xC)),l.join("")};function Bn(l){return new us(l)}function dl(l,h,g){l.j=g?ao(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function hl(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Yg(l,h,g){h instanceof uo?(l.i=h,TC(l.i,l.h)):(g||(h=lo(h,EC)),l.i=new uo(h,l.h))}function ge(l,h,g){l.i.set(h,g)}function fl(l){return ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ao(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function lo(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,vC),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function vC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Xg=/[#\/\?@]/g,_C=/[#\?:]/g,wC=/[#\?]/g,EC=/[#\?@]/g,xC=/#/g;function uo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function hr(l){l.g||(l.g=new Map,l.h=0,l.i&&yC(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=uo.prototype,t.add=function(l,h){hr(this),this.i=null,l=$s(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Jg(l,h){hr(l),h=$s(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Zg(l,h){return hr(l),h=$s(l,h),l.g.has(h)}t.forEach=function(l,h){hr(this),this.g.forEach(function(g,I){g.forEach(function(O){l.call(h,O,I,this)},this)},this)},t.na=function(){hr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let I=0;I<h.length;I++){const O=l[I];for(let j=0;j<O.length;j++)g.push(h[I])}return g},t.V=function(l){hr(this);let h=[];if(typeof l=="string")Zg(this,l)&&(h=h.concat(this.g.get($s(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return hr(this),this.i=null,l=$s(this,l),Zg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function ey(l,h,g){Jg(l,h),0<g.length&&(l.i=null,l.g.set($s(l,h),x(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var I=h[g];const j=encodeURIComponent(String(I)),z=this.V(I);for(I=0;I<z.length;I++){var O=j;z[I]!==""&&(O+="="+encodeURIComponent(String(z[I]))),l.push(O)}}return this.i=l.join("&")};function $s(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function TC(l,h){h&&!l.j&&(hr(l),l.i=null,l.g.forEach(function(g,I){var O=I.toLowerCase();I!=O&&(Jg(this,I),ey(this,O,g))},l)),l.j=h}function IC(l,h){const g=new io;if(a.Image){const I=new Image;I.onload=w(fr,g,"TestLoadImage: loaded",!0,h,I),I.onerror=w(fr,g,"TestLoadImage: error",!1,h,I),I.onabort=w(fr,g,"TestLoadImage: abort",!1,h,I),I.ontimeout=w(fr,g,"TestLoadImage: timeout",!1,h,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else h(!1)}function SC(l,h){const g=new io,I=new AbortController,O=setTimeout(()=>{I.abort(),fr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:I.signal}).then(j=>{clearTimeout(O),j.ok?fr(g,"TestPingServer: ok",!0,h):fr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),fr(g,"TestPingServer: error",!1,h)})}function fr(l,h,g,I,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),I(g)}catch{}}function CC(){this.g=new lC}function AC(l,h,g){const I=g||"";try{Kg(l,function(O,j){let z=O;c(O)&&(z=Sd(O)),h.push(I+j+"="+encodeURIComponent(z))})}catch(O){throw h.push(I+"type="+encodeURIComponent("_badmap")),O}}function pl(l){this.l=l.Ub||null,this.j=l.eb||!1}_(pl,Cd),pl.prototype.g=function(){return new ml(this.l,this.j)},pl.prototype.i=function(l){return function(){return l}}({});function ml(l,h){st.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ml,st),t=ml.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ho(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ty(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ty(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?co(this):ho(this),this.readyState==3&&ty(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,co(this))},t.Qa=function(l){this.g&&(this.response=l,co(this))},t.ga=function(){this.g&&co(this)};function co(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ho(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function ho(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ny(l){let h="";return F(l,function(g,I){h+=I,h+=":",h+=g,h+=`\r
`}),h}function Ld(l,h,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=ny(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ge(l,h,g))}function Ce(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ce,st);var RC=/^https?$/i,bC=["POST","PUT"];t=Ce.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bd.g(),this.v=this.o?kg(this.o):kg(bd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){ry(this,j);return}if(l=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var O in I)g.set(O,I[O]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const j of I.keys())g.set(j,I.get(j));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bC,h,void 0))||I||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of g)this.g.setRequestHeader(j,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){ry(this,j)}};function ry(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,sy(l),gl(l)}function sy(l){l.A||(l.A=!0,yt(l,"complete"),yt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,yt(this,"complete"),yt(this,"abort"),gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gl(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iy(this):this.bb())},t.bb=function(){iy(this)};function iy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||$n(l)!=4||l.Z()!=2)){if(l.u&&$n(l)==4)Ag(l.Ea,0,l);else if(yt(l,"readystatechange"),$n(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var I;if(I=z===0){var O=String(l.D).match(Qg)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),I=!RC.test(O?O.toLowerCase():"")}g=I}if(g)yt(l,"complete"),yt(l,"success");else{l.m=6;try{var j=2<$n(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",sy(l)}}finally{gl(l)}}}}function gl(l,h){if(l.g){oy(l);const g=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||yt(l,"ready");try{g.onreadystatechange=I}catch{}}}function oy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function $n(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),aC(h)}};function ay(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function NC(l){const h={};l=(l.g&&2<=$n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(v(l[I]))continue;var g=k(l[I]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=h[O]||[];h[O]=j,j.push(g)}C(h,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function ly(l){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,l),this.cb=fo("retryDelaySeedMs",1e4,l),this.Wa=fo("forwardChannelMaxRetries",2,l),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $g(l&&l.concurrentRequestLimit),this.Da=new CC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ly.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,I){vt(0),this.W=l,this.H=h||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=yy(this,null,this.W),vl(this)};function Vd(l){if(uy(l),l.G==3){var h=l.U++,g=Bn(l.I);if(ge(g,"SID",l.K),ge(g,"RID",h),ge(g,"TYPE","terminate"),po(l,g),h=new dr(l,l.j,h),h.L=2,h.v=fl(Bn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=vy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),cl(h)}gy(l)}function yl(l){l.g&&(Fd(l),l.g.cancel(),l.g=null)}function uy(l){yl(l),l.u&&(a.clearTimeout(l.u),l.u=null),_l(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function vl(l){if(!Wg(l.h)&&!l.s){l.s=!0;var h=l.Ga;Wt||X(),B||(Wt(),B=!0),G.add(h,l),l.B=0}}function kC(l,h){return Hg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=so(p(l.Ga,l,h),my(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new dr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),b(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(h+=I,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=dy(this,O,h),g=Bn(this.I),ge(g,"RID",l),ge(g,"CVER",22),this.D&&ge(g,"X-HTTP-Session-Id",this.D),po(this,g),j&&(this.O?h="headers="+encodeURIComponent(String(ny(j)))+"&"+h:this.m&&Ld(g,this.m,j)),jd(this.h,O),this.Ua&&ge(g,"TYPE","init"),this.P?(ge(g,"$req",h),ge(g,"SID","null"),O.T=!0,kd(O,g,null)):kd(O,g,h),this.G=2}}else this.G==3&&(l?cy(this,l):this.i.length==0||Wg(this.h)||cy(this))};function cy(l,h){var g;h?g=h.l:g=l.U++;const I=Bn(l.I);ge(I,"SID",l.K),ge(I,"RID",g),ge(I,"AID",l.T),po(l,I),l.m&&l.o&&Ld(I,l.m,l.o),g=new dr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=dy(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),jd(l.h,g),kd(g,I,h)}function po(l,h){l.H&&F(l.H,function(g,I){ge(h,I,g)}),l.l&&Kg({},function(g,I){ge(h,I,g)})}function dy(l,h,g){g=Math.min(l.i.length,g);var I=l.l?p(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const z=["count="+g];j==-1?0<g?(j=O[0].g,z.push("ofs="+j)):j=0:z.push("ofs="+j);let fe=!0;for(let Ye=0;Ye<g;Ye++){let le=O[Ye].g;const it=O[Ye].map;if(le-=j,0>le)j=Math.max(0,O[Ye].g-100),fe=!1;else try{AC(it,z,"req"+le+"_")}catch{I&&I(it)}}if(fe){I=z.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,I}function hy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Wt||X(),B||(Wt(),B=!0),G.add(h,l),l.v=0}}function Md(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=so(p(l.Fa,l),my(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,fy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=so(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),yl(this),fy(this))};function Fd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fy(l){l.g=new dr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Bn(l.qa);ge(h,"RID","rpc"),ge(h,"SID",l.K),ge(h,"AID",l.T),ge(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ge(h,"TO",l.ja),ge(h,"TYPE","xmlhttp"),po(l,h),l.m&&l.o&&Ld(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=fl(Bn(h)),g.m=null,g.P=!0,Ug(g,l)}t.Za=function(){this.C!=null&&(this.C=null,yl(this),Md(this),vt(19))};function _l(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function py(l,h){var g=null;if(l.g==h){_l(l),Fd(l),l.g=null;var I=2}else if(Od(l.h,h))g=h.D,qg(l.h,h),I=1;else return;if(l.G!=0){if(h.o)if(I==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;I=al(),yt(I,new Lg(I,g)),vl(l)}else hy(l);else if(O=h.s,O==3||O==0&&0<h.X||!(I==1&&kC(l,h)||I==2&&Md(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),O){case 1:cs(l,5);break;case 4:cs(l,10);break;case 3:cs(l,6);break;default:cs(l,2)}}}function my(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function cs(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),I=l.Xa;const O=!I;I=new us(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dl(I,"https"),fl(I),O?IC(I.toString(),g):SC(I.toString(),g)}else vt(2);l.G=0,l.l&&l.l.sa(h),gy(l),uy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function gy(l){if(l.G=0,l.ka=[],l.l){const h=Gg(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function yy(l,h,g){var I=g instanceof us?Bn(g):new us(g);if(I.g!="")h&&(I.g=h+"."+I.g),hl(I,I.s);else{var O=a.location;I=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var j=new us(null);I&&dl(j,I),h&&(j.g=h),O&&hl(j,O),g&&(j.l=g),I=j}return g=l.D,h=l.ya,g&&h&&ge(I,g,h),ge(I,"VER",l.la),po(l,I),I}function vy(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ce(new pl({eb:g})):new Ce(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _y(){}t=_y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wl(){}wl.prototype.g=function(l,h){return new kt(l,h)};function kt(l,h){st.call(this),this.g=new ly(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!v(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ws(this)}_(kt,st),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Vd(this.g)},kt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Sd(l),l=g);h.i.push(new pC(h.Ya++,l)),h.G==3&&vl(h)},kt.prototype.N=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,kt.aa.N.call(this)};function wy(l){Ad.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(wy,Ad);function Ey(){Rd.call(this),this.status=1}_(Ey,Rd);function Ws(l){this.g=l}_(Ws,_y),Ws.prototype.ua=function(){yt(this.g,"a")},Ws.prototype.ta=function(l){yt(this.g,new wy(l))},Ws.prototype.sa=function(l){yt(this.g,new Ey)},Ws.prototype.ra=function(){yt(this.g,"b")},wl.prototype.createWebChannel=wl.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,IT=function(){return new wl},TT=function(){return al()},xT=as,$f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ll.NO_ERROR=0,ll.TIMEOUT=8,ll.HTTP_ERROR=6,vu=ll,Vg.COMPLETE="complete",ET=Vg,Pg.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",st.prototype.listen=st.prototype.K,Po=Pg,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,wT=Ce}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",g_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new $c("@firebase/firestore");function Xs(){return bs.logLevel}function W(t,...e){if(bs.logLevel<=ne.DEBUG){const n=e.map(Tm);bs.debug(`Firestore (${Qi}): ${t}`,...n)}}function lr(t,...e){if(bs.logLevel<=ne.ERROR){const n=e.map(Tm);bs.error(`Firestore (${Qi}): ${t}`,...n)}}function Oi(t,...e){if(bs.logLevel<=ne.WARN){const n=e.map(Tm);bs.warn(`Firestore (${Qi}): ${t}`,...n)}}function Tm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ST(t,r,n)}function ST(t,e,n){let r=`FIRESTORE (${Qi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw lr(r),new Error(r)}function ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ST(e,s,r)}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class PD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DD{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ce(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new er;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new er,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new CT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class OD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ce(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=VD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Wf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return xh(s)===xh(i)?re(s,i):xh(s)?1:-1}return re(t.length,e.length)}const MD=55296,FD=57343;function xh(t){const e=t.charCodeAt(0);return e>=MD&&e<=FD}function ji(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class wn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=wn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return re(e.length,n.length)}static compareSegments(e,n){const r=wn.isNumericId(e),s=wn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?wn.extractNumericId(e).compare(wn.extractNumericId(n)):Wf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class pe extends wn{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends wn{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Ze([v_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new $(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new $(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(pe.fromString(e))}static fromName(e){return new q(pe.fromString(e).popFirst(5))}static empty(){return new q(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e,n){if(!n)throw new $(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zD(t,e,n,r){if(e===!0&&r===!0)throw new $(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function __(t){if(!q.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w_(t){if(q.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gc(t);throw new $(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ka(t,e){if(!RT(t))throw new $(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new $(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,x_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*x_);return new ue(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E_)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ka(e,ue._jsonSchema))return new ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Le("string",ue._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(e){return new Y(e)}static min(){return new Y(new ue(0,0))}static max(){return new Y(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=-1;function BD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Y.fromTimestamp(r===1e9?new ue(n+1,0):new ue(n,r));return new Gr(s,q.empty(),e)}function $D(t){return new Gr(t.readTime,t.key,Ia)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(Y.min(),q.empty(),Ia)}static max(){return new Gr(Y.max(),q.empty(),Ia)}}function WD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yi(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==HD)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function GD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function Qc(t){return t==null}function oc(t){return t===0&&1/t==-1/0}function KD(t){return typeof t=="number"&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="";function QD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=T_(e)),e=YD(t.get(n),e);return T_(e)}function YD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bT:n+="";break;default:n+=i}}return n}function T_(t){return t+bT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bl(this.root,e,this.comparator,!0)}}class Bl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new $e(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kT("Invalid base64 string: "+i):i}}(e);return new rt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const XD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(ce(!!t,39018),typeof t=="string"){let e=0;const n=XD.exec(t);if(ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",DT="__type__",OT="__previous_value__",jT="__local_write_time__";function Cm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DT])==null?void 0:r.stringValue)===PT}function Yc(t){const e=t.mapValue.fields[OT];return Cm(e)?Yc(e):e}function Sa(t){const e=Kr(t.mapValue.fields[jT].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,s,i,o,a,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const ac="(default)";class Ca{constructor(e,n){this.projectId=e,this.database=n||ac}static empty(){return new Ca("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__type__",ZD="__max__",$l={mapValue:{}},VT="__vector__",lc="value";function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cm(t)?4:t4(t)?9007199254740991:e4(t)?10:11:Q(28295,{value:t})}function On(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sa(t).isEqual(Sa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kr(s.timestampValue),a=Kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Qr(s.bytesValue).isEqual(Qr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ke(s.geoPointValue.latitude)===ke(i.geoPointValue.latitude)&&ke(s.geoPointValue.longitude)===ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ke(s.integerValue)===ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ke(s.doubleValue),a=ke(i.doubleValue);return o===a?oc(o)===oc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ji(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(I_(o)!==I_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!On(o[u],a[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Aa(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function Li(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ke(i.integerValue||i.doubleValue),u=ke(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return C_(t.timestampValue,e.timestampValue);case 4:return C_(Sa(t),Sa(e));case 5:return Wf(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Qr(i),u=Qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=re(a[c],u[c]);if(f!==0)return f}return re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=re(ke(i.latitude),ke(o.latitude));return a!==0?a:re(ke(i.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return A_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,w,_,x;const a=i.fields||{},u=o.fields||{},c=(p=a[lc])==null?void 0:p.arrayValue,f=(w=u[lc])==null?void 0:w.arrayValue,m=re(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return m!==0?m:A_(c,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===$l.mapValue&&o===$l.mapValue)return 0;if(i===$l.mapValue)return 1;if(o===$l.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=Wf(u[m],f[m]);if(p!==0)return p;const w=Li(a[u[m]],c[f[m]]);if(w!==0)return w}return re(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function C_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Kr(t),r=Kr(e),s=re(n.seconds,r.seconds);return s!==0?s:re(n.nanos,r.nanos)}function A_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Li(n[s],r[s]);if(i)return i}return re(n.length,r.length)}function Vi(t){return Hf(t)}function Hf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Hf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Hf(n.fields[o])}`;return s+"}"}(t.mapValue):Q(61005,{value:t})}function _u(t){switch(Yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(t);return e?16+_u(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+_u(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ss(r.fields,(i,o)=>{s+=i.length+_u(o)}),s}(t.mapValue);default:throw Q(13486,{value:t})}}function R_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qf(t){return!!t&&"integerValue"in t}function Am(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wu(t){return!!t&&"mapValue"in t}function e4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LT])==null?void 0:r.stringValue)===VT}function Yo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(t.arrayValue.values[n]);return e}return{...t}}function t4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new St(Yo(this.value))}}function MT(t){const e=[];return ss(t.fields,(n,r)=>{const s=new Ze([n]);if(wu(r)){const i=MT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,Y.min(),Y.min(),Y.min(),St.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,Y.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,Y.min(),Y.min(),St.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,Y.min(),Y.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.position=e,this.inclusive=n}}function k_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Li(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function P_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function n4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class je extends FT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s4(e,n,r):n==="array-contains"?new a4(e,r):n==="in"?new l4(e,r):n==="not-in"?new u4(e,r):n==="array-contains-any"?new c4(e,r):new je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i4(e,r):new o4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Li(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Li(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mn(e,n)}matches(e){return UT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UT(t){return t.op==="and"}function zT(t){return r4(t)&&UT(t)}function r4(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Gf(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+Vi(t.value);if(zT(t))return t.filters.map(e=>Gf(e)).join(",");{const e=t.filters.map(n=>Gf(n)).join(",");return`${t.op}(${e})`}}function BT(t,e){return t instanceof je?function(r,s){return s instanceof je&&r.op===s.op&&r.field.isEqual(s.field)&&On(r.value,s.value)}(t,e):t instanceof mn?function(r,s){return s instanceof mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&BT(o,s.filters[a]),!0):!1}(t,e):void Q(19439)}function $T(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${Vi(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(t):"Filter"}class s4 extends je{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class i4 extends je{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o4 extends je{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class a4 extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Am(n)&&Aa(n.arrayValue,this.value)}}class l4 extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Aa(this.value.arrayValue,n)}}class u4 extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Aa(this.value.arrayValue,n)}}class c4 extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Aa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function D_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new d4(t,e,n,r,s,i,o)}function Rm(t){const e=J(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vi(r)).join(",")),e.Te=n}return e.Te}function bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P_(t.startAt,e.startAt)&&P_(t.endAt,e.endAt)}function Kf(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h4(t,e,n,r,s,i,o,a){return new Ji(t,e,n,r,s,i,o,a)}function Nm(t){return new Ji(t)}function O_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HT(t){return t.collectionGroup!==null}function Xo(t){const e=J(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $e(Ze.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ra(i,r))}),n.has(Ze.keyField().canonicalString())||e.Ie.push(new Ra(Ze.keyField(),r))}return e.Ie}function An(t){const e=J(t);return e.Ee||(e.Ee=f4(e,Xo(t))),e.Ee}function f4(t,e){if(t.limitType==="F")return D_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ra(s.field,i)});const n=t.endAt?new uc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uc(t.startAt.position,t.startAt.inclusive):null;return D_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qf(t,e){const n=t.filters.concat([e]);return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cc(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xc(t,e){return bm(An(t),An(e))&&t.limitType===e.limitType}function qT(t){return`${Rm(An(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$T(s)).join(", ")}]`),Qc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Vi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Vi(s)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function Jc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=k_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Xo(r),s)||r.endAt&&!function(o,a,u){const c=k_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Xo(r),s))}(t,e)}function p4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GT(t){return(e,n)=>{let r=!1;for(const s of Xo(t)){const i=m4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function m4(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Li(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Se(q.comparator);function ur(){return g4}const KT=new Se(q.comparator);function Do(...t){let e=KT;for(const n of t)e=e.insert(n.key,n);return e}function QT(t){let e=KT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ys(){return Jo()}function YT(){return Jo()}function Jo(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const y4=new Se(q.comparator),v4=new $e(q.comparator);function se(...t){let e=v4;for(const n of t)e=e.add(n);return e}const _4=new $e(re);function w4(){return _4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function XT(t){return{integerValue:""+t}}function E4(t,e){return KD(e)?XT(e):km(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof dc?function(s,i){const o={fields:{[DT]:{stringValue:PT},[jT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cm(i)&&(i=Yc(i)),i&&(o.fields[OT]=i),{mapValue:o}}(n,e):t instanceof ba?ZT(t,e):t instanceof Na?eI(t,e):function(s,i){const o=JT(s,i),a=j_(o)+j_(s.Ae);return qf(o)&&qf(s.Ae)?XT(a):km(s.serializer,a)}(t,e)}function T4(t,e,n){return t instanceof ba?ZT(t,e):t instanceof Na?eI(t,e):n}function JT(t,e){return t instanceof hc?function(r){return qf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class dc extends Zc{}class ba extends Zc{constructor(e){super(),this.elements=e}}function ZT(t,e){const n=tI(e);for(const r of t.elements)n.some(s=>On(s,r))||n.push(r);return{arrayValue:{values:n}}}class Na extends Zc{constructor(e){super(),this.elements=e}}function eI(t,e){let n=tI(e);for(const r of t.elements)n=n.filter(s=>!On(s,r));return{arrayValue:{values:n}}}class hc extends Zc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j_(t){return ke(t.integerValue||t.doubleValue)}function tI(t){return Am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function I4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ba&&s instanceof ba||r instanceof Na&&s instanceof Na?ji(r.elements,s.elements,On):r instanceof hc&&s instanceof hc?On(r.Ae,s.Ae):r instanceof dc&&s instanceof dc}(t.transform,e.transform)}class S4{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ed{}function nI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sI(t.key,Rn.none()):new Qa(t.key,t.data,Rn.none());{const n=t.data,r=St.empty();let s=new $e(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new is(t.key,r,new Ot(s.toArray()),Rn.none())}}function C4(t,e,n){t instanceof Qa?function(s,i,o){const a=s.value.clone(),u=V_(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof is?function(s,i,o){if(!Eu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=V_(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(rI(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zo(t,e,n,r){return t instanceof Qa?function(i,o,a,u){if(!Eu(i.precondition,o))return a;const c=i.value.clone(),f=M_(i.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(i,o,a,u){if(!Eu(i.precondition,o))return a;const c=M_(i.fieldTransforms,u,o),f=o.data;return f.setAll(rI(i)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return Eu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function A4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=JT(r.transform,s||null);i!=null&&(n===null&&(n=St.empty()),n.set(r.field,i))}return n||null}function L_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ji(r,s,(i,o)=>I4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qa extends ed{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class is extends ed{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function V_(t,e,n){const r=new Map;ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,T4(o,a,n[s]))}return r}function M_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,x4(i,o,e))}return r}class sI extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R4 extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&C4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=nI(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&ji(this.mutations,e.mutations,(n,r)=>L_(n,r))&&ji(this.baseMutations,e.baseMutations,(n,r)=>L_(n,r))}}class Pm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return y4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Pm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,ie;function P4(t){switch(t){case V.OK:return Q(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function iI(t){if(t===void 0)return lr("GRPC error has no .code"),V.UNKNOWN;switch(t){case De.OK:return V.OK;case De.CANCELLED:return V.CANCELLED;case De.UNKNOWN:return V.UNKNOWN;case De.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case De.INTERNAL:return V.INTERNAL;case De.UNAVAILABLE:return V.UNAVAILABLE;case De.UNAUTHENTICATED:return V.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case De.NOT_FOUND:return V.NOT_FOUND;case De.ALREADY_EXISTS:return V.ALREADY_EXISTS;case De.PERMISSION_DENIED:return V.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case De.ABORTED:return V.ABORTED;case De.OUT_OF_RANGE:return V.OUT_OF_RANGE;case De.UNIMPLEMENTED:return V.UNIMPLEMENTED;case De.DATA_LOSS:return V.DATA_LOSS;default:return Q(39323,{code:t})}}(ie=De||(De={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new zr([4294967295,4294967295],0);function F_(t){const e=D4().encode(t),n=new _T;return n.update(e),new Uint8Array(n.digest())}function U_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zr([n,r],0),new zr([s,i],0)]}class Dm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oo(`Invalid padding: ${n}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zr.fromNumber(r)));return s.compare(O4)===1&&(s=new zr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F_(e),[r,s]=U_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Dm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=F_(e),[r,s]=U_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new td(Y.min(),s,new Se(re),ur(),se())}}class Ya{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ya(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class oI{constructor(e,n){this.targetId=e,this.Ce=n}}class aI{constructor(e,n,r=rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class z_{constructor(){this.ve=0,this.Fe=B_(),this.Me=rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),r=se();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q(38017,{changeType:i})}}),new Ya(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=B_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Wl(),this.He=Wl(),this.Ye=new Se(re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Kf(i))if(r===0){const o=new q(i.path);this.et(n,o,ft.newNoDocument(o,Y.min()))}else ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Qr(r).toUint8Array()}catch(u){if(u instanceof kT)return Oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Dm(o,s,i)}catch(u){return Oi(u instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Kf(a.target)){const u=new q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ft.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=se();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new td(e,n,this.Ye,this.je,r);return this.je=ur(),this.Je=Wl(),this.He=Wl(),this.Ye=new Se(re),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new z_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $e(re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $e(re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wl(){return new Se(q.comparator)}function B_(){return new Se(q.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},V4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"};class F4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yf(t,e){return t.useProto3Json||Qc(e)?e:{value:e}}function fc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U4(t,e){return fc(t,e.toTimestamp())}function bn(t){return ce(!!t,49232),Y.fromTimestamp(function(n){const r=Kr(n);return new ue(r.seconds,r.nanos)}(t))}function Om(t,e){return Xf(t,e).canonicalString()}function Xf(t,e){const n=function(s){return new pe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uI(t){const e=pe.fromString(t);return ce(pI(e),10190,{key:e.toString()}),e}function Jf(t,e){return Om(t.databaseId,e.path)}function Th(t,e){const n=uI(e);if(n.get(1)!==t.databaseId.projectId)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(dI(n))}function cI(t,e){return Om(t.databaseId,e)}function z4(t){const e=uI(t);return e.length===4?pe.emptyPath():dI(e)}function Zf(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dI(t){return ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $_(t,e,n){return{name:Jf(t,e),fields:n.value.mapValue.fields}}function B4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,f){return c.useProto3Json?(ce(f===void 0||typeof f=="string",58123),rt.fromBase64String(f||"")):(ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),rt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?V.UNKNOWN:iI(c.code);return new $(f,c.message||"")}(o);n=new aI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Th(t,r.document.name),i=bn(r.document.updateTime),o=r.document.createTime?bn(r.document.createTime):Y.min(),a=new St({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new xu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Th(t,r.document),i=r.readTime?bn(r.readTime):Y.min(),o=ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new xu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Th(t,r.document),i=r.removedTargetIds||[];n=new xu([],i,s,null)}else{if(!("filter"in e))return Q(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new k4(s,i),a=r.targetId;n=new oI(a,o)}}return n}function $4(t,e){let n;if(e instanceof Qa)n={update:$_(t,e.key,e.value)};else if(e instanceof sI)n={delete:Jf(t,e.key)};else if(e instanceof is)n={update:$_(t,e.key,e.data),updateMask:J4(e.fieldMask)};else{if(!(e instanceof R4))return Q(16599,{Vt:e.type});n={verify:Jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof dc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ba)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Q(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:U4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q(27497)}(t,e.precondition)),n}function W4(t,e){return t&&t.length>0?(ce(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?bn(s.updateTime):bn(i);return o.isEqual(Y.min())&&(o=bn(i)),new S4(o,s.transformResults||[])}(n,e))):[]}function H4(t,e){return{documents:[cI(t,e.path)]}}function q4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,s);const i=function(c){if(c.length!==0)return fI(mn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:Zs(p.field),direction:Q4(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function G4(t){let e=z4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ce(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const p=hI(m);return p instanceof mn&&zT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(_){return new Ra(ei(_.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(m){let p;return p=typeof m=="object"?m.value:m,Qc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,w=m.values||[];return new uc(w,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,w=m.values||[];return new uc(w,p)}(n.endAt)),h4(e,s,o,i,a,"F",u,c)}function K4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ei(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ei(n.unaryFilter.field);return je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ei(n.unaryFilter.field);return je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ei(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(ei(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>hI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function Q4(t){return L4[t]}function Y4(t){return V4[t]}function X4(t){return M4[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function ei(t){return Ze.fromServerFormat(t.fieldPath)}function fI(t){return t instanceof je?function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:Y4(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(s=>fI(s));return r.length===1?r[0]:{compositeFilter:{op:X4(n.op),filters:r}}}(t):Q(54877,{filter:t})}function J4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,s,i=Y.min(),o=Y.min(),a=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.yt=e}}function eO(t){const e=G4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Cn=new nO}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Gr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class nO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $e(pe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $e(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mI=41943040;class Tt{static withCacheSize(e){return new Tt(e,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tt.DEFAULT_COLLECTION_PERCENTILE=10,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tt.DEFAULT=new Tt(mI,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tt.DISABLED=new Tt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mi(0)}static cr(){return new Mi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",rO=1048576;function q_([t,e],[n,r]){const s=re(t,n);return s===0?re(e,r):s}class sO{constructor(e){this.Ir=e,this.buffer=new $e(q_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();q_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(H_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xi(n)?W(H_,"Ignoring IndexedDB error during garbage collection: ",n):await Yi(n)}await this.Vr(3e5)})}}class oO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Kc.ce);const r=new sO(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(W_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Xs()<=ne.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function aO(t,e){return new oO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zo(r.mutation,s,Ot.empty(),ue.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Do();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ur();const o=Jo(),a=function(){return Jo()}();return n.forEach((u,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof is)?i=i.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Zo(f.mutation,c,f.mutation.getFieldMask(),ue.now())):o.set(c.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>a.set(c,new uO(f,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Jo();let s=new Se((o,a)=>o-a),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Ot.empty();f=a.applyToLocalView(c,f),r.set(u,f);const m=(s.get(a.batchId)||se()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,m=YT();f.forEach(p=>{if(!i.has(p)){const w=nI(n.get(p),r.get(p));w!==null&&m.set(p,w),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(ys());let a=Ia,u=i;return o.next(c=>M.forEach(c,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,se())).next(f=>({batchId:a,changes:QT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let s=Do();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Do();return this.indexManager.getCollectionParents(e,i).next(a=>M.forEach(a,u=>{const c=function(m,p){return new Ji(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,ft.newInvalidDocument(f)))});let a=Do();return o.forEach((u,c)=>{const f=i.get(u);f!==void 0&&Zo(f.mutation,c,Ot.empty(),ue.now()),Jc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return M.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:bn(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:eO(s.bundledQuery),readTime:bn(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.overlays=new Se(q.comparator),this.qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ys();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=ys(),i=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Se((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=i.get(c.largestBatchId);f===null&&(f=ys(),i=i.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=ys(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=s)););return M.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new N4(n,r));let i=this.qr.get(n);i===void 0&&(i=se(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Qr=new $e(Ge.$r),this.Ur=new $e(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ge(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ge(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new q(new pe([])),r=new Ge(n,e),s=new Ge(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new q(new pe([])),r=new Ge(n,e),s=new Ge(n,e+1);let i=se();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ge(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ge{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return q.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $e(Ge.$r)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ge(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Sm:this.tr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ge(n,0),s=new Ge(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(re);return n.forEach(s=>{const i=new Ge(s,0),o=new Ge(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),M.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const o=new Ge(new q(i),0);let a=new $e(re);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},o),M.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return M.forEach(n.mutations,s=>{const i=new Ge(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ge(n,0),s=this.Zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.ri=e,this.docs=function(){return new Se(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ft.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ur();const o=n.path,a=new q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||WD($D(f),r)<=0||(s.has(f.key)||Jc(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q(9500)}ii(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gO(this)}getSize(e){return M.resolve(this.size)}}class gO extends lO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.persistence=e,this.si=new Us(n=>Rm(n),bm),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=Mi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),M.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Pr(n),M.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new fO,this.referenceDelegate=e(this),this.Pi=new yO(this),this.indexManager=new tO,this.remoteDocumentCache=function(s){return new mO(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Z4(n),this.Ii=new dO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new pO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new vO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return M.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class vO extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.Ri=new jm,this.Vi=null}static mi(e){return new Lm(e)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.fi,r=>{const s=q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Y.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pc{constructor(e,n){this.persistence=e,this.pi=new Us(r=>QD(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=aO(this,n)}static mi(e,n){return new pc(e,n)}Ei(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return M.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?M.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Y.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_u(e.data.value)),n}br(e,n,r){return M.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Vm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return KN()?8:GD(mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _O;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Xs()<=ne.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),M.resolve()):(Xs()<=ne.DEBUG&&W("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Xs()<=ne.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):M.resolve())}ys(e,n){if(O_(n))return M.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cc(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=se(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,cc(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return O_(n)||s.isEqual(Y.min())?M.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?M.resolve(null):(Xs()<=ne.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Js(n)),this.vs(e,o,n,BD(s,Ia)).next(a=>a))})}Ds(e,n){let r=new $e(GT(e));return n.forEach((s,i)=>{Jc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Xs()<=ne.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Js(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",EO=3e8;class xO{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Se(re),this.xs=new Us(i=>Rm(i),bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TO(t,e,n,r){return new xO(t,e,n,r)}async function yI(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=se();for(const c of s){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of i){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function IO(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const m=c.batch,p=m.keys();let w=M.resolve();return p.forEach(_=>{w=w.next(()=>f.getEntry(u,_)).next(x=>{const A=c.docVersions.get(_);ce(A!==null,48541),x.version.compareTo(A)<0&&(m.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),f.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vI(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function SO(t,e){const n=J(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((f,m)=>{const p=s.get(m);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,m)));let w=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(rt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),s=s.insert(m,w),function(x,A,y){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=EO?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,w,f)&&a.push(n.Pi.updateTargetData(i,w))});let u=ur(),c=se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(CO(i,o,e.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!r.isEqual(Y.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ms=s,i))}function CO(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ur();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W(Mm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:s}})}function AO(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RO(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ep(t,e,n){const r=J(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xi(o))throw o;W(Mm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function G_(t,e,n){const r=J(t);let s=Y.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const m=J(u),p=m.xs.get(f);return p!==void 0?M.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,f)}(r,o,An(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Y.min(),n?i:se())).next(a=>(bO(r,p4(e),a),{documents:a,Qs:i})))}function bO(t,e,n){let r=t.Os.get(e)||Y.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class K_{constructor(){this.activeTargetIds=w4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NO{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function tp(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ac?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=tp(),a=this.zo(e,n.toUriEncodedString());W(Ih,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:c}=new URL(a),f=qi(c);return this.Jo(e,a,u,r,f).then(m=>(W(Ih,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Oi(Ih,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=PO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class jO extends DO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=tp();return new Promise((a,u)=>{const c=new wT;c.setWithCredentials(!0),c.listenOnce(ET.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vu.NO_ERROR:const m=c.getResponseJson();W(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case vu.TIMEOUT:W(ut,`RPC '${e}' ${o} timed out`),u(new $(V.DEADLINE_EXCEEDED,"Request time out"));break;case vu.HTTP_ERROR:const p=c.getStatus();if(W(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w==null?void 0:w.error;if(_&&_.status&&_.message){const x=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(v)>=0?v:V.UNKNOWN}(_.status);u(new $(x,_.message))}else u(new $(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(V.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(ut,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);W(ut,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",f,r,15)})}T_(e,n,r){const s=tp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IT(),a=TT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");W(ut,`Creating RPC '${e}' stream ${s}: ${f}`,u);const m=o.createWebChannel(f,u);this.I_(m);let p=!1,w=!1;const _=new OO({Yo:A=>{w?W(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(p||(W(ut,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),W(ut,`RPC '${e}' stream ${s} sending:`,A),m.send(A))},Zo:()=>m.close()}),x=(A,y,v)=>{A.listen(y,S=>{try{v(S)}catch(D){setTimeout(()=>{throw D},0)}})};return x(m,Po.EventType.OPEN,()=>{w||(W(ut,`RPC '${e}' stream ${s} transport opened.`),_.o_())}),x(m,Po.EventType.CLOSE,()=>{w||(w=!0,W(ut,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(m))}),x(m,Po.EventType.ERROR,A=>{w||(w=!0,Oi(ut,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),_.a_(new $(V.UNAVAILABLE,"The operation could not be completed")))}),x(m,Po.EventType.MESSAGE,A=>{var y;if(!w){const v=A.data[0];ce(!!v,16349);const S=v,D=(S==null?void 0:S.error)||((y=S[0])==null?void 0:y.error);if(D){W(ut,`RPC '${e}' stream ${s} received error:`,D);const L=D.status;let F=function(R){const b=De[R];if(b!==void 0)return iI(b)}(L),C=D.message;F===void 0&&(F=V.INTERNAL,C="Unknown error status: "+L+" with message "+D.message),w=!0,_.a_(new $(F,C)),m.close()}else W(ut,`RPC '${e}' stream ${s} received:`,v),_.u_(v)}}),x(a,xT.STAT_EVENT,A=>{A.stat===$f.PROXY?W(ut,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===$f.NOPROXY&&W(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){return new F4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="PersistentStream";class wI{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _I(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new $(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LO extends wI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B4(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?bn(o.readTime):Y.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Zf(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Kf(u)?{documents:H4(i,u)}:{query:q4(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lI(i,o.resumeToken);const c=Yf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=fc(i,o.snapshotVersion.toTimestamp());const c=Yf(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=K4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Zf(this.serializer),n.removeTarget=e,this.q_(n)}}class VO extends wI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W4(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Zf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$4(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class FO extends MO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Xf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(V.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Xf(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(V.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class UO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class zO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{zs(this)&&(W(Ns,"Restarting streams for network reachability change."),await async function(u){const c=J(u);c.Ea.add(4),await Xa(c),c.Ra.set("Unknown"),c.Ea.delete(4),await rd(c)}(this))})}),this.Ra=new UO(r,s)}}async function rd(t){if(zs(t))for(const e of t.da)await e(!0)}async function Xa(t){for(const e of t.da)await e(!1)}function EI(t,e){const n=J(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bm(n)?zm(n):Zi(n).O_()&&Um(n,e))}function Fm(t,e){const n=J(t),r=Zi(n);n.Ia.delete(e),r.O_()&&xI(n,e),n.Ia.size===0&&(r.O_()?r.L_():zs(n)&&n.Ra.set("Unknown"))}function Um(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zi(t).Y_(e)}function xI(t,e){t.Va.Ue(e),Zi(t).Z_(e)}function zm(t){t.Va=new j4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zi(t).start(),t.Ra.ua()}function Bm(t){return zs(t)&&!Zi(t).x_()&&t.Ia.size>0}function zs(t){return J(t).Ea.size===0}function TI(t){t.Va=void 0}async function BO(t){t.Ra.set("Online")}async function $O(t){t.Ia.forEach((e,n)=>{Um(t,e)})}async function WO(t,e){TI(t),Bm(t)?(t.Ra.ha(e),zm(t)):t.Ra.set("Unknown")}async function HO(t,e,n){if(t.Ra.set("Online"),e instanceof aI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){W(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mc(t,r)}else if(e instanceof xu?t.Va.Ze(e):e instanceof oI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Y.min()))try{const r=await vI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(c);f&&i.Ia.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(rt.EMPTY_BYTE_STRING,f.snapshotVersion)),xI(i,u);const m=new Nr(f.target,u,c,f.sequenceNumber);Um(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(Ns,"Failed to raise snapshot:",r),await mc(t,r)}}async function mc(t,e,n){if(!Xi(e))throw e;t.Ea.add(1),await Xa(t),t.Ra.set("Offline"),n||(n=()=>vI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Ns,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rd(t)})}function II(t,e){return e().catch(n=>mc(t,n,e))}async function sd(t){const e=J(t),n=Xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sm;for(;qO(e);)try{const s=await AO(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,GO(e,s)}catch(s){await mc(e,s)}SI(e)&&CI(e)}function qO(t){return zs(t)&&t.Ta.length<10}function GO(t,e){t.Ta.push(e);const n=Xr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SI(t){return zs(t)&&!Xr(t).x_()&&t.Ta.length>0}function CI(t){Xr(t).start()}async function KO(t){Xr(t).ra()}async function QO(t){const e=Xr(t);for(const n of t.Ta)e.ea(n.mutations)}async function YO(t,e,n){const r=t.Ta.shift(),s=Pm.from(r,e,n);await II(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sd(t)}async function XO(t,e){e&&Xr(t).X_&&await async function(r,s){if(function(o){return P4(o)&&o!==V.ABORTED}(s.code)){const i=r.Ta.shift();Xr(r).B_(),await II(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sd(r)}}(t,e),SI(t)&&CI(t)}async function J_(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),W(Ns,"RemoteStore received new credentials");const r=zs(n);n.Ea.add(3),await Xa(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rd(n)}async function JO(t,e){const n=J(t);e?(n.Ea.delete(2),await rd(n)):e||(n.Ea.add(2),await Xa(n),n.Ra.set("Unknown"))}function Zi(t){return t.ma||(t.ma=function(n,r,s){const i=J(n);return i.sa(),new LO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:BO.bind(null,t),t_:$O.bind(null,t),r_:WO.bind(null,t),H_:HO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Bm(t)?zm(t):t.Ra.set("Unknown")):(await t.ma.stop(),TI(t))})),t.ma}function Xr(t){return t.fa||(t.fa=function(n,r,s){const i=J(n);return i.sa(),new VO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KO.bind(null,t),r_:XO.bind(null,t),ta:QO.bind(null,t),na:YO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await sd(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Ns,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $m(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(t,e){if(lr("AsyncQueue",`${e}: ${t}`),Xi(t))return new $(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{static emptySet(e){return new Ti(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Do(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ti;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ga=new Se(q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fi(e,n,Ti.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ej{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=J(n),i=s.queries;s.queries=ew(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new $(V.ABORTED,"Firestore shutting down"))}}function ew(){return new Us(t=>qT(t),Xc)}async function AI(t,e){const n=J(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new ZO,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Wm(o,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Hm(n)}async function RI(t,e){const n=J(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tj(t,e){const n=J(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Hm(n)}function nj(t,e,n){const r=J(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Hm(t){t.Ca.forEach(e=>{e.next()})}var np,tw;(tw=np||(np={})).Ma="default",tw.Cache="cache";class bI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.key=e}}class kI{constructor(e){this.key=e}}class rj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=GT(e),this.tu=new Ti(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Z_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const p=s.get(f),w=Jc(this.query,m)?m:null,_=!!p&&this.mutatedKeys.has(p.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;p&&w?p.data.isEqual(w.data)?_!==x&&(r.track({type:3,doc:w}),A=!0):this.su(p,w)||(r.track({type:2,doc:w}),A=!0,(u&&this.eu(w,u)>0||c&&this.eu(w,c)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),A=!0):p&&!w&&(r.track({type:1,doc:p}),A=!0,(u||c)&&(a=!0)),A&&(w?(o=o.add(w),i=x?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,m)=>function(w,_){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:A})}};return x(w)-x(_)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Fi(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new kI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new NI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class sj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ij{constructor(e){this.key=e,this.hu=!1}}class oj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Us(a=>qT(a),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new Se(q.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=Mi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aj(t,e,n=!0){const r=VI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await PI(r,e,n,!0),s}async function lj(t,e){const n=VI(t);await PI(n,e,!0,!1)}async function PI(t,e,n,r){const s=await RO(t.localStore,An(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await uj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&EI(t.remoteStore,s),a}async function uj(t,e,n,r,s){t.pu=(m,p,w)=>async function(x,A,y,v){let S=A.view.ru(y);S.Cs&&(S=await G_(x.localStore,A.query,!1).then(({documents:C})=>A.view.ru(C,S)));const D=v&&v.targetChanges.get(A.targetId),L=v&&v.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(S,x.isPrimaryClient,D,L);return rw(x,A.targetId,F.au),F.snapshot}(t,m,p,w);const i=await G_(t.localStore,e,!0),o=new rj(e,i.Qs),a=o.ru(i.documents),u=Ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);rw(t,n,c.au);const f=new sj(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function cj(t,e,n){const r=J(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Xc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ep(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Fm(r.remoteStore,s.targetId),rp(r,s.targetId)}).catch(Yi)):(rp(r,s.targetId),await ep(r.localStore,s.targetId,!0))}async function dj(t,e){const n=J(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fm(n.remoteStore,r.targetId))}async function hj(t,e,n){const r=_j(t);try{const s=await function(o,a){const u=J(o),c=ue.now(),f=a.reduce((w,_)=>w.add(_.key),se());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=ur(),x=se();return u.Ns.getEntries(w,f).next(A=>{_=A,_.forEach((y,v)=>{v.isValidDocument()||(x=x.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,_)).next(A=>{m=A;const y=[];for(const v of a){const S=A4(v,m.get(v.key).overlayedDocument);S!=null&&y.push(new is(v.key,S,MT(S.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,y,a)}).next(A=>{p=A;const y=A.applyToLocalDocumentSet(m,x);return u.documentOverlayCache.saveOverlays(w,A.batchId,y)})}).then(()=>({batchId:p.batchId,changes:QT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Se(re)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ja(r,s.changes),await sd(r.remoteStore)}catch(s){const i=Wm(s,"Failed to persist write");n.reject(i)}}async function DI(t,e){const n=J(t);try{const r=await SO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ce(o.hu,14607):s.removedDocuments.size>0&&(ce(o.hu,42227),o.hu=!1))}),await Ja(n,r,e)}catch(r){await Yi(r)}}function nw(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=J(o);u.onlineState=a;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.Sa)p.va(a)&&(c=!0)}),c&&Hm(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fj(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Se(q.comparator);o=o.insert(i,ft.newNoDocument(i,Y.min()));const a=se().add(i),u=new td(Y.min(),new Map,new Se(re),o,a);await DI(r,u),r.du=r.du.remove(i),r.Au.delete(e),Gm(r)}else await ep(r.localStore,e,!1).then(()=>rp(r,e,n)).catch(Yi)}async function pj(t,e){const n=J(t),r=e.batch.batchId;try{const s=await IO(n.localStore,e);jI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ja(n,s)}catch(s){await Yi(s)}}async function mj(t,e,n){const r=J(t);try{const s=await function(o,a){const u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(ce(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);jI(r,e,n),OI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ja(r,s)}catch(s){await Yi(s)}}function OI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jI(t,e,n){const r=J(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function rp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||LI(t,r)})}function LI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gm(t))}function rw(t,e,n){for(const r of n)r instanceof NI?(t.Ru.addReference(r.key,e),gj(t,r)):r instanceof kI?(W(qm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||LI(t,r.key)):Q(19791,{wu:r})}function gj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(qm,"New document in limbo: "+n),t.Eu.add(r),Gm(t))}function Gm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new q(pe.fromString(e)),r=t.fu.next();t.Au.set(r,new ij(n)),t.du=t.du.insert(n,r),EI(t.remoteStore,new Nr(An(Nm(n.path)),r,"TargetPurposeLimboResolution",Kc.ce))}}async function Ja(t,e,n){const r=J(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){s.push(c);const m=Vm.As(u.targetId,c);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,c){const f=J(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>M.forEach(c,p=>M.forEach(p.Es,w=>f.persistence.referenceDelegate.addReference(m,p.targetId,w)).next(()=>M.forEach(p.ds,w=>f.persistence.referenceDelegate.removeReference(m,p.targetId,w)))))}catch(m){if(!Xi(m))throw m;W(Mm,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const w=f.Ms.get(p),_=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(_);f.Ms=f.Ms.insert(p,x)}}}(r.localStore,i))}async function yj(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){W(qm,"User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new $(V.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ja(n,r.Ls)}}function vj(t,e){const n=J(t),r=n.Au.get(e);if(r&&r.hu)return se().add(r.key);{let s=se();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function VI(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fj.bind(null,e),e.Pu.H_=tj.bind(null,e.eventManager),e.Pu.yu=nj.bind(null,e.eventManager),e}function _j(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mj.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TO(this.persistence,new wO,e.initialUser,this.serializer)}Cu(e){return new gI(Lm.mi,this.serializer)}Du(e){return new NO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class wj extends gc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ce(this.persistence.referenceDelegate instanceof pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tt.withCacheSize(this.cacheSizeBytes):Tt.DEFAULT;return new gI(r=>pc.mi(r,n),this.serializer)}}class sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yj.bind(null,this.syncEngine),await JO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ej}()}createDatastore(e){const n=nd(e.databaseInfo.databaseId),r=function(i){return new jO(i)}(e.databaseInfo);return function(i,o,a,u){return new FO(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new zO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nw(this.syncEngine,n,0),function(){return Y_.v()?new Y_:new kO}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,f){const m=new oj(s,i,o,a,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=J(s);W(Ns,"RemoteStore shutting down."),i.Ea.add(5),await Xa(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class Ej{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dt.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W(Jr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Jr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ch(t,e){t.asyncQueue.verifyOperationInProgress(),W(Jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xj(t);W(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>J_(e.remoteStore,s)),t._onlineComponents=e}async function xj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Jr,"Using user provided OfflineComponentProvider");try{await Ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Oi("Error using user provided cache. Falling back to memory cache: "+n),await Ch(t,new gc)}}else W(Jr,"Using default OfflineComponentProvider"),await Ch(t,new wj(void 0));return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Jr,"Using user provided OnlineComponentProvider"),await sw(t,t._uninitializedComponentsProvider._online)):(W(Jr,"Using default OnlineComponentProvider"),await sw(t,new sp))),t._onlineComponents}function Tj(t){return FI(t).then(e=>e.syncEngine)}async function UI(t){const e=await FI(t),n=e.eventManager;return n.onListen=aj.bind(null,e.syncEngine),n.onUnlisten=cj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dj.bind(null,e.syncEngine),n}function Ij(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const f=new MI({next:p=>{f.Nu(),o.enqueueAndForget(()=>RI(i,m));const w=p.docs.has(a);!w&&p.fromCache?c.reject(new $(V.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&u&&u.source==="server"?c.reject(new $(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new bI(Nm(a.path),f,{includeMetadataChanges:!0,qa:!0});return AI(i,m)}(await UI(t),t.asyncQueue,e,n,r)),r.promise}function Sj(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const f=new MI({next:p=>{f.Nu(),o.enqueueAndForget(()=>RI(i,m)),p.fromCache&&u.source==="server"?c.reject(new $(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new bI(a,f,{includeMetadataChanges:!0,qa:!0});return AI(i,m)}(await UI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firestore.googleapis.com",ow=!0;class aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BI,this.ssl=ow}else this.host=e.host,this.ssl=e.ssl??ow;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rO)throw new $(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kD;switch(r.type){case"firstParty":return new jD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iw.get(n);r&&(W("ComponentProvider","Removing Datastore"),iw.delete(n),r.terminate())}(this),Promise.resolve()}}function Cj(t,e,n,r={}){var c;t=qr(t,id);const s=qi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Rx(`https://${a}`),bx("Firestore",!0)),i.host!==BI&&i.host!==a&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!Hr(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=dt.MOCK_USER;else{f=UN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new $(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new dt(p)}t._authCredentials=new PD(new CT(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Ve{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ka(n,Ve._jsonSchema))return new Ve(e,r||null,new q(pe.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Le("string",Ve._jsonSchemaVersion),referencePath:Le("string")};class Br extends os{constructor(e,n,r){super(e,n,Nm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new q(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function od(t,e,...n){if(t=Me(t),AT("collection","path",e),t instanceof id){const r=pe.fromString(e,...n);return w_(r),new Br(t,null,r)}{if(!(t instanceof Ve||t instanceof Br))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return w_(r),new Br(t.firestore,null,r)}}function $I(t,e,...n){if(t=Me(t),arguments.length===1&&(e=Im.newId()),AT("doc","path",e),t instanceof id){const r=pe.fromString(e,...n);return __(r),new Ve(t,null,new q(r))}{if(!(t instanceof Ve||t instanceof Br))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return __(r),new Ve(t.firestore,t instanceof Br?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="AsyncQueue";class uw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _I(this,"async_queue_retry"),this._c=()=>{const r=Sh();r&&W(lw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new er;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xi(e))throw e;W(lw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",cw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=$m.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Q(47125,{Pc:cw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Za extends id{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new uw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function Aj(t,e){const n=typeof t=="object"?t:pm(),r=typeof t=="string"?t:ac,s=Ms(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=MN("firestore");i&&Cj(s,...i)}return s}function Km(t){if(t._terminated)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rj(t),t._firestoreClient}function Rj(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,c,f){return new JD(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,zI(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ej(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qt(rt.fromBase64String(e))}catch(n){throw new $(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qt(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ka(e,Qt._jsonSchema))return Qt.fromBase64String(e.bytes)}}Qt._jsonSchemaVersion="firestore/bytes/1.0",Qt._jsonSchema={type:Le("string",Qt._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nn._jsonSchemaVersion}}static fromJSON(e){if(Ka(e,Nn._jsonSchema))return new Nn(e.latitude,e.longitude)}}Nn._jsonSchemaVersion="firestore/geoPoint/1.0",Nn._jsonSchema={type:Le("string",Nn._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ka(e,kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kn(e.vectorValues);throw new $(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kn._jsonSchemaVersion="firestore/vectorValue/1.0",kn._jsonSchema={type:Le("string",kn._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^__.*__$/;class Nj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qa(e,this.data,n,this.fieldTransforms)}}class WI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:t})}}class Ym{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HI(this.Ac)&&bj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nd(e)}Cc(e,n,r,s=!1){return new Ym({Ac:e,methodName:n,Dc:r,path:Ze.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(t){const e=t._freezeSettings(),n=nd(t._databaseId);return new kj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pj(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Jm("Data must be an object, but it was:",o,r);const a=qI(r,o);let u,c;if(i.merge)u=new Ot(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const p=ip(e,m,n);if(!o.contains(p))throw new $(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);KI(f,p)||f.push(p)}u=new Ot(f),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new Nj(new St(a),u,c)}class ld extends Qm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function Dj(t,e,n,r){const s=t.Cc(1,e,n);Jm("Data must be an object, but it was:",s,r);const i=[],o=St.empty();ss(r,(u,c)=>{const f=Zm(e,u,n);c=Me(c);const m=s.yc(f);if(c instanceof ld)i.push(f);else{const p=el(c,m);p!=null&&(i.push(f),o.set(f,p))}});const a=new Ot(i);return new WI(o,a,s.fieldTransforms)}function Oj(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[ip(e,r,n)],u=[s];if(i.length%2!=0)throw new $(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ip(e,i[p])),u.push(i[p+1]);const c=[],f=St.empty();for(let p=a.length-1;p>=0;--p)if(!KI(c,a[p])){const w=a[p];let _=u[p];_=Me(_);const x=o.yc(w);if(_ instanceof ld)c.push(w);else{const A=el(_,x);A!=null&&(c.push(w),f.set(w,A))}}const m=new Ot(c);return new WI(f,m,o.fieldTransforms)}function jj(t,e,n,r=!1){return el(n,t.Cc(r?4:3,e))}function el(t,e){if(GI(t=Me(t)))return Jm("Unsupported field value:",e,t),qI(t,e);if(t instanceof Qm)return function(r,s){if(!HI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=el(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ue.fromDate(r);return{timestampValue:fc(s.serializer,i)}}if(r instanceof ue){const i=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fc(s.serializer,i)}}if(r instanceof Nn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qt)return{bytesValue:lI(s.serializer,r._byteString)};if(r instanceof Ve){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Om(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof kn)return function(o,a){return{mapValue:{fields:{[LT]:{stringValue:VT},[lc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return km(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Gc(r)}`)}(t,e)}function qI(t,e){const n={};return NT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,s)=>{const i=el(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function GI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ue||t instanceof Nn||t instanceof Qt||t instanceof Ve||t instanceof Qm||t instanceof kn)}function Jm(t,e,n){if(!GI(n)||!RT(n)){const r=Gc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ip(t,e,n){if((e=Me(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Zm(t,e);throw yc("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lj=new RegExp("[~\\*/\\[\\]]");function Zm(t,e,n){if(e.search(Lj)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new $(V.INVALID_ARGUMENT,a+t+u)}function KI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vj extends QI{data(){return super.data()}}function ud(t,e){return typeof e=="string"?Zm(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class tg extends eg{}function YI(t,e,...n){let r=[];e instanceof eg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof ng).length,a=i.filter(u=>u instanceof cd).length;if(o>1||o>0&&a>0)throw new $(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cd extends tg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cd(e,n,r)}_apply(e){const n=this._parse(e);return JI(e._query,n),new os(e.firestore,e.converter,Qf(e._query,n))}_parse(e){const n=Xm(e.firestore);return function(i,o,a,u,c,f,m){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){hw(m,f);const _=[];for(const x of m)_.push(dw(u,i,x));p={arrayValue:{values:_}}}else p=dw(u,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||hw(m,f),p=jj(a,o,m,f==="in"||f==="not-in");return je.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XI(t,e,n){const r=e,s=ud("where",t);return cd._create(s,r,n)}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)JI(o,u),o=Qf(o,u)}(e._query,n),new os(e.firestore,e.converter,Qf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends tg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ra(i,o)}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ji(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Fj(t,e="asc"){const n=e,r=ud("orderBy",t);return rg._create(r,n)}class sg extends tg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sg(e,n,r)}_apply(e){return new os(e.firestore,e.converter,cc(e._query,this._limit,this._limitType))}}function Uj(t){return sg._create("limit",t,"F")}function dw(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new $(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(e)&&n.indexOf("/")!==-1)throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!q.isDocumentKey(r))throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R_(t,new q(r))}if(n instanceof Ve)return R_(t,n._key);throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gc(n)}.`)}function hw(t,e){if(!Array.isArray(t)||t.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zj{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ss(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[lc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ke(o.doubleValue));return new kn(n)}convertGeoPoint(e){return new Nn(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);ce(pI(r),9688,{name:e});const s=new Ca(r.get(1),r.get(3)),i=new q(r.popFirst(5));return s.isEqual(n)||lr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends QI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Es._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:Le("string",Es._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Tu extends Es{data(e={}){return super.data(e)}}class Ii{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tu(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Tu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new jo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Tu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new jo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:$j(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ii._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $j(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){t=qr(t,Ve);const e=qr(t.firestore,Za);return Ij(Km(e),t._key).then(n=>qj(e,t,n))}Ii._jsonSchemaVersion="firestore/querySnapshot/1.0",Ii._jsonSchema={type:Le("string",Ii._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class ZI extends zj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function e1(t){t=qr(t,os);const e=qr(t.firestore,Za),n=Km(e),r=new ZI(e);return Mj(t._query),Sj(n,t._query).then(s=>new Ii(e,r,t,s))}function Hj(t,e,n,...r){t=qr(t,Ve);const s=qr(t.firestore,Za),i=Xm(s);let o;return o=typeof(e=Me(e))=="string"||e instanceof ad?Oj(i,"updateDoc",t._key,e,n,r):Dj(i,"updateDoc",t._key,e),n1(s,[o.toMutation(t._key,Rn.exists(!0))])}function t1(t,e){const n=qr(t.firestore,Za),r=$I(t),s=Bj(t.converter,e);return n1(n,[Pj(Xm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function n1(t,e){return function(r,s){const i=new er;return r.asyncQueue.enqueueAndForget(async()=>hj(await Tj(r),s,i)),i.promise}(Km(t),e)}function qj(t,e,n){const r=n.docs.get(e._key),s=new ZI(t);return new Es(t,s,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Qi=s})(Gi),Dn(new fn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Za(new DD(r.getProvider("auth-internal")),new LD(o,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(c.options.projectId,f)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Jt(m_,g_,e),Jt(m_,g_,"esm2020")})();const r1="@firebase/installations",ig="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=1e4,i1=`w:${ig}`,o1="FIS_v2",Gj="https://firebaseinstallations.googleapis.com/v1",Kj=60*60*1e3,Qj="installations",Yj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ks=new Vs(Qj,Yj,Xj);function a1(t){return t instanceof gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1({projectId:t}){return`${Gj}/projects/${t}/installations`}function u1(t){return{token:t.token,requestStatus:2,expiresIn:Zj(t.expiresIn),creationTime:Date.now()}}async function c1(t,e){const r=(await e.json()).error;return ks.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function d1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jj(t,{refreshToken:e}){const n=d1(t);return n.append("Authorization",eL(e)),n}async function h1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Zj(t){return Number(t.replace("s","000"))}function eL(t){return`${o1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=l1(t),s=d1(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:o1,appId:t.appId,sdkVersion:i1},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await h1(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:u1(c.authToken)}}else throw await c1("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=/^[cdef][\w-]{21}$/,op="";function sL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=iL(t);return rL.test(n)?n:op}catch{return op}}function iL(t){return nL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function m1(t,e){const n=dd(t);g1(n,e),oL(n,e)}function g1(t,e){const n=p1.get(t);if(n)for(const r of n)r(e)}function oL(t,e){const n=aL();n&&n.postMessage({key:t,fid:e}),lL()}let vs=null;function aL(){return!vs&&"BroadcastChannel"in self&&(vs=new BroadcastChannel("[Firebase] FID Change"),vs.onmessage=t=>{g1(t.data.key,t.data.fid)}),vs}function lL(){p1.size===0&&vs&&(vs.close(),vs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firebase-installations-database",cL=1,Ps="firebase-installations-store";let Ah=null;function og(){return Ah||(Ah=jx(uL,cL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ps)}}})),Ah}async function vc(t,e){const n=dd(t),s=(await og()).transaction(Ps,"readwrite"),i=s.objectStore(Ps),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&m1(t,e.fid),e}async function y1(t){const e=dd(t),r=(await og()).transaction(Ps,"readwrite");await r.objectStore(Ps).delete(e),await r.done}async function hd(t,e){const n=dd(t),s=(await og()).transaction(Ps,"readwrite"),i=s.objectStore(Ps),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&m1(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(t){let e;const n=await hd(t.appConfig,r=>{const s=dL(r),i=hL(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===op?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dL(t){const e=t||{fid:sL(),registrationStatus:0};return v1(e)}function hL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ks.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=fL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pL(t)}:{installationEntry:e}}async function fL(t,e){try{const n=await tL(t,e);return vc(t.appConfig,n)}catch(n){throw a1(n)&&n.customData.serverCode===409?await y1(t.appConfig):await vc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pL(t){let e=await fw(t.appConfig);for(;e.registrationStatus===1;)await f1(100),e=await fw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ag(t);return r||n}return e}function fw(t){return hd(t,e=>{if(!e)throw ks.create("installation-not-found");return v1(e)})}function v1(t){return mL(t)?{fid:t.fid,registrationStatus:0}:t}function mL(t){return t.registrationStatus===1&&t.registrationTime+s1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL({appConfig:t,heartbeatServiceProvider:e},n){const r=yL(t,n),s=Jj(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:i1,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await h1(()=>fetch(r,a));if(u.ok){const c=await u.json();return u1(c)}else throw await c1("Generate Auth Token",u)}function yL(t,{fid:e}){return`${l1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(t,e=!1){let n;const r=await hd(t.appConfig,i=>{if(!_1(i))throw ks.create("not-registered");const o=i.authToken;if(!e&&wL(o))return i;if(o.requestStatus===1)return n=vL(t,e),i;{if(!navigator.onLine)throw ks.create("app-offline");const a=xL(i);return n=_L(t,a),a}});return n?await n:r.authToken}async function vL(t,e){let n=await pw(t.appConfig);for(;n.authToken.requestStatus===1;)await f1(100),n=await pw(t.appConfig);const r=n.authToken;return r.requestStatus===0?lg(t,e):r}function pw(t){return hd(t,e=>{if(!_1(e))throw ks.create("not-registered");const n=e.authToken;return TL(n)?{...e,authToken:{requestStatus:0}}:e})}async function _L(t,e){try{const n=await gL(t,e),r={...e,authToken:n};return await vc(t.appConfig,r),n}catch(n){if(a1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await y1(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await vc(t.appConfig,r)}throw n}}function _1(t){return t!==void 0&&t.registrationStatus===2}function wL(t){return t.requestStatus===2&&!EL(t)}function EL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Kj}function xL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function TL(t){return t.requestStatus===1&&t.requestTime+s1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t){const e=t,{installationEntry:n,registrationPromise:r}=await ag(e);return r?r.catch(console.error):lg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e=!1){const n=t;return await CL(n),(await lg(n,e)).token}async function CL(t){const{registrationPromise:e}=await ag(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){if(!t||!t.options)throw Rh("App Configuration");if(!t.name)throw Rh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Rh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rh(t){return ks.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="installations",RL="installations-internal",bL=t=>{const e=t.getProvider("app").getImmediate(),n=AL(e),r=Ms(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NL=t=>{const e=t.getProvider("app").getImmediate(),n=Ms(e,w1).getImmediate();return{getId:()=>IL(n),getToken:s=>SL(n,s)}};function kL(){Dn(new fn(w1,bL,"PUBLIC")),Dn(new fn(RL,NL,"PRIVATE"))}kL();Jt(r1,ig);Jt(r1,ig,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="analytics",PL="firebase_id",DL="origin",OL=60*1e3,jL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt=new $c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ft=new Vs("analytics","Analytics",LL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){if(!t.startsWith(ug)){const e=Ft.create("invalid-gtag-resource",{gtagURL:t});return Nt.warn(e.message),""}return t}function E1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ML(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function FL(t,e){const n=ML("firebase-js-sdk-policy",{createScriptURL:VL}),r=document.createElement("script"),s=`${ug}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function UL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function zL(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await E1(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(a){Nt.error(a)}t("config",s,i)}async function BL(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await E1(n);for(const u of o){const c=a.find(m=>m.measurementId===u),f=c&&e[c.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Nt.error(i)}}function $L(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await BL(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await zL(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Nt.error(a)}}return s}function WL(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=$L(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function HL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ug)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=30,GL=1e3;class KL{constructor(e={},n=GL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const x1=new KL;function QL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function YL(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:QL(n)},s=jL.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const u=await i.json();(o=u.error)!=null&&o.message&&(a=u.error.message)}catch{}throw Ft.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function XL(t,e=x1,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Ft.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Ft.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new eV;return setTimeout(async()=>{a.abort()},OL),T1({appId:r,apiKey:s,measurementId:i},o,a,e)}async function T1(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=x1){var a;const{appId:i,measurementId:o}=t;try{await JL(r,e)}catch(u){if(o)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw u}try{const u=await YL(t);return s.deleteThrottleMetadata(i),u}catch(u){const c=u;if(!ZL(c)){if(s.deleteThrottleMetadata(i),o)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw u}const f=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?Uv(n,s.intervalMillis,qL):Uv(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,m),Nt.debug(`Calling attemptFetch again in ${f} millis`),T1(t,m,r,s)}}function JL(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Ft.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ZL(t){if(!(t instanceof gn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class eV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tV(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(){if(kx())try{await Px()}catch(t){return Nt.warn(Ft.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Nt.warn(Ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rV(t,e,n,r,s,i,o){const a=XL(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Nt.error(p)),e.push(a);const u=nV().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([a,u]);HL(i)||FL(i,c.measurementId),s("js",new Date);const m=(o==null?void 0:o.config)??{};return m[DL]="firebase",m.update=!0,f!=null&&(m[PL]=f),s("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.app=e}_delete(){return delete ea[this.app.options.appId],Promise.resolve()}}let ea={},mw=[];const gw={};let bh="dataLayer",iV="gtag",yw,I1,vw=!1;function oV(){const t=[];if(Nx()&&t.push("This is a browser extension environment."),QN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Ft.create("invalid-analytics-context",{errorInfo:e});Nt.warn(n.message)}}function aV(t,e,n){oV();const r=t.options.appId;if(!r)throw Ft.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ft.create("no-api-key");if(ea[r]!=null)throw Ft.create("already-exists",{id:r});if(!vw){UL(bh);const{wrappedGtag:i,gtagCore:o}=WL(ea,mw,gw,bh,iV);I1=i,yw=o,vw=!0}return ea[r]=rV(t,mw,gw,e,yw,bh,n),new sV(t)}function lV(t=pm()){t=Me(t);const e=Ms(t,_c);return e.isInitialized()?e.getImmediate():uV(t)}function uV(t,e={}){const n=Ms(t,_c);if(n.isInitialized()){const s=n.getImmediate();if(Hr(e,n.getOptions()))return s;throw Ft.create("already-initialized")}return n.initialize({options:e})}function cV(t,e,n,r){t=Me(t),tV(I1,ea[t.app.options.appId],e,n,r).catch(s=>Nt.error(s))}const _w="@firebase/analytics",ww="0.10.18";function dV(){Dn(new fn(_c,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aV(r,s,n)},"PUBLIC")),Dn(new fn("analytics-internal",t,"PRIVATE")),Jt(_w,ww),Jt(_w,ww,"esm2020");function t(e){try{const n=e.getProvider(_c).getImmediate();return{logEvent:(r,s,i)=>cV(n,r,s,i)}}catch(n){throw Ft.create("interop-component-reg-failed",{reason:n})}}}dV();const hV={apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},cg=Lx(hV),ql=AD(cg),tl=Aj(cg);typeof window<"u"&&lV(cg);const S1=E.createContext(void 0),fV=()=>{const t=E.useContext(S1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},pV=({children:t})=>{const[e,n]=E.useState(null),[r,s]=E.useState(!0);E.useEffect(()=>m2(ql,f=>{n(f),s(!1)}),[]);const u={user:e,login:async(c,f)=>{await h2(ql,c,f)},register:async(c,f)=>{await d2(ql,c,f)},logout:async()=>{await g2(ql)},loading:r};return d.jsx(S1.Provider,{value:u,children:!r&&t})};function Ew(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function C1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Ew(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ew(t[s],null)}}}}function jn(...t){return E.useCallback(C1(...t),t)}function ka(t){const e=gV(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,a=E.Children.toArray(i),u=a.find(vV);if(u){const c=u.props.children,f=a.map(m=>m===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:m);return d.jsx(e,{...o,ref:s,children:E.isValidElement(c)?E.cloneElement(c,void 0,f):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var mV=ka("Slot");function gV(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=wV(s),a=_V(i,s.props);return s.type!==E.Fragment&&(a.ref=r?C1(r,o):o),E.cloneElement(s,a)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yV=Symbol("radix.slottable");function vV(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yV}function _V(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function wV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function A1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=A1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function R1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=A1(t))&&(r&&(r+=" "),r+=e);return r}const xw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tw=R1,dg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Tw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],m=i==null?void 0:i[c];if(f===null)return null;const p=xw(f)||xw(m);return s[c][p]}),a=n&&Object.entries(n).reduce((c,f)=>{let[m,p]=f;return p===void 0||(c[m]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:m,className:p,...w}=f;return Object.entries(w).every(_=>{let[x,A]=_;return Array.isArray(A)?A.includes({...i,...a}[x]):{...i,...a}[x]===A})?[...c,m,p]:c},[]);return Tw(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},hg="-",EV=t=>{const e=TV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(hg);return a[0]===""&&a.length!==1&&a.shift(),b1(a,e)||xV(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},b1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?b1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(hg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Iw=/^\[(.+)\]$/,xV=t=>{if(Iw.test(t)){const e=Iw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},TV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return SV(Object.entries(t.classGroups),n).forEach(([i,o])=>{ap(o,r,i,e)}),r},ap=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Sw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(IV(s)){ap(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ap(o,Sw(e,i),n,r)})})},Sw=(t,e)=>{let n=t;return e.split(hg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IV=t=>t.isThemeGetter,SV=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,CV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},N1="!",AV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,f=0,m;for(let A=0;A<a.length;A++){let y=a[A];if(c===0){if(y===s&&(r||a.slice(A,A+i)===e)){u.push(a.slice(f,A)),f=A+i;continue}if(y==="/"){m=A;continue}}y==="["?c++:y==="]"&&c--}const p=u.length===0?a:a.substring(f),w=p.startsWith(N1),_=w?p.substring(1):p,x=m&&m>f?m-f:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},RV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},bV=t=>({cache:CV(t.cacheSize),parseClassName:AV(t),...EV(t)}),NV=/\s+/,kV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(NV);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:w}=n(c);let _=!!w,x=r(_?p.substring(0,w):p);if(!x){if(!_){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}_=!1}const A=RV(f).join(":"),y=m?A+N1:A,v=y+x;if(i.includes(v))continue;i.push(v);const S=s(x,_);for(let D=0;D<S.length;++D){const L=S[D];i.push(y+L)}a=c+(a.length>0?" "+a:a)}return a};function PV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=k1(e))&&(r&&(r+=" "),r+=n);return r}const k1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=k1(t[r]))&&(n&&(n+=" "),n+=e);return n};function DV(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((f,m)=>m(f),t());return n=bV(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const f=kV(u,n);return s(u,f),f}return function(){return i(PV.apply(null,arguments))}}const ye=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},P1=/^\[(?:([a-z-]+):)?(.+)\]$/i,OV=/^\d+\/\d+$/,jV=new Set(["px","full","screen"]),LV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wn=t=>Si(t)||jV.has(t)||OV.test(t),gr=t=>eo(t,"length",KV),Si=t=>!!t&&!Number.isNaN(Number(t)),Nh=t=>eo(t,"number",Si),Io=t=>!!t&&Number.isInteger(Number(t)),zV=t=>t.endsWith("%")&&Si(t.slice(0,-1)),Z=t=>P1.test(t),yr=t=>LV.test(t),BV=new Set(["length","size","percentage"]),$V=t=>eo(t,BV,D1),WV=t=>eo(t,"position",D1),HV=new Set(["image","url"]),qV=t=>eo(t,HV,YV),GV=t=>eo(t,"",QV),So=()=>!0,eo=(t,e,n)=>{const r=P1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KV=t=>VV.test(t)&&!MV.test(t),D1=()=>!1,QV=t=>FV.test(t),YV=t=>UV.test(t),XV=()=>{const t=ye("colors"),e=ye("spacing"),n=ye("blur"),r=ye("brightness"),s=ye("borderColor"),i=ye("borderRadius"),o=ye("borderSpacing"),a=ye("borderWidth"),u=ye("contrast"),c=ye("grayscale"),f=ye("hueRotate"),m=ye("invert"),p=ye("gap"),w=ye("gradientColorStops"),_=ye("gradientColorStopPositions"),x=ye("inset"),A=ye("margin"),y=ye("opacity"),v=ye("padding"),S=ye("saturate"),D=ye("scale"),L=ye("sepia"),F=ye("skew"),C=ye("space"),T=ye("translate"),R=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Z,e],P=()=>[Z,e],N=()=>["",Wn,gr],He=()=>["auto",Si,Z],$t=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],qe=()=>["solid","dashed","dotted","double","none"],Wt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Z],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Si,Z];return{cacheSize:500,separator:":",theme:{colors:[So],spacing:[Wn,gr],blur:["none","",yr,Z],brightness:oe(),borderColor:[t],borderRadius:["none","","full",yr,Z],borderSpacing:P(),borderWidth:N(),contrast:oe(),grayscale:G(),hueRotate:oe(),invert:G(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[zV,gr],inset:k(),margin:k(),opacity:oe(),padding:P(),saturate:oe(),scale:oe(),sepia:G(),skew:oe(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[yr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$t(),Z]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Io,Z]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Io,Z]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",Io,Z]},Z]}],"col-start":[{"col-start":He()}],"col-end":[{"col-end":He()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[Io,Z]},Z]}],"row-start":[{"row-start":He()}],"row-end":[{"row-end":He()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,e]}],"min-w":[{"min-w":[Z,e,"min","max","fit"]}],"max-w":[{"max-w":[Z,e,"none","full","min","max","fit","prose",{screen:[yr]},yr]}],h:[{h:[Z,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yr,gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nh]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",Si,Nh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wn,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wn,gr]}],"underline-offset":[{"underline-offset":["auto",Wn,Z]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$t(),WV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$V]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...qe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:qe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...qe()]}],"outline-offset":[{"outline-offset":[Wn,Z]}],"outline-w":[{outline:[Wn,gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Wn,gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yr,GV]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Wt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Wt()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",yr,Z]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Io,Z]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wn,gr,Nh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JV=DV(XV);function We(...t){return JV(R1(t))}const ZV=dg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?mV:"button";return d.jsx(o,{className:We(ZV({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";const Re=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Re.displayName="Card";const jt=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",t),...e}));jt.displayName="CardHeader";const Lt=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lt.displayName="CardTitle";const Vt=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Vt.displayName="CardDescription";const ze=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("p-6 pt-0",t),...e}));ze.displayName="CardContent";const eM=E.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",t),...e}));eM.displayName="CardFooter";const tM=dg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dn({className:t,variant:e,...n}){return d.jsx("div",{className:We(tM({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>E.createElement("svg",{ref:u,...rM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:O1("lucide",s),...a},[...o.map(([c,f])=>E.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(sM,{ref:i,iconNode:e,className:O1(`lucide-${nM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=be("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=be("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uM(){return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[d.jsx("section",{className:"relative py-20 px-4",children:d.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[d.jsx("div",{className:"mb-6",children:d.jsxs(dn,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[d.jsx(lM,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[d.jsxs(ee,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",d.jsx(Gl,{className:"ml-2 h-5 w-5"})]}),d.jsx(ee,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:d.jsxs(wa,{to:"/brooklynheartsclub",children:["View Live Example",d.jsx(Gl,{className:"ml-2 h-5 w-5"})]})})]})]})}),d.jsx("section",{className:"py-20 bg-white",children:d.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx(Re,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs(jt,{children:[d.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Zt,{className:"h-6 w-6 text-purple-600"})}),d.jsx(Lt,{className:"text-xl",children:"Custom Event Pages"}),d.jsx(Vt,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),d.jsx(Re,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs(jt,{children:[d.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(wc,{className:"h-6 w-6 text-purple-600"})}),d.jsx(Lt,{className:"text-xl",children:"Automated Waitlists"}),d.jsx(Vt,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),d.jsx(Re,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs(jt,{children:[d.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Da,{className:"h-6 w-6 text-purple-600"})}),d.jsx(Lt,{className:"text-xl",children:"Community Messaging"}),d.jsx(Vt,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),d.jsx("section",{className:"py-20 bg-gray-50",children:d.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),d.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),d.jsx(Re,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:d.jsx(ze,{className:"p-8",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{children:[d.jsx(dn,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:d.jsx(ee,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:d.jsxs(wa,{to:"/brooklynheartsclub",children:["Visit Brooklyn Hearts Club",d.jsx(Gl,{className:"ml-2 h-4 w-4"})]})})})]}),d.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),d.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),d.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),d.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:d.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),d.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),d.jsxs(ee,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",d.jsx(Gl,{className:"ml-2 h-5 w-5"})]})]})}),d.jsx("footer",{className:"bg-gray-900 text-white py-12",children:d.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[d.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),d.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),d.jsxs("ul",{className:"space-y-2 text-gray-300",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),d.jsxs("ul",{className:"space-y-2 text-gray-300",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),d.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:d.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}const cM="http://localhost:3001/api";class Iu extends Error{constructor(n,r){super(n);xy(this,"status");this.status=r,this.name="ApiError"}}async function Gt(t,e){const n=`${cM}${t}`;try{const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e}),s=await r.json();if(!r.ok)throw new Iu(s.message||"API request failed",r.status);return s}catch(r){throw r instanceof Iu?r:new Iu("Network error",0)}}const lp={async getBySlug(t){return Gt(`/organizations/${t}`)},async create(t){return Gt("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return Gt(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},Ec={async getById(t){return Gt(`/events/${t}`)},async getByOrganization(t){return Gt(`/events?organization=${t}`)},async getAll(){return Gt("/events")},async create(t){return Gt("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return Gt(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return Gt(`/events/${t}`,{method:"DELETE"})}},dM={async create(t){return Gt("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return Gt(`/registrations/event/${t}`)},async markEmailSent(t){return Gt(`/registrations/${t}/email-sent`,{method:"PATCH"})}};function hM(){const[t,e]=E.useState(null),[n,r]=E.useState([]),[s,i]=E.useState(!0),[o,a]=E.useState(null);E.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0),a(null);const f=await lp.getBySlug("brooklyn-hearts-club");e(f);const m=await Ec.getByOrganization(f.id);r(m)}catch(f){console.error("Error loading Brooklyn Hearts Club data:",f),a(f instanceof Error?f.message:"Failed to load data")}finally{i(!1)}};return{organization:t,events:n,loading:s,error:o,refreshEvents:async()=>{if(t)try{const f=await Ec.getByOrganization(t.id);r(f)}catch(f){console.error("Error refreshing events:",f)}},reload:u}}function tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function fM(t,e){const n=E.createContext(e),r=i=>{const{children:o,...a}=i,u=E.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function pd(t,e=[]){let n=[];function r(i,o){const a=E.createContext(o),u=n.length;n=[...n,o];const c=m=>{var y;const{scope:p,children:w,..._}=m,x=((y=p==null?void 0:p[t])==null?void 0:y[u])||a,A=E.useMemo(()=>_,Object.values(_));return d.jsx(x.Provider,{value:A,children:w})};c.displayName=i+"Provider";function f(m,p){var x;const w=((x=p==null?void 0:p[t])==null?void 0:x[u])||a,_=E.useContext(w);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,pM(s,...e)]}function pM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Oa=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},mM=t0[" useId ".trim().toString()]||(()=>{}),gM=0;function ta(t){const[e,n]=E.useState(mM());return Oa(()=>{n(r=>r??String(gM++))},[t]),e?`radix-${e}`:""}var yM=t0[" useInsertionEffect ".trim().toString()]||Oa;function mg({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=vM({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const f=E.useRef(t!==void 0);E.useEffect(()=>{const m=f.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const c=E.useCallback(f=>{var m;if(a){const p=_M(f)?f(t):f;p!==t&&((m=o.current)==null||m.call(o,p))}else i(f)},[a,t,i,o]);return[u,c]}function vM({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),i=E.useRef(e);return yM(()=>{i.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function _M(t){return typeof t=="function"}var wM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=wM.reduce((t,e)=>{const n=ka(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function EM(t,e){t&&am.flushSync(()=>t.dispatchEvent(e))}function Ui(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xM(t,e=globalThis==null?void 0:globalThis.document){const n=Ui(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TM="DismissableLayer",up="dismissableLayer.update",IM="dismissableLayer.pointerDownOutside",SM="dismissableLayer.focusOutside",Nw,z1=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B1=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=E.useContext(z1),[f,m]=E.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=E.useState({}),_=jn(e,C=>m(C)),x=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(A),v=f?x.indexOf(f):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,D=v>=y,L=RM(C=>{const T=C.target,R=[...c.branches].some(b=>b.contains(T));!D||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),F=bM(C=>{const T=C.target;[...c.branches].some(b=>b.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return xM(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),E.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Nw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),kw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Nw)}},[f,p,n,c]),E.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),kw())},[f,c]),E.useEffect(()=>{const C=()=>w({});return document.addEventListener(up,C),()=>document.removeEventListener(up,C)},[]),d.jsx(gt.div,{...u,ref:_,style:{pointerEvents:S?D?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,F.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,L.onPointerDownCapture)})});B1.displayName=TM;var CM="DismissableLayerBranch",AM=E.forwardRef((t,e)=>{const n=E.useContext(z1),r=E.useRef(null),s=jn(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(gt.div,{...t,ref:s})});AM.displayName=CM;function RM(t,e=globalThis==null?void 0:globalThis.document){const n=Ui(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){$1(IM,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bM(t,e=globalThis==null?void 0:globalThis.document){const n=Ui(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&$1(SM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kw(){const t=new CustomEvent(up);document.dispatchEvent(t)}function $1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?EM(s,i):s.dispatchEvent(i)}var kh="focusScope.autoFocusOnMount",Ph="focusScope.autoFocusOnUnmount",Pw={bubbles:!1,cancelable:!0},NM="FocusScope",W1=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=E.useState(null),c=Ui(s),f=Ui(i),m=E.useRef(null),p=jn(e,x=>u(x)),w=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let x=function(S){if(w.paused||!a)return;const D=S.target;a.contains(D)?m.current=D:_r(m.current,{select:!0})},A=function(S){if(w.paused||!a)return;const D=S.relatedTarget;D!==null&&(a.contains(D)||_r(m.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const L of S)L.removedNodes.length>0&&_r(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",A);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",A),v.disconnect()}}},[r,a,w.paused]),E.useEffect(()=>{if(a){Ow.add(w);const x=document.activeElement;if(!a.contains(x)){const y=new CustomEvent(kh,Pw);a.addEventListener(kh,c),a.dispatchEvent(y),y.defaultPrevented||(kM(LM(H1(a)),{select:!0}),document.activeElement===x&&_r(a))}return()=>{a.removeEventListener(kh,c),setTimeout(()=>{const y=new CustomEvent(Ph,Pw);a.addEventListener(Ph,f),a.dispatchEvent(y),y.defaultPrevented||_r(x??document.body,{select:!0}),a.removeEventListener(Ph,f),Ow.remove(w)},0)}}},[a,c,f,w]);const _=E.useCallback(x=>{if(!n&&!r||w.paused)return;const A=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(A&&y){const v=x.currentTarget,[S,D]=PM(v);S&&D?!x.shiftKey&&y===D?(x.preventDefault(),n&&_r(S,{select:!0})):x.shiftKey&&y===S&&(x.preventDefault(),n&&_r(D,{select:!0})):y===v&&x.preventDefault()}},[n,r,w.paused]);return d.jsx(gt.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});W1.displayName=NM;function kM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_r(r,{select:e}),document.activeElement!==n)return}function PM(t){const e=H1(t),n=Dw(e,t),r=Dw(e.reverse(),t);return[n,r]}function H1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dw(t,e){for(const n of t)if(!DM(n,{upTo:e}))return n}function DM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OM(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&OM(t)&&e&&t.select()}}var Ow=jM();function jM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=jw(t,e),t.unshift(e)},remove(e){var n;t=jw(t,e),(n=t[0])==null||n.resume()}}}function jw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LM(t){return t.filter(e=>e.tagName!=="A")}var VM="Portal",q1=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=E.useState(!1);Oa(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ob.createPortal(d.jsx(gt.div,{...r,ref:e}),o):null});q1.displayName=VM;function MM(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var nl=t=>{const{present:e,children:n}=t,r=FM(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=jn(r.ref,UM(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};nl.displayName="Presence";function FM(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[a,u]=MM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=Kl(r.current);i.current=a==="mounted"?c:"none"},[a]),Oa(()=>{const c=r.current,f=s.current;if(f!==t){const p=i.current,w=Kl(c);t?u("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(f&&p!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Oa(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,m=w=>{const x=Kl(r.current).includes(w.animationName);if(w.target===e&&x&&(u("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},p=w=>{w.target===e&&(i.current=Kl(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Kl(t){return(t==null?void 0:t.animationName)||"none"}function UM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dh=0;function zM(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Lw()),document.body.insertAdjacentElement("beforeend",t[1]??Lw()),Dh++,()=>{Dh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Dh--}},[])}function Lw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xn=function(){return xn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xn.apply(this,arguments)};function G1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Su="right-scroll-bar-position",Cu="width-before-scroll-bar",$M="with-scroll-bars-hidden",WM="--removed-body-scroll-bar-size";function Oh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HM(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var qM=typeof window<"u"?E.useLayoutEffect:E.useEffect,Vw=new WeakMap;function GM(t,e){var n=HM(null,function(r){return t.forEach(function(s){return Oh(s,r)})});return qM(function(){var r=Vw.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Oh(a,null)}),i.forEach(function(a){s.has(a)||Oh(a,o)})}Vw.set(n,t)},[t]),n}function KM(t){return t}function QM(t,e){e===void 0&&(e=KM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return s}function YM(t){t===void 0&&(t={});var e=QM(null);return e.options=xn({async:!0,ssr:!1},t),e}var K1=function(t){var e=t.sideCar,n=G1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,xn({},n))};K1.isSideCarExport=!0;function XM(t,e){return t.useMedium(e),K1}var Q1=YM(),jh=function(){},md=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:jh,onWheelCapture:jh,onTouchMoveCapture:jh}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,f=t.enabled,m=t.shards,p=t.sideCar,w=t.noRelative,_=t.noIsolation,x=t.inert,A=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,S=t.gapMode,D=G1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=p,F=GM([n,e]),C=xn(xn({},D),s);return E.createElement(E.Fragment,null,f&&E.createElement(L,{sideCar:Q1,removeScrollBar:c,shards:m,noRelative:w,noIsolation:_,inert:x,setCallbacks:i,allowPinchZoom:!!A,lockRef:n,gapMode:S}),o?E.cloneElement(E.Children.only(a),xn(xn({},C),{ref:F})):E.createElement(v,xn({},C,{className:u,ref:F}),a))});md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};md.classNames={fullWidth:Cu,zeroRight:Su};var JM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JM();return e&&t.setAttribute("nonce",e),t}function e6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function t6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var n6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ZM())&&(e6(e,n),t6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},r6=function(){var t=n6();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Y1=function(){var t=r6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},s6={left:0,top:0,right:0,gap:0},Lh=function(t){return parseInt(t||"",10)||0},i6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Lh(n),Lh(r),Lh(s)]},o6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return s6;var e=i6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},a6=Y1(),Ci="data-scroll-locked",l6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($M,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Su,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ci,`] {
    `).concat(WM,": ").concat(a,`px;
  }
`)},Mw=function(){var t=parseInt(document.body.getAttribute(Ci)||"0",10);return isFinite(t)?t:0},u6=function(){E.useEffect(function(){return document.body.setAttribute(Ci,(Mw()+1).toString()),function(){var t=Mw()-1;t<=0?document.body.removeAttribute(Ci):document.body.setAttribute(Ci,t.toString())}},[])},c6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;u6();var i=E.useMemo(function(){return o6(s)},[s]);return E.createElement(a6,{styles:l6(i,!e,s,n?"":"!important")})},cp=!1;if(typeof window<"u")try{var Ql=Object.defineProperty({},"passive",{get:function(){return cp=!0,!0}});window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{cp=!1}var Gs=cp?{passive:!1}:!1,d6=function(t){return t.tagName==="TEXTAREA"},X1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!d6(t)&&n[e]==="visible")},h6=function(t){return X1(t,"overflowY")},f6=function(t){return X1(t,"overflowX")},Fw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=J1(t,r);if(s){var i=Z1(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},p6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},m6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},J1=function(t,e){return t==="v"?h6(e):f6(e)},Z1=function(t,e){return t==="v"?p6(e):m6(e)},g6=function(t,e){return t==="h"&&e==="rtl"?-1:1},y6=function(t,e,n,r,s){var i=g6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,f=o>0,m=0,p=0;do{if(!a)break;var w=Z1(t,a),_=w[0],x=w[1],A=w[2],y=x-A-i*_;(_||y)&&J1(t,a)&&(m+=y,p+=_);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(c=!0),c},Yl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Uw=function(t){return[t.deltaX,t.deltaY]},zw=function(t){return t&&"current"in t?t.current:t},v6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},w6=0,Ks=[];function E6(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(w6++)[0],i=E.useState(Y1)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=BM([t.lockRef.current],(t.shards||[]).map(zw),!0).filter(Boolean);return x.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(x,A){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=Yl(x),v=n.current,S="deltaX"in x?x.deltaX:v[0]-y[0],D="deltaY"in x?x.deltaY:v[1]-y[1],L,F=x.target,C=Math.abs(S)>Math.abs(D)?"h":"v";if("touches"in x&&C==="h"&&F.type==="range")return!1;var T=Fw(C,F);if(!T)return!0;if(T?L=C:(L=C==="v"?"h":"v",T=Fw(C,F)),!T)return!1;if(!r.current&&"changedTouches"in x&&(S||D)&&(r.current=L),!L)return!0;var R=r.current||L;return y6(R,A,x,R==="h"?S:D)},[]),u=E.useCallback(function(x){var A=x;if(!(!Ks.length||Ks[Ks.length-1]!==i)){var y="deltaY"in A?Uw(A):Yl(A),v=e.current.filter(function(L){return L.name===A.type&&(L.target===A.target||A.target===L.shadowParent)&&v6(L.delta,y)})[0];if(v&&v.should){A.cancelable&&A.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(zw).filter(Boolean).filter(function(L){return L.contains(A.target)}),D=S.length>0?a(A,S[0]):!o.current.noIsolation;D&&A.cancelable&&A.preventDefault()}}},[]),c=E.useCallback(function(x,A,y,v){var S={name:x,delta:A,target:y,should:v,shadowParent:x6(y)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(D){return D!==S})},1)},[]),f=E.useCallback(function(x){n.current=Yl(x),r.current=void 0},[]),m=E.useCallback(function(x){c(x.type,Uw(x),x.target,a(x,t.lockRef.current))},[]),p=E.useCallback(function(x){c(x.type,Yl(x),x.target,a(x,t.lockRef.current))},[]);E.useEffect(function(){return Ks.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Gs),document.addEventListener("touchmove",u,Gs),document.addEventListener("touchstart",f,Gs),function(){Ks=Ks.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,Gs),document.removeEventListener("touchmove",u,Gs),document.removeEventListener("touchstart",f,Gs)}},[]);var w=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(i,{styles:_6(s)}):null,w?E.createElement(c6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function x6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const T6=XM(Q1,E6);var eS=E.forwardRef(function(t,e){return E.createElement(md,xn({},t,{ref:e,sideCar:T6}))});eS.classNames=md.classNames;var I6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qs=new WeakMap,Xl=new WeakMap,Jl={},Vh=0,tS=function(t){return t&&(t.host||tS(t.parentNode))},S6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},C6=function(t,e,n,r){var s=S6(e,Array.isArray(t)?t:[t]);Jl[n]||(Jl[n]=new WeakMap);var i=Jl[n],o=[],a=new Set,u=new Set(s),c=function(m){!m||a.has(m)||(a.add(m),c(m.parentNode))};s.forEach(c);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(p){if(a.has(p))f(p);else try{var w=p.getAttribute(r),_=w!==null&&w!=="false",x=(Qs.get(p)||0)+1,A=(i.get(p)||0)+1;Qs.set(p,x),i.set(p,A),o.push(p),x===1&&_&&Xl.set(p,!0),A===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return f(e),a.clear(),Vh++,function(){o.forEach(function(m){var p=Qs.get(m)-1,w=i.get(m)-1;Qs.set(m,p),i.set(m,w),p||(Xl.has(m)||m.removeAttribute(r),Xl.delete(m)),w||m.removeAttribute(n)}),Vh--,Vh||(Qs=new WeakMap,Qs=new WeakMap,Xl=new WeakMap,Jl={})}},A6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=I6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),C6(r,s,n,"aria-hidden")):function(){return null}},gd="Dialog",[nS,T3]=pd(gd),[R6,yn]=nS(gd),rS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=E.useRef(null),u=E.useRef(null),[c,f]=mg({prop:r,defaultProp:s??!1,onChange:i,caller:gd});return d.jsx(R6,{scope:e,triggerRef:a,contentRef:u,contentId:ta(),titleId:ta(),descriptionId:ta(),open:c,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};rS.displayName=gd;var sS="DialogTrigger",b6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yn(sS,n),i=jn(e,s.triggerRef);return d.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vg(s.open),...r,ref:i,onClick:tt(t.onClick,s.onOpenToggle)})});b6.displayName=sS;var gg="DialogPortal",[N6,iS]=nS(gg,{forceMount:void 0}),oS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=yn(gg,e);return d.jsx(N6,{scope:e,forceMount:n,children:E.Children.map(r,o=>d.jsx(nl,{present:n||i.open,children:d.jsx(q1,{asChild:!0,container:s,children:o})}))})};oS.displayName=gg;var xc="DialogOverlay",aS=E.forwardRef((t,e)=>{const n=iS(xc,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yn(xc,t.__scopeDialog);return i.modal?d.jsx(nl,{present:r||i.open,children:d.jsx(P6,{...s,ref:e})}):null});aS.displayName=xc;var k6=ka("DialogOverlay.RemoveScroll"),P6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yn(xc,n);return d.jsx(eS,{as:k6,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(gt.div,{"data-state":vg(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ds="DialogContent",lS=E.forwardRef((t,e)=>{const n=iS(Ds,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yn(Ds,t.__scopeDialog);return d.jsx(nl,{present:r||i.open,children:i.modal?d.jsx(D6,{...s,ref:e}):d.jsx(O6,{...s,ref:e})})});lS.displayName=Ds;var D6=E.forwardRef((t,e)=>{const n=yn(Ds,t.__scopeDialog),r=E.useRef(null),s=jn(e,n.contentRef,r);return E.useEffect(()=>{const i=r.current;if(i)return A6(i)},[]),d.jsx(uS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:tt(t.onFocusOutside,i=>i.preventDefault())})}),O6=E.forwardRef((t,e)=>{const n=yn(Ds,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return d.jsx(uS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),uS=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=yn(Ds,n),u=E.useRef(null),c=jn(e,u);return zM(),d.jsxs(d.Fragment,{children:[d.jsx(W1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(B1,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(j6,{titleId:a.titleId}),d.jsx(V6,{contentRef:u,descriptionId:a.descriptionId})]})]})}),yg="DialogTitle",cS=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yn(yg,n);return d.jsx(gt.h2,{id:s.titleId,...r,ref:e})});cS.displayName=yg;var dS="DialogDescription",hS=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yn(dS,n);return d.jsx(gt.p,{id:s.descriptionId,...r,ref:e})});hS.displayName=dS;var fS="DialogClose",pS=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yn(fS,n);return d.jsx(gt.button,{type:"button",...r,ref:e,onClick:tt(t.onClick,()=>s.onOpenChange(!1))})});pS.displayName=fS;function vg(t){return t?"open":"closed"}var mS="DialogTitleWarning",[I3,gS]=fM(mS,{contentName:Ds,titleName:yg,docsSlug:"dialog"}),j6=({titleId:t})=>{const e=gS(mS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},L6="DialogDescriptionWarning",V6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gS(L6).contentName}}.`;return E.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},M6=rS,F6=oS,yS=aS,vS=lS,_S=cS,wS=hS,U6=pS;const z6=M6,B6=F6,ES=E.forwardRef(({className:t,...e},n)=>d.jsx(yS,{ref:n,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ES.displayName=yS.displayName;const xS=E.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(B6,{children:[d.jsx(ES,{}),d.jsxs(vS,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(U6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(pg,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xS.displayName=vS.displayName;const TS=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});TS.displayName="DialogHeader";const IS=E.forwardRef(({className:t,...e},n)=>d.jsx(_S,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",t),...e}));IS.displayName=_S.displayName;const SS=E.forwardRef(({className:t,...e},n)=>d.jsx(wS,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));SS.displayName=wS.displayName;const ct=E.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ct.displayName="Input";var $6="Label",CS=E.forwardRef((t,e)=>d.jsx(gt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CS.displayName=$6;var AS=CS;const W6=dg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=E.forwardRef(({className:t,...e},n)=>d.jsx(AS,{ref:n,className:We(W6(),t),...e}));Fe.displayName=AS.displayName;const _g=E.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));_g.displayName="Textarea";function RS({event:t}){const[e,n]=E.useState(!1),[r,s]=E.useState("rsvp"),[i,o]=E.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:""}),[a,u]=E.useState(!1),[c,f]=E.useState(!1),[m,p]=E.useState(null),w=()=>t.eventbriteUrl?"eventbrite":t.presaleEnabled?"presale":t.registrationRequired||t.price.type==="free"?"rsvp":null,_=y=>{s(y),n(!0),f(!1),p(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:""})},x=async y=>{y.preventDefault(),u(!0),p(null);try{let v;r==="presale"?v="presale_request":v=i.rsvpType,await dM.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:v,notes:i.notes||void 0}),f(!0),setTimeout(()=>{n(!1),f(!1)},2e3)}catch(v){console.error("Error submitting registration:",v),v instanceof Iu?p(v.message):p("Failed to submit registration. Please try again.")}finally{u(!1)}},A=w();return A?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[A==="eventbrite"&&d.jsxs(ee,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",d.jsx(fd,{className:"ml-2 h-4 w-4"})]}),A==="presale"&&d.jsxs(ee,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>_("presale"),children:["Request Presale Info",d.jsx(Pa,{className:"ml-2 h-4 w-4"})]}),A==="rsvp"&&d.jsxs(ee,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>_("rsvp"),children:["RSVP",d.jsx(Zt,{className:"ml-2 h-4 w-4"})]})]}),d.jsx(z6,{open:e,onOpenChange:n,children:d.jsxs(xS,{className:"sm:max-w-md",children:[d.jsxs(TS,{children:[d.jsx(IS,{className:"flex items-center gap-2",children:r==="presale"?d.jsxs(d.Fragment,{children:[d.jsx(Pa,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):d.jsxs(d.Fragment,{children:[d.jsx(Zt,{className:"h-5 w-5 text-purple-600"}),"RSVP for Event"]})}),d.jsx(SS,{children:r==="presale"?d.jsxs(d.Fragment,{children:["Get notified when tickets become available for ",d.jsx("strong",{children:t.title})]}):d.jsxs(d.Fragment,{children:["Let us know if you're planning to attend ",d.jsx("strong",{children:t.title})]})})]}),c?d.jsxs("div",{className:"text-center py-6",children:[d.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(oM,{className:"h-8 w-8 text-green-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="presale"?"Request Sent!":"RSVP Submitted!"}),d.jsx("p",{className:"text-gray-600",children:r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for letting us know! See you at the event."})]}):d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fe,{htmlFor:"name",children:"Name *"}),d.jsx(ct,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:y=>o(v=>({...v,name:y.target.value})),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Fe,{htmlFor:"email",children:["Email ",r==="presale"?"*":"(optional)"]}),d.jsx(ct,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:y=>o(v=>({...v,email:y.target.value})),required:r==="presale"})]}),r==="rsvp"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fe,{children:"Will you attend?"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ee,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(y=>({...y,rsvpType:"rsvp_yes"})),children:"Yes"}),d.jsx(ee,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(y=>({...y,rsvpType:"rsvp_maybe"})),children:"Maybe"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Fe,{htmlFor:"notes",children:"Notes (optional)"}),d.jsx(_g,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:y=>o(v=>({...v,notes:y.target.value})),rows:2})]}),m&&d.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:m}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(ee,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),d.jsx(ee,{type:"submit",disabled:a||!i.name||r==="presale"&&!i.email,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":r==="presale"?"Send Request":"Submit RSVP"})]})]})]})})]}):null}function H6(){const{organization:t,events:e,loading:n,error:r}=hM(),[s,i]=E.useState([]),o=a=>{i(u=>u.includes(a)?u.filter(c=>c!==a):[...u,a])};return n?d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(fg,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),d.jsx("p",{className:"text-gray-600",children:"Loading Brooklyn Hearts Club..."})]})}):r?d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",r]}),d.jsx(ee,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):t?d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[d.jsx("img",{src:"/brooklyn-hearts-club-banner.svg?height=320&width=1200",alt:"Art Club Header",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/30"}),d.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:d.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[d.jsx("img",{src:"/brooklyn-hearts-club-logo.svg?height=80&width=80",alt:"Brooklyn Hearts club Logo",width:80,height:80,className:"rounded-full border-4 border-white"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-4xl font-bold",children:t.name}),d.jsx("p",{className:"text-lg text-gray-200",children:t.description})]})]})})]}),d.jsx("section",{className:"py-12 bg-white",children:d.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",t.name]}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.bio})]})})}),d.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[d.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),e.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):d.jsx("div",{className:"space-y-6",children:e.map(a=>d.jsx(Re,{className:"hover:shadow-lg transition-shadow duration-300",children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[d.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(dn,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:a.category}),a.isRecurring&&d.jsxs(dn,{variant:"outline",className:"flex items-center gap-1",children:[d.jsx(F1,{className:"h-3 w-3"}),"Recurring"]}),d.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.series&&d.jsx("div",{className:"mb-2",children:d.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",a.series.name]})}),d.jsx("p",{className:"text-gray-600 mb-3",children:a.description}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zt,{className:"h-4 w-4 mr-2"}),new Date(a.date).toLocaleDateString()," • ",a.time]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Da,{className:"h-4 w-4 mr-2"}),a.location]})]}),d.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",a.price.description]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[d.jsx(RS,{event:a}),d.jsxs(ee,{variant:"outline",onClick:()=>o(a.id),className:"flex items-center gap-2",children:["Details",s.includes(a.id)?d.jsx(L1,{className:"h-4 w-4"}):d.jsx(j1,{className:"h-4 w-4"})]})]})]}),s.includes(a.id)&&d.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[a.series&&d.jsxs("div",{children:[d.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",a.series.name]}),d.jsx("p",{className:"text-gray-600 text-sm",children:a.series.description})]}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),d.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.fullDescription}),d.jsx("div",{className:"text-sm text-gray-600",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," ",a.address]})})]}),a.isRecurring&&a.recurringDates&&d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),d.jsx("div",{className:"space-y-2",children:a.recurringDates.map((u,c)=>d.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[d.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:u.date}),d.jsxs("div",{children:[d.jsxs("span",{className:"font-medium text-gray-900",children:[u.theme,":"]}),d.jsx("span",{className:"text-gray-600 ml-1",children:u.description})]})]},c))})]})]})]})})},a.id))})]})}),d.jsx("section",{id:"about",className:"py-20",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[d.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",t.name]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsx("div",{children:d.jsx("img",{src:"/brooklyn-hearts-club-about-images-1.svg?height=400&width=600",alt:"Art Club Members",width:600,height:400,className:"rounded-lg shadow-lg"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),d.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Founded in 2018 by a group of passionate local artists, Brooklyn Hearts club began as a small gathering in a converted warehouse space. What started as weekly sketch sessions has grown into a thriving community of over 200 members from all walks of life."}),d.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our club welcomes artists of all skill levels, from complete beginners picking up a brush for the first time to seasoned professionals looking to connect with fellow creatives. We offer a diverse range of activities including workshops, exhibitions, collaborative projects, and social events."}),d.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),d.jsxs("ul",{className:"space-y-2 text-gray-700",children:[d.jsxs("li",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Weekly open studio sessions with shared materials"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Monthly workshops led by professional artists"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Quarterly exhibitions showcasing member artwork"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Access to professional-grade equipment and studio space"]}),d.jsxs("li",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Networking opportunities with local galleries and art organizations"]})]}),d.jsxs("div",{className:"pt-6",children:[d.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",children:d.jsx(M1,{className:"h-6 w-6"})}),d.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Bluesky",children:d.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.015.27-.031.402-.05-.132.019-.266.035-.402.05-2.67-.296-5.568.628-6.383 3.364C.378 17.804 0 22.764 0 23.452c0 .688.139 1.86.902 2.203.659.299 1.664.621 4.3-1.239C7.954 22.474 10.913 18.535 12 16.421c1.087 2.114 4.046 6.053 6.798 7.995 2.636 1.86 3.641 1.538 4.3 1.239.763-.343.902-1.515.902-2.203 0-.688-.378-5.648-.624-6.477-.815-2.736-3.713-3.66-6.383-3.364-.136.015-.27-.031-.402.05.132-.019.266.035.402-.50 2.67.296 5.568-.628 6.383-3.364.246-.829.624-5.789.624-6.479 0-.688-.139-1.86-.902-2.203-.659-.299-1.664-.621-4.3 1.239C16.046 4.747 13.087 8.686 12 10.8z"})})}),d.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"LinkTree",children:d.jsx(fd,{className:"h-6 w-6"})}),d.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",children:d.jsx(Zt,{className:"h-6 w-6"})}),d.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",children:d.jsx(V1,{className:"h-6 w-6"})})]})]})]})]})]})}),d.jsx("footer",{className:"bg-gray-900 text-white py-8",children:d.jsxs("div",{className:"container mx-auto px-4 text-center",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),d.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),d.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[d.jsxs("div",{className:"group relative",children:[d.jsx(Da,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"123 Art Street, Creative District"})]}),d.jsxs("div",{className:"group relative",children:[d.jsx(Pa,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"team@heyvoxxy"})]}),d.jsxs("div",{className:"group relative",children:[d.jsx("svg",{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Connect on LinkedIn"})]})]})]}),d.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:d.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:d.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}const bS=od(tl,"organizations"),NS=od(tl,"events");od(tl,"registrations");od(tl,"users");const q6=async t=>(await t1(bS,{...t,createdAt:ue.now(),updatedAt:ue.now()})).id,Lo=async t=>{const e=YI(bS,XI("slug","==",t),Uj(1)),n=await e1(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},G6=async(t,e)=>{const n=$I(tl,"organizations",t),r={...e,updatedAt:ue.now()};await Hj(n,r);const s=await Wj(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},K6=async t=>(await t1(NS,{...t,date:ue.fromDate(t.date),endDate:t.endDate?ue.fromDate(t.endDate):null,createdAt:ue.now(),updatedAt:ue.now()})).id,dp=async t=>{const e=YI(NS,XI("organizationId","==",t),Fj("date","desc"));return(await e1(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})};function Zl(){return{apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const kS={development:{name:"development",dataSource:"firebase",firebaseConfig:Zl(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-staging.run.app/api",firebaseConfig:Zl(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Zl(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Zl(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function Tc(){const t="development";if(kS[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function wg(){const t=Tc();return kS[t]}function Eg(t){return wg().features[t]}function Bw(){return wg().dataSource}function $w(){return wg().apiBaseUrl}function PS(t){const[e,n]=E.useState(null),[r,s]=E.useState([]),[i,o]=E.useState(!0),[a,u]=E.useState(null),c=E.useCallback(async()=>{try{o(!0),u(null);const p=Tc(),w=Bw(),_=$w();if(console.log(`Loading data for ${t} in ${p} environment using ${w}`),w==="firebase"){console.log("Using Firebase directly");const x=await Lo(t);if(!x)throw new Error(`Organization '${t}' not found in ${p} environment`);n(x);const A=await dp(x.id);s(A)}else if(w==="api"&&_){console.log(`Using API: ${_}`);const x=await lp.getBySlug(t);n(x);const A=await Ec.getByOrganization(x.id);s(A)}else throw new Error(`Invalid data source configuration for ${p} environment`)}catch(p){console.error(`Error loading ${t} data:`,p),u(p instanceof Error?p.message:"Failed to load data")}finally{o(!1)}},[t]);return E.useEffect(()=>{t&&c()},[t,c]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const p=await Ec.getByOrganization(e.id);s(p)}catch(p){console.error("Error refreshing events:",p)}},updateOrganization:async p=>{if(e)try{const w=Tc(),_=Bw(),x=$w();if(console.log(`Updating organization in ${w} environment using ${_}`),_==="firebase"){console.log("Updating organization via Firebase (development/sandbox)");const A=await G6(e.id,p);n(A),console.log(`✅ Organization updated successfully in Firebase (${w})`)}else if(_==="api"&&x){console.log(`Updating organization via API: ${x}`);const A=await lp.update(e.id,p);n(A)}else throw new Error(`Invalid update configuration for ${w} environment`)}catch(w){throw console.error("Error updating organization:",w),w}},reload:c}}function DS({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=E.useState({name:t.name,description:t.description,bio:t.bio,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress,theme:{primaryColor:t.settings.theme.primaryColor,backgroundColor:t.settings.theme.backgroundColor}}}),[a,u]=E.useState(!1),c=s||a,f=(_,x)=>{o(A=>({...A,[_]:x}))},m=(_,x,A)=>{o(y=>({...y,[_]:{...y[_],[x]:A}}))},p=(_,x)=>{o(A=>({...A,settings:{...A.settings,theme:{...A.settings.theme,[_]:x}}}))},w=async _=>{_.preventDefault(),s||u(!0);try{await e(i)}catch(x){console.error("Failed to save organization:",x)}finally{s||u(!1)}};return d.jsxs("div",{className:r?"":"p-6",children:[!r&&d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),d.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),d.jsxs(ee,{onClick:n,variant:"outline",size:"sm",children:[d.jsx(pg,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),d.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Basic Information"}),d.jsx(Vt,{children:"Core details about your organization"})]}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"name",children:"Organization Name"}),d.jsx(ct,{id:"name",value:i.name,onChange:_=>f("name",_.target.value),placeholder:"Organization Name"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"contactEmail",children:"Contact Email"}),d.jsx(ct,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:_=>f("contactEmail",_.target.value),placeholder:"contact@organization.com"})]})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"description",children:"Short Description"}),d.jsx(ct,{id:"description",value:i.description,onChange:_=>f("description",_.target.value),placeholder:"Brief description for headers and previews"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"bio",children:"Full Bio"}),d.jsx(_g,{id:"bio",value:i.bio,onChange:_=>f("bio",_.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Media & Branding"}),d.jsx(Vt,{children:"Images and visual identity for your organization"})]}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"logoUrl",children:"Logo URL"}),d.jsx(ct,{id:"logoUrl",value:i.logoUrl,onChange:_=>f("logoUrl",_.target.value),placeholder:"https://example.com/logo.png"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"bannerUrl",children:"Banner Image URL"}),d.jsx(ct,{id:"bannerUrl",value:i.bannerUrl,onChange:_=>f("bannerUrl",_.target.value),placeholder:"https://example.com/banner.jpg"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"primaryColor",children:"Primary Color"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{id:"primaryColor",value:i.settings.theme.primaryColor,onChange:_=>p("primaryColor",_.target.value),placeholder:"#8b5cf6"}),d.jsx("input",{type:"color",value:i.settings.theme.primaryColor,onChange:_=>p("primaryColor",_.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"backgroundColor",children:"Background Color"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{id:"backgroundColor",value:i.settings.theme.backgroundColor,onChange:_=>p("backgroundColor",_.target.value),placeholder:"#ffffff"}),d.jsx("input",{type:"color",value:i.settings.theme.backgroundColor,onChange:_=>p("backgroundColor",_.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]})]})]})]}),d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Default Location"}),d.jsx(Vt,{children:"Default venue information for events"})]}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"defaultLocation",children:"Venue Name"}),d.jsx(ct,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:_=>m("settings","defaultLocation",_.target.value),placeholder:"Venue Name"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"defaultAddress",children:"Address"}),d.jsx(ct,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:_=>m("settings","defaultAddress",_.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Social Media & Links"}),d.jsx(Vt,{children:"Connect your social media accounts and external links"})]}),d.jsx(ze,{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"instagram",children:"Instagram Handle"}),d.jsx(ct,{id:"instagram",value:i.socialLinks.instagram,onChange:_=>m("socialLinks","instagram",_.target.value),placeholder:"@yourhandle"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"website",children:"Website URL"}),d.jsx(ct,{id:"website",value:i.socialLinks.website,onChange:_=>m("socialLinks","website",_.target.value),placeholder:"https://yourwebsite.com"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"eventbrite",children:"Eventbrite URL"}),d.jsx(ct,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:_=>m("socialLinks","eventbrite",_.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),d.jsxs("div",{children:[d.jsx(Fe,{htmlFor:"venmo",children:"Venmo Handle"}),d.jsx(ct,{id:"venmo",value:i.socialLinks.venmo,onChange:_=>m("socialLinks","venmo",_.target.value),placeholder:"@yourvenmo"})]})]})})]}),!r&&d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx(ee,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),d.jsxs(ee,{type:"submit",disabled:c,children:[d.jsx(Rw,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Changes"]})]}),r&&d.jsx("div",{className:"sticky bottom-6 flex justify-center",children:d.jsxs(ee,{type:"submit",disabled:c,className:"shadow-lg",size:"lg",children:[d.jsx(Rw,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Changes"]})})]})]})}function Q6({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:u,error:c,updateOrganization:f}=PS(t),[m,p]=E.useState([]),[w,_]=E.useState(!1),x=y=>{p(v=>v.includes(y)?v.filter(S=>S!==y):[...v,y])},A=async y=>{try{await f(y),_(!1)}catch(v){console.error("Failed to save organization:",v)}};return u?d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(fg,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),d.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):c?d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",c]}),d.jsx(ee,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?d.jsxs("div",{className:"min-h-screen bg-white",children:[s&&Eg("adminControls")&&d.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[d.jsx(wa,{to:`/${t}/admin`,children:d.jsxs(ee,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[d.jsx(bw,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),w?d.jsxs(ee,{onClick:()=>_(!1),variant:"outline",size:"sm",children:[d.jsx(pg,{className:"h-4 w-4 mr-2"}),"Cancel"]}):d.jsxs(ee,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[d.jsx(bw,{className:"h-4 w-4 mr-2"}),"Quick Edit"]})]}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:d.jsx(DS,{organization:o,onSave:A,onCancel:()=>_(!1)})})}),d.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[d.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/30"}),d.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:d.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[d.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-4xl font-bold",children:o.name}),d.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),d.jsx("section",{className:"py-12 bg-white",children:d.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),d.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.bio})]})})}),d.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[d.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),a.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):d.jsx("div",{className:"space-y-6",children:a.map(y=>d.jsx(Re,{className:"hover:shadow-lg transition-shadow duration-300",children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[d.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(dn,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:y.category}),y.isRecurring&&d.jsxs(dn,{variant:"outline",className:"flex items-center gap-1",children:[d.jsx(F1,{className:"h-3 w-3"}),"Recurring"]}),d.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:y.title})]}),y.series&&d.jsx("div",{className:"mb-2",children:d.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",y.series.name]})}),d.jsx("p",{className:"text-gray-600 mb-3",children:y.description}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zt,{className:"h-4 w-4 mr-2"}),y.date instanceof Date?y.date.toLocaleDateString():new Date(y.date).toLocaleDateString()," • ",y.time]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Da,{className:"h-4 w-4 mr-2"}),y.location]})]}),d.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",y.price.description]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[d.jsx(RS,{event:{...y,date:y.date instanceof Date?y.date.toISOString():y.date,createdAt:y.createdAt instanceof Date?y.createdAt.toISOString():y.createdAt,updatedAt:y.updatedAt instanceof Date?y.updatedAt.toISOString():y.updatedAt}}),d.jsxs(ee,{variant:"outline",onClick:()=>x(y.id),className:"flex items-center gap-2",children:["Details",m.includes(y.id)?d.jsx(L1,{className:"h-4 w-4"}):d.jsx(j1,{className:"h-4 w-4"})]})]})]}),m.includes(y.id)&&d.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[y.series&&d.jsxs("div",{children:[d.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",y.series.name]}),d.jsx("p",{className:"text-gray-600 text-sm",children:y.series.description})]}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),d.jsx("p",{className:"text-gray-600 text-sm mb-3",children:y.fullDescription}),d.jsx("div",{className:"text-sm text-gray-600",children:d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," ",y.address]})})]}),y.isRecurring&&y.recurringDates&&d.jsxs("div",{children:[d.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),d.jsx("div",{className:"space-y-2",children:y.recurringDates.map((v,S)=>d.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[d.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:v.date}),d.jsxs("div",{children:[d.jsxs("span",{className:"font-medium text-gray-900",children:[v.theme,":"]}),d.jsx("span",{className:"text-gray-600 ml-1",children:v.description})]})]},S))})]})]})]})})},y.id))})]})}),d.jsx("section",{id:"about",className:"py-20",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[d.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsx("div",{children:d.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),d.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?d.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),d.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),d.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((y,v)=>d.jsxs("li",{className:"flex items-center",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),y]},v))})]}),d.jsxs("div",{className:"pt-6",children:[d.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),d.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&d.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:d.jsx(M1,{className:"h-6 w-6"})}),o.socialLinks.website&&d.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:d.jsx(fd,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&d.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:d.jsx(Zt,{className:"h-6 w-6"})}),o.socialLinks.venmo&&d.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:d.jsx(V1,{className:"h-6 w-6"})}),d.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:d.jsx(Pa,{className:"h-6 w-6"})})]})]})]})]})]})}),d.jsx("footer",{className:"bg-gray-900 text-white py-8",children:d.jsxs("div",{className:"container mx-auto px-4 text-center",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),d.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),d.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[d.jsxs("div",{className:"group relative",children:[d.jsx(Da,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),d.jsxs("div",{className:"group relative",children:[d.jsx(Pa,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),d.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:d.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):d.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:d.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function Y6(){const t={story:`
      <p>
        Voxxy Presents NYC emerged from the underground music scene in 2023, born out of a desire to create 
        authentic connections between emerging artists and passionate music lovers. What started as pop-up shows 
        in unconventional Brooklyn venues has evolved into a curated collective that champions the raw, 
        unfiltered creativity of New York's underground scene.
      </p>
      <p>
        We believe that the most powerful art happens in intimate spaces where barriers between performer and 
        audience dissolve. Our events aren't just concerts—they're communal experiences that celebrate the 
        beautiful chaos of creative expression in all its forms.
      </p>
    `,offerings:["Intimate showcases featuring 3-5 carefully curated underground artists","Monthly open mic nights for emerging talent to connect and grow","Pop-up events in unique Brooklyn venues and unconventional spaces","Artist development workshops and networking opportunities","Collaborative projects between musicians, visual artists, and performers","Community-driven events that prioritize authentic artistic expression"]};return d.jsx(Q6,{organizationSlug:"voxxy-presents-nyc",bannerImage:"/placeholder.jpg",logoImage:"/placeholder-logo.png",aboutImage:"/placeholder.jpg",showAdminControls:Eg("adminControls"),customContent:t})}function X6(t){const e=t+"CollectionProvider",[n,r]=pd(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:A,children:y}=x,v=vr.useRef(null),S=vr.useRef(new Map).current;return d.jsx(s,{scope:A,itemMap:S,collectionRef:v,children:y})};o.displayName=e;const a=t+"CollectionSlot",u=ka(a),c=vr.forwardRef((x,A)=>{const{scope:y,children:v}=x,S=i(a,y),D=jn(A,S.collectionRef);return d.jsx(u,{ref:D,children:v})});c.displayName=a;const f=t+"CollectionItemSlot",m="data-radix-collection-item",p=ka(f),w=vr.forwardRef((x,A)=>{const{scope:y,children:v,...S}=x,D=vr.useRef(null),L=jn(A,D),F=i(f,y);return vr.useEffect(()=>(F.itemMap.set(D,{ref:D,...S}),()=>void F.itemMap.delete(D))),d.jsx(p,{[m]:"",ref:L,children:v})});w.displayName=f;function _(x){const A=i(t+"CollectionConsumer",x);return vr.useCallback(()=>{const v=A.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(A.itemMap.values()).sort((F,C)=>S.indexOf(F.ref.current)-S.indexOf(C.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:c,ItemSlot:w},_,r]}var J6=E.createContext(void 0);function OS(t){const e=E.useContext(J6);return t||e||"ltr"}var Mh="rovingFocusGroup.onEntryFocus",Z6={bubbles:!1,cancelable:!0},rl="RovingFocusGroup",[hp,jS,e3]=X6(rl),[t3,LS]=pd(rl,[e3]),[n3,r3]=t3(rl),VS=E.forwardRef((t,e)=>d.jsx(hp.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(hp.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(s3,{...t,ref:e})})}));VS.displayName=rl;var s3=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...m}=t,p=E.useRef(null),w=jn(e,p),_=OS(i),[x,A]=mg({prop:o,defaultProp:a??null,onChange:u,caller:rl}),[y,v]=E.useState(!1),S=Ui(c),D=jS(n),L=E.useRef(!1),[F,C]=E.useState(0);return E.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Mh,S),()=>T.removeEventListener(Mh,S)},[S]),d.jsx(n3,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:x,onItemFocus:E.useCallback(T=>A(T),[A]),onItemShiftTab:E.useCallback(()=>v(!0),[]),onFocusableItemAdd:E.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:E.useCallback(()=>C(T=>T-1),[]),children:d.jsx(gt.div,{tabIndex:y||F===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:tt(t.onMouseDown,()=>{L.current=!0}),onFocus:tt(t.onFocus,T=>{const R=!L.current;if(T.target===T.currentTarget&&R&&!y){const b=new CustomEvent(Mh,Z6);if(T.currentTarget.dispatchEvent(b),!b.defaultPrevented){const k=D().filter(qe=>qe.focusable),P=k.find(qe=>qe.active),N=k.find(qe=>qe.id===x),$t=[P,N,...k].filter(Boolean).map(qe=>qe.ref.current);US($t,f)}}L.current=!1}),onBlur:tt(t.onBlur,()=>v(!1))})})}),MS="RovingFocusGroupItem",FS=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,u=ta(),c=i||u,f=r3(MS,n),m=f.currentTabStopId===c,p=jS(n),{onFocusableItemAdd:w,onFocusableItemRemove:_,currentTabStopId:x}=f;return E.useEffect(()=>{if(r)return w(),()=>_()},[r,w,_]),d.jsx(hp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(gt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:tt(t.onMouseDown,A=>{r?f.onItemFocus(c):A.preventDefault()}),onFocus:tt(t.onFocus,()=>f.onItemFocus(c)),onKeyDown:tt(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){f.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const y=a3(A,f.orientation,f.dir);if(y!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let S=p().filter(D=>D.focusable).map(D=>D.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const D=S.indexOf(A.currentTarget);S=f.loop?l3(S,D+1):S.slice(D+1)}setTimeout(()=>US(S))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});FS.displayName=MS;var i3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function a3(t,e,n){const r=o3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return i3[r]}function US(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function l3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var u3=VS,c3=FS,yd="Tabs",[d3,S3]=pd(yd,[LS]),zS=LS(),[h3,xg]=d3(yd),BS=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...c}=t,f=OS(a),[m,p]=mg({prop:r,onChange:s,defaultProp:i??"",caller:yd});return d.jsx(h3,{scope:n,baseId:ta(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:u,children:d.jsx(gt.div,{dir:f,"data-orientation":o,...c,ref:e})})});BS.displayName=yd;var $S="TabsList",WS=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=xg($S,n),o=zS(n);return d.jsx(u3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(gt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});WS.displayName=$S;var HS="TabsTrigger",qS=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=xg(HS,n),a=zS(n),u=QS(o.baseId,r),c=YS(o.baseId,r),f=r===o.value;return d.jsx(c3,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(gt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:tt(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:tt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:tt(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(r)})})})});qS.displayName=HS;var GS="TabsContent",KS=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=xg(GS,n),u=QS(a.baseId,r),c=YS(a.baseId,r),f=r===a.value,m=E.useRef(f);return E.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(nl,{present:s||f,children:({present:p})=>d.jsx(gt.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});KS.displayName=GS;function QS(t,e){return`${t}-trigger-${e}`}function YS(t,e){return`${t}-content-${e}`}var f3=BS,XS=WS,JS=qS,ZS=KS;const p3=f3,eC=E.forwardRef(({className:t,...e},n)=>d.jsx(XS,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));eC.displayName=XS.displayName;const Vo=E.forwardRef(({className:t,...e},n)=>d.jsx(JS,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Vo.displayName=JS.displayName;const Mo=E.forwardRef(({className:t,...e},n)=>d.jsx(ZS,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Mo.displayName=ZS.displayName;function m3(){const{orgSlug:t}=Lb(),e=px(),{organization:n,events:r,loading:s,error:i,updateOrganization:o}=PS(t||""),[a,u]=E.useState(!1),[c,f]=E.useState(null),m=Tc(),p=Eg("adminControls"),w=async _=>{u(!0),f(null);try{await o(_),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(x){console.error("Failed to save organization:",x);const A=x instanceof Error?x.message:"Unknown error occurred";f(`❌ Failed to save changes: ${A}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{u(!1)}};return p?s?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(fg,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),d.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),d.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),d.jsx(ee,{onClick:()=>e("/"),children:"Return Home"})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsxs("div",{className:"container mx-auto px-4 py-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[d.jsx(iM,{className:"h-4 w-4"}),"Back to Public Page"]}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(dn,{variant:"secondary",className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),m]}),d.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[d.jsx(aM,{className:"h-4 w-4"}),"Preview"]})]})]}),c&&d.jsx("div",{className:`mt-4 p-4 rounded-lg border ${c.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:d.jsx("p",{className:"text-sm font-medium",children:c})})]})}),d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs(p3,{defaultValue:"organization",className:"space-y-6",children:[d.jsxs(eC,{className:"grid w-full grid-cols-4",children:[d.jsxs(Vo,{value:"organization",className:"flex items-center gap-2",children:[d.jsx(U1,{className:"h-4 w-4"}),"Organization"]}),d.jsxs(Vo,{value:"events",className:"flex items-center gap-2",children:[d.jsx(Zt,{className:"h-4 w-4"}),"Events"]}),d.jsxs(Vo,{value:"registrations",className:"flex items-center gap-2",children:[d.jsx(wc,{className:"h-4 w-4"}),"Registrations"]}),d.jsxs(Vo,{value:"analytics",className:"flex items-center gap-2",children:[d.jsx(Cw,{className:"h-4 w-4"}),"Analytics"]})]}),d.jsx(Mo,{value:"organization",children:d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Organization Settings"}),d.jsx(Vt,{children:"Update your organization's information, branding, and contact details."})]}),d.jsx(ze,{children:d.jsx(DS,{organization:n,onSave:w,onCancel:()=>{},isFullPage:!0,isSaving:a})})]})}),d.jsx(Mo,{value:"events",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),d.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),d.jsxs(ee,{className:"flex items-center gap-2",children:[d.jsx(Zt,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?d.jsx(Re,{children:d.jsxs(ze,{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(Zt,{className:"h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),d.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),d.jsx(ee,{children:"Create Your First Event"})]})}):d.jsx("div",{className:"space-y-4",children:r.map(_=>d.jsx(Re,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.title}),d.jsx(dn,{variant:_.status==="published"?"default":"secondary",children:_.status})]}),d.jsx("p",{className:"text-gray-600 mb-3",children:_.description}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[d.jsxs("span",{children:[_.date instanceof Date?_.date.toLocaleDateString():new Date(_.date).toLocaleDateString()," • ",_.time]}),d.jsx("span",{children:_.location}),d.jsx("span",{children:_.price.description})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ee,{variant:"outline",size:"sm",children:"Edit"}),d.jsx(ee,{variant:"outline",size:"sm",children:d.jsx(fd,{className:"h-4 w-4"})})]})]})})},_.id))})]})}),d.jsx(Mo,{value:"registrations",children:d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Registrations"}),d.jsx(Vt,{children:"View and manage event registrations and attendee information."})]}),d.jsx(ze,{children:d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(wc,{className:"h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Registration Management"}),d.jsx("p",{className:"text-gray-600 text-center",children:"Registration management features will be available soon."})]})})]})}),d.jsx(Mo,{value:"analytics",children:d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsx(Lt,{children:"Analytics"}),d.jsx(Vt,{children:"Track your organization's performance and audience engagement."})]}),d.jsx(ze,{children:d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(Cw,{className:"h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),d.jsx("p",{className:"text-gray-600 text-center",children:"Analytics and insights will be available soon."})]})})]})})]})})]}):d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",m," environment."]}),d.jsx(ee,{onClick:()=>e("/"),children:"Return Home"})]})})}const g3={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEBUG_MODE:"true",VITE_ENVIRONMENT:"development",VITE_EXPERIMENTAL_FEATURES:"true",VITE_FIREBASE_API_KEY:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",VITE_FIREBASE_APP_ID:"1:267601188129:web:ce80873298d39444ac1a60",VITE_FIREBASE_AUTH_DOMAIN:"voxxy-presents.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://voxxy-presents-default-rtdb.firebaseio.com",VITE_FIREBASE_MEASUREMENT_ID:"G-Q74Z0C9R28",VITE_FIREBASE_MESSAGING_SENDER_ID:"267601188129",VITE_FIREBASE_PROJECT_ID:"voxxy-presents",VITE_FIREBASE_STORAGE_BUCKET:"voxxy-presents.firebasestorage.app"};console.log("Environment Variables Debug:");console.log("VITE_FIREBASE_API_KEY:","AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ");console.log("VITE_FIREBASE_PROJECT_ID:","voxxy-presents");console.log("All env vars:",g3);const y3=()=>{const t={apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",projectId:"voxxy-presents"};console.log("Firebase config being used:",t),Object.entries(t).forEach(([e,n])=>{!n||n==="undefined"?console.error(`❌ Missing environment variable for ${e}`):console.log(`✅ ${e}: ${n.substring(0,10)}...`)})};function v3(){const{user:t}=fV(),[e,n]=E.useState([]),[r,s]=E.useState(!1),[i,o]=E.useState([]);E.useEffect(()=>{y3()},[]);const a=async()=>{s(!0);try{const w=await Lo("voxxy-presents-nyc");if(w){o(x=>[...x,`✅ Voxxy Presents NYC found: ${w.name}`]);const _=await dp(w.id);n(_),o(x=>[...x,`✅ Found ${_.length} events for Voxxy Presents NYC`])}else o(_=>[..._,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(w){o(_=>[..._,`❌ Error testing Voxxy Presents NYC: ${w}`])}s(!1)},u=async()=>{s(!0);try{const w=await q6({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",bio:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(_=>[..._,`✅ Organization created with ID: ${w}`])}catch(w){o(_=>[..._,`❌ Error creating organization: ${w}`])}s(!1)},c=async()=>{s(!0);try{const w=await Lo("brooklyn-hearts-club");return w?(o(_=>[..._,`✅ Organization found: ${w.name}`]),w):(o(_=>[..._,"❌ Organization not found"]),null)}catch(w){return o(_=>[..._,`❌ Error retrieving organization: ${w}`]),null}finally{s(!1)}},f=async()=>{s(!0);try{const w=await Lo("brooklyn-hearts-club");if(!w){o(x=>[...x,"❌ Need to create organization first"]),s(!1);return}const _=await K6({organizationId:w.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",category:"Workshop",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(x=>[...x,`✅ Event created with ID: ${_}`])}catch(w){o(_=>[..._,`❌ Error creating event: ${w}`])}s(!1)},m=async()=>{s(!0);try{const w=await Lo("brooklyn-hearts-club");if(!w){o(x=>[...x,"❌ Need to create organization first"]),s(!1);return}const _=await dp(w.id);n(_),o(x=>[...x,`✅ Found ${_.length} events`])}catch(w){o(_=>[..._,`❌ Error retrieving events: ${w}`])}s(!1)},p=()=>{o([]),n([])};return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b",children:d.jsx("div",{className:"container mx-auto px-4 py-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(dn,{variant:"secondary",children:t.email}),d.jsx(ee,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsxs(Lt,{className:"flex items-center gap-2",children:[d.jsx(Aw,{className:"h-5 w-5"}),"Database Testing"]}),d.jsx(Vt,{children:"Test Firebase Firestore connection and basic operations"})]}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx(ee,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),d.jsx(ee,{onClick:u,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),d.jsx(ee,{onClick:c,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),d.jsx(ee,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),d.jsx(ee,{onClick:m,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),d.jsx(ee,{onClick:p,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),d.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?d.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((w,_)=>d.jsx("div",{className:"mb-1",children:w},_))})]})]}),d.jsxs(Re,{children:[d.jsxs(jt,{children:[d.jsxs(Lt,{className:"flex items-center gap-2",children:[d.jsx(Zt,{className:"h-5 w-5"}),"Events"]}),d.jsx(Vt,{children:"Events retrieved from database"})]}),d.jsx(ze,{children:e.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):d.jsx("div",{className:"space-y-4",children:e.map(w=>d.jsx("div",{className:"border rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:w.title}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),d.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[d.jsx("span",{children:w.date.toLocaleDateString()}),d.jsx("span",{children:w.time}),d.jsx(dn,{variant:"secondary",className:"text-xs",children:w.category})]})]}),d.jsx(dn,{variant:w.status==="published"?"default":"secondary",children:w.status})]})},w.id))})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[d.jsx(Re,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(wc,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),d.jsx(Re,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Zt,{className:"h-8 w-8 text-green-600"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),d.jsx(Re,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Aw,{className:"h-8 w-8 text-purple-600"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),d.jsx(Re,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(U1,{className:"h-8 w-8 text-orange-600"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function _3(){return d.jsx(pV,{children:d.jsx(wN,{children:d.jsxs(Xb,{children:[d.jsx(Ys,{path:"/",element:d.jsx(uM,{})}),d.jsx(Ys,{path:"/brooklynheartsclub",element:d.jsx(H6,{})}),d.jsx(Ys,{path:"/voxxy-presents-nyc",element:d.jsx(Y6,{})}),d.jsx(Ys,{path:"/:orgSlug/admin",element:d.jsx(m3,{})}),d.jsx(Ys,{path:"/admin",element:d.jsx(v3,{})})]})})})}sx(document.getElementById("root")).render(d.jsx(E.StrictMode,{children:d.jsx(_3,{})}));
