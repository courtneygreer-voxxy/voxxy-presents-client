var nP=Object.defineProperty;var rP=(t,e,n)=>e in t?nP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gx=(t,e,n)=>rP(t,typeof e!="symbol"?e+"":e,n);function sP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function sb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ib={exports:{}},Dh={},ob={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=Symbol.for("react.element"),iP=Symbol.for("react.portal"),oP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),cP=Symbol.for("react.provider"),uP=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),hP=Symbol.for("react.suspense"),fP=Symbol.for("react.memo"),mP=Symbol.for("react.lazy"),yx=Symbol.iterator;function pP(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lb=Object.assign,cb={};function wa(t,e,n){this.props=t,this.context=e,this.refs=cb,this.updater=n||ab}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ub(){}ub.prototype=wa.prototype;function ny(t,e,n){this.props=t,this.context=e,this.refs=cb,this.updater=n||ab}var ry=ny.prototype=new ub;ry.constructor=ny;lb(ry,wa.prototype);ry.isPureReactComponent=!0;var vx=Array.isArray,db=Object.prototype.hasOwnProperty,sy={current:null},hb={key:!0,ref:!0,__self:!0,__source:!0};function fb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)db.call(e,r)&&!hb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Cc,type:t,key:i,ref:o,props:s,_owner:sy.current}}function gP(t,e){return{$$typeof:Cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cc}function yP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wx=/\/+/g;function lm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yP(""+t.key):e.toString(36)}function nd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cc:case iP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+lm(o,0):r,vx(s)?(n="",t!=null&&(n=t.replace(wx,"$&/")+"/"),nd(s,e,n,"",function(d){return d})):s!=null&&(iy(s)&&(s=gP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+lm(i,a);o+=nd(i,e,n,c,s)}else if(c=pP(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+lm(i,a++),o+=nd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],s=0;return nd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},rd={transition:null},wP={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:rd,ReactCurrentOwner:sy};function mb(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=wa;ve.Fragment=oP;ve.Profiler=lP;ve.PureComponent=ny;ve.StrictMode=aP;ve.Suspense=hP;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;ve.act=mb;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)db.call(e,c)&&!hb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Cc,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:uP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cP,_context:t},t.Consumer=t};ve.createElement=fb;ve.createFactory=function(t){var e=fb.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:dP,render:t}};ve.isValidElement=iy;ve.lazy=function(t){return{$$typeof:mP,_payload:{_status:-1,_result:t},_init:vP}};ve.memo=function(t,e){return{$$typeof:fP,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=rd.transition;rd.transition={};try{t()}finally{rd.transition=e}};ve.unstable_act=mb;ve.useCallback=function(t,e){return nn.current.useCallback(t,e)};ve.useContext=function(t){return nn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return nn.current.useEffect(t,e)};ve.useId=function(){return nn.current.useId()};ve.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return nn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ve.useRef=function(t){return nn.current.useRef(t)};ve.useState=function(t){return nn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return nn.current.useTransition()};ve.version="18.3.1";ob.exports=ve;var g=ob.exports;const q=sb(g),pb=sP({__proto__:null,default:q},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=g,_P=Symbol.for("react.element"),EP=Symbol.for("react.fragment"),bP=Object.prototype.hasOwnProperty,TP=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SP={key:!0,ref:!0,__self:!0,__source:!0};function gb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bP.call(e,r)&&!SP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_P,type:t,key:i,ref:o,props:s,_owner:TP.current}}Dh.Fragment=EP;Dh.jsx=gb;Dh.jsxs=gb;ib.exports=Dh;var l=ib.exports,yb={exports:{}},bn={},vb={exports:{}},wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Y=L.length;L.push(z);e:for(;0<Y;){var ie=Y-1>>>1,ye=L[ie];if(0<s(ye,z))L[ie]=z,L[Y]=ye,Y=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Y=L.pop();if(Y!==z){L[0]=Y;e:for(var ie=0,ye=L.length,Ie=ye>>>1;ie<Ie;){var Qe=2*(ie+1)-1,pt=L[Qe],st=Qe+1,ne=L[st];if(0>s(pt,Y))st<ye&&0>s(ne,pt)?(L[ie]=ne,L[st]=Y,ie=st):(L[ie]=pt,L[Qe]=Y,ie=Qe);else if(st<ye&&0>s(ne,Y))L[ie]=ne,L[st]=Y,ie=st;else break e}}return z}function s(L,z){var Y=L.sortIndex-z.sortIndex;return Y!==0?Y:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,m=3,y=!1,x=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=L)r(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(d)}}function k(L){if(E=!1,v(L),!x)if(n(c)!==null)x=!0,F(D);else{var z=n(d);z!==null&&G(k,z.startTime-L)}}function D(L,z){x=!1,E&&(E=!1,_(S),S=-1),y=!0;var Y=m;try{for(v(z),f=n(c);f!==null&&(!(f.expirationTime>z)||L&&!I());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,m=f.priorityLevel;var ye=ie(f.expirationTime<=z);z=t.unstable_now(),typeof ye=="function"?f.callback=ye:f===n(c)&&r(c),v(z)}else r(c);f=n(c)}if(f!==null)var Ie=!0;else{var Qe=n(d);Qe!==null&&G(k,Qe.startTime-z),Ie=!1}return Ie}finally{f=null,m=Y,y=!1}}var O=!1,C=null,S=-1,N=5,P=-1;function I(){return!(t.unstable_now()-P<N)}function R(){if(C!==null){var L=t.unstable_now();P=L;var z=!0;try{z=C(!0,L)}finally{z?j():(O=!1,C=null)}}else O=!1}var j;if(typeof w=="function")j=function(){w(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=R,j=function(){J.postMessage(null)}}else j=function(){T(R,0)};function F(L){C=L,O||(O=!0,j())}function G(L,z){S=T(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,F(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var Y=m;m=z;try{return L()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=m;m=L;try{return z()}finally{m=Y}},t.unstable_scheduleCallback=function(L,z,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,L){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Y+ye,L={id:h++,callback:z,priorityLevel:L,startTime:Y,expirationTime:ye,sortIndex:-1},Y>ie?(L.sortIndex=Y,e(d,L),n(c)===null&&L===n(d)&&(E?(_(S),S=-1):E=!0,G(k,Y-ie))):(L.sortIndex=ye,e(c,L),x||y||(x=!0,F(D))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var z=m;return function(){var Y=m;m=z;try{return L.apply(this,arguments)}finally{m=Y}}}})(wb);vb.exports=wb;var CP=vb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=g,En=CP;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xb=new Set,Hl={};function to(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(Hl[t]=e,t=0;t<e.length;t++)xb.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,NP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xx={},_x={};function kP(t){return mp.call(_x,t)?!0:mp.call(xx,t)?!1:NP.test(t)?_x[t]=!0:(xx[t]=!0,!1)}function RP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AP(t,e,n,r){if(e===null||typeof e>"u"||RP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var oy=/[\-:]([a-z])/g;function ay(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oy,ay);Lt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oy,ay);Lt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oy,ay);Lt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ly(t,e,n,r){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AP(e,n,s,r)&&(n=null),r||s===null?kP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),Eb=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),bb=Symbol.for("react.offscreen"),Ex=Symbol.iterator;function el(t){return t===null||typeof t!="object"?null:(t=Ex&&t[Ex]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,cm;function fl(t){if(cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var um=!1;function dm(t,e){if(!t||um)return"";um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fl(t):""}function PP(t){switch(t.tag){case 5:return fl(t.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return t=dm(t.type,!1),t;case 11:return t=dm(t.type.render,!1),t;case 1:return t=dm(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ro:return"Fragment";case ko:return"Portal";case pp:return"Profiler";case cy:return"StrictMode";case gp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Eb:return(t.displayName||"Context")+".Consumer";case _b:return(t._context.displayName||"Context")+".Provider";case uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dy:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function jP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DP(t){var e=Tb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Su(t){t._valueTracker||(t._valueTracker=DP(t))}function Sb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wp(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cb(t,e){e=e.checked,e!=null&&ly(t,"checked",e,!1)}function xp(t,e){Cb(t,e);var n=qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_p(t,e.type,n):e.hasOwnProperty("defaultValue")&&_p(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _p(t,e,n){(e!=="number"||Ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ml=Array.isArray;function Bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ml(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qs(n)}}function Ib(t,e){var n=qs(e.value),r=qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,kb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OP=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){OP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function Rb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function Ab(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MP=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tp(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function hy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,zo=null,Wo=null;function Ix(t){if(t=kc(t)){if(typeof Ip!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Fh(e),Ip(t.stateNode,t.type,e))}}function Pb(t){zo?Wo?Wo.push(t):Wo=[t]:zo=t}function jb(){if(zo){var t=zo,e=Wo;if(Wo=zo=null,Ix(t),e)for(t=0;t<e.length;t++)Ix(e[t])}}function Db(t,e){return t(e)}function Ob(){}var hm=!1;function Mb(t,e,n){if(hm)return t(e,n);hm=!0;try{return Db(t,e,n)}finally{hm=!1,(zo!==null||Wo!==null)&&(Ob(),jb())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Np=!1;if(Jr)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Np=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Np=!1}function LP(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var kl=!1,Pd=null,jd=!1,kp=null,VP={onError:function(t){kl=!0,Pd=t}};function FP(t,e,n,r,s,i,o,a,c){kl=!1,Pd=null,LP.apply(VP,arguments)}function UP(t,e,n,r,s,i,o,a,c){if(FP.apply(this,arguments),kl){if(kl){var d=Pd;kl=!1,Pd=null}else throw Error(W(198));jd||(jd=!0,kp=d)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nx(t){if(no(t)!==t)throw Error(W(188))}function $P(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nx(s),t;if(i===r)return Nx(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Vb(t){return t=$P(t),t!==null?Fb(t):null}function Fb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fb(t);if(e!==null)return e;t=t.sibling}return null}var Ub=En.unstable_scheduleCallback,kx=En.unstable_cancelCallback,BP=En.unstable_shouldYield,zP=En.unstable_requestPaint,lt=En.unstable_now,WP=En.unstable_getCurrentPriorityLevel,fy=En.unstable_ImmediatePriority,$b=En.unstable_UserBlockingPriority,Dd=En.unstable_NormalPriority,HP=En.unstable_LowPriority,Bb=En.unstable_IdlePriority,Oh=null,hr=null;function qP(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:YP,GP=Math.log,KP=Math.LN2;function YP(t){return t>>>=0,t===0?32:31-(GP(t)/KP|0)|0}var Iu=64,Nu=4194304;function pl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=pl(a):(i&=o,i!==0&&(r=pl(i)))}else o=n&~s,o!==0?r=pl(o):i!==0&&(r=pl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),s=1<<n,r|=t[n],e&=~s;return r}function QP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=QP(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zb(){var t=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),t}function fm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function JP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function my(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function Wb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hb,py,qb,Gb,Kb,Ap=!1,ku=[],js=null,Ds=null,Os=null,Kl=new Map,Yl=new Map,Ts=[],ZP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rx(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(e.pointerId)}}function nl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kc(e),e!==null&&py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function e2(t,e,n,r,s){switch(e){case"focusin":return js=nl(js,t,e,n,r,s),!0;case"dragenter":return Ds=nl(Ds,t,e,n,r,s),!0;case"mouseover":return Os=nl(Os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kl.set(i,nl(Kl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yl.set(i,nl(Yl.get(i)||null,t,e,n,r,s)),!0}return!1}function Yb(t){var e=Ni(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=Lb(n),e!==null){t.blockedOn=e,Kb(t.priority,function(){qb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cp=r,n.target.dispatchEvent(r),Cp=null}else return e=kc(n),e!==null&&py(e),t.blockedOn=n,!1;e.shift()}return!0}function Ax(t,e,n){sd(t)&&n.delete(e)}function t2(){Ap=!1,js!==null&&sd(js)&&(js=null),Ds!==null&&sd(Ds)&&(Ds=null),Os!==null&&sd(Os)&&(Os=null),Kl.forEach(Ax),Yl.forEach(Ax)}function rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ap||(Ap=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,t2)))}function Ql(t){function e(s){return rl(s,t)}if(0<ku.length){rl(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&rl(js,t),Ds!==null&&rl(Ds,t),Os!==null&&rl(Os,t),Kl.forEach(e),Yl.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)Yb(n),n.blockedOn===null&&Ts.shift()}var Ho=us.ReactCurrentBatchConfig,Md=!0;function n2(t,e,n,r){var s=Le,i=Ho.transition;Ho.transition=null;try{Le=1,gy(t,e,n,r)}finally{Le=s,Ho.transition=i}}function r2(t,e,n,r){var s=Le,i=Ho.transition;Ho.transition=null;try{Le=4,gy(t,e,n,r)}finally{Le=s,Ho.transition=i}}function gy(t,e,n,r){if(Md){var s=Pp(t,e,n,r);if(s===null)bm(t,e,r,Ld,n),Rx(t,r);else if(e2(s,t,e,n,r))r.stopPropagation();else if(Rx(t,r),e&4&&-1<ZP.indexOf(t)){for(;s!==null;){var i=kc(s);if(i!==null&&Hb(i),i=Pp(t,e,n,r),i===null&&bm(t,e,r,Ld,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bm(t,e,r,null,n)}}var Ld=null;function Pp(t,e,n,r){if(Ld=null,t=hy(r),t=Ni(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ld=t,null}function Qb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WP()){case fy:return 1;case $b:return 4;case Dd:case HP:return 16;case Bb:return 536870912;default:return 16}default:return 16}}var Rs=null,yy=null,id=null;function Xb(){if(id)return id;var t,e=yy,n=e.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return id=s.slice(t,1<r?1-r:void 0)}function od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function Px(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ru:Px,this.isPropagationStopped=Px,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=Tn(xa),Nc=nt({},xa,{view:0,detail:0}),s2=Tn(Nc),mm,pm,sl,Mh=nt({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sl&&(sl&&t.type==="mousemove"?(mm=t.screenX-sl.screenX,pm=t.screenY-sl.screenY):pm=mm=0,sl=t),mm)},movementY:function(t){return"movementY"in t?t.movementY:pm}}),jx=Tn(Mh),i2=nt({},Mh,{dataTransfer:0}),o2=Tn(i2),a2=nt({},Nc,{relatedTarget:0}),gm=Tn(a2),l2=nt({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),c2=Tn(l2),u2=nt({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d2=Tn(u2),h2=nt({},xa,{data:0}),Dx=Tn(h2),f2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p2[t])?!!e[t]:!1}function wy(){return g2}var y2=nt({},Nc,{key:function(t){if(t.key){var e=f2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v2=Tn(y2),w2=nt({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ox=Tn(w2),x2=nt({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),_2=Tn(x2),E2=nt({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),b2=Tn(E2),T2=nt({},Mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S2=Tn(T2),C2=[9,13,27,32],xy=Jr&&"CompositionEvent"in window,Rl=null;Jr&&"documentMode"in document&&(Rl=document.documentMode);var I2=Jr&&"TextEvent"in window&&!Rl,Jb=Jr&&(!xy||Rl&&8<Rl&&11>=Rl),Mx=" ",Lx=!1;function Zb(t,e){switch(t){case"keyup":return C2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function N2(t,e){switch(t){case"compositionend":return eT(e);case"keypress":return e.which!==32?null:(Lx=!0,Mx);case"textInput":return t=e.data,t===Mx&&Lx?null:t;default:return null}}function k2(t,e){if(Ao)return t==="compositionend"||!xy&&Zb(t,e)?(t=Xb(),id=yy=Rs=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jb&&e.locale!=="ko"?null:e.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R2[t.type]:e==="textarea"}function tT(t,e,n,r){Pb(r),e=Vd(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,Xl=null;function A2(t){hT(t,0)}function Lh(t){var e=Do(t);if(Sb(e))return t}function P2(t,e){if(t==="change")return e}var nT=!1;if(Jr){var ym;if(Jr){var vm="oninput"in document;if(!vm){var Fx=document.createElement("div");Fx.setAttribute("oninput","return;"),vm=typeof Fx.oninput=="function"}ym=vm}else ym=!1;nT=ym&&(!document.documentMode||9<document.documentMode)}function Ux(){Al&&(Al.detachEvent("onpropertychange",rT),Xl=Al=null)}function rT(t){if(t.propertyName==="value"&&Lh(Xl)){var e=[];tT(e,Xl,t,hy(t)),Mb(A2,e)}}function j2(t,e,n){t==="focusin"?(Ux(),Al=e,Xl=n,Al.attachEvent("onpropertychange",rT)):t==="focusout"&&Ux()}function D2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lh(Xl)}function O2(t,e){if(t==="click")return Lh(e)}function M2(t,e){if(t==="input"||t==="change")return Lh(e)}function L2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:L2;function Jl(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mp.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function $x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bx(t,e){var n=$x(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$x(n)}}function sT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iT(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ad(t.document)}return e}function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V2(t){var e=iT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sT(n.ownerDocument.documentElement,n)){if(r!==null&&_y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Bx(n,i);var o=Bx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F2=Jr&&"documentMode"in document&&11>=document.documentMode,Po=null,jp=null,Pl=null,Dp=!1;function zx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dp||Po==null||Po!==Ad(r)||(r=Po,"selectionStart"in r&&_y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pl&&Jl(Pl,r)||(Pl=r,r=Vd(jp,"onSelect"),0<r.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Po)))}function Au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},wm={},oT={};Jr&&(oT=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Vh(t){if(wm[t])return wm[t];if(!jo[t])return t;var e=jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oT)return wm[t]=e[n];return t}var aT=Vh("animationend"),lT=Vh("animationiteration"),cT=Vh("animationstart"),uT=Vh("transitionend"),dT=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){dT.set(t,e),to(e,[t])}for(var xm=0;xm<Wx.length;xm++){var _m=Wx[xm],U2=_m.toLowerCase(),$2=_m[0].toUpperCase()+_m.slice(1);oi(U2,"on"+$2)}oi(aT,"onAnimationEnd");oi(lT,"onAnimationIteration");oi(cT,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(uT,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Hx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UP(r,e,void 0,t),t.currentTarget=null}function hT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Hx(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Hx(s,a,d),i=c}}}if(jd)throw t=kp,jd=!1,kp=null,t}function Ge(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(fT(e,t,2,!1),n.add(r))}function Em(t,e,n){var r=0;e&&(r|=4),fT(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[Pu]){t[Pu]=!0,xb.forEach(function(n){n!=="selectionchange"&&(B2.has(n)||Em(n,!1,t),Em(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,Em("selectionchange",!1,e))}}function fT(t,e,n,r){switch(Qb(e)){case 1:var s=n2;break;case 4:s=r2;break;default:s=gy}n=s.bind(null,e,n,t),s=void 0,!Np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ni(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Mb(function(){var d=i,h=hy(n),f=[];e:{var m=dT.get(t);if(m!==void 0){var y=vy,x=t;switch(t){case"keypress":if(od(n)===0)break e;case"keydown":case"keyup":y=v2;break;case"focusin":x="focus",y=gm;break;case"focusout":x="blur",y=gm;break;case"beforeblur":case"afterblur":y=gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=o2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_2;break;case aT:case lT:case cT:y=c2;break;case uT:y=b2;break;case"scroll":y=s2;break;case"wheel":y=S2;break;case"copy":case"cut":case"paste":y=d2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ox}var E=(e&4)!==0,T=!E&&t==="scroll",_=E?m!==null?m+"Capture":null:m;E=[];for(var w=d,v;w!==null;){v=w;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,_!==null&&(k=Gl(w,_),k!=null&&E.push(ec(w,k,v)))),T)break;w=w.return}0<E.length&&(m=new y(m,x,null,n,h),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Cp&&(x=n.relatedTarget||n.fromElement)&&(Ni(x)||x[Zr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=d,x=x?Ni(x):null,x!==null&&(T=no(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(E=jx,k="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(E=Ox,k="onPointerLeave",_="onPointerEnter",w="pointer"),T=y==null?m:Do(y),v=x==null?m:Do(x),m=new E(k,w+"leave",y,n,h),m.target=T,m.relatedTarget=v,k=null,Ni(h)===d&&(E=new E(_,w+"enter",x,n,h),E.target=v,E.relatedTarget=T,k=E),T=k,y&&x)t:{for(E=y,_=x,w=0,v=E;v;v=yo(v))w++;for(v=0,k=_;k;k=yo(k))v++;for(;0<w-v;)E=yo(E),w--;for(;0<v-w;)_=yo(_),v--;for(;w--;){if(E===_||_!==null&&E===_.alternate)break t;E=yo(E),_=yo(_)}E=null}else E=null;y!==null&&qx(f,m,y,E,!1),x!==null&&T!==null&&qx(f,T,x,E,!0)}}e:{if(m=d?Do(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=P2;else if(Vx(m))if(nT)D=M2;else{D=D2;var O=j2}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=O2);if(D&&(D=D(t,d))){tT(f,D,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&_p(m,"number",m.value)}switch(O=d?Do(d):window,t){case"focusin":(Vx(O)||O.contentEditable==="true")&&(Po=O,jp=d,Pl=null);break;case"focusout":Pl=jp=Po=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,zx(f,n,h);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":zx(f,n,h)}var C;if(xy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ao?Zb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Jb&&n.locale!=="ko"&&(Ao||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ao&&(C=Xb()):(Rs=h,yy="value"in Rs?Rs.value:Rs.textContent,Ao=!0)),O=Vd(d,S),0<O.length&&(S=new Dx(S,t,null,n,h),f.push({event:S,listeners:O}),C?S.data=C:(C=eT(n),C!==null&&(S.data=C)))),(C=I2?N2(t,n):k2(t,n))&&(d=Vd(d,"onBeforeInput"),0<d.length&&(h=new Dx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}hT(f,e)})}function ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gl(t,n),i!=null&&r.unshift(ec(t,i,s)),i=Gl(t,e),i!=null&&r.push(ec(t,i,s))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Gl(n,i),c!=null&&o.unshift(ec(n,c,a))):s||(c=Gl(n,i),c!=null&&o.push(ec(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var z2=/\r\n?/g,W2=/\u0000|\uFFFD/g;function Gx(t){return(typeof t=="string"?t:""+t).replace(z2,`
`).replace(W2,"")}function ju(t,e,n){if(e=Gx(e),Gx(t)!==e&&n)throw Error(W(425))}function Fd(){}var Op=null,Mp=null;function Lp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(t){return Kx.resolve(null).then(t).catch(G2)}:Vp;function G2(t){setTimeout(function(){throw t})}function Tm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ql(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),lr="__reactFiber$"+_a,tc="__reactProps$"+_a,Zr="__reactContainer$"+_a,Fp="__reactEvents$"+_a,K2="__reactListeners$"+_a,Y2="__reactHandles$"+_a;function Ni(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yx(t);t!==null;){if(n=t[lr])return n;t=Yx(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[lr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Do(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Fh(t){return t[tc]||null}var Up=[],Oo=-1;function ai(t){return{current:t}}function Ke(t){0>Oo||(t.current=Up[Oo],Up[Oo]=null,Oo--)}function Be(t,e){Oo++,Up[Oo]=t.current,t.current=e}var Gs={},Kt=ai(Gs),cn=ai(!1),Vi=Gs;function ra(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function Ud(){Ke(cn),Ke(Kt)}function Qx(t,e,n){if(Kt.current!==Gs)throw Error(W(168));Be(Kt,e),Be(cn,n)}function mT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,jP(t)||"Unknown",s));return nt({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,Vi=Kt.current,Be(Kt,t),Be(cn,cn.current),!0}function Xx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=mT(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,Ke(cn),Ke(Kt),Be(Kt,t)):Ke(cn),Be(cn,n)}var Fr=null,Uh=!1,Sm=!1;function pT(t){Fr===null?Fr=[t]:Fr.push(t)}function Q2(t){Uh=!0,pT(t)}function li(){if(!Sm&&Fr!==null){Sm=!0;var t=0,e=Le;try{var n=Fr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Uh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),Ub(fy,li),s}finally{Le=e,Sm=!1}}return null}var Mo=[],Lo=0,Bd=null,zd=0,In=[],Nn=0,Fi=null,Ur=1,$r="";function Ti(t,e){Mo[Lo++]=zd,Mo[Lo++]=Bd,Bd=t,zd=e}function gT(t,e,n){In[Nn++]=Ur,In[Nn++]=$r,In[Nn++]=Fi,Fi=t;var r=Ur;t=$r;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-qn(e)+s|n<<s|r,$r=i+t}else Ur=1<<i|n<<s|r,$r=t}function Ey(t){t.return!==null&&(Ti(t,1),gT(t,1,0))}function by(t){for(;t===Bd;)Bd=Mo[--Lo],Mo[Lo]=null,zd=Mo[--Lo],Mo[Lo]=null;for(;t===Fi;)Fi=In[--Nn],In[Nn]=null,$r=In[--Nn],In[Nn]=null,Ur=In[--Nn],In[Nn]=null}var wn=null,yn=null,Ye=!1,zn=null;function yT(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,yn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fi!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,yn=null,!0):!1;default:return!1}}function $p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(Ye){var e=yn;if(e){var n=e;if(!Jx(t,e)){if($p(t))throw Error(W(418));e=Ms(n.nextSibling);var r=wn;e&&Jx(t,e)?yT(r,n):(t.flags=t.flags&-4097|2,Ye=!1,wn=t)}}else{if($p(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ye=!1,wn=t}}}function Zx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Du(t){if(t!==wn)return!1;if(!Ye)return Zx(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lp(t.type,t.memoizedProps)),e&&(e=yn)){if($p(t))throw vT(),Error(W(418));for(;e;)yT(t,e),e=Ms(e.nextSibling)}if(Zx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=wn?Ms(t.stateNode.nextSibling):null;return!0}function vT(){for(var t=yn;t;)t=Ms(t.nextSibling)}function sa(){yn=wn=null,Ye=!1}function Ty(t){zn===null?zn=[t]:zn.push(t)}var X2=us.ReactCurrentBatchConfig;function il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ou(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function e0(t){var e=t._init;return e(t._payload)}function wT(t){function e(_,w){if(t){var v=_.deletions;v===null?(_.deletions=[w],_.flags|=16):v.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Us(_,w),_.index=0,_.sibling=null,_}function i(_,w,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<w?(_.flags|=2,w):v):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,v,k){return w===null||w.tag!==6?(w=Pm(v,_.mode,k),w.return=_,w):(w=s(w,v),w.return=_,w)}function c(_,w,v,k){var D=v.type;return D===Ro?h(_,w,v.props.children,k,v.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&e0(D)===w.type)?(k=s(w,v.props),k.ref=il(_,w,v),k.return=_,k):(k=fd(v.type,v.key,v.props,null,_.mode,k),k.ref=il(_,w,v),k.return=_,k)}function d(_,w,v,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=jm(v,_.mode,k),w.return=_,w):(w=s(w,v.children||[]),w.return=_,w)}function h(_,w,v,k,D){return w===null||w.tag!==7?(w=Di(v,_.mode,k,D),w.return=_,w):(w=s(w,v),w.return=_,w)}function f(_,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pm(""+w,_.mode,v),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:return v=fd(w.type,w.key,w.props,null,_.mode,v),v.ref=il(_,null,w),v.return=_,v;case ko:return w=jm(w,_.mode,v),w.return=_,w;case Es:var k=w._init;return f(_,k(w._payload),v)}if(ml(w)||el(w))return w=Di(w,_.mode,v,null),w.return=_,w;Ou(_,w)}return null}function m(_,w,v,k){var D=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return D!==null?null:a(_,w,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tu:return v.key===D?c(_,w,v,k):null;case ko:return v.key===D?d(_,w,v,k):null;case Es:return D=v._init,m(_,w,D(v._payload),k)}if(ml(v)||el(v))return D!==null?null:h(_,w,v,k,null);Ou(_,v)}return null}function y(_,w,v,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(v)||null,a(w,_,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Tu:return _=_.get(k.key===null?v:k.key)||null,c(w,_,k,D);case ko:return _=_.get(k.key===null?v:k.key)||null,d(w,_,k,D);case Es:var O=k._init;return y(_,w,v,O(k._payload),D)}if(ml(k)||el(k))return _=_.get(v)||null,h(w,_,k,D,null);Ou(w,k)}return null}function x(_,w,v,k){for(var D=null,O=null,C=w,S=w=0,N=null;C!==null&&S<v.length;S++){C.index>S?(N=C,C=null):N=C.sibling;var P=m(_,C,v[S],k);if(P===null){C===null&&(C=N);break}t&&C&&P.alternate===null&&e(_,C),w=i(P,w,S),O===null?D=P:O.sibling=P,O=P,C=N}if(S===v.length)return n(_,C),Ye&&Ti(_,S),D;if(C===null){for(;S<v.length;S++)C=f(_,v[S],k),C!==null&&(w=i(C,w,S),O===null?D=C:O.sibling=C,O=C);return Ye&&Ti(_,S),D}for(C=r(_,C);S<v.length;S++)N=y(C,_,S,v[S],k),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),w=i(N,w,S),O===null?D=N:O.sibling=N,O=N);return t&&C.forEach(function(I){return e(_,I)}),Ye&&Ti(_,S),D}function E(_,w,v,k){var D=el(v);if(typeof D!="function")throw Error(W(150));if(v=D.call(v),v==null)throw Error(W(151));for(var O=D=null,C=w,S=w=0,N=null,P=v.next();C!==null&&!P.done;S++,P=v.next()){C.index>S?(N=C,C=null):N=C.sibling;var I=m(_,C,P.value,k);if(I===null){C===null&&(C=N);break}t&&C&&I.alternate===null&&e(_,C),w=i(I,w,S),O===null?D=I:O.sibling=I,O=I,C=N}if(P.done)return n(_,C),Ye&&Ti(_,S),D;if(C===null){for(;!P.done;S++,P=v.next())P=f(_,P.value,k),P!==null&&(w=i(P,w,S),O===null?D=P:O.sibling=P,O=P);return Ye&&Ti(_,S),D}for(C=r(_,C);!P.done;S++,P=v.next())P=y(C,_,S,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),w=i(P,w,S),O===null?D=P:O.sibling=P,O=P);return t&&C.forEach(function(R){return e(_,R)}),Ye&&Ti(_,S),D}function T(_,w,v,k){if(typeof v=="object"&&v!==null&&v.type===Ro&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Tu:e:{for(var D=v.key,O=w;O!==null;){if(O.key===D){if(D=v.type,D===Ro){if(O.tag===7){n(_,O.sibling),w=s(O,v.props.children),w.return=_,_=w;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Es&&e0(D)===O.type){n(_,O.sibling),w=s(O,v.props),w.ref=il(_,O,v),w.return=_,_=w;break e}n(_,O);break}else e(_,O);O=O.sibling}v.type===Ro?(w=Di(v.props.children,_.mode,k,v.key),w.return=_,_=w):(k=fd(v.type,v.key,v.props,null,_.mode,k),k.ref=il(_,w,v),k.return=_,_=k)}return o(_);case ko:e:{for(O=v.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(_,w.sibling),w=s(w,v.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=jm(v,_.mode,k),w.return=_,_=w}return o(_);case Es:return O=v._init,T(_,w,O(v._payload),k)}if(ml(v))return x(_,w,v,k);if(el(v))return E(_,w,v,k);Ou(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,v),w.return=_,_=w):(n(_,w),w=Pm(v,_.mode,k),w.return=_,_=w),o(_)):n(_,w)}return T}var ia=wT(!0),xT=wT(!1),Wd=ai(null),Hd=null,Vo=null,Sy=null;function Cy(){Sy=Vo=Hd=null}function Iy(t){var e=Wd.current;Ke(Wd),t._currentValue=e}function zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){Hd=t,Sy=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(Hd===null)throw Error(W(308));Vo=t,Hd.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var ki=null;function Ny(t){ki===null?ki=[t]:ki.push(t)}function _T(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ny(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function ky(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Ny(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}function t0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qd(t,e,n,r){var s=t.updateQueue;bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,E=a;switch(m=e,y=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){f=x.call(y,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,m=typeof x=="function"?x.call(y,f,m):x,m==null)break e;f=nt({},f,m);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$i|=o,t.lanes=o,t.memoizedState=f}}function n0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Rc={},fr=ai(Rc),nc=ai(Rc),rc=ai(Rc);function Ri(t){if(t===Rc)throw Error(W(174));return t}function Ry(t,e){switch(Be(rc,e),Be(nc,t),Be(fr,Rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bp(e,t)}Ke(fr),Be(fr,e)}function oa(){Ke(fr),Ke(nc),Ke(rc)}function bT(t){Ri(rc.current);var e=Ri(fr.current),n=bp(e,t.type);e!==n&&(Be(nc,t),Be(fr,n))}function Ay(t){nc.current===t&&(Ke(fr),Ke(nc))}var Ze=ai(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cm=[];function Py(){for(var t=0;t<Cm.length;t++)Cm[t]._workInProgressVersionPrimary=null;Cm.length=0}var ld=us.ReactCurrentDispatcher,Im=us.ReactCurrentBatchConfig,Ui=0,et=null,wt=null,Ct=null,Kd=!1,jl=!1,sc=0,J2=0;function $t(){throw Error(W(321))}function jy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Dy(t,e,n,r,s,i){if(Ui=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ld.current=t===null||t.memoizedState===null?nj:rj,t=n(r,s),jl){i=0;do{if(jl=!1,sc=0,25<=i)throw Error(W(301));i+=1,Ct=wt=null,e.updateQueue=null,ld.current=sj,t=n(r,s)}while(jl)}if(ld.current=Yd,e=wt!==null&&wt.next!==null,Ui=0,Ct=wt=et=null,Kd=!1,e)throw Error(W(300));return t}function Oy(){var t=sc!==0;return sc=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?et.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Mn(){if(wt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Ct===null?et.memoizedState:Ct.next;if(e!==null)Ct=e,wt=t;else{if(t===null)throw Error(W(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?et.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function ic(t,e){return typeof e=="function"?e(t):e}function Nm(t){var e=Mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Ui&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,et.lanes|=h,$i|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Kn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,$i|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function km(t){var e=Mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function TT(){}function ST(t,e){var n=et,r=Mn(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,My(NT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,oc(9,IT.bind(null,n,r,s,e),void 0,null),It===null)throw Error(W(349));Ui&30||CT(n,e,s)}return s}function CT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&RT(t)}function NT(t,e,n){return n(function(){kT(e)&&RT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function RT(t){var e=es(t,1);e!==null&&Gn(e,t,1,-1)}function r0(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=tj.bind(null,et,t),[e.memoizedState,t]}function oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AT(){return Mn().memoizedState}function cd(t,e,n,r){var s=ir();et.flags|=t,s.memoizedState=oc(1|e,n,void 0,r===void 0?null:r)}function $h(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&jy(r,o.deps)){s.memoizedState=oc(e,n,i,r);return}}et.flags|=t,s.memoizedState=oc(1|e,n,i,r)}function s0(t,e){return cd(8390656,8,t,e)}function My(t,e){return $h(2048,8,t,e)}function PT(t,e){return $h(4,2,t,e)}function jT(t,e){return $h(4,4,t,e)}function DT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OT(t,e,n){return n=n!=null?n.concat([t]):null,$h(4,4,DT.bind(null,e,t),n)}function Ly(){}function MT(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LT(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VT(t,e,n){return Ui&21?(Kn(n,e)||(n=zb(),et.lanes|=n,$i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function Z2(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Im.transition;Im.transition={};try{t(!1),e()}finally{Le=n,Im.transition=r}}function FT(){return Mn().memoizedState}function ej(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UT(t))$T(e,n);else if(n=_T(t,e,n,r),n!==null){var s=tn();Gn(n,t,r,s),BT(n,e,r)}}function tj(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UT(t))$T(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Kn(a,o)){var c=e.interleaved;c===null?(s.next=s,Ny(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=_T(t,e,s,r),n!==null&&(s=tn(),Gn(n,t,r,s),BT(n,e,r))}}function UT(t){var e=t.alternate;return t===et||e!==null&&e===et}function $T(t,e){jl=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}var Yd={readContext:On,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},nj={readContext:On,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:s0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cd(4194308,4,DT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return cd(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ej.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:r0,useDebugValue:Ly,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=r0(!1),e=t[0];return t=Z2.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=ir();if(Ye){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),It===null)throw Error(W(349));Ui&30||CT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,s0(NT.bind(null,r,i,t),[t]),r.flags|=2048,oc(9,IT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ir(),e=It.identifierPrefix;if(Ye){var n=$r,r=Ur;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rj={readContext:On,useCallback:MT,useContext:On,useEffect:My,useImperativeHandle:OT,useInsertionEffect:PT,useLayoutEffect:jT,useMemo:LT,useReducer:Nm,useRef:AT,useState:function(){return Nm(ic)},useDebugValue:Ly,useDeferredValue:function(t){var e=Mn();return VT(e,wt.memoizedState,t)},useTransition:function(){var t=Nm(ic)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:TT,useSyncExternalStore:ST,useId:FT,unstable_isNewReconciler:!1},sj={readContext:On,useCallback:MT,useContext:On,useEffect:My,useImperativeHandle:OT,useInsertionEffect:PT,useLayoutEffect:jT,useMemo:LT,useReducer:km,useRef:AT,useState:function(){return km(ic)},useDebugValue:Ly,useDeferredValue:function(t){var e=Mn();return wt===null?e.memoizedState=t:VT(e,wt.memoizedState,t)},useTransition:function(){var t=km(ic)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:TT,useSyncExternalStore:ST,useId:FT,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bh={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=Fs(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Gn(e,t,s,r),ad(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=Fs(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Gn(e,t,s,r),ad(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Fs(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Gn(e,t,r,n),ad(e,t,r))}};function i0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,r)||!Jl(s,i):!0}function zT(t,e,n){var r=!1,s=Gs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=un(e)?Vi:Kt.current,r=e.contextTypes,i=(r=r!=null)?ra(t,s):Gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function o0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bh.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ky(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=un(e)?Vi:Kt.current,s.context=ra(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bh.enqueueReplaceState(s,s.state,null),qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e){try{var n="",r=e;do n+=PP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ij=typeof WeakMap=="function"?WeakMap:Map;function WT(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,ng=r),qp(t,e)},n}function HT(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qp(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ij;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wj.bind(null,t,e,n),e.then(t,t))}function l0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var oj=us.ReactCurrentOwner,ln=!1;function Zt(t,e,n,r){e.child=t===null?xT(e,null,n,r):ia(e,t.child,n,r)}function u0(t,e,n,r,s){n=n.render;var i=e.ref;return qo(e,s),r=Dy(t,e,n,r,i,s),n=Oy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Ye&&n&&Ey(e),e.flags|=1,Zt(t,e,r,s),e.child)}function d0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qT(t,e,i,r,s)):(t=fd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function qT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jl(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ts(t,e,s)}return Gp(t,e,n,r,s)}function GT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Uo,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Uo,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Uo,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Uo,mn),mn|=r;return Zt(t,e,s,n),e.child}function KT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gp(t,e,n,r,s){var i=un(n)?Vi:Kt.current;return i=ra(e,i),qo(e,s),n=Dy(t,e,n,r,i,s),r=Oy(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(Ye&&r&&Ey(e),e.flags|=1,Zt(t,e,n,s),e.child)}function h0(t,e,n,r,s){if(un(n)){var i=!0;$d(e)}else i=!1;if(qo(e,s),e.stateNode===null)ud(t,e),zT(e,n,r),Hp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=un(n)?Vi:Kt.current,d=ra(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&o0(e,o,r,d),bs=!1;var m=e.memoizedState;o.state=m,qd(e,r,o,s),c=e.memoizedState,a!==r||m!==c||cn.current||bs?(typeof h=="function"&&(Wp(e,n,h,r),c=e.memoizedState),(a=bs||i0(e,n,a,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ET(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:$n(e.type,a),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=On(c):(c=un(n)?Vi:Kt.current,c=ra(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&o0(e,o,r,c),bs=!1,m=e.memoizedState,o.state=m,qd(e,r,o,s);var x=e.memoizedState;a!==f||m!==x||cn.current||bs?(typeof y=="function"&&(Wp(e,n,y,r),x=e.memoizedState),(d=bs||i0(e,n,d,r,m,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,i,s)}function Kp(t,e,n,r,s,i){KT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xx(e,n,!1),ts(t,e,i);r=e.stateNode,oj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ia(e,t.child,null,i),e.child=ia(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&Xx(e,n,!0),e.child}function YT(t){var e=t.stateNode;e.pendingContext?Qx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qx(t,e.context,!1),Ry(t,e.containerInfo)}function f0(t,e,n,r,s){return sa(),Ty(s),e.flags|=256,Zt(t,e,n,r),e.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function QT(t,e,n){var r=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Ze,s&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hh(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qp(n),e.memoizedState=Yp,t):Vy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Us(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yp,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vy(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mu(t,e,n,r){return r!==null&&Ty(r),ia(e,t.child,null,n),t=Vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rm(Error(W(422))),Mu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hh({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ia(e,t.child,null,o),e.child.memoizedState=Qp(o),e.memoizedState=Yp,i);if(!(e.mode&1))return Mu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Rm(i,r,void 0),Mu(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),Gn(r,t,s,-1))}return Wy(),r=Rm(Error(W(421))),Mu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=xj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yn=Ms(s.nextSibling),wn=e,Ye=!0,zn=null,t!==null&&(In[Nn++]=Ur,In[Nn++]=$r,In[Nn++]=Fi,Ur=t.id,$r=t.overflow,Fi=e),e=Vy(e,r.children),e.flags|=4096,e)}function m0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zp(t.return,e,n)}function Am(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function XT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m0(t,n,e);else if(t.tag===19)m0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Am(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Am(e,!0,n,null,i);break;case"together":Am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lj(t,e,n){switch(e.tag){case 3:YT(e),sa();break;case 5:bT(e);break;case 1:un(e.type)&&$d(e);break;case 4:Ry(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Wd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?QT(t,e,n):(Be(Ze,Ze.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,GT(t,e,n)}return ts(t,e,n)}var JT,Xp,ZT,eS;JT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};ZT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ri(fr.current);var i=null;switch(n){case"input":s=wp(t,s),r=wp(t,r),i=[];break;case"select":s=nt({},s,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":s=Ep(t,s),r=Ep(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fd)}Tp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};eS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ol(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cj(t,e,n){var r=e.pendingProps;switch(by(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return un(e.type)&&Ud(),Bt(e),null;case 3:return r=e.stateNode,oa(),Ke(cn),Ke(Kt),Py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(ig(zn),zn=null))),Xp(t,e),Bt(e),null;case 5:Ay(e);var s=Ri(rc.current);if(n=e.type,t!==null&&e.stateNode!=null)ZT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Bt(e),null}if(t=Ri(fr.current),Du(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[tc]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<gl.length;s++)Ge(gl[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":bx(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":Sx(r,i),Ge("invalid",r)}Tp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),s=["children",""+a]):Hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Su(r),Tx(r,i,!0);break;case"textarea":Su(r),Cx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[tc]=r,JT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sp(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<gl.length;s++)Ge(gl[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":bx(t,r),s=wp(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=nt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Sx(t,r),s=Ep(t,r),Ge("invalid",t);break;default:s=r}Tp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ab(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ql(t,c):typeof c=="number"&&ql(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",t):c!=null&&ly(t,i,c,o))}switch(n){case"input":Su(t),Tx(t,r,!1);break;case"textarea":Su(t),Cx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)eS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ri(rc.current),Ri(fr.current),Du(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ju(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Bt(e),null;case 13:if(Ke(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&yn!==null&&e.mode&1&&!(e.flags&128))vT(),sa(),e.flags|=98560,i=!1;else if(i=Du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[lr]=e}else sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else zn!==null&&(ig(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?_t===0&&(_t=3):Wy())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return oa(),Xp(t,e),t===null&&Zl(e.stateNode.containerInfo),Bt(e),null;case 10:return Iy(e.type._context),Bt(e),null;case 17:return un(e.type)&&Ud(),Bt(e),null;case 19:if(Ke(Ze),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ol(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,ol(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>la&&(e.flags|=128,r=!0,ol(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Bt(e),null}else 2*lt()-i.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,r=!0,ol(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return zy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function uj(t,e){switch(by(e),e.tag){case 1:return un(e.type)&&Ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),Ke(cn),Ke(Kt),Py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(Ke(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ze),null;case 4:return oa(),null;case 10:return Iy(e.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var Lu=!1,qt=!1,dj=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Jp(t,e,n){try{n()}catch(r){ot(t,e,r)}}var p0=!1;function hj(t,e){if(Op=Md,t=iT(),_y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:t,selectionRange:n},Md=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,T=x.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:$n(e.type,E),T);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){ot(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return x=p0,p0=!1,x}function Dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jp(e,n,i)}s=s.next}while(s!==r)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tS(t){var e=t.alternate;e!==null&&(t.alternate=null,tS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[tc],delete e[Fp],delete e[K2],delete e[Y2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nS(t){return t.tag===5||t.tag===3||t.tag===4}function g0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fd));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Pt=null,Bn=!1;function gs(t,e,n){for(n=n.child;n!==null;)rS(t,e,n),n=n.sibling}function rS(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:qt||Fo(n,e);case 6:var r=Pt,s=Bn;Pt=null,gs(t,e,n),Pt=r,Bn=s,Pt!==null&&(Bn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Bn?(t=Pt,n=n.stateNode,t.nodeType===8?Tm(t.parentNode,n):t.nodeType===1&&Tm(t,n),Ql(t)):Tm(Pt,n.stateNode));break;case 4:r=Pt,s=Bn,Pt=n.stateNode.containerInfo,Bn=!0,gs(t,e,n),Pt=r,Bn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jp(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!qt&&(Fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,gs(t,e,n),qt=r):gs(t,e,n);break;default:gs(t,e,n)}}function y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dj),e.forEach(function(r){var s=_j.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Bn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Bn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(Pt===null)throw Error(W(160));rS(i,o,s),Pt=null,Bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ot(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sS(e,t),e=e.sibling}function sS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),sr(t),r&4){try{Dl(3,t,t.return),zh(3,t)}catch(E){ot(t,t.return,E)}try{Dl(5,t,t.return)}catch(E){ot(t,t.return,E)}}break;case 1:Fn(e,t),sr(t),r&512&&n!==null&&Fo(n,n.return);break;case 5:if(Fn(e,t),sr(t),r&512&&n!==null&&Fo(n,n.return),t.flags&32){var s=t.stateNode;try{ql(s,"")}catch(E){ot(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Cb(s,i),Sp(a,o);var d=Sp(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Ab(s,f):h==="dangerouslySetInnerHTML"?kb(s,f):h==="children"?ql(s,f):ly(s,h,f,d)}switch(a){case"input":xp(s,i);break;case"textarea":Ib(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Bo(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Bo(s,!!i.multiple,i.defaultValue,!0):Bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[tc]=i}catch(E){ot(t,t.return,E)}}break;case 6:if(Fn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){ot(t,t.return,E)}}break;case 3:if(Fn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(E){ot(t,t.return,E)}break;case 4:Fn(e,t),sr(t);break;case 13:Fn(e,t),sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($y=lt())),r&4&&y0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(d=qt)||h,Fn(e,t),qt=d):Fn(e,t),sr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(f=ee=h;ee!==null;){switch(m=ee,y=m.child,m.tag){case 0:case 11:case 14:case 15:Dl(4,m,m.return);break;case 1:Fo(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){ot(r,n,E)}}break;case 5:Fo(m,m.return);break;case 22:if(m.memoizedState!==null){w0(f);continue}}y!==null?(y.return=m,ee=y):w0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Rb("display",o))}catch(E){ot(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(E){ot(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),sr(t),r&4&&y0(t);break;case 21:break;default:Fn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ql(s,""),r.flags&=-33);var i=g0(t);tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g0(t);eg(t,a,o);break;default:throw Error(W(161))}}catch(c){ot(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fj(t,e,n){ee=t,iS(t)}function iS(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||qt;a=Lu;var d=qt;if(Lu=o,(qt=c)&&!d)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?x0(s):c!==null?(c.return=o,ee=c):x0(s);for(;i!==null;)ee=i,iS(i),i=i.sibling;ee=s,Lu=a,qt=d}v0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):v0(t)}}function v0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&n0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}n0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}qt||e.flags&512&&Zp(e)}catch(m){ot(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function w0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function x0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(c){ot(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ot(e,s,c)}}var i=e.return;try{Zp(e)}catch(c){ot(e,i,c)}break;case 5:var o=e.return;try{Zp(e)}catch(c){ot(e,o,c)}}}catch(c){ot(e,e.return,c)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var mj=Math.ceil,Qd=us.ReactCurrentDispatcher,Fy=us.ReactCurrentOwner,jn=us.ReactCurrentBatchConfig,ke=0,It=null,ut=null,Ot=0,mn=0,Uo=ai(0),_t=0,ac=null,$i=0,Wh=0,Uy=0,Ol=null,on=null,$y=0,la=1/0,Vr=null,Xd=!1,ng=null,Vs=null,Vu=!1,As=null,Jd=0,Ml=0,rg=null,dd=-1,hd=0;function tn(){return ke&6?lt():dd!==-1?dd:dd=lt()}function Fs(t){return t.mode&1?ke&2&&Ot!==0?Ot&-Ot:X2.transition!==null?(hd===0&&(hd=zb()),hd):(t=Le,t!==0||(t=window.event,t=t===void 0?16:Qb(t.type)),t):1}function Gn(t,e,n,r){if(50<Ml)throw Ml=0,rg=null,Error(W(185));Ic(t,n,r),(!(ke&2)||t!==It)&&(t===It&&(!(ke&2)&&(Wh|=n),_t===4&&Ss(t,Ot)),dn(t,r),n===1&&ke===0&&!(e.mode&1)&&(la=lt()+500,Uh&&li()))}function dn(t,e){var n=t.callbackNode;XP(t,e);var r=Od(t,t===It?Ot:0);if(r===0)n!==null&&kx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kx(n),e===1)t.tag===0?Q2(_0.bind(null,t)):pT(_0.bind(null,t)),q2(function(){!(ke&6)&&li()}),n=null;else{switch(Wb(r)){case 1:n=fy;break;case 4:n=$b;break;case 16:n=Dd;break;case 536870912:n=Bb;break;default:n=Dd}n=fS(n,oS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oS(t,e){if(dd=-1,hd=0,ke&6)throw Error(W(327));var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var r=Od(t,t===It?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zd(t,r);else{e=r;var s=ke;ke|=2;var i=lS();(It!==t||Ot!==e)&&(Vr=null,la=lt()+500,ji(t,e));do try{yj();break}catch(a){aS(t,a)}while(!0);Cy(),Qd.current=i,ke=s,ut!==null?e=0:(It=null,Ot=0,e=_t)}if(e!==0){if(e===2&&(s=Rp(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=ac,ji(t,0),Ss(t,r),dn(t,lt()),n;if(e===6)Ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!pj(s)&&(e=Zd(t,r),e===2&&(i=Rp(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=ac,ji(t,0),Ss(t,r),dn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Si(t,on,Vr);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=$y+500-lt(),10<e)){if(Od(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vp(Si.bind(null,t,on,Vr),e);break}Si(t,on,Vr);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mj(r/1960))-r,10<r){t.timeoutHandle=Vp(Si.bind(null,t,on,Vr),r);break}Si(t,on,Vr);break;case 5:Si(t,on,Vr);break;default:throw Error(W(329))}}}return dn(t,lt()),t.callbackNode===n?oS.bind(null,t):null}function sg(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=on,on=n,e!==null&&ig(e)),t}function ig(t){on===null?on=t:on.push.apply(on,t)}function pj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~Uy,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function _0(t){if(ke&6)throw Error(W(327));Go();var e=Od(t,0);if(!(e&1))return dn(t,lt()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var r=Rp(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=ac,ji(t,0),Ss(t,e),dn(t,lt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,on,Vr),dn(t,lt()),null}function By(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(la=lt()+500,Uh&&li())}}function Bi(t){As!==null&&As.tag===0&&!(ke&6)&&Go();var e=ke;ke|=1;var n=jn.transition,r=Le;try{if(jn.transition=null,Le=1,t)return t()}finally{Le=r,jn.transition=n,ke=e,!(ke&6)&&li()}}function zy(){mn=Uo.current,Ke(Uo)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,H2(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(by(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ud();break;case 3:oa(),Ke(cn),Ke(Kt),Py();break;case 5:Ay(r);break;case 4:oa();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Iy(r.type._context);break;case 22:case 23:zy()}n=n.return}if(It=t,ut=t=Us(t.current,null),Ot=mn=e,_t=0,ac=null,Uy=Wh=$i=0,on=Ol=null,ki!==null){for(e=0;e<ki.length;e++)if(n=ki[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ki=null}return t}function aS(t,e){do{var n=ut;try{if(Cy(),ld.current=Yd,Kd){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kd=!1}if(Ui=0,Ct=wt=et=null,jl=!1,sc=0,Fy.current=null,n===null||n.return===null){_t=1,ac=e,ut=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=l0(o);if(y!==null){y.flags&=-257,c0(y,o,a,i,e),y.mode&1&&a0(i,d,e),e=y,c=d;var x=e.updateQueue;if(x===null){var E=new Set;E.add(c),e.updateQueue=E}else x.add(c);break e}else{if(!(e&1)){a0(i,d,e),Wy();break e}c=Error(W(426))}}else if(Ye&&a.mode&1){var T=l0(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),c0(T,o,a,i,e),Ty(aa(c,a));break e}}i=c=aa(c,a),_t!==4&&(_t=2),Ol===null?Ol=[i]:Ol.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=WT(i,c,e);t0(i,_);break e;case 1:a=c;var w=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vs===null||!Vs.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=HT(i,a,e);t0(i,k);break e}}i=i.return}while(i!==null)}uS(n)}catch(D){e=D,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function lS(){var t=Qd.current;return Qd.current=Yd,t===null?Yd:t}function Wy(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!($i&268435455)&&!(Wh&268435455)||Ss(It,Ot)}function Zd(t,e){var n=ke;ke|=2;var r=lS();(It!==t||Ot!==e)&&(Vr=null,ji(t,e));do try{gj();break}catch(s){aS(t,s)}while(!0);if(Cy(),ke=n,Qd.current=r,ut!==null)throw Error(W(261));return It=null,Ot=0,_t}function gj(){for(;ut!==null;)cS(ut)}function yj(){for(;ut!==null&&!BP();)cS(ut)}function cS(t){var e=hS(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?uS(t):ut=e,Fy.current=null}function uS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uj(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ut=null;return}}else if(n=cj(n,e,mn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);_t===0&&(_t=5)}function Si(t,e,n){var r=Le,s=jn.transition;try{jn.transition=null,Le=1,vj(t,e,n,r)}finally{jn.transition=s,Le=r}return null}function vj(t,e,n,r){do Go();while(As!==null);if(ke&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(JP(t,i),t===It&&(ut=It=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,fS(Dd,function(){return Go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var o=Le;Le=1;var a=ke;ke|=4,Fy.current=null,hj(t,n),sS(n,t),V2(Mp),Md=!!Op,Mp=Op=null,t.current=n,fj(n),zP(),ke=a,Le=o,jn.transition=i}else t.current=n;if(Vu&&(Vu=!1,As=t,Jd=s),i=t.pendingLanes,i===0&&(Vs=null),qP(n.stateNode),dn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,t=ng,ng=null,t;return Jd&1&&t.tag!==0&&Go(),i=t.pendingLanes,i&1?t===rg?Ml++:(Ml=0,rg=t):Ml=0,li(),null}function Go(){if(As!==null){var t=Wb(Jd),e=jn.transition,n=Le;try{if(jn.transition=null,Le=16>t?16:t,As===null)var r=!1;else{if(t=As,As=null,Jd=0,ke&6)throw Error(W(331));var s=ke;for(ke|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ee=d;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:Dl(8,h,i)}var f=h.child;if(f!==null)f.return=h,ee=f;else for(;ee!==null;){h=ee;var m=h.sibling,y=h.return;if(tS(h),h===d){ee=null;break}if(m!==null){m.return=y,ee=m;break}ee=y}}}var x=i.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var w=t.current;for(ee=w;ee!==null;){o=ee;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ee=v;else e:for(o=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zh(9,a)}}catch(D){ot(a,a.return,D)}if(a===o){ee=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ee=k;break e}ee=a.return}}if(ke=s,li(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Oh,t)}catch{}r=!0}return r}finally{Le=n,jn.transition=e}}return!1}function E0(t,e,n){e=aa(n,e),e=WT(t,e,1),t=Ls(t,e,1),e=tn(),t!==null&&(Ic(t,1,e),dn(t,e))}function ot(t,e,n){if(t.tag===3)E0(t,t,n);else for(;e!==null;){if(e.tag===3){E0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=aa(n,t),t=HT(e,t,1),e=Ls(e,t,1),t=tn(),e!==null&&(Ic(e,1,t),dn(e,t));break}}e=e.return}}function wj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ot&n)===n&&(_t===4||_t===3&&(Ot&130023424)===Ot&&500>lt()-$y?ji(t,0):Uy|=n),dn(t,e)}function dS(t,e){e===0&&(t.mode&1?(e=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):e=1);var n=tn();t=es(t,e),t!==null&&(Ic(t,e,n),dn(t,n))}function xj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dS(t,n)}function _j(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),dS(t,n)}var hS;hS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,lj(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Ye&&e.flags&1048576&&gT(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ud(t,e),t=e.pendingProps;var s=ra(e,Kt.current);qo(e,n),s=Dy(null,e,r,t,s,n);var i=Oy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,$d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ky(e),s.updater=Bh,e.stateNode=s,s._reactInternals=e,Hp(e,r,t,n),e=Kp(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&Ey(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ud(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=bj(r),t=$n(r,t),s){case 0:e=Gp(null,e,r,t,n);break e;case 1:e=h0(null,e,r,t,n);break e;case 11:e=u0(null,e,r,t,n);break e;case 14:e=d0(null,e,r,$n(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),Gp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),h0(t,e,r,s,n);case 3:e:{if(YT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ET(t,e),qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=aa(Error(W(423)),e),e=f0(t,e,r,n,s);break e}else if(r!==s){s=aa(Error(W(424)),e),e=f0(t,e,r,n,s);break e}else for(yn=Ms(e.stateNode.containerInfo.firstChild),wn=e,Ye=!0,zn=null,n=xT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===s){e=ts(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return bT(e),t===null&&Bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lp(r,s)?o=null:i!==null&&Lp(r,i)&&(e.flags|=32),KT(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return QT(t,e,n);case 4:return Ry(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ia(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),u0(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Wd,r._currentValue),r._currentValue=o,i!==null)if(Kn(i.value,o)){if(i.children===s.children&&!cn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Gr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),zp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qo(e,n),s=On(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),d0(t,e,r,s,n);case 15:return qT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),ud(t,e),e.tag=1,un(r)?(t=!0,$d(e)):t=!1,qo(e,n),zT(e,r,s),Hp(e,r,s,n),Kp(null,e,r,!0,t,n);case 19:return XT(t,e,n);case 22:return GT(t,e,n)}throw Error(W(156,e.tag))};function fS(t,e){return Ub(t,e)}function Ej(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new Ej(t,e,n,r)}function Hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bj(t){if(typeof t=="function")return Hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uy)return 11;if(t===dy)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Hy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ro:return Di(n.children,s,i,e);case cy:o=8,s|=8;break;case pp:return t=Pn(12,n,e,s|2),t.elementType=pp,t.lanes=i,t;case gp:return t=Pn(13,n,e,s),t.elementType=gp,t.lanes=i,t;case yp:return t=Pn(19,n,e,s),t.elementType=yp,t.lanes=i,t;case bb:return Hh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _b:o=10;break e;case Eb:o=9;break e;case uy:o=11;break e;case dy:o=14;break e;case Es:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Hh(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=bb,t.lanes=n,t.stateNode={isHidden:!1},t}function Pm(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function jm(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fm(0),this.expirationTimes=fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qy(t,e,n,r,s,i,o,a,c){return t=new Tj(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(i),t}function Sj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mS(t){if(!t)return Gs;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(un(n))return mT(t,n,e)}return e}function pS(t,e,n,r,s,i,o,a,c){return t=qy(n,r,!0,t,s,i,o,a,c),t.context=mS(null),n=t.current,r=tn(),s=Fs(n),i=Gr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,Ic(t,s,r),dn(t,r),t}function qh(t,e,n,r){var s=e.current,i=tn(),o=Fs(s);return n=mS(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(Gn(t,s,o,i),ad(t,s,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gy(t,e){b0(t,e),(t=t.alternate)&&b0(t,e)}function Cj(){return null}var gS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ky(t){this._internalRoot=t}Gh.prototype.render=Ky.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));qh(t,e,null,null)};Gh.prototype.unmount=Ky.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bi(function(){qh(null,t,null,null)}),e[Zr]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&Yb(t)}};function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function T0(){}function Ij(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=eh(o);i.call(d)}}var o=pS(e,r,t,0,null,!1,!1,"",T0);return t._reactRootContainer=o,t[Zr]=o.current,Zl(t.nodeType===8?t.parentNode:t),Bi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=eh(c);a.call(d)}}var c=qy(t,0,!1,null,null,!1,!1,"",T0);return t._reactRootContainer=c,t[Zr]=c.current,Zl(t.nodeType===8?t.parentNode:t),Bi(function(){qh(e,c,n,r)}),c}function Yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=eh(o);a.call(c)}}qh(e,o,t,s)}else o=Ij(n,e,t,s,r);return eh(o)}Hb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pl(e.pendingLanes);n!==0&&(my(e,n|1),dn(e,lt()),!(ke&6)&&(la=lt()+500,li()))}break;case 13:Bi(function(){var r=es(t,1);if(r!==null){var s=tn();Gn(r,t,1,s)}}),Gy(t,1)}};py=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=tn();Gn(e,t,134217728,n)}Gy(t,134217728)}};qb=function(t){if(t.tag===13){var e=Fs(t),n=es(t,e);if(n!==null){var r=tn();Gn(n,t,e,r)}Gy(t,e)}};Gb=function(){return Le};Kb=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Ip=function(t,e,n){switch(e){case"input":if(xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fh(r);if(!s)throw Error(W(90));Sb(r),xp(r,s)}}}break;case"textarea":Ib(t,n);break;case"select":e=n.value,e!=null&&Bo(t,!!n.multiple,e,!1)}};Db=By;Ob=Bi;var Nj={usingClientEntryPoint:!1,Events:[kc,Do,Fh,Pb,jb,By]},al={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kj={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vb(t),t===null?null:t.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||Cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Oh=Fu.inject(kj),hr=Fu}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nj;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(e))throw Error(W(200));return Sj(t,e,null,n)};bn.createRoot=function(t,e){if(!Yy(t))throw Error(W(299));var n=!1,r="",s=gS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qy(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Zl(t.nodeType===8?t.parentNode:t),new Ky(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Vb(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Bi(t)};bn.hydrate=function(t,e,n){if(!Kh(e))throw Error(W(200));return Yh(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!Yy(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pS(e,null,t,1,n??null,s,!1,i,o),t[Zr]=e.current,Zl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gh(e)};bn.render=function(t,e,n){if(!Kh(e))throw Error(W(200));return Yh(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Kh(t))throw Error(W(40));return t._reactRootContainer?(Bi(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};bn.unstable_batchedUpdates=By;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Yh(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function yS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yS)}catch(t){console.error(t)}}yS(),yb.exports=bn;var Ea=yb.exports;const Rj=sb(Ea);var vS,S0=Ea;vS=S0.createRoot,S0.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C0="popstate";function Aj(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return og("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lc(s)}return jj(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pj(){return Math.random().toString(36).substring(2,10)}function I0(t,e){return{usr:t.state,key:t.key,idx:e}}function og(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||r||Pj()}}function lc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jj(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let T=h(),_=T==null?null:T-d;d=T,c&&c({action:a,location:E.location,delta:_})}function m(T,_){a="PUSH";let w=og(E.location,T,_);d=h()+1;let v=I0(w,d),k=E.createHref(w);try{o.pushState(v,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&c&&c({action:a,location:E.location,delta:1})}function y(T,_){a="REPLACE";let w=og(E.location,T,_);d=h();let v=I0(w,d),k=E.createHref(w);o.replaceState(v,"",k),i&&c&&c({action:a,location:E.location,delta:0})}function x(T){return Dj(T)}let E={get action(){return a},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(C0,f),c=T,()=>{s.removeEventListener(C0,f),c=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let _=x(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:y,go(T){return o.go(T)}};return E}function Dj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:lc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wS(t,e,n="/"){return Oj(t,e,n,!1)}function Oj(t,e,n,r){let s=typeof e=="string"?ba(e):e,i=ns(s.pathname||"/",n);if(i==null)return null;let o=xS(t);Mj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=Gj(i);a=Hj(o[c],d,r)}return a}function xS(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Kr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(tt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),xS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:zj(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of _S(i.path))s(i,o,c)}),e}function _S(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_S(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Mj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Lj=/^:[\w-]+$/,Vj=3,Fj=2,Uj=1,$j=10,Bj=-2,N0=t=>t==="*";function zj(t,e){let n=t.split("/"),r=n.length;return n.some(N0)&&(r+=Bj),e&&(r+=Fj),n.filter(s=>!N0(s)).reduce((s,i)=>s+(Lj.test(i)?Vj:i===""?Uj:$j),r)}function Wj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Hj(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=th({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=th({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Kr([i,f.pathname]),pathnameBase:Xj(Kr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Kr([i,f.pathnameBase]))}return o}function th(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},m)=>{if(h==="*"){let x=a[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[m];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function qj(t,e=!1,n=!0){Tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Gj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Kj(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:Yj(n,e):e,search:Jj(r),hash:Zj(s)}}function Yj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ES(t){let e=Qj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function bS(t,e,n,r=!1){let s;typeof t=="string"?s=ba(t):(s={...t},tt(!s.pathname||!s.pathname.includes("?"),Dm("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),Dm("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),Dm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=Kj(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),Xj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var tD=["GET",...TS];new Set(tD);var Ta=g.createContext(null);Ta.displayName="DataRouter";var Qh=g.createContext(null);Qh.displayName="DataRouterState";g.createContext(!1);var SS=g.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var nD=g.createContext(new Map);nD.displayName="Fetchers";var rD=g.createContext(null);rD.displayName="Await";var Nr=g.createContext(null);Nr.displayName="Navigation";var Ac=g.createContext(null);Ac.displayName="Location";var kr=g.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Qy=g.createContext(null);Qy.displayName="RouteError";function sD(t,{relative:e}={}){tt(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Nr),{hash:s,pathname:i,search:o}=jc(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Kr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Pc(){return g.useContext(Ac)!=null}function ro(){return tt(Pc(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ac).location}var CS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(t){g.useContext(Nr).static||g.useLayoutEffect(t)}function NS(){let{isDataRoute:t}=g.useContext(kr);return t?vD():iD()}function iD(){tt(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Ta),{basename:e,navigator:n}=g.useContext(Nr),{matches:r}=g.useContext(kr),{pathname:s}=ro(),i=JSON.stringify(ES(r)),o=g.useRef(!1);return IS(()=>{o.current=!0}),g.useCallback((c,d={})=>{if(Tr(o.current,CS),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=bS(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}g.createContext(null);function oD(){let{matches:t}=g.useContext(kr),e=t[t.length-1];return e?e.params:{}}function jc(t,{relative:e}={}){let{matches:n}=g.useContext(kr),{pathname:r}=ro(),s=JSON.stringify(ES(n));return g.useMemo(()=>bS(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function aD(t,e){return kS(t,e)}function kS(t,e,n,r){var _;tt(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(Nr),{matches:i}=g.useContext(kr),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";RS(c,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=ro(),m;if(e){let w=typeof e=="string"?ba(e):e;tt(d==="/"||((_=w.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=f;let y=m.pathname||"/",x=y;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=wS(t,{pathname:x});Tr(h||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Tr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=hD(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Kr([d,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Kr([d,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&T?g.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},T):T}function lD(){let t=yD(),e=eD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,o)}var cD=g.createElement(lD,null),uD=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?g.createElement(kr.Provider,{value:this.props.routeContext},g.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dD({routeContext:t,match:e,children:n}){let r=g.useContext(Ta);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(kr.Provider,{value:t},n)}function hD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);tt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,m=!1,y=null,x=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,y=d.route.errorElement||cD,o&&(a<0&&h===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):a===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,h+1)),T=()=>{let _;return f?_=y:m?_=x:d.route.Component?_=g.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,g.createElement(dD,{match:d,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(uD,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}function Xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fD(t){let e=g.useContext(Ta);return tt(e,Xy(t)),e}function mD(t){let e=g.useContext(Qh);return tt(e,Xy(t)),e}function pD(t){let e=g.useContext(kr);return tt(e,Xy(t)),e}function Jy(t){let e=pD(t),n=e.matches[e.matches.length-1];return tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gD(){return Jy("useRouteId")}function yD(){var r;let t=g.useContext(Qy),e=mD("useRouteError"),n=Jy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function vD(){let{router:t}=fD("useNavigate"),e=Jy("useNavigate"),n=g.useRef(!1);return IS(()=>{n.current=!0}),g.useCallback(async(s,i={})=>{Tr(n.current,CS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var k0={};function RS(t,e,n){!e&&!k0[t]&&(k0[t]=!0,Tr(!1,n))}g.memo(wD);function wD({routes:t,future:e,state:n}){return kS(t,void 0,n,e)}function Eo(t){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){tt(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=g.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=ba(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,y=g.useMemo(()=>{let x=ns(c,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:m},navigationType:r}},[o,c,d,h,f,m,r]);return Tr(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(Nr.Provider,{value:a},g.createElement(Ac.Provider,{children:e,value:y}))}function _D({children:t,location:e}){return aD(ag(t),e)}function ag(t,e=[]){let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,ag(r.props.children,i));return}tt(r.type===Eo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,i)),n.push(o)}),n}var md="get",pd="application/x-www-form-urlencoded";function Xh(t){return t!=null&&typeof t.tagName=="string"}function ED(t){return Xh(t)&&t.tagName.toLowerCase()==="button"}function bD(t){return Xh(t)&&t.tagName.toLowerCase()==="form"}function TD(t){return Xh(t)&&t.tagName.toLowerCase()==="input"}function SD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CD(t,e){return t.button===0&&(!e||e==="_self")&&!SD(t)}var Uu=null;function ID(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var ND=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(t){return t!=null&&!ND.has(t)?(Tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function kD(t,e){let n,r,s,i,o;if(bD(t)){let a=t.getAttribute("action");r=a?ns(a,e):null,n=t.getAttribute("method")||md,s=Om(t.getAttribute("enctype"))||pd,i=new FormData(t)}else if(ED(t)||TD(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?ns(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||md,s=Om(t.getAttribute("formenctype"))||Om(a.getAttribute("enctype"))||pd,i=new FormData(a,t),!ID()){let{name:d,type:h,value:f}=t;if(h==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,f)}}else{if(Xh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,r=null,s=pd,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ns(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function AD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jD(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await AD(i,n);return o.links?o.links():[]}return[]}));return LD(r.flat(1).filter(PD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function R0(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function DD(t,e,{includeHydrateFallback:n}={}){return OD(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function OD(t){return[...new Set(t)]}function MD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LD(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(MD(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function AS(){let t=g.useContext(Ta);return Zy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VD(){let t=g.useContext(Qh);return Zy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ev=g.createContext(void 0);ev.displayName="FrameworkContext";function PS(){let t=g.useContext(ev);return Zy(t,"You must render this element inside a <HydratedRouter> element"),t}function FD(t,e){let n=g.useContext(ev),[r,s]=g.useState(!1),[i,o]=g.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,m=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=_=>{_.forEach(w=>{o(w.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return m.current&&T.observe(m.current),()=>{T.disconnect()}}},[t]),g.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{s(!0)},x=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:ll(a,y),onBlur:ll(c,x),onMouseEnter:ll(d,y),onMouseLeave:ll(h,x),onTouchStart:ll(f,y)}]:[!1,m,{}]}function ll(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UD({page:t,...e}){let{router:n}=AS(),r=g.useMemo(()=>wS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(BD,{page:t,matches:r,...e}):null}function $D(t){let{manifest:e,routeModules:n}=PS(),[r,s]=g.useState([]);return g.useEffect(()=>{let i=!1;return jD(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function BD({page:t,matches:e,...n}){let r=ro(),{manifest:s,routeModules:i}=PS(),{basename:o}=AS(),{loaderData:a,matches:c}=VD(),d=g.useMemo(()=>R0(t,e,c,s,r,"data"),[t,e,c,s,r]),h=g.useMemo(()=>R0(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(_=>{var v;let w=s.routes[_.route.id];!w||!w.hasLoader||(!d.some(k=>k.route.id===_.route.id)&&_.route.id in a&&((v=i[_.route.id])!=null&&v.shouldRevalidate)||w.hasClientLoader?E=!0:x.add(_.route.id))}),x.size===0)return[];let T=RD(t,o,"data");return E&&x.size>0&&T.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[o,a,r,s,d,e,t,i]),m=g.useMemo(()=>DD(h,s),[h,s]),y=$D(h);return g.createElement(g.Fragment,null,f.map(x=>g.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>g.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:E})=>g.createElement("link",{key:x,...E})))}function zD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jS&&(window.__reactRouterVersion="7.7.1")}catch{}function WD({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=Aj({window:n,v5Compat:!0}));let s=r.current,[i,o]=g.useState({action:s.action,location:s.location}),a=g.useCallback(c=>{g.startTransition(()=>o(c))},[o]);return g.useLayoutEffect(()=>s.listen(a),[s,a]),g.createElement(xD,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cc=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f,...m},y){let{basename:x}=g.useContext(Nr),E=typeof d=="string"&&DS.test(d),T,_=!1;if(typeof d=="string"&&E&&(T=d,jS))try{let N=new URL(window.location.href),P=d.startsWith("//")?new URL(N.protocol+d):new URL(d),I=ns(P.pathname,x);P.origin===N.origin&&I!=null?d=I+P.search+P.hash:_=!0}catch{Tr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=sD(d,{relative:s}),[v,k,D]=FD(r,m),O=KD(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function C(N){e&&e(N),N.defaultPrevented||O(N)}let S=g.createElement("a",{...m,...D,href:T||w,onClick:_||i?e:C,ref:zD(y,k),target:c,"data-discover":!E&&n==="render"?"true":void 0});return v&&!E?g.createElement(g.Fragment,null,S,g.createElement(UD,{page:w})):S});cc.displayName="Link";var HD=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},h){let f=jc(o,{relative:d.relative}),m=ro(),y=g.useContext(Qh),{navigator:x,basename:E}=g.useContext(Nr),T=y!=null&&ZD(f)&&a===!0,_=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,w=m.pathname,v=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),v=v?v.toLowerCase():null,_=_.toLowerCase()),v&&E&&(v=ns(v,E)||v);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=w===_||!s&&w.startsWith(_)&&w.charAt(k)==="/",O=v!=null&&(v===_||!s&&v.startsWith(_)&&v.charAt(_.length)==="/"),C={isActive:D,isPending:O,isTransitioning:T},S=D?e:void 0,N;typeof r=="function"?N=r(C):N=[r,D?"active":null,O?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(C):i;return g.createElement(cc,{...d,"aria-current":S,className:N,ref:h,style:P,to:o,viewTransition:a},typeof c=="function"?c(C):c)});HD.displayName="NavLink";var qD=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=md,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...m},y)=>{let x=XD(),E=JD(a,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&DS.test(a),w=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let k=v.nativeEvent.submitter,D=(k==null?void 0:k.getAttribute("formmethod"))||o;x(k||v.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return g.createElement("form",{ref:y,method:T,action:E,onSubmit:r?c:w,...m,"data-discover":!_&&t==="render"?"true":void 0})});qD.displayName="Form";function GD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(t){let e=g.useContext(Ta);return tt(e,GD(t)),e}function KD(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=NS(),c=ro(),d=jc(t,{relative:i});return g.useCallback(h=>{if(CD(h,e)){h.preventDefault();let f=n!==void 0?n:lc(c)===lc(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,r,e,t,s,i,o])}var YD=0,QD=()=>`__${String(++YD)}__`;function XD(){let{router:t}=OS("useSubmit"),{basename:e}=g.useContext(Nr),n=gD();return g.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=kD(r,e);if(s.navigate===!1){let h=s.fetcherKey||QD();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function JD(t,{relative:e}={}){let{basename:n}=g.useContext(Nr),r=g.useContext(kr);tt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...jc(t||".",{relative:e})},o=ro();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Kr([n,i.pathname])),lc(i)}function ZD(t,{relative:e}={}){let n=g.useContext(SS);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OS("useViewTransitionState"),s=jc(t,{relative:e});if(!n.isTransitioning)return!1;let i=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return th(s.pathname,o)!=null||th(s.pathname,i)!=null}const eO=()=>{};var A0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new nO;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const x=d<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rO=function(t){const e=MS(t);return LS.encodeByteArray(e,!0)},nh=function(t){return rO(t).replace(/\./g,"")},VS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=()=>sO().__FIREBASE_DEFAULTS__,oO=()=>{if(typeof process>"u"||typeof A0>"u")return;const t=A0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VS(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return eO()||iO()||oO()||aO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FS=t=>{var e,n;return(n=(e=Jh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},lO=t=>{const e=FS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},US=()=>{var t;return(t=Jh())==null?void 0:t.config},$S=t=>{var e;return(e=Jh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nh(JSON.stringify(n)),nh(JSON.stringify(o)),""].join(".")}const Ll={};function dO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?t.emulator.push(e):t.prod.push(e);return t}function hO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let P0=!1;function zS(t,e){if(typeof window>"u"||typeof document>"u"||!Sa(window.location.host)||Ll[t]===e||Ll[t]||P0)return;Ll[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=dO().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{P0=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=hO(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;a(v),h(T,E);const k=d();c(w,_),v.append(w,x,T,k),document.body.appendChild(v)}i?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function mO(){var e;const t=(e=Jh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yO(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vO(){return!mO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function wO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xO,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_O(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new er(s,a,r)}}function _O(t,e){return t.replace(EO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EO=/\{\$([^}]+)}/g;function bO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(j0(i)&&j0(o)){if(!Ks(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function j0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TO(t,e){const n=new SO(t,e);return n.subscribe.bind(n)}class SO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Mm),s.error===void 0&&(s.error=Mm),s.complete===void 0&&(s.complete=Mm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1e3,NO=2,kO=4*60*60*1e3,RO=.5;function D0(t,e=IO,n=NO){const r=e*Math.pow(n,t),s=Math.round(RO*r*(Math.random()-.5)*2);return Math.min(kO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jO(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PO(t){return t===Ci?void 0:t}function jO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const OO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},MO=_e.INFO,LO={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},VO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=MO,this._logHandler=VO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const FO=(t,e)=>e.some(n=>t instanceof n);let O0,M0;function UO(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $O(){return M0||(M0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,lg=new WeakMap,KS=new WeakMap,Lm=new WeakMap,tv=new WeakMap;function BO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),tv.set(e,t),e}function zO(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lg.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WO(t){cg=t(cg)}function HO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vm(this),e,...n);return KS.set(r,e.sort?e.sort():[e]),$s(r)}:$O().includes(t)?function(...e){return t.apply(Vm(this),e),$s(GS.get(this))}:function(...e){return $s(t.apply(Vm(this),e))}}function qO(t){return typeof t=="function"?HO(t):(t instanceof IDBTransaction&&zO(t),FO(t,UO())?new Proxy(t,cg):t)}function $s(t){if(t instanceof IDBRequest)return BO(t);if(Lm.has(t))return Lm.get(t);const e=qO(t);return e!==t&&(Lm.set(t,e),tv.set(e,t)),e}const Vm=t=>tv.get(t);function YS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",c=>{r($s(o.result),c.oldVersion,c.newVersion,$s(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const GO=["get","getKey","getAll","getAllKeys","count"],KO=["put","add","delete","clear"],Fm=new Map;function L0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=KO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||GO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Fm.set(e,i),i}WO(t=>({...t,get:(e,n,r)=>L0(e,n)||t.get(e,n,r),has:(e,n)=>!!L0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",V0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Zh("@firebase/app"),XO="@firebase/app-compat",JO="@firebase/analytics-compat",ZO="@firebase/analytics",eM="@firebase/app-check-compat",tM="@firebase/app-check",nM="@firebase/auth",rM="@firebase/auth-compat",sM="@firebase/database",iM="@firebase/data-connect",oM="@firebase/database-compat",aM="@firebase/functions",lM="@firebase/functions-compat",cM="@firebase/installations",uM="@firebase/installations-compat",dM="@firebase/messaging",hM="@firebase/messaging-compat",fM="@firebase/performance",mM="@firebase/performance-compat",pM="@firebase/remote-config",gM="@firebase/remote-config-compat",yM="@firebase/storage",vM="@firebase/storage-compat",wM="@firebase/firestore",xM="@firebase/ai",_M="@firebase/firestore-compat",EM="firebase",bM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",TM={[ug]:"fire-core",[XO]:"fire-core-compat",[ZO]:"fire-analytics",[JO]:"fire-analytics-compat",[tM]:"fire-app-check",[eM]:"fire-app-check-compat",[nM]:"fire-auth",[rM]:"fire-auth-compat",[sM]:"fire-rtdb",[iM]:"fire-data-connect",[oM]:"fire-rtdb-compat",[aM]:"fire-fn",[lM]:"fire-fn-compat",[cM]:"fire-iid",[uM]:"fire-iid-compat",[dM]:"fire-fcm",[hM]:"fire-fcm-compat",[fM]:"fire-perf",[mM]:"fire-perf-compat",[pM]:"fire-rc",[gM]:"fire-rc-compat",[yM]:"fire-gcs",[vM]:"fire-gcs-compat",[wM]:"fire-fst",[_M]:"fire-fst-compat",[xM]:"fire-vertex","fire-js":"fire-js",[EM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,SM=new Map,hg=new Map;function F0(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(hg.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of rh.values())F0(n,t);for(const n of SM.values())F0(n,t);return!0}function io(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new so("app","Firebase",CM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=bM;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=US()),!n)throw Bs.create("no-options");const i=rh.get(s);if(i){if(Ks(n,i.options)&&Ks(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const o=new DO(s);for(const c of hg.values())o.addComponent(c);const a=new IM(n,r,o);return rh.set(s,a),a}function nv(t=dg){const e=rh.get(t);if(!e&&t===dg&&US())return QS();if(!e)throw Bs.create("no-app",{appName:t});return e}function Dn(t,e,n){let r=TM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(o.join(" "));return}Sr(new Yn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="firebase-heartbeat-database",kM=1,uc="firebase-heartbeat-store";let Um=null;function XS(){return Um||(Um=YS(NM,kM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Um}async function RM(t){try{const n=(await XS()).transaction(uc),r=await n.objectStore(uc).get(JS(t));return await n.done,r}catch(e){if(e instanceof er)rs.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function U0(t,e){try{const r=(await XS()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,JS(t)),await r.done}catch(n){if(n instanceof er)rs.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function JS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=1024,PM=30;class jM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>PM){const o=MM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$0(),{heartbeatsToSend:r,unsentEntries:s}=DM(this._heartbeatsCache.heartbeats),i=nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rs.warn(n),""}}}function $0(){return new Date().toISOString().substring(0,10)}function DM(t,e=AM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),B0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),B0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function B0(t){return nh(JSON.stringify({version:2,heartbeats:t})).length}function MM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){Sr(new Yn("platform-logger",e=>new YO(e),"PRIVATE")),Sr(new Yn("heartbeat",e=>new jM(e),"PRIVATE")),Dn(ug,V0,t),Dn(ug,V0,"esm2020"),Dn("fire-js","")}LM("");function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VM=ZS,e1=new so("auth","Firebase",ZS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Zh("@firebase/auth");function FM(t,...e){sh.logLevel<=_e.WARN&&sh.warn(`Auth (${Ca}): ${t}`,...e)}function gd(t,...e){sh.logLevel<=_e.ERROR&&sh.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw rv(t,...e)}function mr(t,...e){return rv(t,...e)}function t1(t,e,n){const r={...VM(),[e]:n};return new so("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t){return t1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e1.create(t,...e)}function oe(t,e,...n){if(!t)throw rv(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function ss(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function UM(){return z0()==="http:"||z0()==="https:"}function z0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UM()||WS()||"connection"in navigator)?navigator.onLine:!0}function BM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=fO()||gO()}get(){return $M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HM=new Oc(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ui(t,e,n,r,s={}){return r1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Dc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return pO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Sa(t.emulatorConfig.host)&&(d.credentials="include"),n1.fetch()(await s1(t,t.config.apiHost,n,a),d)})}async function r1(t,e,n){t._canInitEmulator=!1;const r={...zM,...e};try{const s=new GM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $u(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw $u(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw t1(t,h,d);Qn(t,h)}}catch(s){if(s instanceof er)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function Mc(t,e,n,r,s={}){const i=await ui(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function s1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?sv(t.config,s):`${t.config.apiScheme}://${s}`;return WM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function qM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),HM.get())})}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}function W0(t){return t!==void 0&&t.enterprise!==void 0}class KM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YM(t,e){return ui(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return ui(t,"POST","/v1/accounts:delete",e)}async function ih(t,e){return ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XM(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=iv(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Vl($m(s.auth_time)),issuedAtTime:Vl($m(s.iat)),expirationTime:Vl($m(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $m(t){return Number(t)*1e3}function iv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const s=VS(n);return s?JSON.parse(s):(gd("Failed to decode base64 JWT payload"),null)}catch(s){return gd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function H0(t){const e=iv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&JM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await dc(t,ih(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?i1(s.providerUserInfo):[],o=t4(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function e4(t){const e=mt(t);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function i1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e){const n=await r1(t,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await s1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Sa(t.emulatorConfig.host)&&(c.credentials="include"),n1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r4(t,e){return ui(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=H0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await n4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ko;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ZM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XM(this,e)}reload(){return e4(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await dc(this,QM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:x,stsTokenManager:E}=n;oe(f&&E,e,"internal-error");const T=Ko.fromJSON(this.name,E);oe(typeof f=="string",e,"internal-error"),ys(r,e.name),ys(s,e.name),oe(typeof m=="boolean",e,"internal-error"),oe(typeof y=="boolean",e,"internal-error"),ys(i,e.name),ys(o,e.name),ys(a,e.name),ys(c,e.name),ys(d,e.name),ys(h,e.name);const _=new Wn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:d,lastLoginAt:h});return x&&Array.isArray(x)&&(_.providerData=x.map(w=>({...w}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ko;s.updateFromServerResponse(n);const i=new Wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await oh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?i1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ko;a.updateFromIdToken(r);const c=new Wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function zr(t){ss(t instanceof Function,"Expected a class definition");let e=q0.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o1.type="NONE";const G0=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yd(this.userKey,s.apiKey,i),this.fullPersistenceKey=yd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ih(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(zr(G0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||zr(G0);const o=yd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await ih(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Wn._fromGetAccountInfoResponse(e,m,h)}else f=Wn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Yo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Yo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(f1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||c1(e))&&!e.includes("edge/"))return"Chrome";if(d1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function a1(t=Yt()){return/firefox\//i.test(t)}function l1(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c1(t=Yt()){return/crios\//i.test(t)}function u1(t=Yt()){return/iemobile/i.test(t)}function d1(t=Yt()){return/android/i.test(t)}function h1(t=Yt()){return/blackberry/i.test(t)}function f1(t=Yt()){return/webos/i.test(t)}function ov(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s4(t=Yt()){var e;return ov(t)&&!!((e=window.navigator)!=null&&e.standalone)}function i4(){return yO()&&document.documentMode===10}function m1(t=Yt()){return ov(t)||d1(t)||f1(t)||h1(t)||/windows phone/i.test(t)||u1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e=[]){let n;switch(t){case"Browser":n=K0(Yt());break;case"Worker":n=`${K0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e={}){return ui(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=6;class c4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??l4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y0(this),this.idTokenSubscription=new Y0(this),this.beforeStateQueue=new o4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ih(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Yr(this));const n=e?mt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a4(this),n=new c4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&FM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oo(t){return mt(t)}class Y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TO(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d4(t){ef=t}function g1(t){return ef.loadJS(t)}function h4(){return ef.recaptchaEnterpriseScript}function f4(){return ef.gapiScript}function m4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class p4{constructor(){this.enterprise=new g4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class g4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const y4="recaptcha-enterprise",y1="NO_RECAPTCHA";class v4{constructor(e){this.type=y4,this.auth=oo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{YM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new KM(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;W0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(y1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&W0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=h4();c.length!==0&&(c+=a),g1(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Q0(t,e,n,r=!1,s=!1){const i=new v4(t);let o;if(s)o=y1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function pg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Q0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){const n=io(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ks(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function x4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _4(t,e,n){const r=oo(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=v1(e),{host:o,port:a}=E4(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Ks(d,r.config.emulator)&&Ks(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Sa(o)?(BS(`${i}//${o}${c}`),zS("Auth",!0)):b4()}function v1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E4(t){const e=v1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:X0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:X0(o)}}}function X0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function b4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function T4(t,e){return ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return Mc(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function I4(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends av{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,n,"signInWithPassword",S4);case"emailLink":return C4(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,r,"signUpPassword",T4);case"emailLink":return I4(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return Mc(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="http://localhost";class zi extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new zi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:N4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R4(t){const e=yl(vl(t)).link,n=e?yl(vl(e)).deep_link_id:null,r=yl(vl(t)).deep_link_id;return(r?yl(vl(r)).link:null)||r||n||e||t}class lv{constructor(e){const n=yl(vl(e)),r=n.apiKey??null,s=n.oobCode??null,i=k4(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=R4(e);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lv.parseLink(n);return oe(r,"argument-error"),hc._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends w1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Lc{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Lc{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Lc{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return Mc(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wn._fromIdTokenResponse(e,r,s),o=J0(r);return new Wi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=J0(r);return new Wi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function J0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends er{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ah(e,n,r,s)}}function x1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,i,e,r):i})}async function P4(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(Yr(r));const s="reauthenticate";try{const i=await dc(t,x1(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=iv(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Wi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t,e,n=!1){if(Rn(t.app))return Promise.reject(Yr(t));const r="signIn",s=await x1(t,r,e),i=await Wi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function D4(t,e){return _1(oo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t){const e=oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O4(t,e,n){if(Rn(t.app))return Promise.reject(Yr(t));const r=oo(t),o=await pg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&E1(t),c}),a=await Wi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function M4(t,e,n){return Rn(t.app)?Promise.reject(Yr(t)):D4(mt(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E1(t),r})}function L4(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function V4(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function F4(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function U4(t){return mt(t).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=1e3,B4=10;class T1 extends b1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);i4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,B4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const z4=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends b1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S1.type="SESSION";const C1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await W4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=cv("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function q4(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function G4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Y4(){return I1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",Q4=1,ch="firebaseLocalStorage",k1="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function X4(){const t=indexedDB.deleteDatabase(N1);return new Vc(t).toPromise()}function gg(){const t=indexedDB.open(N1,Q4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ch,{keyPath:k1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await X4(),e(await gg()))})})}async function Z0(t,e,n){const r=nf(t,!0).put({[k1]:e,value:n});return new Vc(r).toPromise()}async function J4(t,e){const n=nf(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function e_(t,e){const n=nf(t,!0).delete(e);return new Vc(n).toPromise()}const Z4=800,eL=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new H4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await Z0(e,lh,"1"),await e_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nf(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const tL=R1;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){return e?zr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rL(t){return _1(t.auth,new uv(t),t.bypassAuthState)}function sL(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),j4(n,new uv(t),t.bypassAuthState)}async function iL(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),P4(n,new uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rL;case"linkViaPopup":case"linkViaRedirect":return iL;case"reauthViaPopup":case"reauthViaRedirect":return sL;default:Qn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new Oc(2e3,1e4);class $o extends A1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oL.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="pendingRedirect",vd=new Map;class lL extends A1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await cL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cL(t,e){const n=hL(e),r=dL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function uL(t,e){vd.set(t._key(),e)}function dL(t){return zr(t._redirectPersistence)}function hL(t){return yd(aL,t.config.apiKey,t.name)}async function fL(t,e,n=!1){if(Rn(t.app))return Promise.reject(Yr(t));const r=oo(t),s=nL(r,e),o=await new lL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=10*60*1e3;class pL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mL&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(e))}saveEventToCache(e){this.cachedEventUids.add(t_(e)),this.lastProcessedEventTime=Date.now()}}function t_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e={}){return ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wL=/^https?/;async function xL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yL(t);for(const n of e)try{if(_L(n))return}catch{}Qn(t,"unauthorized-domain")}function _L(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wL.test(n))return!1;if(vL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Oc(3e4,6e4);function n_(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bL(t){return new Promise((e,n)=>{var s,i,o;function r(){n_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n_(),n(mr(t,"network-request-failed"))},timeout:EL.get()})}if((i=(s=pr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=pr().gapi)!=null&&o.load)r();else{const a=m4("iframefcb");return pr()[a]=()=>{gapi.load?r():n(mr(t,"network-request-failed"))},g1(`${f4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw wd=null,e})}let wd=null;function TL(t){return wd=wd||bL(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Oc(5e3,15e3),CL="__/auth/iframe",IL="emulator/auth/iframe",NL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RL(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sv(e,IL):`https://${t.config.authDomain}/${CL}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},s=kL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Dc(r).slice(1)}`}async function AL(t){const e=await TL(t),n=pr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:RL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},SL.get());function c(){pr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jL=500,DL=600,OL="_blank",ML="http://localhost";class r_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LL(t,e,n,r=jL,s=DL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...PL,width:r.toString(),height:s.toString(),top:i,left:o},d=Yt().toLowerCase();n&&(a=c1(d)?OL:n),a1(d)&&(e=e||ML,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(s4(d)&&a!=="_self")return VL(e||"",a),new r_(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new r_(f)}function VL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="__/auth/handler",UL="emulator/auth/handler",$L=encodeURIComponent("fac");async function s_(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ca,eventId:s};if(e instanceof w1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Lc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${$L}=${encodeURIComponent(c)}`:"";return`${BL(t)}?${Dc(a).slice(1)}${d}`}function BL({config:t}){return t.emulator?sv(t,UL):`https://${t.authDomain}/${FL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class zL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C1,this._completeRedirectFn=fL,this._overrideRedirectResult=uL}async _openPopup(e,n,r,s){var o;ss((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await s_(e,n,r,fg(),s);return LL(e,i,cv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await s_(e,n,r,fg(),s);return q4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AL(e),r=new pL(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Bm];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m1()||l1()||ov()}}const WL=zL;var i_="@firebase/auth",o_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GL(t){Sr(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(t)},d=new u4(r,s,i,c);return x4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new Yn("auth-internal",e=>{const n=oo(e.getProvider("auth").getImmediate());return(r=>new HL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(i_,o_,qL(t)),Dn(i_,o_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=5*60,YL=$S("authIdTokenMaxAge")||KL;let a_=null;const QL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YL)return;const s=n==null?void 0:n.token;a_!==s&&(a_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function XL(t=nv()){const e=io(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w4(t,{popupRedirectResolver:WL,persistence:[tL,z4,C1]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=QL(i.toString());V4(n,o,()=>o(n.currentUser)),L4(n,a=>o(a))}}const s=FS("auth");return s&&_4(n,`http://${s}`),n}function JL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}d4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",JL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GL("Browser");var ZL="firebase",eV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(ZL,eV,"app");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,j1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function N(){}N.prototype=S.prototype,C.D=S.prototype,C.prototype=new N,C.prototype.constructor=C,C.C=function(P,I,R){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return S.prototype[I].apply(P,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,N){N||(N=0);var P=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)P[I]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(I=0;16>I;++I)P[I]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=C.g[0],N=C.g[1],I=C.g[2];var R=C.g[3],j=S+(R^N&(I^R))+P[0]+3614090360&4294967295;S=N+(j<<7&4294967295|j>>>25),j=R+(I^S&(N^I))+P[1]+3905402710&4294967295,R=S+(j<<12&4294967295|j>>>20),j=I+(N^R&(S^N))+P[2]+606105819&4294967295,I=R+(j<<17&4294967295|j>>>15),j=N+(S^I&(R^S))+P[3]+3250441966&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(R^N&(I^R))+P[4]+4118548399&4294967295,S=N+(j<<7&4294967295|j>>>25),j=R+(I^S&(N^I))+P[5]+1200080426&4294967295,R=S+(j<<12&4294967295|j>>>20),j=I+(N^R&(S^N))+P[6]+2821735955&4294967295,I=R+(j<<17&4294967295|j>>>15),j=N+(S^I&(R^S))+P[7]+4249261313&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(R^N&(I^R))+P[8]+1770035416&4294967295,S=N+(j<<7&4294967295|j>>>25),j=R+(I^S&(N^I))+P[9]+2336552879&4294967295,R=S+(j<<12&4294967295|j>>>20),j=I+(N^R&(S^N))+P[10]+4294925233&4294967295,I=R+(j<<17&4294967295|j>>>15),j=N+(S^I&(R^S))+P[11]+2304563134&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(R^N&(I^R))+P[12]+1804603682&4294967295,S=N+(j<<7&4294967295|j>>>25),j=R+(I^S&(N^I))+P[13]+4254626195&4294967295,R=S+(j<<12&4294967295|j>>>20),j=I+(N^R&(S^N))+P[14]+2792965006&4294967295,I=R+(j<<17&4294967295|j>>>15),j=N+(S^I&(R^S))+P[15]+1236535329&4294967295,N=I+(j<<22&4294967295|j>>>10),j=S+(I^R&(N^I))+P[1]+4129170786&4294967295,S=N+(j<<5&4294967295|j>>>27),j=R+(N^I&(S^N))+P[6]+3225465664&4294967295,R=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(R^S))+P[11]+643717713&4294967295,I=R+(j<<14&4294967295|j>>>18),j=N+(R^S&(I^R))+P[0]+3921069994&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(I^R&(N^I))+P[5]+3593408605&4294967295,S=N+(j<<5&4294967295|j>>>27),j=R+(N^I&(S^N))+P[10]+38016083&4294967295,R=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(R^S))+P[15]+3634488961&4294967295,I=R+(j<<14&4294967295|j>>>18),j=N+(R^S&(I^R))+P[4]+3889429448&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(I^R&(N^I))+P[9]+568446438&4294967295,S=N+(j<<5&4294967295|j>>>27),j=R+(N^I&(S^N))+P[14]+3275163606&4294967295,R=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(R^S))+P[3]+4107603335&4294967295,I=R+(j<<14&4294967295|j>>>18),j=N+(R^S&(I^R))+P[8]+1163531501&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(I^R&(N^I))+P[13]+2850285829&4294967295,S=N+(j<<5&4294967295|j>>>27),j=R+(N^I&(S^N))+P[2]+4243563512&4294967295,R=S+(j<<9&4294967295|j>>>23),j=I+(S^N&(R^S))+P[7]+1735328473&4294967295,I=R+(j<<14&4294967295|j>>>18),j=N+(R^S&(I^R))+P[12]+2368359562&4294967295,N=I+(j<<20&4294967295|j>>>12),j=S+(N^I^R)+P[5]+4294588738&4294967295,S=N+(j<<4&4294967295|j>>>28),j=R+(S^N^I)+P[8]+2272392833&4294967295,R=S+(j<<11&4294967295|j>>>21),j=I+(R^S^N)+P[11]+1839030562&4294967295,I=R+(j<<16&4294967295|j>>>16),j=N+(I^R^S)+P[14]+4259657740&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(N^I^R)+P[1]+2763975236&4294967295,S=N+(j<<4&4294967295|j>>>28),j=R+(S^N^I)+P[4]+1272893353&4294967295,R=S+(j<<11&4294967295|j>>>21),j=I+(R^S^N)+P[7]+4139469664&4294967295,I=R+(j<<16&4294967295|j>>>16),j=N+(I^R^S)+P[10]+3200236656&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(N^I^R)+P[13]+681279174&4294967295,S=N+(j<<4&4294967295|j>>>28),j=R+(S^N^I)+P[0]+3936430074&4294967295,R=S+(j<<11&4294967295|j>>>21),j=I+(R^S^N)+P[3]+3572445317&4294967295,I=R+(j<<16&4294967295|j>>>16),j=N+(I^R^S)+P[6]+76029189&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(N^I^R)+P[9]+3654602809&4294967295,S=N+(j<<4&4294967295|j>>>28),j=R+(S^N^I)+P[12]+3873151461&4294967295,R=S+(j<<11&4294967295|j>>>21),j=I+(R^S^N)+P[15]+530742520&4294967295,I=R+(j<<16&4294967295|j>>>16),j=N+(I^R^S)+P[2]+3299628645&4294967295,N=I+(j<<23&4294967295|j>>>9),j=S+(I^(N|~R))+P[0]+4096336452&4294967295,S=N+(j<<6&4294967295|j>>>26),j=R+(N^(S|~I))+P[7]+1126891415&4294967295,R=S+(j<<10&4294967295|j>>>22),j=I+(S^(R|~N))+P[14]+2878612391&4294967295,I=R+(j<<15&4294967295|j>>>17),j=N+(R^(I|~S))+P[5]+4237533241&4294967295,N=I+(j<<21&4294967295|j>>>11),j=S+(I^(N|~R))+P[12]+1700485571&4294967295,S=N+(j<<6&4294967295|j>>>26),j=R+(N^(S|~I))+P[3]+2399980690&4294967295,R=S+(j<<10&4294967295|j>>>22),j=I+(S^(R|~N))+P[10]+4293915773&4294967295,I=R+(j<<15&4294967295|j>>>17),j=N+(R^(I|~S))+P[1]+2240044497&4294967295,N=I+(j<<21&4294967295|j>>>11),j=S+(I^(N|~R))+P[8]+1873313359&4294967295,S=N+(j<<6&4294967295|j>>>26),j=R+(N^(S|~I))+P[15]+4264355552&4294967295,R=S+(j<<10&4294967295|j>>>22),j=I+(S^(R|~N))+P[6]+2734768916&4294967295,I=R+(j<<15&4294967295|j>>>17),j=N+(R^(I|~S))+P[13]+1309151649&4294967295,N=I+(j<<21&4294967295|j>>>11),j=S+(I^(N|~R))+P[4]+4149444226&4294967295,S=N+(j<<6&4294967295|j>>>26),j=R+(N^(S|~I))+P[11]+3174756917&4294967295,R=S+(j<<10&4294967295|j>>>22),j=I+(S^(R|~N))+P[2]+718787259&4294967295,I=R+(j<<15&4294967295|j>>>17),j=N+(R^(I|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(I+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var N=S-this.blockSize,P=this.B,I=this.h,R=0;R<S;){if(I==0)for(;R<=N;)s(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<S;)if(P[I++]=C.charCodeAt(R++),I==this.blockSize){s(this,P),I=0;break}}else for(;R<S;)if(P[I++]=C[R++],I==this.blockSize){s(this,P),I=0;break}}this.h=I,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var N=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=N&255,N/=256;for(this.u(C),C=Array(16),S=N=0;4>S;++S)for(var P=0;32>P;P+=8)C[N++]=this.g[S]>>>P&255;return C};function i(C,S){var N=a;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=S(C)}function o(C,S){this.h=S;for(var N=[],P=!0,I=C.length-1;0<=I;I--){var R=C[I]|0;P&&R==S||(N[I]=R,P=!1)}this.g=N}var a={};function c(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(d(-C));for(var S=[],N=1,P=0;C>=N;P++)S[P]=C/N|0,N*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return T(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(S,8)),P=f,I=0;I<C.length;I+=8){var R=Math.min(8,C.length-I),j=parseInt(C.substring(I,I+R),S);8>R?(R=d(Math.pow(S,R)),P=P.j(R).add(d(j))):(P=P.j(N),P=P.add(d(j)))}return P}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-T(this).m();for(var C=0,S=1,N=0;N<this.g.length;N++){var P=this.i(N);C+=(0<=P?P:4294967296+P)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(E(this))return"-"+T(this).toString(C);for(var S=d(Math.pow(C,6)),N=this,P="";;){var I=k(N,S).g;N=_(N,I.j(S));var R=((0<N.g.length?N.g[0]:N.h)>>>0).toString(C);if(N=I,x(N))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function E(C){return C.h==-1}t.l=function(C){return C=_(this,C),E(C)?-1:x(C)?0:1};function T(C){for(var S=C.g.length,N=[],P=0;P<S;P++)N[P]=~C.g[P];return new o(N,~C.h).add(m)}t.abs=function(){return E(this)?T(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0,I=0;I<=S;I++){var R=P+(this.i(I)&65535)+(C.i(I)&65535),j=(R>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);P=j>>>16,R&=65535,j&=65535,N[I]=j<<16|R}return new o(N,N[N.length-1]&-2147483648?-1:0)};function _(C,S){return C.add(T(S))}t.j=function(C){if(x(this)||x(C))return f;if(E(this))return E(C)?T(this).j(T(C)):T(T(this).j(C));if(E(C))return T(this.j(T(C)));if(0>this.l(y)&&0>C.l(y))return d(this.m()*C.m());for(var S=this.g.length+C.g.length,N=[],P=0;P<2*S;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var I=0;I<C.g.length;I++){var R=this.i(P)>>>16,j=this.i(P)&65535,B=C.i(I)>>>16,J=C.i(I)&65535;N[2*P+2*I]+=j*J,w(N,2*P+2*I),N[2*P+2*I+1]+=R*J,w(N,2*P+2*I+1),N[2*P+2*I+1]+=j*B,w(N,2*P+2*I+1),N[2*P+2*I+2]+=R*B,w(N,2*P+2*I+2)}for(P=0;P<S;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=S;P<2*S;P++)N[P]=0;return new o(N,0)};function w(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function v(C,S){this.g=C,this.h=S}function k(C,S){if(x(S))throw Error("division by zero");if(x(C))return new v(f,f);if(E(C))return S=k(T(C),S),new v(T(S.g),T(S.h));if(E(S))return S=k(C,T(S)),new v(T(S.g),S.h);if(30<C.g.length){if(E(C)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var N=m,P=S;0>=P.l(C);)N=D(N),P=D(P);var I=O(N,1),R=O(P,1);for(P=O(P,2),N=O(N,2);!x(P);){var j=R.add(P);0>=j.l(C)&&(I=I.add(N),R=j),P=O(P,1),N=O(N,1)}return S=_(C,I.j(S)),new v(I,S)}for(I=f;0<=C.l(S);){for(N=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=d(N),j=R.j(S);E(j)||0<j.l(C);)N-=P,R=d(N),j=R.j(S);x(R)&&(R=m),I=I.add(R),C=_(C,j)}return new v(I,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)&C.i(P);return new o(N,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)|C.i(P);return new o(N,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)^C.i(P);return new o(N,this.h^C.h)};function D(C){for(var S=C.g.length+1,N=[],P=0;P<S;P++)N[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(N,C.h)}function O(C,S){var N=S>>5;S%=32;for(var P=C.g.length-N,I=[],R=0;R<P;R++)I[R]=0<S?C.i(R+N)>>>S|C.i(R+N+1)<<32-S:C.i(R+N);return new o(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,j1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,zs=o}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D1,wl,O1,xd,yg,M1,L1,V1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,b){return u==Array.prototype||u==Object.prototype||(u[p]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var b=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var M=u[A];if(!(M in b))break e;b=b[M]}u=u[u.length-1],A=b[u],p=p(A),p!=A&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var b=0,A=!1,M={next:function(){if(!A&&b<u.length){var V=b++;return{value:p(V,u[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,b){return u.call.apply(u.bind,arguments)}function f(u,p,b){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function m(u,p,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,p){function b(){}b.prototype=p.prototype,u.aa=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(A,M,V){for(var H=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)H[Ue-2]=arguments[Ue];return p.prototype[M].apply(A,H)}}function E(u){const p=u.length;if(0<p){const b=Array(p);for(let A=0;A<p;A++)b[A]=u[A];return b}return[]}function T(u,p){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(c(A)){const M=u.length||0,V=A.length||0;u.length=M+V;for(let H=0;H<V;H++)u[M+H]=A[H]}else u.push(A)}}class _{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function v(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var D=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function O(u,p,b){for(const A in u)p.call(b,u[A],A,u)}function C(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function S(u){const p={};for(const b in u)p[b]=u[b];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let b,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(b in A)u[b]=A[b];for(let V=0;V<N.length;V++)b=N[V],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function I(u){var p=1;u=u.split(":");const b=[];for(;0<p&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function R(u){a.setTimeout(()=>{throw u},0)}function j(){var u=z;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class B{constructor(){this.h=this.g=null}add(p,b){const A=J.get();A.set(p,b),this.h?this.h.next=A:this.g=A,this.h=A}}var J=new _(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let G,L=!1,z=new B,Y=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(ie)}};var ie=()=>{for(var u;u=j();){try{u.h.call(u.g)}catch(b){R(b)}var p=J;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}L=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,p),a.removeEventListener("test",b,p)}catch{}return u}();function pt(u,p){if(Ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:st[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&pt.aa.h.call(this)}}x(pt,Ie);var st={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),De=0;function Xe(u,p,b,A,M){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!A,this.ha=M,this.key=++De,this.da=this.fa=!1}function Ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Te(u){this.src=u,this.g={},this.h=0}Te.prototype.add=function(u,p,b,A,M){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var H=gt(u,p,A,M);return-1<H?(p=u[H],b||(p.fa=!1)):(p=new Xe(p,this.src,V,!!A,M),p.fa=b,u.push(p)),p};function Se(u,p){var b=p.type;if(b in u.g){var A=u.g[b],M=Array.prototype.indexOf.call(A,p,void 0),V;(V=0<=M)&&Array.prototype.splice.call(A,M,1),V&&(Ne(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function gt(u,p,b,A){for(var M=0;M<u.length;++M){var V=u[M];if(!V.da&&V.listener==p&&V.capture==!!b&&V.ha==A)return M}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),Ln={};function rr(u,p,b,A,M){if(Array.isArray(p)){for(var V=0;V<p.length;V++)rr(u,p[V],b,A,M);return null}return b=nu(b),u&&u[ne]?u.K(p,b,d(A)?!!A.capture:!1,M):Pr(u,p,b,!1,A,M)}function Pr(u,p,b,A,M,V){if(!p)throw Error("Invalid event type");var H=d(M)?!!M.capture:!!M,Ue=yi(u);if(Ue||(u[Nt]=Ue=new Te(u)),b=Ue.add(p,b,A,H,V),b.proxy)return b;if(A=Ba(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)Qe||(M=H),M===void 0&&(M=!1),u.addEventListener(p.toString(),A,M);else if(u.attachEvent)u.attachEvent(eu(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ba(){function u(b){return p.call(u.src,u.listener,b)}const p=tu;return u}function jr(u,p,b,A,M){if(Array.isArray(p))for(var V=0;V<p.length;V++)jr(u,p[V],b,A,M);else A=d(A)?!!A.capture:!!A,b=nu(b),u&&u[ne]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],b=gt(V,b,A,M),-1<b&&(Ne(V[b]),Array.prototype.splice.call(V,b,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=yi(u))&&(p=u.g[p.toString()],u=-1,p&&(u=gt(p,b,A,M)),(b=-1<u?p[u]:null)&&za(b))}function za(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ne])Se(p.i,u);else{var b=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(b,A,u.capture):p.detachEvent?p.detachEvent(eu(b),A):p.addListener&&p.removeListener&&p.removeListener(A),(b=yi(p))?(Se(b,u),b.h==0&&(b.src=null,p[Nt]=null)):Ne(u)}}}function eu(u){return u in Ln?Ln[u]:Ln[u]="on"+u}function tu(u,p){if(u.da)u=!0;else{p=new pt(p,this);var b=u.listener,A=u.ha||u.src;u.fa&&za(u),u=b.call(A,p)}return u}function yi(u){return u=u[Nt],u instanceof Te?u:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(u){return typeof u=="function"?u:(u[vi]||(u[vi]=function(p){return u.handleEvent(p)}),u[vi])}function Tt(){ye.call(this),this.i=new Te(this),this.M=this,this.F=null}x(Tt,ye),Tt.prototype[ne]=!0,Tt.prototype.removeEventListener=function(u,p,b,A){jr(this,u,p,b,A)};function kt(u,p){var b,A=u.F;if(A)for(b=[];A;A=A.F)b.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new Ie(p,u);else if(p instanceof Ie)p.target=p.target||u;else{var M=p;p=new Ie(A,u),P(p,M)}if(M=!0,b)for(var V=b.length-1;0<=V;V--){var H=p.g=b[V];M=co(H,A,!0,p)&&M}if(H=p.g=u,M=co(H,A,!0,p)&&M,M=co(H,A,!1,p)&&M,b)for(V=0;V<b.length;V++)H=p.g=b[V],M=co(H,A,!1,p)&&M}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var b=u.g[p],A=0;A<b.length;A++)Ne(b[A]);delete u.g[p],u.h--}}this.F=null},Tt.prototype.K=function(u,p,b,A){return this.i.add(String(u),p,!1,b,A)},Tt.prototype.L=function(u,p,b,A){return this.i.add(String(u),p,!0,b,A)};function co(u,p,b,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,V=0;V<p.length;++V){var H=p[V];if(H&&!H.da&&H.capture==b){var Ue=H.listener,At=H.ha||H.src;H.fa&&Se(u.i,H),M=Ue.call(At,A)!==!1&&M}}return M&&!A.defaultPrevented}function ru(u,p,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function su(u){u.g=ru(()=>{u.g=null,u.i&&(u.i=!1,su(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Kf extends ye{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){ye.call(this),this.h=u,this.g={}}x(wi,ye);var iu=[];function ou(u){O(u.g,function(p,b){this.g.hasOwnProperty(b)&&za(p)},u),u.g={}}wi.prototype.N=function(){wi.aa.N.call(this),ou(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wa=a.JSON.stringify,au=a.JSON.parse,Yf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function uo(){}uo.prototype.h=null;function pe(u){return u.h||(u.h=u.i())}function Fe(){}var xe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sn(){Ie.call(this,"d")}x(Sn,Ie);function Xt(){Ie.call(this,"c")}x(Xt,Ie);var Cn={},yt=null;function Jt(){return yt=yt||new Tt}Cn.La="serverreachability";function Re(u){Ie.call(this,Cn.La,u)}x(Re,Ie);function xi(u){const p=Jt();kt(p,new Re(p))}Cn.STAT_EVENT="statevent";function lu(u,p){Ie.call(this,Cn.STAT_EVENT,u),this.stat=p}x(lu,Ie);function Rt(u){const p=Jt();kt(p,new lu(p,u))}Cn.Ma="timingevent";function ho(u,p){Ie.call(this,Cn.Ma,u),this.size=p}x(ho,Ie);function Dr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ha(){this.g=!0}Ha.prototype.xa=function(){this.g=!1};function jA(u,p,b,A,M,V){u.info(function(){if(u.g)if(V)for(var H="",Ue=V.split("&"),At=0;At<Ue.length;At++){var Ae=Ue[At].split("=");if(1<Ae.length){var Ft=Ae[0];Ae=Ae[1];var Ut=Ft.split("_");H=2<=Ut.length&&Ut[1]=="type"?H+(Ft+"="+Ae+"&"):H+(Ft+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+b+`
`+H})}function DA(u,p,b,A,M,V,H){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+b+`
`+V+" "+H})}function fo(u,p,b,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+MA(u,b)+(A?" "+A:"")})}function OA(u,p){u.info(function(){return"TIMEOUT: "+p})}Ha.prototype.info=function(){};function MA(u,p){if(!u.g)return p;if(!p)return null;try{var b=JSON.parse(p);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var A=b[u];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return Wa(b)}catch{return p}}var cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Aw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qf;function uu(){}x(uu,uo),uu.prototype.g=function(){return new XMLHttpRequest},uu.prototype.i=function(){return{}},Qf=new uu;function fs(u,p,b,A){this.j=u,this.i=p,this.l=b,this.R=A||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pw}function Pw(){this.i=null,this.g="",this.h=!1}var jw={},Xf={};function Jf(u,p,b){u.L=1,u.v=mu(Or(p)),u.m=b,u.P=!0,Dw(u,null)}function Dw(u,p){u.F=Date.now(),du(u),u.A=Or(u.v);var b=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Kw(b.i,"t",A),u.C=0,b=u.j.J,u.h=new Pw,u.g=hx(u.j,b?p:null,!u.m),0<u.O&&(u.M=new Kf(m(u.Y,u,u.g),u.O)),p=u.U,b=u.g,A=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(iu[0]=M.toString()),M=iu);for(var V=0;V<M.length;V++){var H=rr(b,M[V],A||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),xi(),jA(u.i,u.u,u.A,u.l,u.R,u.m)}fs.prototype.ca=function(u){u=u.target;const p=this.M;p&&Mr(u)==3?p.j():this.Y(u)},fs.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=Mr(this.g);var p=this.g.Ba();const go=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||tx(this.g)))){this.J||Ut!=4||p==7||(p==8||0>=go?xi(3):xi(2)),Zf(this);var b=this.g.Z();this.X=b;t:if(Ow(this)){var A=tx(this.g);u="";var M=A.length,V=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),qa(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(V&&p==M-1)});A.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=b==200,DA(this.i,this.u,this.A,this.l,this.R,Ut,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,At=this.g;if((Ue=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ue)){var Ae=Ue;break t}}Ae=null}if(b=Ae)fo(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,em(this,b);else{this.o=!1,this.s=3,Rt(12),_i(this),qa(this);break e}}if(this.P){b=!0;let Vn;for(;!this.J&&this.C<H.length;)if(Vn=LA(this,H),Vn==Xf){Ut==4&&(this.s=4,Rt(14),b=!1),fo(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==jw){this.s=4,Rt(15),fo(this.i,this.l,H,"[Invalid Chunk]"),b=!1;break}else fo(this.i,this.l,Vn,null),em(this,Vn);if(Ow(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||H.length!=0||this.h.h||(this.s=1,Rt(16),b=!1),this.o=this.o&&b,!b)fo(this.i,this.l,H,"[Invalid Chunked Response]"),_i(this),qa(this);else if(0<H.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),om(Ft),Ft.M=!0,Rt(11))}}else fo(this.i,this.l,H,null),em(this,H);Ut==4&&_i(this),this.o&&!this.J&&(Ut==4?lx(this.j,this):(this.o=!1,du(this)))}else eP(this.g),b==400&&0<H.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),_i(this),qa(this)}}}catch{}finally{}};function Ow(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function LA(u,p){var b=u.C,A=p.indexOf(`
`,b);return A==-1?Xf:(b=Number(p.substring(b,A)),isNaN(b)?jw:(A+=1,A+b>p.length?Xf:(p=p.slice(A,A+b),u.C=A+b,p)))}fs.prototype.cancel=function(){this.J=!0,_i(this)};function du(u){u.S=Date.now()+u.I,Mw(u,u.I)}function Mw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dr(m(u.ba,u),p)}function Zf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}fs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(OA(this.i,this.A),this.L!=2&&(xi(),Rt(17)),_i(this),this.s=2,qa(this)):Mw(this,this.S-u)};function qa(u){u.j.G==0||u.J||lx(u.j,u)}function _i(u){Zf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ou(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function em(u,p){try{var b=u.j;if(b.G!=0&&(b.g==u||tm(b.h,u))){if(!u.K&&tm(b.h,u)&&b.G==3){try{var A=b.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)xu(b),vu(b);else break e;im(b),Rt(18)}}else b.za=M[1],0<b.za-b.T&&37500>M[2]&&b.F&&b.v==0&&!b.C&&(b.C=Dr(m(b.Za,b),6e3));if(1>=Fw(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else bi(b,11)}else if((u.K||b.g==u)&&xu(b),!w(p))for(M=b.Da.g.parse(p),p=0;p<M.length;p++){let Ae=M[p];if(b.T=Ae[0],Ae=Ae[1],b.G==2)if(Ae[0]=="c"){b.K=Ae[1],b.ia=Ae[2];const Ft=Ae[3];Ft!=null&&(b.la=Ft,b.j.info("VER="+b.la));const Ut=Ae[4];Ut!=null&&(b.Aa=Ut,b.j.info("SVER="+b.Aa));const go=Ae[5];go!=null&&typeof go=="number"&&0<go&&(A=1.5*go,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Vn=u.g;if(Vn){const Eu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var V=A.h;V.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(nm(V,V.h),V.h=null))}if(A.D){const am=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;am&&(A.ya=am,He(A.I,A.D,am))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var H=u;if(A.qa=dx(A,A.J?A.ia:null,A.W),H.K){Uw(A.h,H);var Ue=H,At=A.L;At&&(Ue.I=At),Ue.B&&(Zf(Ue),du(Ue)),A.g=H}else ox(A);0<b.i.length&&wu(b)}else Ae[0]!="stop"&&Ae[0]!="close"||bi(b,7);else b.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?bi(b,7):sm(b):Ae[0]!="noop"&&b.l&&b.l.ta(Ae),b.v=0)}}xi(4)}catch{}}var VA=class{constructor(u,p){this.g=u,this.map=p}};function Lw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fw(u){return u.h?1:u.g?u.g.size:0}function tm(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function nm(u,p){u.g?u.g.add(p):u.h=p}function Uw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Lw.prototype.cancel=function(){if(this.i=$w(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $w(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.D);return p}return E(u.i)}function FA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],b=u.length,A=0;A<b;A++)p.push(u[A]);return p}p=[],b=0;for(A in u)p[b++]=u[A];return p}function UA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var b=0;b<u;b++)p.push(b);return p}p=[],b=0;for(const A in u)p[b++]=A;return p}}}function Bw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var b=UA(u),A=FA(u),M=A.length,V=0;V<M;V++)p.call(void 0,A[V],b&&b[V],u)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $A(u,p){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var A=u[b].indexOf("="),M=null;if(0<=A){var V=u[b].substring(0,A);M=u[b].substring(A+1)}else V=u[b];p(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,hu(this,u.j),this.o=u.o,this.g=u.g,fu(this,u.s),this.l=u.l;var p=u.i,b=new Ya;b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),Ww(this,b),this.m=u.m}else u&&(p=String(u).match(zw))?(this.h=!1,hu(this,p[1]||"",!0),this.o=Ga(p[2]||""),this.g=Ga(p[3]||"",!0),fu(this,p[4]),this.l=Ga(p[5]||"",!0),Ww(this,p[6]||"",!0),this.m=Ga(p[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}Ei.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ka(p,Hw,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ka(p,Hw,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ka(b,b.charAt(0)=="/"?WA:zA,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ka(b,qA)),u.join("")};function Or(u){return new Ei(u)}function hu(u,p,b){u.j=b?Ga(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function fu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ww(u,p,b){p instanceof Ya?(u.i=p,GA(u.i,u.h)):(b||(p=Ka(p,HA)),u.i=new Ya(p,u.h))}function He(u,p,b){u.i.set(p,b)}function mu(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ga(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ka(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,BA),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function BA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hw=/[#\/\?@]/g,zA=/[#\?:]/g,WA=/[#\?]/g,HA=/[#\?@]/g,qA=/#/g;function Ya(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ms(u){u.g||(u.g=new Map,u.h=0,u.i&&$A(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}t=Ya.prototype,t.add=function(u,p){ms(this),this.i=null,u=mo(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function qw(u,p){ms(u),p=mo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Gw(u,p){return ms(u),p=mo(u,p),u.g.has(p)}t.forEach=function(u,p){ms(this),this.g.forEach(function(b,A){b.forEach(function(M){u.call(p,M,A,this)},this)},this)},t.na=function(){ms(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),b=[];for(let A=0;A<p.length;A++){const M=u[A];for(let V=0;V<M.length;V++)b.push(p[A])}return b},t.V=function(u){ms(this);let p=[];if(typeof u=="string")Gw(this,u)&&(p=p.concat(this.g.get(mo(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)p=p.concat(u[b])}return p},t.set=function(u,p){return ms(this),this.i=null,u=mo(this,u),Gw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Kw(u,p,b){qw(u,p),0<b.length&&(u.i=null,u.g.set(mo(u,p),E(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var b=0;b<p.length;b++){var A=p[b];const V=encodeURIComponent(String(A)),H=this.V(A);for(A=0;A<H.length;A++){var M=V;H[A]!==""&&(M+="="+encodeURIComponent(String(H[A]))),u.push(M)}}return this.i=u.join("&")};function mo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function GA(u,p){p&&!u.j&&(ms(u),u.i=null,u.g.forEach(function(b,A){var M=A.toLowerCase();A!=M&&(qw(this,A),Kw(this,M,b))},u)),u.j=p}function KA(u,p){const b=new Ha;if(a.Image){const A=new Image;A.onload=y(ps,b,"TestLoadImage: loaded",!0,p,A),A.onerror=y(ps,b,"TestLoadImage: error",!1,p,A),A.onabort=y(ps,b,"TestLoadImage: abort",!1,p,A),A.ontimeout=y(ps,b,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function YA(u,p){const b=new Ha,A=new AbortController,M=setTimeout(()=>{A.abort(),ps(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(V=>{clearTimeout(M),V.ok?ps(b,"TestPingServer: ok",!0,p):ps(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ps(b,"TestPingServer: error",!1,p)})}function ps(u,p,b,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(b)}catch{}}function QA(){this.g=new Yf}function XA(u,p,b){const A=b||"";try{Bw(u,function(M,V){let H=M;d(M)&&(H=Wa(M)),p.push(A+V+"="+encodeURIComponent(H))})}catch(M){throw p.push(A+"type="+encodeURIComponent("_badmap")),M}}function pu(u){this.l=u.Ub||null,this.j=u.eb||!1}x(pu,uo),pu.prototype.g=function(){return new gu(this.l,this.j)},pu.prototype.i=function(u){return function(){return u}}({});function gu(u,p){Tt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(gu,Tt),t=gu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Xa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Qa(this):Xa(this),this.readyState==3&&Yw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Qa(this))},t.Qa=function(u){this.g&&(this.response=u,Qa(this))},t.ga=function(){this.g&&Qa(this)};function Qa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xa(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function Xa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qw(u){let p="";return O(u,function(b,A){p+=A,p+=":",p+=b,p+=`\r
`}),p}function rm(u,p,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Qw(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):He(u,p,b))}function it(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(it,Tt);var JA=/^https?$/i,ZA=["POST","PUT"];t=it.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qf.g(),this.v=this.o?pe(this.o):pe(Qf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){Xw(this,V);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)b.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())b.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZA,p,void 0))||A||M||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of b)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ex(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Xw(this,V)}};function Xw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Jw(u),yu(u)}function Jw(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zw(this):this.bb())},t.bb=function(){Zw(this)};function Zw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mr(u)!=4||u.Z()!=2)){if(u.u&&Mr(u)==4)ru(u.Ea,0,u);else if(kt(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var A;if(A=H===0){var M=String(u.D).match(zw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!JA.test(M?M.toLowerCase():"")}b=A}if(b)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var V=2<Mr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Jw(u)}}finally{yu(u)}}}}function yu(u,p){if(u.g){ex(u);const b=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||kt(u,"ready");try{b.onreadystatechange=A}catch{}}}function ex(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),au(p)}};function tx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function eP(u){const p={};u=(u.g&&2<=Mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var b=I(u[A]);const M=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const V=p[M]||[];p[M]=V,V.push(b)}C(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function nx(u){this.Aa=0,this.i=[],this.j=new Ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,u),this.cb=Ja("retryDelaySeedMs",1e4,u),this.Wa=Ja("forwardChannelMaxRetries",2,u),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Lw(u&&u.concurrentRequestLimit),this.Da=new QA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nx.prototype,t.la=8,t.G=1,t.connect=function(u,p,b,A){Rt(0),this.W=u,this.H=p||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=dx(this,null,this.W),wu(this)};function sm(u){if(rx(u),u.G==3){var p=u.U++,b=Or(u.I);if(He(b,"SID",u.K),He(b,"RID",p),He(b,"TYPE","terminate"),Za(u,b),p=new fs(u,u.j,p),p.L=2,p.v=mu(Or(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=p.v,b=!0),b||(p.g=hx(p.j,null),p.g.ea(p.v)),p.F=Date.now(),du(p)}ux(u)}function vu(u){u.g&&(om(u),u.g.cancel(),u.g=null)}function rx(u){vu(u),u.u&&(a.clearTimeout(u.u),u.u=null),xu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function wu(u){if(!Vw(u.h)&&!u.s){u.s=!0;var p=u.Ga;G||Y(),L||(G(),L=!0),z.add(p,u),u.B=0}}function tP(u,p){return Fw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dr(m(u.Ga,u,p),cx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new fs(this,this.j,u);let V=this.o;if(this.S&&(V?(V=S(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=ix(this,M,p),b=Or(this.I),He(b,"RID",u),He(b,"CVER",22),this.D&&He(b,"X-HTTP-Session-Id",this.D),Za(this,b),V&&(this.O?p="headers="+encodeURIComponent(String(Qw(V)))+"&"+p:this.m&&rm(b,this.m,V)),nm(this.h,M),this.Ua&&He(b,"TYPE","init"),this.P?(He(b,"$req",p),He(b,"SID","null"),M.T=!0,Jf(M,b,null)):Jf(M,b,p),this.G=2}}else this.G==3&&(u?sx(this,u):this.i.length==0||Vw(this.h)||sx(this))};function sx(u,p){var b;p?b=p.l:b=u.U++;const A=Or(u.I);He(A,"SID",u.K),He(A,"RID",b),He(A,"AID",u.T),Za(u,A),u.m&&u.o&&rm(A,u.m,u.o),b=new fs(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ix(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),nm(u.h,b),Jf(b,A,p)}function Za(u,p){u.H&&O(u.H,function(b,A){He(p,A,b)}),u.l&&Bw({},function(b,A){He(p,A,b)})}function ix(u,p,b){b=Math.min(u.i.length,b);var A=u.l?m(u.l.Na,u.l,u):null;e:{var M=u.i;let V=-1;for(;;){const H=["count="+b];V==-1?0<b?(V=M[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Ue=!0;for(let At=0;At<b;At++){let Ae=M[At].g;const Ft=M[At].map;if(Ae-=V,0>Ae)V=Math.max(0,M[At].g-100),Ue=!1;else try{XA(Ft,H,"req"+Ae+"_")}catch{A&&A(Ft)}}if(Ue){A=H.join("&");break e}}}return u=u.i.splice(0,b),p.D=u,A}function ox(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;G||Y(),L||(G(),L=!0),z.add(p,u),u.v=0}}function im(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dr(m(u.Fa,u),cx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ax(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dr(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),vu(this),ax(this))};function om(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ax(u){u.g=new fs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Or(u.qa);He(p,"RID","rpc"),He(p,"SID",u.K),He(p,"AID",u.T),He(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(p,"TO",u.ja),He(p,"TYPE","xmlhttp"),Za(u,p),u.m&&u.o&&rm(p,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=mu(Or(p)),b.m=null,b.P=!0,Dw(b,u)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),im(this),Rt(19))};function xu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function lx(u,p){var b=null;if(u.g==p){xu(u),om(u),u.g=null;var A=2}else if(tm(u.h,p))b=p.D,Uw(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){b=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;A=Jt(),kt(A,new ho(A,b)),wu(u)}else ox(u);else if(M=p.s,M==3||M==0&&0<p.X||!(A==1&&tP(u,p)||A==2&&im(u)))switch(b&&0<b.length&&(p=u.h,p.i=p.i.concat(b)),M){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function cx(u,p){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*p}function bi(u,p){if(u.j.info("Error code "+p),p==2){var b=m(u.fb,u),A=u.Xa;const M=!A;A=new Ei(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hu(A,"https"),mu(A),M?KA(A.toString(),b):YA(A.toString(),b)}else Rt(2);u.G=0,u.l&&u.l.sa(p),ux(u),rx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ux(u){if(u.G=0,u.ka=[],u.l){const p=$w(u.h);(p.length!=0||u.i.length!=0)&&(T(u.ka,p),T(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function dx(u,p,b){var A=b instanceof Ei?Or(b):new Ei(b);if(A.g!="")p&&(A.g=p+"."+A.g),fu(A,A.s);else{var M=a.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var V=new Ei(null);A&&hu(V,A),p&&(V.g=p),M&&fu(V,M),b&&(V.l=b),A=V}return b=u.D,p=u.ya,b&&p&&He(A,b,p),He(A,"VER",u.la),Za(u,A),A}function hx(u,p,b){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new it(new pu({eb:b})):new it(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fx(){}t=fx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(u,p){return new fn(u,p)};function fn(u,p){Tt.call(this),this.g=new nx(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new po(this)}x(fn,Tt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){sm(this.g)},fn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Wa(u),u=b);p.i.push(new VA(p.Ya++,u)),p.G==3&&wu(p)},fn.prototype.N=function(){this.g.l=null,delete this.j,sm(this.g),delete this.g,fn.aa.N.call(this)};function mx(u){Sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}x(mx,Sn);function px(){Xt.call(this),this.status=1}x(px,Xt);function po(u){this.g=u}x(po,fx),po.prototype.ua=function(){kt(this.g,"a")},po.prototype.ta=function(u){kt(this.g,new mx(u))},po.prototype.sa=function(u){kt(this.g,new px)},po.prototype.ra=function(){kt(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,V1=function(){return new _u},L1=function(){return Jt()},M1=Cn,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cu.NO_ERROR=0,cu.TIMEOUT=8,cu.HTTP_ERROR=6,xd=cu,Aw.COMPLETE="complete",O1=Aw,Fe.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,wl=Fe,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,D1=it}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const c_="@firebase/firestore",u_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Zh("@firebase/firestore");function bo(){return Hi.logLevel}function Z(t,...e){if(Hi.logLevel<=_e.DEBUG){const n=e.map(dv);Hi.debug(`Firestore (${Na}): ${t}`,...n)}}function is(t,...e){if(Hi.logLevel<=_e.ERROR){const n=e.map(dv);Hi.error(`Firestore (${Na}): ${t}`,...n)}}function ca(t,...e){if(Hi.logLevel<=_e.WARN){const n=e.map(dv);Hi.warn(`Firestore (${Na}): ${t}`,...n)}}function dv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,F1(t,r,n)}function F1(t,e,n){let r=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function Oe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||F1(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class nV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rV{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new U1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class sV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new d_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=aV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function vg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return zm(s)===zm(i)?Ee(s,i):zm(s)?1:-1}return Ee(t.length,e.length)}const lV=55296,cV=57343;function zm(t){const e=t.charCodeAt(0);return e>=lV&&e<=cV}function ua(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ar.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ee(e.length,n.length)}static compareSegments(e,n){const r=ar.isNumericId(e),s=ar.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ar.extractNumericId(e).compare(ar.extractNumericId(n)):vg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class $e extends ar{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const uV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends ar{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return uV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new Dt([h_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se($e.fromString(e))}static fromName(e){return new se($e.fromString(e).popFirst(5))}static empty(){return new se($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dV(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f_(t){if(!se.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m_(t){if(se.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function B1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fc(t,e){if(!B1(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-62135596800,g_=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*g_);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p_)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fc(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:ht("string",Pe._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Pe(0,0))}static max(){return new ce(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function hV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new Qs(s,se.empty(),e)}function fV(t){return new Qs(t.readTime,t.key,fc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(ce.min(),se.empty(),fc)}static max(){return new Qs(ce.max(),se.empty(),fc)}}function mV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==pV)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function yV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ra(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-1;function of(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function vV(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="";function wV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=y_(e)),e=xV(t.get(n),e);return y_(e)}function xV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case z1:n+="";break;default:n+=i}}return n}function y_(t){return t+z1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Et(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new H1("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const _V=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=_V.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="server_timestamp",G1="__type__",K1="__previous_value__",Y1="__local_write_time__";function mv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[G1])==null?void 0:r.stringValue)===q1}function af(t){const e=t.mapValue.fields[K1];return mv(e)?af(e):e}function mc(t){const e=Xs(t.mapValue.fields[Y1].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const dh="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__type__",bV="__max__",Wu={mapValue:{}},X1="__vector__",hh="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mv(t)?4:SV(t)?9007199254740991:TV(t)?10:11:ae(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xs(s.timestampValue),a=Xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Js(s.bytesValue).isEqual(Js(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return at(s.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return at(s.integerValue)===at(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=at(s.doubleValue),a=at(i.doubleValue);return o===a?uh(o)===uh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(v_(o)!==v_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Cr(o[c],a[c])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function gc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function da(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=at(i.integerValue||i.doubleValue),c=at(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return x_(t.timestampValue,e.timestampValue);case 4:return x_(mc(t),mc(e));case 5:return vg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Js(i),c=Js(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ee(a[d],c[d]);if(h!==0)return h}return Ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ee(at(i.latitude),at(o.latitude));return a!==0?a:Ee(at(i.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return __(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,x,E;const a=i.fields||{},c=o.fields||{},d=(m=a[hh])==null?void 0:m.arrayValue,h=(y=c[hh])==null?void 0:y.arrayValue,f=Ee(((x=d==null?void 0:d.values)==null?void 0:x.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return f!==0?f:__(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wu.mapValue&&o===Wu.mapValue)return 0;if(i===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=vg(c[f],h[f]);if(m!==0)return m;const y=da(a[c[f]],d[h[f]]);if(y!==0)return y}return Ee(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function x_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Xs(t),r=Xs(e),s=Ee(n.seconds,r.seconds);return s!==0?s:Ee(n.nanos,r.nanos)}function __(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=da(n[s],r[s]);if(i)return i}return Ee(n.length,r.length)}function ha(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wg(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function _d(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+_d(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+_d(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return di(r.fields,(i,o)=>{s+=i.length+_d(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function E_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function T_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ed(t){return!!t&&"mapValue"in t}function TV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Q1])==null?void 0:r.stringValue)===X1}function Fl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return{...t}}function SV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Fl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ed(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Fl(this.value))}}function J1(t){const e=[];return di(t.fields,(n,r)=>{const s=new Dt([n]);if(Ed(r)){const i=J1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,ce.min(),ce.min(),ce.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,ce.min(),ce.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,ce.min(),ce.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function S_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=da(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function C_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function CV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{}class dt extends Z1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NV(e,n,r):n==="array-contains"?new AV(e,r):n==="in"?new PV(e,r):n==="not-in"?new jV(e,r):n==="array-contains-any"?new DV(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kV(e,r):new RV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(da(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Z1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return eC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eC(t){return t.op==="and"}function tC(t){return IV(t)&&eC(t)}function IV(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function _g(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(tC(t))return t.filters.map(e=>_g(e)).join(",");{const e=t.filters.map(n=>_g(n)).join(",");return`${t.op}(${e})`}}function nC(t,e){return t instanceof dt?function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&nC(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function rC(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${ha(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(rC).join(" ,")+"}"}(t):"Filter"}class NV extends dt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class kV extends dt{constructor(e,n){super(e,"in",n),this.keys=sC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RV extends dt{constructor(e,n){super(e,"not-in",n),this.keys=sC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class AV extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&gc(n.arrayValue,this.value)}}class PV extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class jV extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gc(this.value.arrayValue,n)}}class DV extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function I_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new OV(t,e,n,r,s,i,o)}function gv(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),e.Te=n}return e.Te}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C_(t.startAt,e.startAt)&&C_(t.endAt,e.endAt)}function Eg(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MV(t,e,n,r,s,i,o,a){return new Aa(t,e,n,r,s,i,o,a)}function vv(t){return new Aa(t)}function N_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iC(t){return t.collectionGroup!==null}function Ul(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(Dt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new yc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new yc(Dt.keyField(),r))}return e.Ie}function gr(t){const e=de(t);return e.Ee||(e.Ee=LV(e,Ul(t))),e.Ee}function LV(t,e){if(t.limitType==="F")return I_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yc(s.field,i)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return I_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){const n=t.filters.concat([e]);return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mh(t,e,n){return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return yv(gr(t),gr(e))&&t.limitType===e.limitType}function oC(t){return`${gv(gr(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>rC(s)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ha(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ha(s)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=S_(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Ul(r),s)||r.endAt&&!function(o,a,c){const d=S_(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Ul(r),s))}(t,e)}function VV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aC(t){return(e,n)=>{let r=!1;for(const s of Ul(t)){const i=FV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FV(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?da(c,d):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new rt(se.comparator);function os(){return UV}const lC=new rt(se.comparator);function xl(...t){let e=lC;for(const n of t)e=e.insert(n.key,n);return e}function cC(t){let e=lC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return $l()}function uC(){return $l()}function $l(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const $V=new rt(se.comparator),BV=new Et(se.comparator);function be(...t){let e=BV;for(const n of t)e=e.add(n);return e}const zV=new Et(Ee);function WV(){return zV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function dC(t){return{integerValue:""+t}}function HV(t,e){return vV(e)?dC(e):wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function qV(t,e,n){return t instanceof ph?function(s,i){const o={fields:{[G1]:{stringValue:q1},[Y1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&mv(i)&&(i=af(i)),i&&(o.fields[K1]=i),{mapValue:o}}(n,e):t instanceof vc?fC(t,e):t instanceof wc?mC(t,e):function(s,i){const o=hC(s,i),a=k_(o)+k_(s.Ae);return xg(o)&&xg(s.Ae)?dC(a):wv(s.serializer,a)}(t,e)}function GV(t,e,n){return t instanceof vc?fC(t,e):t instanceof wc?mC(t,e):n}function hC(t,e){return t instanceof gh?function(r){return xg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ph extends uf{}class vc extends uf{constructor(e){super(),this.elements=e}}function fC(t,e){const n=pC(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class wc extends uf{constructor(e){super(),this.elements=e}}function mC(t,e){let n=pC(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class gh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function k_(t){return at(t.integerValue||t.doubleValue)}function pC(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof vc&&s instanceof vc||r instanceof wc&&s instanceof wc?ua(r.elements,s.elements,Cr):r instanceof gh&&s instanceof gh?Cr(r.Ae,s.Ae):r instanceof ph&&s instanceof ph}(t.transform,e.transform)}class YV{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function gC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vC(t.key,yr.none()):new Uc(t.key,t.data,yr.none());{const n=t.data,r=an.empty();let s=new Et(Dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new hi(t.key,r,new vn(s.toArray()),yr.none())}}function QV(t,e,n){t instanceof Uc?function(s,i,o){const a=s.value.clone(),c=A_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(s,i,o){if(!bd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=A_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(yC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bl(t,e,n,r){return t instanceof Uc?function(i,o,a,c){if(!bd(i.precondition,o))return a;const d=i.value.clone(),h=P_(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,o,a,c){if(!bd(i.precondition,o))return a;const d=P_(i.fieldTransforms,c,o),h=o.data;return h.setAll(yC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return bd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=hC(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function R_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ua(r,s,(i,o)=>KV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends df{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends df{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A_(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,GV(o,a,n[s]))}return r}function P_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qV(i,o,e))}return r}class vC extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JV extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&QV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=gC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>R_(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>R_(n,r))}}class xv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return $V}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new xv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ce;function nF(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function wC(t){if(t===void 0)return is("GRPC error has no .code"),U.UNKNOWN;switch(t){case ct.OK:return U.OK;case ct.CANCELLED:return U.CANCELLED;case ct.UNKNOWN:return U.UNKNOWN;case ct.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ct.INTERNAL:return U.INTERNAL;case ct.UNAVAILABLE:return U.UNAVAILABLE;case ct.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ct.NOT_FOUND:return U.NOT_FOUND;case ct.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ct.ABORTED:return U.ABORTED;case ct.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ct.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(Ce=ct||(ct={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new zs([4294967295,4294967295],0);function j_(t){const e=rF().encode(t),n=new j1;return n.update(e),new Uint8Array(n.digest())}function D_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zs([n,r],0),new zs([s,i],0)]}class _v{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zs.fromNumber(r)));return s.compare(sF)===1&&(s=new zs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=j_(e),[r,s]=D_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _v(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=j_(e),[r,s]=D_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(ce.min(),s,new rt(Ee),os(),be())}}class $c{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $c(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class xC{constructor(e,n){this.targetId=e,this.Ce=n}}class _C{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class O_{constructor(){this.ve=0,this.Fe=M_(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new $c(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=M_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iF{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=Hu(),this.He=Hu(),this.Ye=new rt(Ee)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Eg(i))if(r===0){const o=new se(i.path);this.et(n,o,Gt.newNoDocument(o,ce.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Js(r).toUint8Array()}catch(c){if(c instanceof H1)return ca("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new _v(o,s,i)}catch(c){return ca(c instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Eg(a.target)){const c=new se(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Gt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=be();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new hf(e,n,this.Ye,this.je,r);return this.je=os(),this.Je=Hu(),this.He=Hu(),this.Ye=new rt(Ee),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new O_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(Ee),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(Ee),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hu(){return new rt(se.comparator)}function M_(){return new rt(se.comparator)}const oF={asc:"ASCENDING",desc:"DESCENDING"},aF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lF={and:"AND",or:"OR"};class cF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uF(t,e){return yh(t,e.toTimestamp())}function vr(t){return Oe(!!t,49232),ce.fromTimestamp(function(n){const r=Xs(n);return new Pe(r.seconds,r.nanos)}(t))}function Ev(t,e){return Sg(t,e).canonicalString()}function Sg(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bC(t){const e=$e.fromString(t);return Oe(NC(e),10190,{key:e.toString()}),e}function Cg(t,e){return Ev(t.databaseId,e.path)}function Wm(t,e){const n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(SC(n))}function TC(t,e){return Ev(t.databaseId,e)}function dF(t){const e=bC(t);return e.length===4?$e.emptyPath():SC(e)}function Ig(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SC(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function L_(t,e,n){return{name:Cg(t,e),fields:n.value.mapValue.fields}}function hF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ae(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:wC(d.code);return new K(h,d.message||"")}(o);n=new _C(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wm(t,r.document.name),i=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):ce.min(),a=new an({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Td(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wm(t,r.document),i=r.readTime?vr(r.readTime):ce.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Td([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wm(t,r.document),i=r.removedTargetIds||[];n=new Td([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tF(s,i),a=r.targetId;n=new xC(a,o)}}return n}function fF(t,e){let n;if(e instanceof Uc)n={update:L_(t,e.key,e.value)};else if(e instanceof vC)n={delete:Cg(t,e.key)};else if(e instanceof hi)n={update:L_(t,e.key,e.data),updateMask:EF(e.fieldMask)};else{if(!(e instanceof JV))return ae(16599,{Vt:e.type});n={verify:Cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:uF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?vr(s.updateTime):vr(i);return o.isEqual(ce.min())&&(o=vr(i)),new YV(o,s.transformResults||[])}(n,e))):[]}function pF(t,e){return{documents:[TC(t,e.path)]}}function gF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TC(t,s);const i=function(d){if(d.length!==0)return IC(Xn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:So(m.field),direction:wF(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function yF(t){let e=dF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=CC(f);return m instanceof Xn&&tC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(x){return new yc(Co(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,of(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new fh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new fh(y,m)}(n.endAt)),MV(e,s,o,i,a,"F",c,d)}function vF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Co(n.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Co(n.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Co(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Co(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>CC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function wF(t){return oF[t]}function xF(t){return aF[t]}function _F(t){return lF[t]}function So(t){return{fieldPath:t.canonicalString()}}function Co(t){return Dt.fromServerFormat(t.fieldPath)}function IC(t){return t instanceof dt?function(n){if(n.op==="=="){if(T_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:xF(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>IC(s));return r.length===1?r[0]:{compositeFilter:{op:_F(n.op),filters:r}}}(t):ae(54877,{filter:t})}function EF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.yt=e}}function TF(t){const e=yF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.Cn=new CF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Qs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class CF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kC=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(kC,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fa(0)}static cr(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LruGarbageCollector",IF=1048576;function U_([t,e],[n,r]){const s=Ee(t,n);return s===0?Ee(e,r):s}class NF{constructor(e){this.Ir=e,this.buffer=new Et(U_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();U_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(F_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ra(n)?Z(F_,"Ignoring IndexedDB error during garbage collection: ",n):await ka(n)}await this.Vr(3e5)})}}class RF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sf.ce);const r=new NF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(V_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),bo()<=_e.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function AF(t,e){return new RF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Bl(r.mutation,s,vn.empty(),Pe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=xl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=os();const o=$l(),a=function(){return $l()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Bl(h.mutation,d,h.mutation.getFieldMask(),Pe.now())):o.set(d.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new jF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=$l();let s=new rt((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||vn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||be()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=uC();h.forEach(m=>{if(!i.has(m)){const y=gC(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Ai());let a=fc,c=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,be())).next(h=>({batchId:a,changes:cC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=xl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=xl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,c=>{const d=function(f,m){return new Aa(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Gt.newInvalidDocument(h)))});let a=xl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Bl(h.mutation,d,vn.empty(),Pe.now()),cf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:TF(s.bundledQuery),readTime:vr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.overlays=new rt(se.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new rt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ai(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ai(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eF(n,r));let i=this.qr.get(n);i===void 0&&(i=be(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Qr=new Et(St.$r),this.Ur=new Et(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new $e([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new $e([])),r=new St(n,e),s=new St(n,e+1);let i=be();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||Ee(e.Yr,n.Yr)}static Kr(e,n){return Ee(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(St.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?fv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ee);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new St(new se(i),0);let a=new Et(Ee);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.ri=e,this.docs=function(){return new rt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=os();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||mV(fV(h),r)<=0||(s.has(h.key)||cf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UF(this)}getSize(e){return $.resolve(this.size)}}class UF extends PF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.persistence=e,this.si=new ao(n=>gv(n),yv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new bv,this.targetCount=0,this.ai=fa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new LF,this.referenceDelegate=e(this),this.Pi=new $F(this),this.indexManager=new SF,this.remoteDocumentCache=function(s){return new FF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new bF(n),this.Ii=new OF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new VF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new BF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class BF extends gV{constructor(e){super(),this.currentSequenceNumber=e}}class Tv{constructor(e){this.persistence=e,this.Ri=new bv,this.Vi=null}static mi(e){return new Tv(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new ao(r=>wV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AF(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_d(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Sv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vO()?8:yV(Yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(bo()<=_e.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(bo()<=_e.DEBUG&&Z("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(bo()<=_e.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):$.resolve())}ys(e,n){if(N_(n))return $.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mh(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=be(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,mh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return N_(n)||s.isEqual(ce.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(bo()<=_e.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),To(n)),this.vs(e,o,n,hV(s,fc)).next(a=>a))})}Ds(e,n){let r=new Et(aC(e));return n.forEach((s,i)=>{cf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return bo()<=_e.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",To(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LocalStore",HF=3e8;class qF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new rt(Ee),this.xs=new ao(i=>gv(i),yv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function GF(t,e,n,r){return new qF(t,e,n,r)}async function AC(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=be();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function KF(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,m=f.keys();let y=$.resolve();return m.forEach(x=>{y=y.next(()=>h.getEntry(c,x)).next(E=>{const T=d.docVersions.get(x);Oe(T!==null,48541),E.version.compareTo(T)<0&&(f.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=be();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PC(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YF(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Vt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(E,T,_){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=HF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let c=os(),d=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(QF(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ce.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function QF(t,e,n){let r=be(),s=be();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=os();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(Cv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function XF(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JF(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ng(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ra(o))throw o;Z(Cv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function $_(t,e,n){const r=de(t);let s=ce.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=de(c),m=f.xs.get(h);return m!==void 0?$.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,gr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:be())).next(a=>(ZF(r,VV(e),a),{documents:a,Qs:i})))}function ZF(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class B_{constructor(){this.activeTargetIds=WV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e6{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class W_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(z_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function kg(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",n6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=kg(),a=this.zo(e,n.toUriEncodedString());Z(Hm,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Sa(d);return this.Jo(e,a,c,r,h).then(f=>(Z(Hm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ca(Hm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=n6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class i6 extends r6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=kg();return new Promise((a,c)=>{const d=new D1;d.setWithCredentials(!0),d.listenOnce(O1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xd.NO_ERROR:const f=d.getResponseJson();Z(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case xd.TIMEOUT:Z(zt,`RPC '${e}' ${o} timed out`),c(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const m=d.getStatus();if(Z(zt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const E=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(x.status);c(new K(E,x.message))}else c(new K(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(zt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(zt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=kg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=V1(),a=L1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(zt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const x=new s6({Yo:T=>{y?Z(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(m||(Z(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Z(zt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Zo:()=>f.close()}),E=(T,_,w)=>{T.listen(_,v=>{try{w(v)}catch(k){setTimeout(()=>{throw k},0)}})};return E(f,wl.EventType.OPEN,()=>{y||(Z(zt,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),E(f,wl.EventType.CLOSE,()=>{y||(y=!0,Z(zt,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(f))}),E(f,wl.EventType.ERROR,T=>{y||(y=!0,ca(zt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),x.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),E(f,wl.EventType.MESSAGE,T=>{var _;if(!y){const w=T.data[0];Oe(!!w,16349);const v=w,k=(v==null?void 0:v.error)||((_=v[0])==null?void 0:_.error);if(k){Z(zt,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let O=function(N){const P=ct[N];if(P!==void 0)return wC(P)}(D),C=k.message;O===void 0&&(O=U.INTERNAL,C="Unknown error status: "+D+" with message "+k.message),y=!0,x.a_(new K(O,C)),f.close()}else Z(zt,`RPC '${e}' stream ${s} received:`,w),x.u_(w)}}),E(a,M1.STAT_EVENT,T=>{T.stat===yg.PROXY?Z(zt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===yg.NOPROXY&&Z(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new cF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class DC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o6 extends DC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hF(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?vr(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ig(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Eg(c)?{documents:pF(i,c)}:{query:gF(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EC(i,o.resumeToken);const d=Tg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=yh(i,o.snapshotVersion.toTimestamp());const d=Tg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=vF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ig(this.serializer),n.removeTarget=e,this.q_(n)}}class a6 extends DC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mF(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{}class c6 extends l6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Sg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Sg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class u6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="RemoteStore";class d6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{lo(this)&&(Z(qi,"Restarting streams for network reachability change."),await async function(c){const d=de(c);d.Ea.add(4),await Bc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await mf(d)}(this))})}),this.Ra=new u6(r,s)}}async function mf(t){if(lo(t))for(const e of t.da)await e(!0)}async function Bc(t){for(const e of t.da)await e(!1)}function OC(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rv(n)?kv(n):Pa(n).O_()&&Nv(n,e))}function Iv(t,e){const n=de(t),r=Pa(n);n.Ia.delete(e),r.O_()&&MC(n,e),n.Ia.size===0&&(r.O_()?r.L_():lo(n)&&n.Ra.set("Unknown"))}function Nv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).Y_(e)}function MC(t,e){t.Va.Ue(e),Pa(t).Z_(e)}function kv(t){t.Va=new iF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.Ra.ua()}function Rv(t){return lo(t)&&!Pa(t).x_()&&t.Ia.size>0}function lo(t){return de(t).Ea.size===0}function LC(t){t.Va=void 0}async function h6(t){t.Ra.set("Online")}async function f6(t){t.Ia.forEach((e,n)=>{Nv(t,e)})}async function m6(t,e){LC(t),Rv(t)?(t.Ra.ha(e),kv(t)):t.Ra.set("Unknown")}async function p6(t,e,n){if(t.Ra.set("Online"),e instanceof _C&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(t,r)}else if(e instanceof Td?t.Va.Ze(e):e instanceof xC?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await PC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),MC(i,c);const f=new Ps(h.target,c,d,h.sequenceNumber);Nv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(qi,"Failed to raise snapshot:",r),await wh(t,r)}}async function wh(t,e,n){if(!Ra(e))throw e;t.Ea.add(1),await Bc(t),t.Ra.set("Offline"),n||(n=()=>PC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(qi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mf(t)})}function VC(t,e){return e().catch(n=>wh(t,n,e))}async function pf(t){const e=de(t),n=ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fv;for(;g6(e);)try{const s=await XF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,y6(e,s)}catch(s){await wh(e,s)}FC(e)&&UC(e)}function g6(t){return lo(t)&&t.Ta.length<10}function y6(t,e){t.Ta.push(e);const n=ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FC(t){return lo(t)&&!ei(t).x_()&&t.Ta.length>0}function UC(t){ei(t).start()}async function v6(t){ei(t).ra()}async function w6(t){const e=ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function x6(t,e,n){const r=t.Ta.shift(),s=xv.from(r,e,n);await VC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pf(t)}async function _6(t,e){e&&ei(t).X_&&await async function(r,s){if(function(o){return nF(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();ei(r).B_(),await VC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pf(r)}}(t,e),FC(t)&&UC(t)}async function q_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Z(qi,"RemoteStore received new credentials");const r=lo(n);n.Ea.add(3),await Bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function E6(t,e){const n=de(t);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await Bc(n),n.Ra.set("Unknown"))}function Pa(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new o6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:h6.bind(null,t),t_:f6.bind(null,t),r_:m6.bind(null,t),H_:p6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Rv(t)?kv(t):t.Ra.set("Unknown")):(await t.ma.stop(),LC(t))})),t.ma}function ei(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new a6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:v6.bind(null,t),r_:_6.bind(null,t),ta:w6.bind(null,t),na:x6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await pf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(qi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Av(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(t,e){if(is("AsyncQueue",`${e}: ${t}`),Ra(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=xl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.ga=new rt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ma(e,n,Xo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class T6{constructor(){this.queries=K_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=K_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function K_(){return new ao(t=>oC(t),lf)}async function $C(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new b6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Pv(o,`Initialization of query '${To(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&jv(n)}async function BC(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S6(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&jv(n)}function C6(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function jv(t){t.Ca.forEach(e=>{e.next()})}var Rg,Y_;(Y_=Rg||(Rg={})).Ma="default",Y_.Cache="cache";class zC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.key=e}}class HC{constructor(e){this.key=e}}class I6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=aC(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new G_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=cf(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;m&&y?m.data.isEqual(y.data)?x!==E&&(r.track({type:3,doc:y}),T=!0):this.su(m,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),T=!0):m&&!y&&(r.track({type:1,doc:m}),T=!0,(c||d)&&(a=!0)),T&&(y?(o=o.add(y),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,x){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:T})}};return E(y)-E(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ma(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new G_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new HC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new WC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dv="SyncEngine";class N6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k6{constructor(e){this.key=e,this.hu=!1}}class R6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ao(a=>oC(a),lf),this.Iu=new Map,this.Eu=new Set,this.du=new rt(se.comparator),this.Au=new Map,this.Ru=new bv,this.Vu={},this.mu=new Map,this.fu=fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A6(t,e,n=!0){const r=XC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qC(r,e,n,!0),s}async function P6(t,e){const n=XC(t);await qC(n,e,!0,!1)}async function qC(t,e,n,r){const s=await JF(t.localStore,gr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await j6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&OC(t.remoteStore,s),a}async function j6(t,e,n,r,s){t.pu=(f,m,y)=>async function(E,T,_,w){let v=T.view.ru(_);v.Cs&&(v=await $_(E.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,v)));const k=w&&w.targetChanges.get(T.targetId),D=w&&w.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(v,E.isPrimaryClient,k,D);return X_(E,T.targetId,O.au),O.snapshot}(t,f,m,y);const i=await $_(t.localStore,e,!0),o=new I6(e,i.Qs),a=o.ru(i.documents),c=$c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);X_(t,n,d.au);const h=new N6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function D6(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!lf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ng(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Iv(r.remoteStore,s.targetId),Ag(r,s.targetId)}).catch(ka)):(Ag(r,s.targetId),await Ng(r.localStore,s.targetId,!0))}async function O6(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(n.remoteStore,r.targetId))}async function M6(t,e,n){const r=z6(t);try{const s=await function(o,a){const c=de(o),d=Pe.now(),h=a.reduce((y,x)=>y.add(x.key),be());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=os(),E=be();return c.Ns.getEntries(y,h).next(T=>{x=T,x.forEach((_,w)=>{w.isValidDocument()||(E=E.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,x)).next(T=>{f=T;const _=[];for(const w of a){const v=XV(w,f.get(w.key).overlayedDocument);v!=null&&_.push(new hi(w.key,v,J1(v.value.mapValue),yr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,_,a)}).next(T=>{m=T;const _=T.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(y,T.batchId,_)})}).then(()=>({batchId:m.batchId,changes:cC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new rt(Ee)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await zc(r,s.changes),await pf(r.remoteStore)}catch(s){const i=Pv(s,"Failed to persist write");n.reject(i)}}async function GC(t,e){const n=de(t);try{const r=await YF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Oe(o.hu,14607):s.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await zc(n,r,e)}catch(r){await ka(r)}}function Q_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=de(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&jv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L6(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new rt(se.comparator);o=o.insert(i,Gt.newNoDocument(i,ce.min()));const a=be().add(i),c=new hf(ce.min(),new Map,new rt(Ee),o,a);await GC(r,c),r.du=r.du.remove(i),r.Au.delete(e),Ov(r)}else await Ng(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(ka)}async function V6(t,e){const n=de(t),r=e.batch.batchId;try{const s=await KF(n.localStore,e);YC(n,r,null),KC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,s)}catch(s){await ka(s)}}async function F6(t,e,n){const r=de(t);try{const s=await function(o,a){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Oe(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);YC(r,e,n),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,s)}catch(s){await ka(s)}}function KC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function YC(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||QC(t,r)})}function QC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Iv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ov(t))}function X_(t,e,n){for(const r of n)r instanceof WC?(t.Ru.addReference(r.key,e),U6(t,r)):r instanceof HC?(Z(Dv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||QC(t,r.key)):ae(19791,{wu:r})}function U6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Dv,"New document in limbo: "+n),t.Eu.add(r),Ov(t))}function Ov(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se($e.fromString(e)),r=t.fu.next();t.Au.set(r,new k6(n)),t.du=t.du.insert(n,r),OC(t.remoteStore,new Ps(gr(vv(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function zc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Sv.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=de(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,m=>$.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>$.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Ra(f))throw f;Z(Cv,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),x=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(m,E)}}}(r.localStore,i))}async function $6(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Z(Dv,"User change. New user:",e.toKey());const r=await AC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.Ls)}}function B6(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let s=be();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function XC(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L6.bind(null,e),e.Pu.H_=S6.bind(null,e.eventManager),e.Pu.yu=C6.bind(null,e.eventManager),e}function z6(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F6.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GF(this.persistence,new WF,e.initialUser,this.serializer)}Cu(e){return new RC(Tv.mi,this.serializer)}Du(e){return new e6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class W6 extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new RC(r=>vh.mi(r,n),this.serializer)}}class Pg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$6.bind(null,this.syncEngine),await E6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T6}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(i){return new i6(i)}(e.databaseInfo);return function(i,o,a,c){return new c6(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new d6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Q_(this.syncEngine,n,0),function(){return W_.v()?new W_:new t6}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new R6(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);Z(qi,"RemoteStore shutting down."),i.Ea.add(5),await Bc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Pg.provider={build:()=>new Pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirestoreClient";class H6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress(),Z(ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q6(t);Z(ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>q_(e.remoteStore,s)),t._onlineComponents=e}async function q6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(ti,"Using user provided OfflineComponentProvider");try{await Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Gm(t,new xh)}}else Z(ti,"Using default OfflineComponentProvider"),await Gm(t,new W6(void 0));return t._offlineComponents}async function ZC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(ti,"Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(Z(ti,"Using default OnlineComponentProvider"),await J_(t,new Pg))),t._onlineComponents}function G6(t){return ZC(t).then(e=>e.syncEngine)}async function eI(t){const e=await ZC(t),n=e.eventManager;return n.onListen=A6.bind(null,e.syncEngine),n.onUnlisten=D6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O6.bind(null,e.syncEngine),n}function K6(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new JC({next:m=>{h.Nu(),o.enqueueAndForget(()=>BC(i,f));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new zC(vv(a.path),h,{includeMetadataChanges:!0,qa:!0});return $C(i,f)}(await eI(t),t.asyncQueue,e,n,r)),r.promise}function Y6(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new JC({next:m=>{h.Nu(),o.enqueueAndForget(()=>BC(i,f)),m.fromCache&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new zC(a,h,{includeMetadataChanges:!0,qa:!0});return $C(i,f)}(await eI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firestore.googleapis.com",eE=!0;class tE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nI,this.ssl=eE}else this.host=e.host,this.ssl=e.ssl??eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IF)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tV;switch(r.type){case"firstParty":return new iV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function Q6(t,e,n,r={}){var d;t=Ys(t,gf);const s=Sa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(BS(`https://${a}`),zS("Firestore",!0)),i.host!==nI&&i.host!==a&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ks(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ht.MOCK_USER;else{h=uO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(m)}t._authCredentials=new nV(new U1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fc(n,ft._jsonSchema))return new ft(e,r||null,new se($e.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:ht("string",ft._jsonSchemaVersion),referencePath:ht("string")};class Ws extends fi{constructor(e,n,r){super(e,n,vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new se(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function yf(t,e,...n){if(t=mt(t),$1("collection","path",e),t instanceof gf){const r=$e.fromString(e,...n);return m_(r),new Ws(t,null,r)}{if(!(t instanceof ft||t instanceof Ws))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return m_(r),new Ws(t.firestore,null,r)}}function rI(t,e,...n){if(t=mt(t),arguments.length===1&&(e=hv.newId()),$1("doc","path",e),t instanceof gf){const r=$e.fromString(e,...n);return f_(r),new ft(t,null,new se(r))}{if(!(t instanceof ft||t instanceof Ws))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return f_(r),new ft(t.firestore,t instanceof Ws?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jC(this,"async_queue_retry"),this._c=()=>{const r=qm();r&&Z(nE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ra(e))throw e;Z(nE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",sE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Av.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:sE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wc extends gf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function X6(t,e){const n=typeof t=="object"?t:nv(),r=typeof t=="string"?t:dh,s=io(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=lO("firestore");i&&Q6(s,...i)}return s}function Mv(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J6(t),t._firestoreClient}function J6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new EV(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Vt.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new An(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fc(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:ht("string",An._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Fc(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:ht("string",wr._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fc(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xr(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:ht("string",xr._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^__.*__$/;class e3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class sI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class Vv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iI(this.Ac)&&Z6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Cc(e,n,r,s=!1){return new Vv({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fv(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new t3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n3(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Uv("Data must be an object, but it was:",o,r);const a=oI(r,o);let c,d;if(i.merge)c=new vn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=jg(e,f,n);if(!o.contains(m))throw new K(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);lI(h,m)||h.push(m)}c=new vn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new e3(new an(a),c,d)}class wf extends Lv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function r3(t,e,n,r){const s=t.Cc(1,e,n);Uv("Data must be an object, but it was:",s,r);const i=[],o=an.empty();di(r,(c,d)=>{const h=$v(e,c,n);d=mt(d);const f=s.yc(h);if(d instanceof wf)i.push(h);else{const m=Hc(d,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new vn(i);return new sI(o,a,s.fieldTransforms)}function s3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[jg(e,r,n)],c=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(jg(e,i[m])),c.push(i[m+1]);const d=[],h=an.empty();for(let m=a.length-1;m>=0;--m)if(!lI(d,a[m])){const y=a[m];let x=c[m];x=mt(x);const E=o.yc(y);if(x instanceof wf)d.push(y);else{const T=Hc(x,E);T!=null&&(d.push(y),h.set(y,T))}}const f=new vn(d);return new sI(h,f,o.fieldTransforms)}function i3(t,e,n,r=!1){return Hc(n,t.Cc(r?4:3,e))}function Hc(t,e){if(aI(t=mt(t)))return Uv("Unsupported field value:",e,t),oI(t,e);if(t instanceof Lv)return function(r,s){if(!iI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Hc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pe.fromDate(r);return{timestampValue:yh(s.serializer,i)}}if(r instanceof Pe){const i=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(s.serializer,i)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:EC(s.serializer,r._byteString)};if(r instanceof ft){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ev(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return function(o,a){return{mapValue:{fields:{[Q1]:{stringValue:X1},[hh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return wv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${rf(r)}`)}(t,e)}function oI(t,e){const n={};return W1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,s)=>{const i=Hc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function aI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof wr||t instanceof An||t instanceof ft||t instanceof Lv||t instanceof xr)}function Uv(t,e,n){if(!aI(n)||!B1(n)){const r=rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function jg(t,e,n){if((e=mt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return $v(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const o3=new RegExp("[~\\*/\\[\\]]");function $v(t,e,n){if(e.search(o3)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new K(U.INVALID_ARGUMENT,a+t+c)}function lI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a3 extends cI{data(){return super.data()}}function xf(t,e){return typeof e=="string"?$v(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{}class zv extends Bv{}function uI(t,e,...n){let r=[];e instanceof Bv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Wv).length,a=i.filter(c=>c instanceof _f).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _f extends zv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return hI(e._query,n),new fi(e.firestore,e.converter,bg(e._query,n))}_parse(e){const n=Fv(e.firestore);return function(i,o,a,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){oE(f,h);const x=[];for(const E of f)x.push(iE(c,i,E));m={arrayValue:{values:x}}}else m=iE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||oE(f,h),m=i3(a,o,f,h==="in"||h==="not-in");return dt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dI(t,e,n){const r=e,s=xf("where",t);return _f._create(s,r,n)}class Wv extends Bv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)hI(o,c),o=bg(o,c)}(e._query,n),new fi(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hv extends zv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(i,o)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Aa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function c3(t,e="asc"){const n=e,r=xf("orderBy",t);return Hv._create(r,n)}class qv extends zv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new qv(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function u3(t){return qv._create("limit",t,"F")}function iE(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iC(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!se.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return E_(t,new se(r))}if(n instanceof ft)return E_(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function oE(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class d3{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[hh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>at(o.doubleValue));return new xr(n)}convertGeoPoint(e){return new wr(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Oe(NC(r),9688,{name:e});const s=new pc(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||is(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oi extends cI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oi._jsonSchema={type:ht("string",Oi._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Sd extends Oi{data(e={}){return super.data(e)}}class Jo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new El(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Sd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new El(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Sd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new El(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:f3(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){t=Ys(t,ft);const e=Ys(t.firestore,Wc);return K6(Mv(e),t._key).then(n=>g3(e,t,n))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:ht("string",Jo._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class fI extends d3{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function mI(t){t=Ys(t,fi);const e=Ys(t.firestore,Wc),n=Mv(e),r=new fI(e);return l3(t._query),Y6(n,t._query).then(s=>new Jo(e,r,t,s))}function p3(t,e,n,...r){t=Ys(t,ft);const s=Ys(t.firestore,Wc),i=Fv(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof vf?s3(i,"updateDoc",t._key,e,n,r):r3(i,"updateDoc",t._key,e),gI(s,[o.toMutation(t._key,yr.exists(!0))])}function pI(t,e){const n=Ys(t.firestore,Wc),r=rI(t),s=h3(t.converter,e);return gI(n,[n3(Fv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function gI(t,e){return function(r,s){const i=new Qr;return r.asyncQueue.enqueueAndForget(async()=>M6(await G6(r),s,i)),i.promise}(Mv(t),e)}function g3(t,e,n){const r=n.docs.get(e._key),s=new fI(t);return new Oi(t,s,e._key,r,new El(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Na=s})(Ca),Sr(new Yn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Wc(new rV(r.getProvider("auth-internal")),new oV(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dn(c_,u_,e),Dn(c_,u_,"esm2020")})();const yI="@firebase/installations",Gv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1e4,wI=`w:${Gv}`,xI="FIS_v2",y3="https://firebaseinstallations.googleapis.com/v1",v3=60*60*1e3,w3="installations",x3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gi=new so(w3,x3,_3);function _I(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI({projectId:t}){return`${y3}/projects/${t}/installations`}function bI(t){return{token:t.token,requestStatus:2,expiresIn:b3(t.expiresIn),creationTime:Date.now()}}async function TI(t,e){const r=(await e.json()).error;return Gi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E3(t,{refreshToken:e}){const n=SI(t);return n.append("Authorization",T3(e)),n}async function CI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function b3(t){return Number(t.replace("s","000"))}function T3(t){return`${xI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EI(t),s=SI(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:xI,appId:t.appId,sdkVersion:wI},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await CI(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:bI(d.authToken)}}else throw await TI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^[cdef][\w-]{21}$/,Dg="";function N3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=k3(t);return I3.test(n)?n:Dg}catch{return Dg}}function k3(t){return C3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Map;function kI(t,e){const n=Ef(t);RI(n,e),R3(n,e)}function RI(t,e){const n=NI.get(t);if(n)for(const r of n)r(e)}function R3(t,e){const n=A3();n&&n.postMessage({key:t,fid:e}),P3()}let Pi=null;function A3(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=t=>{RI(t.data.key,t.data.fid)}),Pi}function P3(){NI.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="firebase-installations-database",D3=1,Ki="firebase-installations-store";let Km=null;function Kv(){return Km||(Km=YS(j3,D3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ki)}}})),Km}async function Eh(t,e){const n=Ef(t),s=(await Kv()).transaction(Ki,"readwrite"),i=s.objectStore(Ki),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&kI(t,e.fid),e}async function AI(t){const e=Ef(t),r=(await Kv()).transaction(Ki,"readwrite");await r.objectStore(Ki).delete(e),await r.done}async function bf(t,e){const n=Ef(t),s=(await Kv()).transaction(Ki,"readwrite"),i=s.objectStore(Ki),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&kI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(t){let e;const n=await bf(t.appConfig,r=>{const s=O3(r),i=M3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Dg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function O3(t){const e=t||{fid:N3(),registrationStatus:0};return PI(e)}function M3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Gi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=L3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:V3(t)}:{installationEntry:e}}async function L3(t,e){try{const n=await S3(t,e);return Eh(t.appConfig,n)}catch(n){throw _I(n)&&n.customData.serverCode===409?await AI(t.appConfig):await Eh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function V3(t){let e=await aE(t.appConfig);for(;e.registrationStatus===1;)await II(100),e=await aE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Yv(t);return r||n}return e}function aE(t){return bf(t,e=>{if(!e)throw Gi.create("installation-not-found");return PI(e)})}function PI(t){return F3(t)?{fid:t.fid,registrationStatus:0}:t}function F3(t){return t.registrationStatus===1&&t.registrationTime+vI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3({appConfig:t,heartbeatServiceProvider:e},n){const r=$3(t,n),s=E3(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:wI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await CI(()=>fetch(r,a));if(c.ok){const d=await c.json();return bI(d)}else throw await TI("Generate Auth Token",c)}function $3(t,{fid:e}){return`${EI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(t,e=!1){let n;const r=await bf(t.appConfig,i=>{if(!jI(i))throw Gi.create("not-registered");const o=i.authToken;if(!e&&W3(o))return i;if(o.requestStatus===1)return n=B3(t,e),i;{if(!navigator.onLine)throw Gi.create("app-offline");const a=q3(i);return n=z3(t,a),a}});return n?await n:r.authToken}async function B3(t,e){let n=await lE(t.appConfig);for(;n.authToken.requestStatus===1;)await II(100),n=await lE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Qv(t,e):r}function lE(t){return bf(t,e=>{if(!jI(e))throw Gi.create("not-registered");const n=e.authToken;return G3(n)?{...e,authToken:{requestStatus:0}}:e})}async function z3(t,e){try{const n=await U3(t,e),r={...e,authToken:n};return await Eh(t.appConfig,r),n}catch(n){if(_I(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await AI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Eh(t.appConfig,r)}throw n}}function jI(t){return t!==void 0&&t.registrationStatus===2}function W3(t){return t.requestStatus===2&&!H3(t)}function H3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+v3}function q3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function G3(t){return t.requestStatus===1&&t.requestTime+vI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Yv(e);return r?r.catch(console.error):Qv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e=!1){const n=t;return await Q3(n),(await Qv(n,e)).token}async function Q3(t){const{registrationPromise:e}=await Yv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){if(!t||!t.options)throw Ym("App Configuration");if(!t.name)throw Ym("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ym(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ym(t){return Gi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="installations",J3="installations-internal",Z3=t=>{const e=t.getProvider("app").getImmediate(),n=X3(e),r=io(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},e5=t=>{const e=t.getProvider("app").getImmediate(),n=io(e,DI).getImmediate();return{getId:()=>K3(n),getToken:s=>Y3(n,s)}};function t5(){Sr(new Yn(DI,Z3,"PUBLIC")),Sr(new Yn(J3,e5,"PRIVATE"))}t5();Dn(yI,Gv);Dn(yI,Gv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="analytics",n5="firebase_id",r5="origin",s5=60*1e3,i5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new so("analytics","Analytics",o5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){if(!t.startsWith(Xv)){const e=xn.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(e.message),""}return t}function OI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function l5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function c5(t,e){const n=l5("firebase-js-sdk-policy",{createScriptURL:a5}),r=document.createElement("script"),s=`${Xv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function u5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function d5(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await OI(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){hn.error(a)}t("config",s,i)}async function h5(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await OI(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){hn.error(i)}}function f5(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await h5(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await d5(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){hn.error(a)}}return s}function m5(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=f5(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function p5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=30,y5=1e3;class v5{constructor(e={},n=y5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MI=new v5;function w5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x5(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:w5(n)},s=i5.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(a=c.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function _5(t,e=MI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw xn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new T5;return setTimeout(async()=>{a.abort()},s5),LI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function LI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=MI){var a;const{appId:i,measurementId:o}=t;try{await E5(r,e)}catch(c){if(o)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await x5(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!b5(d)){if(s.deleteThrottleMetadata(i),o)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?D0(n,s.intervalMillis,g5):D0(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),hn.debug(`Calling attemptFetch again in ${h} millis`),LI(t,f,r,s)}}function E5(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function b5(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class T5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S5(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(){if(HS())try{await qS()}catch(t){return hn.warn(xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function I5(t,e,n,r,s,i,o){const a=_5(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>hn.error(m)),e.push(a);const c=C5().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([a,c]);p5(i)||c5(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[r5]="firebase",f.update=!0,h!=null&&(f[n5]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},cE=[];const uE={};let Qm="dataLayer",k5="gtag",dE,VI,hE=!1;function R5(){const t=[];if(WS()&&t.push("This is a browser extension environment."),wO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function A5(t,e,n){R5();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(zl[r]!=null)throw xn.create("already-exists",{id:r});if(!hE){u5(Qm);const{wrappedGtag:i,gtagCore:o}=m5(zl,cE,uE,Qm,k5);VI=i,dE=o,hE=!0}return zl[r]=I5(t,cE,uE,e,dE,Qm,n),new N5(t)}function P5(t=nv()){t=mt(t);const e=io(t,bh);return e.isInitialized()?e.getImmediate():j5(t)}function j5(t,e={}){const n=io(t,bh);if(n.isInitialized()){const s=n.getImmediate();if(Ks(e,n.getOptions()))return s;throw xn.create("already-initialized")}return n.initialize({options:e})}function D5(t,e,n,r){t=mt(t),S5(VI,zl[t.app.options.appId],e,n,r).catch(s=>hn.error(s))}const fE="@firebase/analytics",mE="0.10.18";function O5(){Sr(new Yn(bh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return A5(r,s,n)},"PUBLIC")),Sr(new Yn("analytics-internal",t,"PRIVATE")),Dn(fE,mE),Dn(fE,mE,"esm2020");function t(e){try{const n=e.getProvider(bh).getImmediate();return{logEvent:(r,s,i)=>D5(n,r,s,i)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}O5();const M5={apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},Jv=QS(M5),Gu=XL(Jv),qc=X6(Jv);typeof window<"u"&&P5(Jv);const FI=g.createContext(void 0),L5=()=>{const t=g.useContext(FI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},V5=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>F4(Gu,h=>{n(h),s(!1)}),[]);const c={user:e,login:async(d,h)=>{await M4(Gu,d,h)},register:async(d,h)=>{await O4(Gu,d,h)},logout:async()=>{await U4(Gu)},loading:r};return l.jsx(FI.Provider,{value:c,children:!r&&t})};function pE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=pE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():pE(t[s],null)}}}}function je(...t){return g.useCallback(UI(...t),t)}function Yi(t){const e=U5(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),c=a.find(B5);if(c){const d=c.props.children,h=a.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var F5=Yi("Slot");function U5(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=W5(s),a=z5(i,s.props);return s.type!==g.Fragment&&(a.ref=r?UI(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $5=Symbol("radix.slottable");function B5(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$5}function z5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function W5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $I(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$I(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$I(t))&&(r&&(r+=" "),r+=e);return r}const gE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yE=BI,Zv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return yE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=gE(h)||gE(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(x=>{let[E,T]=x;return Array.isArray(T)?T.includes({...i,...a}[E]):{...i,...a}[E]===T})?[...d,f,m]:d},[]);return yE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},ew="-",H5=t=>{const e=G5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ew);return a[0]===""&&a.length!==1&&a.shift(),zI(a,e)||q5(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},zI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?zI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ew);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},vE=/^\[(.+)\]$/,q5=t=>{if(vE.test(t)){const e=vE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},G5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Y5(Object.entries(t.classGroups),n).forEach(([i,o])=>{Og(o,r,i,e)}),r},Og=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(K5(s)){Og(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Og(o,wE(e,i),n,r)})})},wE=(t,e)=>{let n=t;return e.split(ew).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},K5=t=>t.isThemeGetter,Y5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Q5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},WI="!",X5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let T=0;T<a.length;T++){let _=a[T];if(d===0){if(_===s&&(r||a.slice(T,T+i)===e)){c.push(a.slice(h,T)),h=T+i;continue}if(_==="/"){f=T;continue}}_==="["?d++:_==="]"&&d--}const m=c.length===0?a:a.substring(h),y=m.startsWith(WI),x=y?m.substring(1):m,E=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},J5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Z5=t=>({cache:Q5(t.cacheSize),parseClassName:X5(t),...H5(t)}),e9=/\s+/,t9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(e9);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let x=!!y,E=r(x?m.substring(0,y):m);if(!E){if(!x){a=d+(a.length>0?" "+a:a);continue}if(E=r(m),!E){a=d+(a.length>0?" "+a:a);continue}x=!1}const T=J5(h).join(":"),_=f?T+WI:T,w=_+E;if(i.includes(w))continue;i.push(w);const v=s(E,x);for(let k=0;k<v.length;++k){const D=v[k];i.push(_+D)}a=d+(a.length>0?" "+a:a)}return a};function n9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=HI(e))&&(r&&(r+=" "),r+=n);return r}const HI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HI(t[r]))&&(n&&(n+=" "),n+=e);return n};function r9(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=Z5(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=t9(c,n);return s(c,h),h}return function(){return i(n9.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qI=/^\[(?:([a-z-]+):)?(.+)\]$/i,s9=/^\d+\/\d+$/,i9=new Set(["px","full","screen"]),o9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=t=>Zo(t)||i9.has(t)||s9.test(t),vs=t=>ja(t,"length",v9),Zo=t=>!!t&&!Number.isNaN(Number(t)),Xm=t=>ja(t,"number",Zo),cl=t=>!!t&&Number.isInteger(Number(t)),d9=t=>t.endsWith("%")&&Zo(t.slice(0,-1)),me=t=>qI.test(t),ws=t=>o9.test(t),h9=new Set(["length","size","percentage"]),f9=t=>ja(t,h9,GI),m9=t=>ja(t,"position",GI),p9=new Set(["image","url"]),g9=t=>ja(t,p9,x9),y9=t=>ja(t,"",w9),ul=()=>!0,ja=(t,e,n)=>{const r=qI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},v9=t=>a9.test(t)&&!l9.test(t),GI=()=>!1,w9=t=>c9.test(t),x9=t=>u9.test(t),_9=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),c=qe("contrast"),d=qe("grayscale"),h=qe("hueRotate"),f=qe("invert"),m=qe("gap"),y=qe("gradientColorStops"),x=qe("gradientColorStopPositions"),E=qe("inset"),T=qe("margin"),_=qe("opacity"),w=qe("padding"),v=qe("saturate"),k=qe("scale"),D=qe("sepia"),O=qe("skew"),C=qe("space"),S=qe("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",me,e],R=()=>[me,e],j=()=>["",Lr,vs],B=()=>["auto",Zo,me],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",me],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Zo,me];return{cacheSize:500,separator:":",theme:{colors:[ul],spacing:[Lr,vs],blur:["none","",ws,me],brightness:ie(),borderColor:[t],borderRadius:["none","","full",ws,me],borderSpacing:R(),borderWidth:j(),contrast:ie(),grayscale:z(),hueRotate:ie(),invert:z(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[d9,vs],inset:I(),margin:I(),opacity:ie(),padding:R(),saturate:ie(),scale:ie(),sepia:z(),skew:ie(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cl,me]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",cl,me]}],"grid-cols":[{"grid-cols":[ul]}],"col-start-end":[{col:["auto",{span:["full",cl,me]},me]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ul]}],"row-start-end":[{row:["auto",{span:[cl,me]},me]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xm]}],"font-family":[{font:[ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Zo,Xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,vs]}],"underline-offset":[{"underline-offset":["auto",Lr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),m9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Lr,me]}],"outline-w":[{outline:[Lr,vs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Lr,vs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ws,y9]}],"shadow-color":[{shadow:[ul]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ws,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[cl,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Lr,vs,Xm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E9=r9(_9);function Q(...t){return E9(BI(t))}const Mg=Zv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?F5:"button";return l.jsx(o,{className:Q(Mg({variant:e,size:n,className:t})),ref:i,...s})});te.displayName="Button";const fe=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));fe.displayName="Card";const ze=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Q("flex flex-col space-y-1.5 p-6",t),...e}));ze.displayName="CardHeader";const We=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Q("text-2xl font-semibold leading-none tracking-tight",t),...e}));We.displayName="CardTitle";const en=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Q("text-sm text-muted-foreground",t),...e}));en.displayName="CardDescription";const ge=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Q("p-6 pt-0",t),...e}));ge.displayName="CardContent";const b9=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Q("flex items-center p-6 pt-0",t),...e}));b9.displayName="CardFooter";const T9=Zv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xt({className:t,variant:e,...n}){return l.jsx("div",{className:Q(T9({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>g.createElement("svg",{ref:c,...C9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KI("lucide",s),...a},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(I9,{ref:i,iconNode:e,className:KI(`lucide-${S9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=we("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=we("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=we("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=we("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function W9(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[l.jsx("section",{className:"relative py-20 px-4",children:l.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(xt,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[l.jsx(U9,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(te,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",l.jsx(Ku,{className:"ml-2 h-5 w-5"})]}),l.jsx(te,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:l.jsxs(cc,{to:"/brooklyn-hearts-club",children:["View Live Example",l.jsx(Ku,{className:"ml-2 h-5 w-5"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(fe,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(ze,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Mt,{className:"h-6 w-6 text-purple-600"})}),l.jsx(We,{className:"text-xl",children:"Custom Event Pages"}),l.jsx(en,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),l.jsx(fe,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(ze,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Wr,{className:"h-6 w-6 text-purple-600"})}),l.jsx(We,{className:"text-xl",children:"Automated Waitlists"}),l.jsx(en,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),l.jsx(fe,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(ze,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Mi,{className:"h-6 w-6 text-purple-600"})}),l.jsx(We,{className:"text-xl",children:"Community Messaging"}),l.jsx(en,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),l.jsx(fe,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:l.jsx(ge,{className:"p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx(xt,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l.jsx(te,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:l.jsxs(cc,{to:"/brooklyn-hearts-club",children:["Visit Brooklyn Hearts Club",l.jsx(Ku,{className:"ml-2 h-4 w-4"})]})})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),l.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:l.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),l.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),l.jsxs(te,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",l.jsx(Ku,{className:"ml-2 h-5 w-5"})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),l.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:l.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}function Yu(){return{apiKey:"AIzaSyAXsx42G6Q6YdRTJvK6DzYbpiqUzLwJFV0",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const eN={development:{name:"development",dataSource:"firebase",firebaseConfig:Yu(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Yu(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Yu(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Yu(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function Sh(){const t="development";if(eN[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")||e.includes("voxxy-presents-client-staging")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function rw(){const t=Sh();return eN[t]}function sw(t){return rw().features[t]}function EE(){return rw().dataSource}function Vg(){return rw().apiBaseUrl}const H9=Vg()||void 0||"http://localhost:3001/api";class Id extends Error{constructor(n,r){super(n);gx(this,"status");this.status=r,this.name="ApiError"}}async function kn(t,e){const n=`${H9}${t}`;try{console.log("API Request:",{url:n,method:(e==null?void 0:e.method)||"GET",timestamp:new Date().toISOString()});const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e});if(!r.ok){let i={};try{i=await r.json()}catch{i={message:`HTTP ${r.status}: ${r.statusText}`}}console.error("API Error Response:",{url:n,status:r.status,statusText:r.statusText,errorData:i,timestamp:new Date().toISOString()});const o=i.message||i.error||`API request failed (${r.status})`;throw new Id(o,r.status)}const s=await r.json();return console.log("API Success:",{url:n,dataKeys:Object.keys(s||{}),timestamp:new Date().toISOString()}),s}catch(r){throw r instanceof Id?r:(console.error("Network Error:",{url:n,error:r instanceof Error?r.message:"Unknown error",timestamp:new Date().toISOString()}),new Id(`Network error: ${r instanceof Error?r.message:"Unknown error"}`,0))}}const Fg={async getBySlug(t){return kn(`/organizations/${t}`)},async create(t){return kn("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return kn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},Qi={async getById(t){return kn(`/events/${t}`)},async getByOrganization(t){return kn(`/events?organization=${t}`)},async getAll(){return kn("/events")},async create(t){return kn("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return kn(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return kn(`/events/${t}`,{method:"DELETE"})}},tN={async create(t){return kn("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return kn(`/registrations/event/${t}`)},async markEmailSent(t){return kn(`/registrations/${t}/email-sent`,{method:"PATCH"})}};function q9(){const[t,e]=g.useState(null),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,a]=g.useState(null);g.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0),a(null);const h=await Fg.getBySlug("brooklyn-hearts-club");e(h);const f=await Qi.getByOrganization(h.id);r(f)}catch(h){console.error("Error loading Brooklyn Hearts Club data:",h),a(h instanceof Error?h.message:"Failed to load data")}finally{i(!1)}};return{organization:t,events:n,loading:s,error:o,refreshEvents:async()=>{if(t)try{const h=await Qi.getByOrganization(t.id);r(h)}catch(h){console.error("Error refreshing events:",h)}},reload:c}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function G9(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,c=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function tr(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];const d=f=>{var _;const{scope:m,children:y,...x}=f,E=((_=m==null?void 0:m[t])==null?void 0:_[c])||a,T=g.useMemo(()=>x,Object.values(x));return l.jsx(E.Provider,{value:T,children:y})};d.displayName=i+"Provider";function h(f,m){var E;const y=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,x=g.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,K9(s,...e)]}function K9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Y9=pb[" useId ".trim().toString()]||(()=>{}),Q9=0;function Xr(t){const[e,n]=g.useState(Y9());return Qt(()=>{n(r=>r??String(Q9++))},[t]),e?`radix-${e}`:""}var X9=pb[" useInsertionEffect ".trim().toString()]||Qt;function as({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=J9({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=g.useRef(t!==void 0);g.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=g.useCallback(h=>{var f;if(a){const m=Z9(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[c,d]}function J9({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return X9(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Z9(t){return typeof t=="function"}var eU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=eU.reduce((t,e)=>{const n=Yi(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tU(t,e){t&&Ea.flushSync(()=>t.dispatchEvent(e))}function ri(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nU(t,e=globalThis==null?void 0:globalThis.document){const n=ri(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rU="DismissableLayer",Ug="dismissableLayer.update",sU="dismissableLayer.pointerDownOutside",iU="dismissableLayer.focusOutside",bE,nN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tf=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=g.useContext(nN),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),x=je(e,C=>f(C)),E=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=E.indexOf(T),w=h?E.indexOf(h):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,k=w>=_,D=lU(C=>{const S=C.target,N=[...d.branches].some(P=>P.contains(S));!k||N||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),O=cU(C=>{const S=C.target;[...d.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return nU(C=>{w===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),TE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=bE)}},[h,m,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),TE())},[h,d]),g.useEffect(()=>{const C=()=>y({});return document.addEventListener(Ug,C),()=>document.removeEventListener(Ug,C)},[]),l.jsx(he.div,{...c,ref:x,style:{pointerEvents:v?k?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,D.onPointerDownCapture)})});Tf.displayName=rU;var oU="DismissableLayerBranch",aU=g.forwardRef((t,e)=>{const n=g.useContext(nN),r=g.useRef(null),s=je(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(he.div,{...t,ref:s})});aU.displayName=oU;function lU(t,e=globalThis==null?void 0:globalThis.document){const n=ri(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){rN(sU,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cU(t,e=globalThis==null?void 0:globalThis.document){const n=ri(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&rN(iU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TE(){const t=new CustomEvent(Ug);document.dispatchEvent(t)}function rN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tU(s,i):s.dispatchEvent(i)}var Zm="focusScope.autoFocusOnMount",ep="focusScope.autoFocusOnUnmount",SE={bubbles:!1,cancelable:!0},uU="FocusScope",Sf=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=g.useState(null),d=ri(s),h=ri(i),f=g.useRef(null),m=je(e,E=>c(E)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let E=function(v){if(y.paused||!a)return;const k=v.target;a.contains(k)?f.current=k:_s(f.current,{select:!0})},T=function(v){if(y.paused||!a)return;const k=v.relatedTarget;k!==null&&(a.contains(k)||_s(f.current,{select:!0}))},_=function(v){if(document.activeElement===document.body)for(const D of v)D.removedNodes.length>0&&_s(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),w.disconnect()}}},[r,a,y.paused]),g.useEffect(()=>{if(a){IE.add(y);const E=document.activeElement;if(!a.contains(E)){const _=new CustomEvent(Zm,SE);a.addEventListener(Zm,d),a.dispatchEvent(_),_.defaultPrevented||(dU(gU(sN(a)),{select:!0}),document.activeElement===E&&_s(a))}return()=>{a.removeEventListener(Zm,d),setTimeout(()=>{const _=new CustomEvent(ep,SE);a.addEventListener(ep,h),a.dispatchEvent(_),_.defaultPrevented||_s(E??document.body,{select:!0}),a.removeEventListener(ep,h),IE.remove(y)},0)}}},[a,d,h,y]);const x=g.useCallback(E=>{if(!n&&!r||y.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,_=document.activeElement;if(T&&_){const w=E.currentTarget,[v,k]=hU(w);v&&k?!E.shiftKey&&_===k?(E.preventDefault(),n&&_s(v,{select:!0})):E.shiftKey&&_===v&&(E.preventDefault(),n&&_s(k,{select:!0})):_===w&&E.preventDefault()}},[n,r,y.paused]);return l.jsx(he.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Sf.displayName=uU;function dU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_s(r,{select:e}),document.activeElement!==n)return}function hU(t){const e=sN(t),n=CE(e,t),r=CE(e.reverse(),t);return[n,r]}function sN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CE(t,e){for(const n of t)if(!fU(n,{upTo:e}))return n}function fU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mU(t){return t instanceof HTMLInputElement&&"select"in t}function _s(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mU(t)&&e&&t.select()}}var IE=pU();function pU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=NE(t,e),t.unshift(e)},remove(e){var n;t=NE(t,e),(n=t[0])==null||n.resume()}}}function NE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gU(t){return t.filter(e=>e.tagName!=="A")}var yU="Portal",Cf=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Rj.createPortal(l.jsx(he.div,{...r,ref:e}),o):null});Cf.displayName=yU;function vU(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ds=t=>{const{present:e,children:n}=t,r=wU(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=je(r.ref,xU(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};ds.displayName="Presence";function wU(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,c]=vU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Qu(r.current);i.current=a==="mounted"?d:"none"},[a]),Qt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=Qu(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Qt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const E=Qu(r.current).includes(y.animationName);if(y.target===e&&E&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},m=y=>{y.target===e&&(i.current=Qu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Qu(t){return(t==null?void 0:t.animationName)||"none"}function xU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tp=0;function iw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kE()),document.body.insertAdjacentElement("beforeend",t[1]??kE()),tp++,()=>{tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tp--}},[])}function kE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cr=function(){return cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cr.apply(this,arguments)};function iN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _U(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Nd="right-scroll-bar-position",kd="width-before-scroll-bar",EU="with-scroll-bars-hidden",bU="--removed-body-scroll-bar-size";function np(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TU(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var SU=typeof window<"u"?g.useLayoutEffect:g.useEffect,RE=new WeakMap;function CU(t,e){var n=TU(null,function(r){return t.forEach(function(s){return np(s,r)})});return SU(function(){var r=RE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||np(a,null)}),i.forEach(function(a){s.has(a)||np(a,o)})}RE.set(n,t)},[t]),n}function IU(t){return t}function NU(t,e){e===void 0&&(e=IU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function kU(t){t===void 0&&(t={});var e=NU(null);return e.options=cr({async:!0,ssr:!1},t),e}var oN=function(t){var e=t.sideCar,n=iN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,cr({},n))};oN.isSideCarExport=!0;function RU(t,e){return t.useMedium(e),oN}var aN=kU(),rp=function(){},If=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:rp,onWheelCapture:rp,onTouchMoveCapture:rp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noRelative,x=t.noIsolation,E=t.inert,T=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,v=t.gapMode,k=iN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,O=CU([n,e]),C=cr(cr({},k),s);return g.createElement(g.Fragment,null,h&&g.createElement(D,{sideCar:aN,removeScrollBar:d,shards:f,noRelative:y,noIsolation:x,inert:E,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:v}),o?g.cloneElement(g.Children.only(a),cr(cr({},C),{ref:O})):g.createElement(w,cr({},C,{className:c,ref:O}),a))});If.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};If.classNames={fullWidth:kd,zeroRight:Nd};var AU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=AU();return e&&t.setAttribute("nonce",e),t}function jU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function DU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var OU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=PU())&&(jU(e,n),DU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},MU=function(){var t=OU();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lN=function(){var t=MU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},LU={left:0,top:0,right:0,gap:0},sp=function(t){return parseInt(t||"",10)||0},VU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sp(n),sp(r),sp(s)]},FU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return LU;var e=VU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},UU=lN(),ea="data-scroll-locked",$U=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(EU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kd," .").concat(kd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ea,`] {
    `).concat(bU,": ").concat(a,`px;
  }
`)},AE=function(){var t=parseInt(document.body.getAttribute(ea)||"0",10);return isFinite(t)?t:0},BU=function(){g.useEffect(function(){return document.body.setAttribute(ea,(AE()+1).toString()),function(){var t=AE()-1;t<=0?document.body.removeAttribute(ea):document.body.setAttribute(ea,t.toString())}},[])},zU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;BU();var i=g.useMemo(function(){return FU(s)},[s]);return g.createElement(UU,{styles:$U(i,!e,s,n?"":"!important")})},$g=!1;if(typeof window<"u")try{var Xu=Object.defineProperty({},"passive",{get:function(){return $g=!0,!0}});window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{$g=!1}var vo=$g?{passive:!1}:!1,WU=function(t){return t.tagName==="TEXTAREA"},cN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!WU(t)&&n[e]==="visible")},HU=function(t){return cN(t,"overflowY")},qU=function(t){return cN(t,"overflowX")},PE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uN(t,r);if(s){var i=dN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},KU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uN=function(t,e){return t==="v"?HU(e):qU(e)},dN=function(t,e){return t==="v"?GU(e):KU(e)},YU=function(t,e){return t==="h"&&e==="rtl"?-1:1},QU=function(t,e,n,r,s){var i=YU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var y=dN(t,a),x=y[0],E=y[1],T=y[2],_=E-T-i*x;(x||_)&&uN(t,a)&&(f+=_,m+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(d=!0),d},Ju=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jE=function(t){return[t.deltaX,t.deltaY]},DE=function(t){return t&&"current"in t?t.current:t},XU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},JU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZU=0,wo=[];function e$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(ZU++)[0],i=g.useState(lN)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=_U([t.lockRef.current],(t.shards||[]).map(DE),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var _=Ju(E),w=n.current,v="deltaX"in E?E.deltaX:w[0]-_[0],k="deltaY"in E?E.deltaY:w[1]-_[1],D,O=E.target,C=Math.abs(v)>Math.abs(k)?"h":"v";if("touches"in E&&C==="h"&&O.type==="range")return!1;var S=PE(C,O);if(!S)return!0;if(S?D=C:(D=C==="v"?"h":"v",S=PE(C,O)),!S)return!1;if(!r.current&&"changedTouches"in E&&(v||k)&&(r.current=D),!D)return!0;var N=r.current||D;return QU(N,T,E,N==="h"?v:k)},[]),c=g.useCallback(function(E){var T=E;if(!(!wo.length||wo[wo.length-1]!==i)){var _="deltaY"in T?jE(T):Ju(T),w=e.current.filter(function(D){return D.name===T.type&&(D.target===T.target||T.target===D.shadowParent)&&XU(D.delta,_)})[0];if(w&&w.should){T.cancelable&&T.preventDefault();return}if(!w){var v=(o.current.shards||[]).map(DE).filter(Boolean).filter(function(D){return D.contains(T.target)}),k=v.length>0?a(T,v[0]):!o.current.noIsolation;k&&T.cancelable&&T.preventDefault()}}},[]),d=g.useCallback(function(E,T,_,w){var v={name:E,delta:T,target:_,should:w,shadowParent:t$(_)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(k){return k!==v})},1)},[]),h=g.useCallback(function(E){n.current=Ju(E),r.current=void 0},[]),f=g.useCallback(function(E){d(E.type,jE(E),E.target,a(E,t.lockRef.current))},[]),m=g.useCallback(function(E){d(E.type,Ju(E),E.target,a(E,t.lockRef.current))},[]);g.useEffect(function(){return wo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,vo),document.addEventListener("touchmove",c,vo),document.addEventListener("touchstart",h,vo),function(){wo=wo.filter(function(E){return E!==i}),document.removeEventListener("wheel",c,vo),document.removeEventListener("touchmove",c,vo),document.removeEventListener("touchstart",h,vo)}},[]);var y=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:JU(s)}):null,y?g.createElement(zU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const n$=RU(aN,e$);var Nf=g.forwardRef(function(t,e){return g.createElement(If,cr({},t,{ref:e,sideCar:n$}))});Nf.classNames=If.classNames;var r$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,Zu=new WeakMap,ed={},ip=0,hN=function(t){return t&&(t.host||hN(t.parentNode))},s$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},i$=function(t,e,n,r){var s=s$(e,Array.isArray(t)?t:[t]);ed[n]||(ed[n]=new WeakMap);var i=ed[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var y=m.getAttribute(r),x=y!==null&&y!=="false",E=(xo.get(m)||0)+1,T=(i.get(m)||0)+1;xo.set(m,E),i.set(m,T),o.push(m),E===1&&x&&Zu.set(m,!0),T===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),a.clear(),ip++,function(){o.forEach(function(f){var m=xo.get(f)-1,y=i.get(f)-1;xo.set(f,m),i.set(f,y),m||(Zu.has(f)||f.removeAttribute(r),Zu.delete(f)),y||f.removeAttribute(n)}),ip--,ip||(xo=new WeakMap,xo=new WeakMap,Zu=new WeakMap,ed={})}},ow=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=r$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),i$(r,s,n,"aria-hidden")):function(){return null}},kf="Dialog",[fN,PH]=tr(kf),[o$,nr]=fN(kf),mN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),c=g.useRef(null),[d,h]=as({prop:r,defaultProp:s??!1,onChange:i,caller:kf});return l.jsx(o$,{scope:e,triggerRef:a,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};mN.displayName=kf;var pN="DialogTrigger",a$=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(pN,n),i=je(e,s.triggerRef);return l.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cw(s.open),...r,ref:i,onClick:ue(t.onClick,s.onOpenToggle)})});a$.displayName=pN;var aw="DialogPortal",[l$,gN]=fN(aw,{forceMount:void 0}),yN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=nr(aw,e);return l.jsx(l$,{scope:e,forceMount:n,children:g.Children.map(r,o=>l.jsx(ds,{present:n||i.open,children:l.jsx(Cf,{asChild:!0,container:s,children:o})}))})};yN.displayName=aw;var Ch="DialogOverlay",vN=g.forwardRef((t,e)=>{const n=gN(Ch,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=nr(Ch,t.__scopeDialog);return i.modal?l.jsx(ds,{present:r||i.open,children:l.jsx(u$,{...s,ref:e})}):null});vN.displayName=Ch;var c$=Yi("DialogOverlay.RemoveScroll"),u$=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(Ch,n);return l.jsx(Nf,{as:c$,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(he.div,{"data-state":cw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Xi="DialogContent",wN=g.forwardRef((t,e)=>{const n=gN(Xi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=nr(Xi,t.__scopeDialog);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(d$,{...s,ref:e}):l.jsx(h$,{...s,ref:e})})});wN.displayName=Xi;var d$=g.forwardRef((t,e)=>{const n=nr(Xi,t.__scopeDialog),r=g.useRef(null),s=je(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return ow(i)},[]),l.jsx(xN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),h$=g.forwardRef((t,e)=>{const n=nr(Xi,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(xN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xN=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=nr(Xi,n),c=g.useRef(null),d=je(e,c);return iw(),l.jsxs(l.Fragment,{children:[l.jsx(Sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Tf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":cw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(f$,{titleId:a.titleId}),l.jsx(p$,{contentRef:c,descriptionId:a.descriptionId})]})]})}),lw="DialogTitle",_N=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(lw,n);return l.jsx(he.h2,{id:s.titleId,...r,ref:e})});_N.displayName=lw;var EN="DialogDescription",bN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(EN,n);return l.jsx(he.p,{id:s.descriptionId,...r,ref:e})});bN.displayName=EN;var TN="DialogClose",SN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(TN,n);return l.jsx(he.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});SN.displayName=TN;function cw(t){return t?"open":"closed"}var CN="DialogTitleWarning",[jH,IN]=G9(CN,{contentName:Xi,titleName:lw,docsSlug:"dialog"}),f$=({titleId:t})=>{const e=IN(CN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},m$="DialogDescriptionWarning",p$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IN(m$).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},g$=mN,y$=yN,NN=vN,kN=wN,RN=_N,AN=bN,v$=SN;const Gc=g$,w$=y$,PN=g.forwardRef(({className:t,...e},n)=>l.jsx(NN,{ref:n,className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));PN.displayName=NN.displayName;const Oa=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(w$,{children:[l.jsx(PN,{}),l.jsxs(kN,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(v$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Da,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oa.displayName=kN.displayName;const Ma=({className:t,...e})=>l.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ma.displayName="DialogHeader";const La=g.forwardRef(({className:t,...e},n)=>l.jsx(RN,{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",t),...e}));La.displayName=RN.displayName;const Rf=g.forwardRef(({className:t,...e},n)=>l.jsx(AN,{ref:n,className:Q("text-sm text-muted-foreground",t),...e}));Rf.displayName=AN.displayName;const le=g.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));le.displayName="Input";var x$="Label",jN=g.forwardRef((t,e)=>l.jsx(he.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jN.displayName=x$;var DN=jN;const _$=Zv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),X=g.forwardRef(({className:t,...e},n)=>l.jsx(DN,{ref:n,className:Q(_$(),t),...e}));X.displayName=DN.displayName;const Er=g.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Er.displayName="Textarea";function Af(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Pf(t){const[e,n]=g.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jf="Checkbox",[E$,DH]=tr(jf),[b$,uw]=E$(jf);function T$(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=t,[m,y]=as({prop:n,defaultProp:s??!1,onChange:c,caller:jf}),[x,E]=g.useState(null),[T,_]=g.useState(null),w=g.useRef(!1),v=x?!!o||!!x.closest("form"):!0,k={checked:m,disabled:i,setChecked:y,control:x,setControl:E,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:Hs(s)?!1:s,isFormControl:v,bubbleInput:T,setBubbleInput:_};return l.jsx(b$,{scope:e,...k,children:S$(f)?f(k):r})}var ON="CheckboxTrigger",MN=g.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:c,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:x}=uw(ON,t),E=je(s,h),T=g.useRef(c);return g.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const w=()=>f(T.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[i,f]),l.jsx(he.button,{type:"button",role:"checkbox","aria-checked":Hs(c)?"mixed":c,"aria-required":d,"data-state":$N(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:E,onKeyDown:ue(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ue(n,_=>{f(w=>Hs(w)?!0:!w),x&&y&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})})});MN.displayName=ON;var dw=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:d,form:h,...f}=t;return l.jsx(T$,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(MN,{...f,ref:e,__scopeCheckbox:n}),m&&l.jsx(UN,{__scopeCheckbox:n})]})})});dw.displayName=jf;var LN="CheckboxIndicator",VN=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=uw(LN,n);return l.jsx(ds,{present:r||Hs(i.checked)||i.checked===!0,children:l.jsx(he.span,{"data-state":$N(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});VN.displayName=LN;var FN="CheckboxBubbleInput",UN=g.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:d,value:h,form:f,bubbleInput:m,setBubbleInput:y}=uw(FN,t),x=je(n,y),E=Af(i),T=Pf(r);g.useEffect(()=>{const w=m;if(!w)return;const v=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(v,"checked").set,O=!s.current;if(E!==i&&D){const C=new Event("click",{bubbles:O});w.indeterminate=Hs(i),D.call(w,Hs(i)?!1:i),w.dispatchEvent(C)}},[m,E,i,s]);const _=g.useRef(Hs(i)?!1:i);return l.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:a,disabled:c,name:d,value:h,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,...T,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});UN.displayName=FN;function S$(t){return typeof t=="function"}function Hs(t){return t==="indeterminate"}function $N(t){return Hs(t)?"indeterminate":t?"checked":"unchecked"}const Bg=g.forwardRef(({className:t,...e},n)=>l.jsx(dw,{ref:n,className:Q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(VN,{className:Q("flex items-center justify-center text-current"),children:l.jsx(YI,{className:"h-4 w-4"})})}));Bg.displayName=dw.displayName;function BN(t){const e=t+"CollectionProvider",[n,r]=tr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:T,children:_}=E,w=q.useRef(null),v=q.useRef(new Map).current;return l.jsx(s,{scope:T,itemMap:v,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=Yi(a),d=q.forwardRef((E,T)=>{const{scope:_,children:w}=E,v=i(a,_),k=je(T,v.collectionRef);return l.jsx(c,{ref:k,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Yi(h),y=q.forwardRef((E,T)=>{const{scope:_,children:w,...v}=E,k=q.useRef(null),D=je(T,k),O=i(h,_);return q.useEffect(()=>(O.itemMap.set(k,{ref:k,...v}),()=>void O.itemMap.delete(k))),l.jsx(m,{[f]:"",ref:D,children:w})});y.displayName=h;function x(E){const T=i(t+"CollectionConsumer",E);return q.useCallback(()=>{const w=T.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((O,C)=>v.indexOf(O.ref.current)-v.indexOf(C.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},x,r]}var C$=g.createContext(void 0);function Df(t){const e=g.useContext(C$);return t||e||"ltr"}var op="rovingFocusGroup.onEntryFocus",I$={bubbles:!1,cancelable:!0},Kc="RovingFocusGroup",[zg,zN,N$]=BN(Kc),[k$,Of]=tr(Kc,[N$]),[R$,A$]=k$(Kc),WN=g.forwardRef((t,e)=>l.jsx(zg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(zg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(P$,{...t,ref:e})})}));WN.displayName=Kc;var P$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=g.useRef(null),y=je(e,m),x=Df(i),[E,T]=as({prop:o,defaultProp:a??null,onChange:c,caller:Kc}),[_,w]=g.useState(!1),v=ri(d),k=zN(n),D=g.useRef(!1),[O,C]=g.useState(0);return g.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(op,v),()=>S.removeEventListener(op,v)},[v]),l.jsx(R$,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:E,onItemFocus:g.useCallback(S=>T(S),[T]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>C(S=>S-1),[]),children:l.jsx(he.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{D.current=!0}),onFocus:ue(t.onFocus,S=>{const N=!D.current;if(S.target===S.currentTarget&&N&&!_){const P=new CustomEvent(op,I$);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const I=k().filter(F=>F.focusable),R=I.find(F=>F.active),j=I.find(F=>F.id===E),J=[R,j,...I].filter(Boolean).map(F=>F.ref.current);GN(J,h)}}D.current=!1}),onBlur:ue(t.onBlur,()=>w(!1))})})}),HN="RovingFocusGroupItem",qN=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Xr(),d=i||c,h=A$(HN,n),f=h.currentTabStopId===d,m=zN(n),{onFocusableItemAdd:y,onFocusableItemRemove:x,currentTabStopId:E}=h;return g.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),l.jsx(zg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:ue(t.onMouseDown,T=>{r?h.onItemFocus(d):T.preventDefault()}),onFocus:ue(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:ue(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){h.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const _=O$(T,h.orientation,h.dir);if(_!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let v=m().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")v.reverse();else if(_==="prev"||_==="next"){_==="prev"&&v.reverse();const k=v.indexOf(T.currentTarget);v=h.loop?M$(v,k+1):v.slice(k+1)}setTimeout(()=>GN(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:E!=null}):o})})});qN.displayName=HN;var j$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O$(t,e,n){const r=D$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return j$[r]}function GN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function M$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KN=WN,YN=qN,hw="Radio",[L$,QN]=tr(hw),[V$,F$]=L$(hw),XN=g.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:c,form:d,...h}=t,[f,m]=g.useState(null),y=je(e,T=>m(T)),x=g.useRef(!1),E=f?d||!!f.closest("form"):!0;return l.jsxs(V$,{scope:n,checked:s,disabled:o,children:[l.jsx(he.button,{type:"button",role:"radio","aria-checked":s,"data-state":tk(s),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:y,onClick:ue(t.onClick,T=>{s||c==null||c(),E&&(x.current=T.isPropagationStopped(),x.current||T.stopPropagation())})}),E&&l.jsx(ek,{control:f,bubbles:!x.current,name:r,value:a,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});XN.displayName=hw;var JN="RadioIndicator",ZN=g.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=F$(JN,n);return l.jsx(ds,{present:r||i.checked,children:l.jsx(he.span,{"data-state":tk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});ZN.displayName=JN;var U$="RadioBubbleInput",ek=g.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=g.useRef(null),a=je(o,i),c=Af(n),d=Pf(e);return g.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const x=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(x)}},[c,n,r]),l.jsx(he.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ek.displayName=U$;function tk(t){return t?"checked":"unchecked"}var $$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mf="RadioGroup",[B$,OH]=tr(Mf,[Of,QN]),nk=Of(),rk=QN(),[z$,W$]=B$(Mf),sk=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...m}=t,y=nk(n),x=Df(d),[E,T]=as({prop:i,defaultProp:s??null,onChange:f,caller:Mf});return l.jsx(z$,{scope:n,name:r,required:o,disabled:a,value:E,onValueChange:T,children:l.jsx(KN,{asChild:!0,...y,orientation:c,dir:x,loop:h,children:l.jsx(he.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:x,...m,ref:e})})})});sk.displayName=Mf;var ik="RadioGroupItem",ok=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=W$(ik,n),o=i.disabled||r,a=nk(n),c=rk(n),d=g.useRef(null),h=je(e,d),f=i.value===s.value,m=g.useRef(!1);return g.useEffect(()=>{const y=E=>{$$.includes(E.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",x)}},[]),l.jsx(YN,{asChild:!0,...a,focusable:!o,active:f,children:l.jsx(XN,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:ue(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ue(s.onFocus,()=>{var y;m.current&&((y=d.current)==null||y.click())})})})});ok.displayName=ik;var H$="RadioGroupIndicator",ak=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=rk(n);return l.jsx(ZN,{...s,...r,ref:e})});ak.displayName=H$;var lk=sk,ck=ok,q$=ak;const uk=g.forwardRef(({className:t,...e},n)=>l.jsx(lk,{className:Q("grid gap-2",t),...e,ref:n}));uk.displayName=lk.displayName;const dk=g.forwardRef(({className:t,...e},n)=>l.jsx(ck,{ref:n,className:Q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(q$,{className:"flex items-center justify-center",children:l.jsx(P9,{className:"h-2.5 w-2.5 fill-current text-current"})})}));dk.displayName=ck.displayName;const G$=[{value:"friend",label:"Friend or word of mouth"},{value:"instagram",label:"Instagram"},{value:"eventbrite",label:"Eventbrite"},{value:"google",label:"Google search"},{value:"flyer",label:"Flyer or poster"},{value:"website",label:"Organization website"},{value:"newsletter",label:"Email newsletter"},{value:"other",label:"Other"}];function K$({isOpen:t,onClose:e,eventTitle:n}){const[r,s]=g.useState(""),[i,o]=g.useState(""),[a,c]=g.useState(!1),d=async()=>{if(r){c(!0);try{console.log("How did you hear about us submission:",{eventTitle:n,source:r,otherDetails:r==="other"?i:void 0}),await new Promise(m=>setTimeout(m,500)),e()}catch(m){console.error("Error submitting feedback:",m)}finally{c(!1)}}},h=()=>{e()},f=()=>{s(""),o(""),e()};return l.jsx(Gc,{open:t,onOpenChange:f,children:l.jsxs(Oa,{className:"sm:max-w-md",children:[l.jsx(Ma,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(La,{className:"flex items-center gap-2",children:[l.jsx(V9,{className:"h-5 w-5 text-purple-600"}),"Quick Question"]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:f,className:"h-6 w-6 p-0",children:l.jsx(Da,{className:"h-4 w-4"})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["How did you hear about ",l.jsx("strong",{children:n}),"?"]}),l.jsx(uk,{value:r,onValueChange:s,children:l.jsx("div",{className:"space-y-3",children:G$.map(m=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(dk,{value:m.value,id:m.value}),l.jsx(X,{htmlFor:m.value,className:"text-sm font-normal cursor-pointer",children:m.label})]},m.value))})}),r==="other"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(X,{htmlFor:"other-details",className:"text-sm",children:"Please specify:"}),l.jsx(Er,{id:"other-details",placeholder:"Tell us how you heard about this event...",value:i,onChange:m=>o(m.target.value),rows:2})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(te,{type:"button",variant:"ghost",onClick:h,className:"flex-1",disabled:a,children:"Skip"}),l.jsx(te,{onClick:d,disabled:!r||a,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":"Submit"})]})]})]})})}function Wg({event:t}){const[e,n]=g.useState(!1),[r,s]=g.useState("interest"),[i,o]=g.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1}),[a,c]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(null),[y,x]=g.useState(!1),E=()=>t.eventbriteUrl?"eventbrite":t.presaleEnabled?"presale":t.registrationRequired||t.price.type==="free"?"interest":null,T=v=>{s(v),n(!0),h(!1),m(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:"",subscribeToUpdates:!1,subscribeToNewsletter:!1})},_=async v=>{v.preventDefault(),c(!0),m(null);try{let k;r==="presale"?k="presale_request":k=i.rsvpType,await tN.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:k,notes:i.notes||void 0,subscribeToUpdates:i.subscribeToUpdates,subscribeToNewsletter:i.subscribeToNewsletter}),h(!0),setTimeout(()=>{n(!1),h(!1),x(!0)},2e3)}catch(k){console.error("Error submitting registration:",k),k instanceof Id?m(k.message):m("Failed to submit registration. Please try again.")}finally{c(!1)}},w=E();return w?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[w==="eventbrite"&&l.jsxs(te,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",l.jsx(tw,{className:"ml-2 h-4 w-4"})]}),w==="presale"&&l.jsxs(te,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>T("presale"),children:["Presale",l.jsx(_r,{className:"ml-2 h-4 w-4"})]}),w==="interest"&&l.jsxs(te,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>T("interest"),children:["I'm Interested",l.jsx(Mt,{className:"ml-2 h-4 w-4"})]})]}),l.jsx(Gc,{open:e,onOpenChange:n,children:l.jsxs(Oa,{className:"sm:max-w-md",children:[l.jsxs(Ma,{children:[l.jsx(La,{className:"flex items-center gap-2",children:r==="presale"?l.jsxs(l.Fragment,{children:[l.jsx(_r,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):l.jsxs(l.Fragment,{children:[l.jsx(Mt,{className:"h-5 w-5 text-purple-600"}),"Express Interest"]})}),l.jsx(Rf,{children:r==="presale"?l.jsxs(l.Fragment,{children:["Get notified when tickets become available for ",l.jsx("strong",{children:t.title})]}):l.jsxs(l.Fragment,{children:["Let us know your level of interest in ",l.jsx("strong",{children:t.title})]})})]}),d?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(QI,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="presale"?"Request Sent!":"Interest Submitted!"}),l.jsx("p",{className:"text-gray-600",children:r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for expressing your interest! This helps the organizer gauge event popularity."})]}):l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(X,{htmlFor:"name",children:"Name *"}),l.jsx(le,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:v=>o(k=>({...k,name:v.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(X,{htmlFor:"email",children:["Email ",r==="presale"?"*":"(optional)"]}),l.jsx(le,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:v=>o(k=>({...k,email:v.target.value})),required:r==="presale"})]}),r==="interest"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(X,{children:"How interested are you?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(te,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(v=>({...v,rsvpType:"rsvp_yes"})),children:"Very Interested"}),l.jsx(te,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(v=>({...v,rsvpType:"rsvp_maybe"})),children:"Somewhat Interested"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(X,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(Er,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:v=>o(k=>({...k,notes:v.target.value})),rows:2})]}),i.email&&l.jsxs("div",{className:"space-y-3 border-t pt-4",children:[l.jsx(X,{className:"text-sm font-medium",children:"Email Alerts (optional)"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Bg,{id:"subscribe-updates",checked:i.subscribeToUpdates,onCheckedChange:v=>o(k=>({...k,subscribeToUpdates:!!v}))}),l.jsx(X,{htmlFor:"subscribe-updates",className:"text-sm font-normal cursor-pointer",children:"Get updates about this event"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Bg,{id:"subscribe-newsletter",checked:i.subscribeToNewsletter,onCheckedChange:v=>o(k=>({...k,subscribeToNewsletter:!!v}))}),l.jsx(X,{htmlFor:"subscribe-newsletter",className:"text-sm font-normal cursor-pointer",children:"Subscribe to organization newsletter"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Managed by event organizers. You can unsubscribe at any time."})]}),f&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(te,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),l.jsx(te,{type:"submit",disabled:a||!i.name||r==="presale"&&!i.email,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":r==="presale"?"Send Request":"Submit Interest"})]})]})]})}),l.jsx(K$,{isOpen:y,onClose:()=>x(!1),eventTitle:t.title})]}):null}function Y$(){const{organization:t,events:e,loading:n,error:r}=q9(),[s,i]=g.useState([]),o=a=>{i(c=>c.includes(a)?c.filter(d=>d!==a):[...c,a])};return n?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ni,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading Brooklyn Hearts Club..."})]})}):r?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",r]}),l.jsx(te,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):t?l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:"/brooklyn-hearts-club-banner.svg?height=320&width=1200",alt:"Art Club Header",className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:"/brooklyn-hearts-club-logo.svg?height=80&width=80",alt:"Brooklyn Hearts club Logo",width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:t.name}),l.jsx("p",{className:"text-lg text-gray-200",children:t.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",t.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.bio})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("Brooklyn Hearts Club - All events:",e.map(c=>({id:c.id,title:c.title,status:c.status})));const a=e.filter(c=>(c.status||"published")==="published");return console.log("Brooklyn Hearts Club - Published events:",a.map(c=>({id:c.id,title:c.title,status:c.status}))),a})().length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsx("div",{className:"space-y-6",children:e.filter(a=>(a.status||"published")==="published").map(a=>l.jsx(fe,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(xt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:a.category}),a.isRecurring&&l.jsxs(xt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Cd,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",a.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:a.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mt,{className:"h-4 w-4 mr-2"}),new Date(a.date).toLocaleDateString()," • ",a.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),a.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",a.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(Wg,{event:a}),l.jsxs(te,{variant:"outline",onClick:()=>o(a.id),className:"flex items-center gap-2",children:["Details",s.includes(a.id)?l.jsx(Th,{className:"h-4 w-4"}):l.jsx(pa,{className:"h-4 w-4"})]})]})]}),s.includes(a.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[a.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",a.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:a.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",a.address]})})]}),a.isRecurring&&a.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:a.recurringDates.map((c,d)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:c.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[c.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:c.description})]})]},d))})]})]})]})})},a.id))})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",t.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:"/brooklyn-hearts-club-about-images-1.svg?height=400&width=600",alt:"Art Club Members",width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Founded in 2018 by a group of passionate local artists, Brooklyn Hearts club began as a small gathering in a converted warehouse space. What started as weekly sketch sessions has grown into a thriving community of over 200 members from all walks of life."}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our club welcomes artists of all skill levels, from complete beginners picking up a brush for the first time to seasoned professionals looking to connect with fellow creatives. We offer a diverse range of activities including workshops, exhibitions, collaborative projects, and social events."}),l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsxs("ul",{className:"space-y-2 text-gray-700",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Weekly open studio sessions with shared materials"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Monthly workshops led by professional artists"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Quarterly exhibitions showcasing member artwork"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Access to professional-grade equipment and studio space"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Networking opportunities with local galleries and art organizations"]})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",children:l.jsx(JI,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Bluesky",children:l.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.015.27-.031.402-.05-.132.019-.266.035-.402.05-2.67-.296-5.568.628-6.383 3.364C.378 17.804 0 22.764 0 23.452c0 .688.139 1.86.902 2.203.659.299 1.664.621 4.3-1.239C7.954 22.474 10.913 18.535 12 16.421c1.087 2.114 4.046 6.053 6.798 7.995 2.636 1.86 3.641 1.538 4.3 1.239.763-.343.902-1.515.902-2.203 0-.688-.378-5.648-.624-6.477-.815-2.736-3.713-3.66-6.383-3.364-.136.015-.27-.031-.402.05.132-.019.266.035.402-.50 2.67.296 5.568-.628 6.383-3.364.246-.829.624-5.789.624-6.479 0-.688-.139-1.86-.902-2.203-.659-.299-1.664-.621-4.3 1.239C16.046 4.747 13.087 8.686 12 10.8z"})})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"LinkTree",children:l.jsx(tw,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",children:l.jsx(Mt,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",children:l.jsx(XI,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(Mi,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"123 Art Street, Creative District"})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(_r,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"team@heyvoxxy"})]}),l.jsxs("div",{className:"group relative",children:[l.jsx("svg",{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Connect on LinkedIn"})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}const hk=yf(qc,"organizations"),fk=yf(qc,"events");yf(qc,"registrations");yf(qc,"users");const Q$=async t=>(await pI(hk,{...t,createdAt:Pe.now(),updatedAt:Pe.now()})).id,bl=async t=>{const e=uI(hk,dI("slug","==",t),u3(1)),n=await mI(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},X$=async(t,e)=>{const n=rI(qc,"organizations",t),r={...e,updatedAt:Pe.now()};await p3(n,r);const s=await m3(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},J$=async t=>(await pI(fk,{...t,date:Pe.fromDate(t.date),endDate:t.endDate?Pe.fromDate(t.endDate):null,createdAt:Pe.now(),updatedAt:Pe.now()})).id,Hg=async t=>{const e=uI(fk,dI("organizationId","==",t),c3("date","desc"));return(await mI(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})};function mk(t){const[e,n]=g.useState(null),[r,s]=g.useState([]),[i,o]=g.useState(!0),[a,c]=g.useState(null),d=g.useCallback(async()=>{try{o(!0),c(null);const m=Sh(),y=EE(),x=Vg();if(console.log(`Loading data for ${t} in ${m} environment using ${y}`),y==="firebase"){console.log("Using Firebase directly");const E=await bl(t);if(!E)throw new Error(`Organization '${t}' not found in ${m} environment`);n(E);const T=await Hg(E.id);s(T)}else if(y==="api"&&x){console.log(`Using API: ${x}`);const E=await Fg.getBySlug(t);n(E);const T=await Qi.getByOrganization(E.id);s(T)}else throw new Error(`Invalid data source configuration for ${m} environment`)}catch(m){console.error(`Error loading ${t} data:`,m),c(m instanceof Error?m.message:"Failed to load data")}finally{o(!1)}},[t]);return g.useEffect(()=>{t&&d()},[t,d]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const m=await Qi.getByOrganization(e.id);s(m)}catch(m){console.error("Error refreshing events:",m)}},updateOrganization:async m=>{if(e)try{const y=Sh(),x=EE(),E=Vg();if(console.log(`Updating organization in ${y} environment using ${x}`),x==="firebase"){console.log("Updating organization via Firebase (development/sandbox)");const T=await X$(e.id,m);n(T),console.log(`✅ Organization updated successfully in Firebase (${y})`)}else if(x==="api"&&E){console.log(`Updating organization via API: ${E}`);const T=await Fg.update(e.id,m);n(T)}else throw new Error(`Invalid update configuration for ${y} environment`)}catch(y){throw console.error("Error updating organization:",y),y}},reload:d}}function pk({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=g.useState({name:t.name,description:t.description,bio:t.bio,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress,theme:{primaryColor:t.settings.theme.primaryColor,backgroundColor:t.settings.theme.backgroundColor}}}),[a,c]=g.useState(!1),d=s||a,h=(x,E)=>{o(T=>({...T,[x]:E}))},f=(x,E,T)=>{o(_=>({..._,[x]:{..._[x],[E]:T}}))},m=(x,E)=>{o(T=>({...T,settings:{...T.settings,theme:{...T.settings.theme,[x]:E}}}))},y=async x=>{x.preventDefault(),s||c(!0);try{await e(i)}catch(E){console.error("Failed to save organization:",E)}finally{s||c(!1)}};return l.jsxs("div",{className:r?"":"p-6",children:[!r&&l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),l.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),l.jsxs(te,{onClick:n,variant:"outline",size:"sm",children:[l.jsx(Da,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Basic Information"}),l.jsx(en,{children:"Core details about your organization"})]}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"name",children:"Organization Name"}),l.jsx(le,{id:"name",value:i.name,onChange:x=>h("name",x.target.value),placeholder:"Organization Name"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"contactEmail",children:"Contact Email"}),l.jsx(le,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:x=>h("contactEmail",x.target.value),placeholder:"contact@organization.com"})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"description",children:"Short Description"}),l.jsx(le,{id:"description",value:i.description,onChange:x=>h("description",x.target.value),placeholder:"Brief description for headers and previews"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"bio",children:"Full Bio"}),l.jsx(Er,{id:"bio",value:i.bio,onChange:x=>h("bio",x.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Media & Branding"}),l.jsx(en,{children:"Images and visual identity for your organization"})]}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"logoUrl",children:"Logo URL"}),l.jsx(le,{id:"logoUrl",value:i.logoUrl,onChange:x=>h("logoUrl",x.target.value),placeholder:"https://example.com/logo.png"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"bannerUrl",children:"Banner Image URL"}),l.jsx(le,{id:"bannerUrl",value:i.bannerUrl,onChange:x=>h("bannerUrl",x.target.value),placeholder:"https://example.com/banner.jpg"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"primaryColor",children:"Primary Color"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{id:"primaryColor",value:i.settings.theme.primaryColor,onChange:x=>m("primaryColor",x.target.value),placeholder:"#8b5cf6"}),l.jsx("input",{type:"color",value:i.settings.theme.primaryColor,onChange:x=>m("primaryColor",x.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"backgroundColor",children:"Background Color"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{id:"backgroundColor",value:i.settings.theme.backgroundColor,onChange:x=>m("backgroundColor",x.target.value),placeholder:"#ffffff"}),l.jsx("input",{type:"color",value:i.settings.theme.backgroundColor,onChange:x=>m("backgroundColor",x.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]})]})]})]}),l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Default Location"}),l.jsx(en,{children:"Default venue information for events"})]}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"defaultLocation",children:"Venue Name"}),l.jsx(le,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:x=>f("settings","defaultLocation",x.target.value),placeholder:"Venue Name"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"defaultAddress",children:"Address"}),l.jsx(le,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:x=>f("settings","defaultAddress",x.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Social Media & Links"}),l.jsx(en,{children:"Connect your social media accounts and external links"})]}),l.jsx(ge,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"instagram",children:"Instagram Handle"}),l.jsx(le,{id:"instagram",value:i.socialLinks.instagram,onChange:x=>f("socialLinks","instagram",x.target.value),placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"website",children:"Website URL"}),l.jsx(le,{id:"website",value:i.socialLinks.website,onChange:x=>f("socialLinks","website",x.target.value),placeholder:"https://yourwebsite.com"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"eventbrite",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:x=>f("socialLinks","eventbrite",x.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"venmo",children:"Venmo Handle"}),l.jsx(le,{id:"venmo",value:i.socialLinks.venmo,onChange:x=>f("socialLinks","venmo",x.target.value),placeholder:"@yourvenmo"})]})]})})]}),!r&&l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(te,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(te,{type:"submit",disabled:d,children:[l.jsx(_E,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})]}),r&&l.jsx("div",{className:"sticky bottom-6 flex justify-center",children:l.jsxs(te,{type:"submit",disabled:d,className:"shadow-lg",size:"lg",children:[l.jsx(_E,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})})]})]})}function Z$({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:c,error:d,updateOrganization:h}=mk(t),[f,m]=g.useState([]),[y,x]=g.useState(!1),E=_=>{m(w=>w.includes(_)?w.filter(v=>v!==_):[...w,_])},T=async _=>{try{await h(_),x(!1)}catch(w){console.error("Failed to save organization:",w)}};return c?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ni,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):d?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",d]}),l.jsx(te,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?l.jsxs("div",{className:"min-h-screen bg-white",children:[s&&sw("adminControls")&&l.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[l.jsx(cc,{to:`/${t}/admin`,children:l.jsxs(te,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[l.jsx(Lg,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),y?l.jsxs(te,{onClick:()=>x(!1),variant:"outline",size:"sm",children:[l.jsx(Da,{className:"h-4 w-4 mr-2"}),"Cancel"]}):l.jsxs(te,{onClick:()=>x(!0),variant:"outline",size:"sm",children:[l.jsx(Lg,{className:"h-4 w-4 mr-2"}),"Quick Edit"]})]}),y&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsx(pk,{organization:o,onSave:T,onCancel:()=>x(!1)})})}),l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:o.name}),l.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.bio})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("All events:",a.map(k=>({id:k.id,title:k.title,status:k.status})));const _=a.filter(k=>{const D=k.status||"published";return["published","presale","sold_out"].includes(D)});console.log("Published events:",_.map(k=>({id:k.id,title:k.title,status:k.status})));const w=_.filter(k=>!k.isRecurring),v=_.filter(k=>k.isRecurring);return{publishedEvents:_,mainEvents:w,recurringEvents:v}})().publishedEvents.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsxs("div",{className:"space-y-12",children:[(()=>{const w=a.filter(v=>{const k=v.status||"published";return["published","presale","sold_out"].includes(k)}).filter(v=>!v.isRecurring);return w.length>0&&l.jsx("div",{className:"space-y-6",children:w.map(v=>l.jsx(fe,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.category&&l.jsx(xt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:v.category}),v.isRecurring&&l.jsxs(xt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Cd,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:v.title})]}),v.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",v.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mt,{className:"h-4 w-4 mr-2"}),v.date instanceof Date?v.date.toLocaleDateString():new Date(v.date).toLocaleDateString()," • ",v.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),v.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",v.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(Wg,{event:v}),l.jsxs(te,{variant:"outline",onClick:()=>E(v.id),className:"flex items-center gap-2",children:["Details",f.includes(v.id)?l.jsx(Th,{className:"h-4 w-4"}):l.jsx(pa,{className:"h-4 w-4"})]})]})]}),f.includes(v.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[v.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",v.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:v.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:v.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",v.address]})})]}),v.isRecurring&&v.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:v.recurringDates.map((k,D)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:k.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[k.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:k.description})]})]},D))})]})]})]})})},v.id))})})(),(()=>{const w=a.filter(v=>{const k=v.status||"published";return["published","presale","sold_out"].includes(k)}).filter(v=>v.isRecurring);return w.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[l.jsx(Cd,{className:"h-6 w-6"}),"Recurring Events"]}),l.jsx("div",{className:"space-y-6",children:w.map(v=>l.jsx(fe,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.category&&l.jsx(xt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:v.category}),l.jsxs(xt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Cd,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:v.title})]}),v.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",v.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mt,{className:"h-4 w-4 mr-2"}),v.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),v.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",v.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(Wg,{event:v}),l.jsxs(te,{variant:"outline",onClick:()=>E(v.id),className:"flex items-center gap-2",children:["Details & Schedule",f.includes(v.id)?l.jsx(Th,{className:"h-4 w-4"}):l.jsx(pa,{className:"h-4 w-4"})]})]})]}),f.includes(v.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[v.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",v.series.name]}),l.jsx("p",{className:"text-gray-700",children:v.series.description})]}),v.fullDescription&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.fullDescription})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Location"}),l.jsx("p",{className:"text-gray-700",children:v.address})]}),v.isRecurring&&v.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Upcoming Schedule"}),l.jsx("div",{className:"space-y-2",children:v.recurringDates.map((k,D)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:k.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[k.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:k.description})]})]},D))})]})]})]})})},v.id))})]})})()]})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?l.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),l.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&l.jsxs(l.Fragment,{children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((_,w)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),_]},w))})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&l.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:l.jsx(JI,{className:"h-6 w-6"})}),o.socialLinks.website&&l.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:l.jsx(tw,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&l.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Mt,{className:"h-6 w-6"})}),o.socialLinks.venmo&&l.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:l.jsx(XI,{className:"h-6 w-6"})}),l.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:l.jsx(_r,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(Mi,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(_r,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function eB(){const t={story:`
      <p>
        Voxxy Presents NYC emerged from the underground music scene in 2023, born out of a desire to create 
        authentic connections between emerging artists and passionate music lovers. What started as pop-up shows 
        in unconventional Brooklyn venues has evolved into a curated collective that champions the raw, 
        unfiltered creativity of New York's underground scene.
      </p>
      <p>
        We believe that the most powerful art happens in intimate spaces where barriers between performer and 
        audience dissolve. Our events aren't just concerts—they're communal experiences that celebrate the 
        beautiful chaos of creative expression in all its forms.
      </p>
    `,offerings:["Intimate showcases featuring 3-5 carefully curated underground artists","Monthly open mic nights for emerging talent to connect and grow","Pop-up events in unique Brooklyn venues and unconventional spaces","Artist development workshops and networking opportunities","Collaborative projects between musicians, visual artists, and performers","Community-driven events that prioritize authentic artistic expression"]};return l.jsx(Z$,{organizationSlug:"voxxy-presents-nyc",bannerImage:"/placeholder.jpg",logoImage:"/placeholder-logo.png",aboutImage:"/placeholder.jpg",showAdminControls:sw("adminControls"),customContent:t})}var Lf="Tabs",[tB,MH]=tr(Lf,[Of]),gk=Of(),[nB,fw]=tB(Lf),yk=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Df(a),[f,m]=as({prop:r,onChange:s,defaultProp:i??"",caller:Lf});return l.jsx(nB,{scope:n,baseId:Xr(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:l.jsx(he.div,{dir:h,"data-orientation":o,...d,ref:e})})});yk.displayName=Lf;var vk="TabsList",wk=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=fw(vk,n),o=gk(n);return l.jsx(KN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(he.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});wk.displayName=vk;var xk="TabsTrigger",_k=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=fw(xk,n),a=gk(n),c=Tk(o.baseId,r),d=Sk(o.baseId,r),h=r===o.value;return l.jsx(YN,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(he.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ue(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ue(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});_k.displayName=xk;var Ek="TabsContent",bk=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=fw(Ek,n),c=Tk(a.baseId,r),d=Sk(a.baseId,r),h=r===a.value,f=g.useRef(h);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(ds,{present:s||h,children:({present:m})=>l.jsx(he.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});bk.displayName=Ek;function Tk(t,e){return`${t}-trigger-${e}`}function Sk(t,e){return`${t}-content-${e}`}var rB=yk,Ck=wk,Ik=_k,Nk=bk;const sB=rB,kk=g.forwardRef(({className:t,...e},n)=>l.jsx(Ck,{ref:n,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));kk.displayName=Ck.displayName;const Tl=g.forwardRef(({className:t,...e},n)=>l.jsx(Ik,{ref:n,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Tl.displayName=Ik.displayName;const Sl=g.forwardRef(({className:t,...e},n)=>l.jsx(Nk,{ref:n,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Sl.displayName=Nk.displayName;function OE(t,[e,n]){return Math.min(n,Math.max(e,t))}const iB=["top","right","bottom","left"],si=Math.min,gn=Math.max,Ih=Math.round,td=Math.floor,br=t=>({x:t,y:t}),oB={left:"right",right:"left",bottom:"top",top:"bottom"},aB={start:"end",end:"start"};function qg(t,e,n){return gn(t,si(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function Va(t){return t.split("-")[1]}function mw(t){return t==="x"?"y":"x"}function pw(t){return t==="y"?"height":"width"}const lB=new Set(["top","bottom"]);function ur(t){return lB.has(cs(t))?"y":"x"}function gw(t){return mw(ur(t))}function cB(t,e,n){n===void 0&&(n=!1);const r=Va(t),s=gw(t),i=pw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Nh(o)),[o,Nh(o)]}function uB(t){const e=Nh(t);return[Gg(t),e,Gg(e)]}function Gg(t){return t.replace(/start|end/g,e=>aB[e])}const ME=["left","right"],LE=["right","left"],dB=["top","bottom"],hB=["bottom","top"];function fB(t,e,n){switch(t){case"top":case"bottom":return n?e?LE:ME:e?ME:LE;case"left":case"right":return e?dB:hB;default:return[]}}function mB(t,e,n,r){const s=Va(t);let i=fB(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Gg)))),i}function Nh(t){return t.replace(/left|right|bottom|top/g,e=>oB[e])}function pB(t){return{top:0,right:0,bottom:0,left:0,...t}}function Rk(t){return typeof t!="number"?pB(t):{top:t,right:t,bottom:t,left:t}}function kh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function VE(t,e,n){let{reference:r,floating:s}=t;const i=ur(e),o=gw(e),a=pw(o),c=cs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Va(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const gB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=VE(d,r,c),m=r,y={},x=0;for(let E=0;E<a.length;E++){const{name:T,fn:_}=a[E],{x:w,y:v,data:k,reset:D}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=v??f,y={...y,[T]:{...y[T],...k}},D&&x<=50&&(x++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=VE(d,m,c)),E=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function xc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=ls(e,t),x=Rk(y),T=a[m?f==="floating"?"reference":"floating":f],_=kh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},D=kh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:v,strategy:c}):w);return{top:(_.top-D.top+x.top)/k.y,bottom:(D.bottom-_.bottom+x.bottom)/k.y,left:(_.left-D.left+x.left)/k.x,right:(D.right-_.right+x.right)/k.x}}const yB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=ls(t,e)||{};if(d==null)return{};const f=Rk(h),m={x:n,y:r},y=gw(s),x=pw(y),E=await o.getDimensions(d),T=y==="y",_=T?"top":"left",w=T?"bottom":"right",v=T?"clientHeight":"clientWidth",k=i.reference[x]+i.reference[y]-m[y]-i.floating[x],D=m[y]-i.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=O?O[v]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[v]||i.floating[x]);const S=k/2-D/2,N=C/2-E[x]/2-1,P=si(f[_],N),I=si(f[w],N),R=P,j=C-E[x]-I,B=C/2-E[x]/2+S,J=qg(R,B,j),F=!c.arrow&&Va(s)!=null&&B!==J&&i.reference[x]/2-(B<R?P:I)-E[x]/2<0,G=F?B<R?B-R:B-j:0;return{[y]:m[y]+G,data:{[y]:J,centerOffset:B-J-G,...F&&{alignmentOffset:G}},reset:F}}}),vB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...T}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=cs(s),w=ur(a),v=cs(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(v||!E?[Nh(a)]:uB(a)),O=x!=="none";!m&&O&&D.push(...mB(a,E,x,k));const C=[a,...D],S=await xc(e,T),N=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&N.push(S[_]),f){const B=cB(s,o,k);N.push(S[B[0]],S[B[1]])}if(P=[...P,{placement:s,overflows:N}],!N.every(B=>B<=0)){var I,R;const B=(((I=i.flip)==null?void 0:I.index)||0)+1,J=C[B];if(J&&(!(f==="alignment"?w!==ur(J):!1)||P.every(L=>ur(L.placement)===w?L.overflows[0]>0:!0)))return{data:{index:B,overflows:P},reset:{placement:J}};let F=(R=P.filter(G=>G.overflows[0]<=0).sort((G,L)=>G.overflows[1]-L.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(y){case"bestFit":{var j;const G=(j=P.filter(L=>{if(O){const z=ur(L.placement);return z===w||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:j[0];G&&(F=G);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function FE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function UE(t){return iB.some(e=>t[e]>=0)}const wB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await xc(e,{...s,elementContext:"reference"}),o=FE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UE(o)}}}case"escaped":{const i=await xc(e,{...s,altBoundary:!0}),o=FE(i,n.floating);return{data:{escapedOffsets:o,escaped:UE(o)}}}default:return{}}}}},Ak=new Set(["left","top"]);async function xB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=Va(n),c=ur(n)==="y",d=Ak.has(o)?-1:1,h=i&&c?-1:1,f=ls(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const _B=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await xB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},EB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:_,y:w}=T;return{x:_,y:w}}},...c}=ls(t,e),d={x:n,y:r},h=await xc(e,c),f=ur(cs(s)),m=mw(f);let y=d[m],x=d[f];if(i){const T=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=y+h[T],v=y-h[_];y=qg(w,y,v)}if(o){const T=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=x+h[T],v=x-h[_];x=qg(w,x,v)}const E=a.fn({...e,[m]:y,[f]:x});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[m]:i,[f]:o}}}}}},bB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ls(t,e),h={x:n,y:r},f=ur(s),m=mw(f);let y=h[m],x=h[f];const E=ls(a,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(c){const v=m==="y"?"height":"width",k=i.reference[m]-i.floating[v]+T.mainAxis,D=i.reference[m]+i.reference[v]-T.mainAxis;y<k?y=k:y>D&&(y=D)}if(d){var _,w;const v=m==="y"?"width":"height",k=Ak.has(cs(s)),D=i.reference[f]-i.floating[v]+(k&&((_=o.offset)==null?void 0:_[f])||0)+(k?0:T.crossAxis),O=i.reference[f]+i.reference[v]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?T.crossAxis:0);x<D?x=D:x>O&&(x=O)}return{[m]:y,[f]:x}}}},TB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=ls(t,e),h=await xc(e,d),f=cs(s),m=Va(s),y=ur(s)==="y",{width:x,height:E}=i.floating;let T,_;f==="top"||f==="bottom"?(T=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,T=m==="end"?"top":"bottom");const w=E-h.top-h.bottom,v=x-h.left-h.right,k=si(E-h[T],w),D=si(x-h[_],v),O=!e.middlewareData.shift;let C=k,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),O&&!m){const P=gn(h.left,0),I=gn(h.right,0),R=gn(h.top,0),j=gn(h.bottom,0);y?S=x-2*(P!==0||I!==0?P+I:gn(h.left,h.right)):C=E-2*(R!==0||j!==0?R+j:gn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:C});const N=await o.getDimensions(a.floating);return x!==N.width||E!==N.height?{reset:{rects:!0}}:{}}}};function Vf(){return typeof window<"u"}function Fa(t){return Pk(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(Pk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pk(t){return Vf()?t instanceof Node||t instanceof _n(t).Node:!1}function Jn(t){return Vf()?t instanceof Element||t instanceof _n(t).Element:!1}function Ir(t){return Vf()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function $E(t){return!Vf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const SB=new Set(["inline","contents"]);function Yc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SB.has(s)}const CB=new Set(["table","td","th"]);function IB(t){return CB.has(Fa(t))}const NB=[":popover-open",":modal"];function Ff(t){return NB.some(e=>{try{return t.matches(e)}catch{return!1}})}const kB=["transform","translate","scale","rotate","perspective"],RB=["transform","translate","scale","rotate","perspective","filter"],AB=["paint","layout","strict","content"];function yw(t){const e=vw(),n=Jn(t)?Zn(t):t;return kB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RB.some(r=>(n.willChange||"").includes(r))||AB.some(r=>(n.contain||"").includes(r))}function PB(t){let e=ii(t);for(;Ir(e)&&!ga(e);){if(yw(e))return e;if(Ff(e))return null;e=ii(e)}return null}function vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jB=new Set(["html","body","#document"]);function ga(t){return jB.has(Fa(t))}function Zn(t){return _n(t).getComputedStyle(t)}function Uf(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ii(t){if(Fa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$E(t)&&t.host||Rr(t);return $E(e)?e.host:e}function jk(t){const e=ii(t);return ga(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&Yc(e)?e:jk(e)}function _c(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=jk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=Kg(o);return e.concat(o,o.visualViewport||[],Yc(s)?s:[],a&&n?_c(a):[])}return e.concat(s,_c(s,[],n))}function Kg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dk(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ih(n)!==i||Ih(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ww(t){return Jn(t)?t:t.contextElement}function ta(t){const e=ww(t);if(!Ir(e))return br(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Dk(e);let o=(i?Ih(n.width):n.width)/r,a=(i?Ih(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DB=br(0);function Ok(t){const e=_n(t);return!vw()||!e.visualViewport?DB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ww(t);let o=br(1);e&&(r?Jn(r)&&(o=ta(r)):o=ta(t));const a=OB(i,n,r)?Ok(i):br(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=_n(i),y=r&&Jn(r)?_n(r):r;let x=m,E=Kg(x);for(;E&&r&&y!==x;){const T=ta(E),_=E.getBoundingClientRect(),w=Zn(E),v=_.left+(E.clientLeft+parseFloat(w.paddingLeft))*T.x,k=_.top+(E.clientTop+parseFloat(w.paddingTop))*T.y;c*=T.x,d*=T.y,h*=T.x,f*=T.y,c+=v,d+=k,x=_n(E),E=Kg(x)}}return kh({width:h,height:f,x:c,y:d})}function xw(t,e){const n=Uf(t).scrollLeft;return e?e.left+n:Ji(Rr(t)).left+n}function Mk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:xw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function MB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rr(r),a=e?Ff(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=br(1);const h=br(0),f=Ir(r);if((f||!f&&!i)&&((Fa(r)!=="body"||Yc(o))&&(c=Uf(r)),Ir(r))){const y=Ji(r);d=ta(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?Mk(o,c,!0):br(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function LB(t){return Array.from(t.getClientRects())}function VB(t){const e=Rr(t),n=Uf(t),r=t.ownerDocument.body,s=gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+xw(t);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=gn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function FB(t,e){const n=_n(t),r=Rr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=vw();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const UB=new Set(["absolute","fixed"]);function $B(t,e){const n=Ji(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ir(t)?ta(t):br(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function BE(t,e,n){let r;if(e==="viewport")r=FB(t,n);else if(e==="document")r=VB(Rr(t));else if(Jn(e))r=$B(e,n);else{const s=Ok(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return kh(r)}function Lk(t,e){const n=ii(t);return n===e||!Jn(n)||ga(n)?!1:Zn(n).position==="fixed"||Lk(n,e)}function BB(t,e){const n=e.get(t);if(n)return n;let r=_c(t,[],!1).filter(a=>Jn(a)&&Fa(a)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?ii(t):t;for(;Jn(o)&&!ga(o);){const a=Zn(o),c=yw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&UB.has(s.position)||Yc(o)&&!c&&Lk(t,o))?r=r.filter(h=>h!==o):s=a,o=ii(o)}return e.set(t,r),r}function zB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ff(e)?[]:BB(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=BE(e,h,s);return d.top=gn(f.top,d.top),d.right=si(f.right,d.right),d.bottom=si(f.bottom,d.bottom),d.left=gn(f.left,d.left),d},BE(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function WB(t){const{width:e,height:n}=Dk(t);return{width:e,height:n}}function HB(t,e,n){const r=Ir(e),s=Rr(e),i=n==="fixed",o=Ji(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=br(0);function d(){c.x=xw(s)}if(r||!r&&!i)if((Fa(e)!=="body"||Yc(s))&&(a=Uf(e)),r){const y=Ji(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?Mk(s,a):br(0),f=o.left+a.scrollLeft-c.x-h.x,m=o.top+a.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function ap(t){return Zn(t).position==="static"}function zE(t,e){if(!Ir(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function Vk(t,e){const n=_n(t);if(Ff(t))return n;if(!Ir(t)){let s=ii(t);for(;s&&!ga(s);){if(Jn(s)&&!ap(s))return s;s=ii(s)}return n}let r=zE(t,e);for(;r&&IB(r)&&ap(r);)r=zE(r,e);return r&&ga(r)&&ap(r)&&!yw(r)?n:r||PB(t)||n}const qB=async function(t){const e=this.getOffsetParent||Vk,n=this.getDimensions,r=await n(t.floating);return{reference:HB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GB(t){return Zn(t).direction==="rtl"}const KB={convertOffsetParentRelativeRectToViewportRelativeRect:MB,getDocumentElement:Rr,getClippingRect:zB,getOffsetParent:Vk,getElementRects:qB,getClientRects:LB,getDimensions:WB,getScale:ta,isElement:Jn,isRTL:GB};function Fk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function YB(t,e){let n=null,r;const s=Rr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=d;if(a||e(),!m||!y)return;const x=td(f),E=td(s.clientWidth-(h+m)),T=td(s.clientHeight-(f+y)),_=td(h),v={rootMargin:-x+"px "+-E+"px "+-T+"px "+-_+"px",threshold:gn(0,si(1,c))||1};let k=!0;function D(O){const C=O[0].intersectionRatio;if(C!==c){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Fk(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(D,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,v)}n.observe(t)}return o(!0),i}function QB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=ww(t),h=s||i?[...d?_c(d):[],..._c(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&a?YB(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(_=>{let[w]=_;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let x,E=c?Ji(t):null;c&&T();function T(){const _=Ji(t);E&&!Fk(E,_)&&n(),E=_,x=requestAnimationFrame(T)}return n(),()=>{var _;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(_=y)==null||_.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const XB=_B,JB=EB,ZB=vB,ez=TB,tz=wB,WE=yB,nz=bB,rz=(t,e,n)=>{const r=new Map,s={platform:KB,...n},i={...s.platform,_c:r};return gB(t,e,{...s,platform:i})};var sz=typeof document<"u",iz=function(){},Rd=sz?g.useLayoutEffect:iz;function Rh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Uk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HE(t,e){const n=Uk(t);return Math.round(e*n)/n}function lp(t){const e=g.useRef(t);return Rd(()=>{e.current=t}),e}function oz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=g.useState(r);Rh(m,r)||y(r);const[x,E]=g.useState(null),[T,_]=g.useState(null),w=g.useCallback(L=>{L!==O.current&&(O.current=L,E(L))},[]),v=g.useCallback(L=>{L!==C.current&&(C.current=L,_(L))},[]),k=i||x,D=o||T,O=g.useRef(null),C=g.useRef(null),S=g.useRef(h),N=c!=null,P=lp(c),I=lp(s),R=lp(d),j=g.useCallback(()=>{if(!O.current||!C.current)return;const L={placement:e,strategy:n,middleware:m};I.current&&(L.platform=I.current),rz(O.current,C.current,L).then(z=>{const Y={...z,isPositioned:R.current!==!1};B.current&&!Rh(S.current,Y)&&(S.current=Y,Ea.flushSync(()=>{f(Y)}))})},[m,e,n,I,R]);Rd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const B=g.useRef(!1);Rd(()=>(B.current=!0,()=>{B.current=!1}),[]),Rd(()=>{if(k&&(O.current=k),D&&(C.current=D),k&&D){if(P.current)return P.current(k,D,j);j()}},[k,D,j,P,N]);const J=g.useMemo(()=>({reference:O,floating:C,setReference:w,setFloating:v}),[w,v]),F=g.useMemo(()=>({reference:k,floating:D}),[k,D]),G=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!F.floating)return L;const z=HE(F.floating,h.x),Y=HE(F.floating,h.y);return a?{...L,transform:"translate("+z+"px, "+Y+"px)",...Uk(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,a,F.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:j,refs:J,elements:F,floatingStyles:G}),[h,j,J,F,G])}const az=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WE({element:r.current,padding:s}).fn(n):{}:r?WE({element:r,padding:s}).fn(n):{}}}},lz=(t,e)=>({...XB(t),options:[t,e]}),cz=(t,e)=>({...JB(t),options:[t,e]}),uz=(t,e)=>({...nz(t),options:[t,e]}),dz=(t,e)=>({...ZB(t),options:[t,e]}),hz=(t,e)=>({...ez(t),options:[t,e]}),fz=(t,e)=>({...tz(t),options:[t,e]}),mz=(t,e)=>({...az(t),options:[t,e]});var pz="Arrow",$k=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$k.displayName=pz;var gz=$k,_w="Popper",[Bk,$f]=tr(_w),[yz,zk]=Bk(_w),Wk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return l.jsx(yz,{scope:e,anchor:r,onAnchorChange:s,children:n})};Wk.displayName=_w;var Hk="PopperAnchor",qk=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=zk(Hk,n),o=g.useRef(null),a=je(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(he.div,{...s,ref:a})});qk.displayName=Hk;var Ew="PopperContent",[vz,wz]=Bk(Ew),Gk=g.forwardRef((t,e)=>{var ne,De,Xe,Ne,Te,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:x,...E}=t,T=zk(Ew,n),[_,w]=g.useState(null),v=je(e,gt=>w(gt)),[k,D]=g.useState(null),O=Pf(k),C=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,N=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(d)?d:[d],R=I.length>0,j={padding:P,boundary:I.filter(_z),altBoundary:R},{refs:B,floatingStyles:J,placement:F,isPositioned:G,middlewareData:L}=oz({strategy:"fixed",placement:N,whileElementsMounted:(...gt)=>QB(...gt,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[lz({mainAxis:s+S,alignmentAxis:o}),c&&cz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uz():void 0,...j}),c&&dz({...j}),hz({...j,apply:({elements:gt,rects:Nt,availableWidth:Ln,availableHeight:rr})=>{const{width:Pr,height:Ba}=Nt.reference,jr=gt.floating.style;jr.setProperty("--radix-popper-available-width",`${Ln}px`),jr.setProperty("--radix-popper-available-height",`${rr}px`),jr.setProperty("--radix-popper-anchor-width",`${Pr}px`),jr.setProperty("--radix-popper-anchor-height",`${Ba}px`)}}),k&&mz({element:k,padding:a}),Ez({arrowWidth:C,arrowHeight:S}),m&&fz({strategy:"referenceHidden",...j})]}),[z,Y]=Qk(F),ie=ri(x);Qt(()=>{G&&(ie==null||ie())},[G,ie]);const ye=(ne=L.arrow)==null?void 0:ne.x,Ie=(De=L.arrow)==null?void 0:De.y,Qe=((Xe=L.arrow)==null?void 0:Xe.centerOffset)!==0,[pt,st]=g.useState();return Qt(()=>{_&&st(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:G?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[(Ne=L.transformOrigin)==null?void 0:Ne.x,(Te=L.transformOrigin)==null?void 0:Te.y].join(" "),...((Se=L.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(vz,{scope:n,placedSide:z,onArrowChange:D,arrowX:ye,arrowY:Ie,shouldHideArrow:Qe,children:l.jsx(he.div,{"data-side":z,"data-align":Y,...E,ref:v,style:{...E.style,animation:G?void 0:"none"}})})})});Gk.displayName=Ew;var Kk="PopperArrow",xz={top:"bottom",right:"left",bottom:"top",left:"right"},Yk=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=wz(Kk,r),o=xz[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(gz,{...s,ref:n,style:{...s.style,display:"block"}})})});Yk.displayName=Kk;function _z(t){return t!==null}var Ez=t=>({name:"transformOrigin",options:t,fn(e){var T,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=Qk(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let x="",E="";return d==="bottom"?(x=o?f:`${m}px`,E=`${-c}px`):d==="top"?(x=o?f:`${m}px`,E=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,E=o?f:`${y}px`):d==="left"&&(x=`${r.floating.width+c}px`,E=o?f:`${y}px`),{data:{x,y:E}}}});function Qk(t){const[e,n="center"]=t.split("-");return[e,n]}var Xk=Wk,bw=qk,Jk=Gk,Zk=Yk,eR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bz="VisuallyHidden",Tz=g.forwardRef((t,e)=>l.jsx(he.span,{...t,ref:e,style:{...eR,...t.style}}));Tz.displayName=bz;var Sz=[" ","Enter","ArrowUp","ArrowDown"],Cz=[" ","Enter"],Zi="Select",[Bf,zf,Iz]=BN(Zi),[Ua,LH]=tr(Zi,[Iz,$f]),Wf=$f(),[Nz,mi]=Ua(Zi),[kz,Rz]=Ua(Zi),tR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:x}=t,E=Wf(e),[T,_]=g.useState(null),[w,v]=g.useState(null),[k,D]=g.useState(!1),O=Df(d),[C,S]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Zi}),[N,P]=as({prop:o,defaultProp:a,onChange:c,caller:Zi}),I=g.useRef(null),R=T?x||!!T.closest("form"):!0,[j,B]=g.useState(new Set),J=Array.from(j).map(F=>F.props.value).join(";");return l.jsx(Xk,{...E,children:l.jsxs(Nz,{required:y,scope:e,trigger:T,onTriggerChange:_,valueNode:w,onValueNodeChange:v,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:Xr(),value:N,onValueChange:P,open:C,onOpenChange:S,dir:O,triggerPointerDownPosRef:I,disabled:m,children:[l.jsx(Bf.Provider,{scope:e,children:l.jsx(kz,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(F=>{B(G=>new Set(G).add(F))},[]),onNativeOptionRemove:g.useCallback(F=>{B(G=>{const L=new Set(G);return L.delete(F),L})},[]),children:n})}),R?l.jsxs(SR,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:N,onChange:F=>P(F.target.value),disabled:m,form:x,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(j)]},J):null]})})};tR.displayName=Zi;var nR="SelectTrigger",rR=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Wf(n),o=mi(nR,n),a=o.disabled||r,c=je(e,o.onTriggerChange),d=zf(n),h=g.useRef("touch"),[f,m,y]=IR(E=>{const T=d().filter(v=>!v.disabled),_=T.find(v=>v.value===o.value),w=NR(T,E,_);w!==void 0&&o.onValueChange(w.value)}),x=E=>{a||(o.onOpenChange(!0),y()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return l.jsx(bw,{asChild:!0,...i,children:l.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":CR(o.value)?"":void 0,...s,ref:c,onClick:ue(s.onClick,E=>{E.currentTarget.focus(),h.current!=="mouse"&&x(E)}),onPointerDown:ue(s.onPointerDown,E=>{h.current=E.pointerType;const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(x(E),E.preventDefault())}),onKeyDown:ue(s.onKeyDown,E=>{const T=f.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&m(E.key),!(T&&E.key===" ")&&Sz.includes(E.key)&&(x(),E.preventDefault())})})})});rR.displayName=nR;var sR="SelectValue",iR=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=mi(sR,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=je(e,c.onValueNodeChange);return Qt(()=>{d(h)},[d,h]),l.jsx(he.span,{...a,ref:f,style:{pointerEvents:"none"},children:CR(c.value)?l.jsx(l.Fragment,{children:o}):i})});iR.displayName=sR;var Az="SelectIcon",oR=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(he.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});oR.displayName=Az;var Pz="SelectPortal",aR=t=>l.jsx(Cf,{asChild:!0,...t});aR.displayName=Pz;var eo="SelectContent",lR=g.forwardRef((t,e)=>{const n=mi(eo,t.__scopeSelect),[r,s]=g.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ea.createPortal(l.jsx(cR,{scope:t.__scopeSelect,children:l.jsx(Bf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(uR,{...t,ref:e})});lR.displayName=eo;var Un=10,[cR,pi]=Ua(eo),jz="SelectContentImpl",Dz=Yi("SelectContent.RemoveScroll"),uR=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:x,hideWhenDetached:E,avoidCollisions:T,..._}=t,w=mi(eo,n),[v,k]=g.useState(null),[D,O]=g.useState(null),C=je(e,ne=>k(ne)),[S,N]=g.useState(null),[P,I]=g.useState(null),R=zf(n),[j,B]=g.useState(!1),J=g.useRef(!1);g.useEffect(()=>{if(v)return ow(v)},[v]),iw();const F=g.useCallback(ne=>{const[De,...Xe]=R().map(Se=>Se.ref.current),[Ne]=Xe.slice(-1),Te=document.activeElement;for(const Se of ne)if(Se===Te||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===De&&D&&(D.scrollTop=0),Se===Ne&&D&&(D.scrollTop=D.scrollHeight),Se==null||Se.focus(),document.activeElement!==Te))return},[R,D]),G=g.useCallback(()=>F([S,v]),[F,S,v]);g.useEffect(()=>{j&&G()},[j,G]);const{onOpenChange:L,triggerPointerDownPosRef:z}=w;g.useEffect(()=>{if(v){let ne={x:0,y:0};const De=Ne=>{var Te,Se;ne={x:Math.abs(Math.round(Ne.pageX)-(((Te=z.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Se=z.current)==null?void 0:Se.y)??0))}},Xe=Ne=>{ne.x<=10&&ne.y<=10?Ne.preventDefault():v.contains(Ne.target)||L(!1),document.removeEventListener("pointermove",De),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[v,L,z]),g.useEffect(()=>{const ne=()=>L(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[L]);const[Y,ie]=IR(ne=>{const De=R().filter(Te=>!Te.disabled),Xe=De.find(Te=>Te.ref.current===document.activeElement),Ne=NR(De,ne,Xe);Ne&&setTimeout(()=>Ne.ref.current.focus())}),ye=g.useCallback((ne,De,Xe)=>{const Ne=!J.current&&!Xe;(w.value!==void 0&&w.value===De||Ne)&&(N(ne),Ne&&(J.current=!0))},[w.value]),Ie=g.useCallback(()=>v==null?void 0:v.focus(),[v]),Qe=g.useCallback((ne,De,Xe)=>{const Ne=!J.current&&!Xe;(w.value!==void 0&&w.value===De||Ne)&&I(ne)},[w.value]),pt=r==="popper"?Yg:dR,st=pt===Yg?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:x,hideWhenDetached:E,avoidCollisions:T}:{};return l.jsx(cR,{scope:n,content:v,viewport:D,onViewportChange:O,itemRefCallback:ye,selectedItem:S,onItemLeave:Ie,itemTextRefCallback:Qe,focusSelectedItem:G,selectedItemText:P,position:r,isPositioned:j,searchRef:Y,children:l.jsx(Nf,{as:Dz,allowPinchZoom:!0,children:l.jsx(Sf,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ue(s,ne=>{var De;(De=w.trigger)==null||De.focus({preventScroll:!0}),ne.preventDefault()}),children:l.jsx(Tf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(pt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),..._,...st,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ue(_.onKeyDown,ne=>{const De=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!De&&ne.key.length===1&&ie(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Ne=R().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Te=ne.target,Se=Ne.indexOf(Te);Ne=Ne.slice(Se+1)}setTimeout(()=>F(Ne)),ne.preventDefault()}})})})})})})});uR.displayName=jz;var Oz="SelectItemAlignedPosition",dR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=mi(eo,n),o=pi(eo,n),[a,c]=g.useState(null),[d,h]=g.useState(null),f=je(e,C=>h(C)),m=zf(n),y=g.useRef(!1),x=g.useRef(!0),{viewport:E,selectedItem:T,selectedItemText:_,focusSelectedItem:w}=o,v=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&E&&T&&_){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(i.dir!=="rtl"){const Te=P.left-S.left,Se=N.left-Te,gt=C.left-Se,Nt=C.width+gt,Ln=Math.max(Nt,S.width),rr=window.innerWidth-Un,Pr=OE(Se,[Un,Math.max(Un,rr-Ln)]);a.style.minWidth=Nt+"px",a.style.left=Pr+"px"}else{const Te=S.right-P.right,Se=window.innerWidth-N.right-Te,gt=window.innerWidth-C.right-Se,Nt=C.width+gt,Ln=Math.max(Nt,S.width),rr=window.innerWidth-Un,Pr=OE(Se,[Un,Math.max(Un,rr-Ln)]);a.style.minWidth=Nt+"px",a.style.right=Pr+"px"}const I=m(),R=window.innerHeight-Un*2,j=E.scrollHeight,B=window.getComputedStyle(d),J=parseInt(B.borderTopWidth,10),F=parseInt(B.paddingTop,10),G=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),z=J+F+j+L+G,Y=Math.min(T.offsetHeight*5,z),ie=window.getComputedStyle(E),ye=parseInt(ie.paddingTop,10),Ie=parseInt(ie.paddingBottom,10),Qe=C.top+C.height/2-Un,pt=R-Qe,st=T.offsetHeight/2,ne=T.offsetTop+st,De=J+F+ne,Xe=z-De;if(De<=Qe){const Te=I.length>0&&T===I[I.length-1].ref.current;a.style.bottom="0px";const Se=d.clientHeight-E.offsetTop-E.offsetHeight,gt=Math.max(pt,st+(Te?Ie:0)+Se+G),Nt=De+gt;a.style.height=Nt+"px"}else{const Te=I.length>0&&T===I[0].ref.current;a.style.top="0px";const gt=Math.max(Qe,J+E.offsetTop+(Te?ye:0)+st)+Xe;a.style.height=gt+"px",E.scrollTop=De-Qe+E.offsetTop}a.style.margin=`${Un}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,d,E,T,_,i.dir,r]);Qt(()=>v(),[v]);const[k,D]=g.useState();Qt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=g.useCallback(C=>{C&&x.current===!0&&(v(),w==null||w(),x.current=!1)},[v,w]);return l.jsx(Lz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(he.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dR.displayName=Oz;var Mz="SelectPopperPosition",Yg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=t,o=Wf(n);return l.jsx(Jk,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yg.displayName=Mz;var[Lz,Tw]=Ua(eo,{}),Qg="SelectViewport",hR=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pi(Qg,n),o=Tw(Qg,n),a=je(e,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Bf.Slot,{scope:n,children:l.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const x=window.innerHeight-Un*2,E=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),_=Math.max(E,T);if(_<x){const w=_+y,v=Math.min(x,w),k=w-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});hR.displayName=Qg;var fR="SelectGroup",[Vz,Fz]=Ua(fR),Uz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xr();return l.jsx(Vz,{scope:n,id:s,children:l.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Uz.displayName=fR;var mR="SelectLabel",pR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fz(mR,n);return l.jsx(he.div,{id:s.id,...r,ref:e})});pR.displayName=mR;var Ah="SelectItem",[$z,gR]=Ua(Ah),yR=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=mi(Ah,n),c=pi(Ah,n),d=a.value===r,[h,f]=g.useState(i??""),[m,y]=g.useState(!1),x=je(e,w=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,w,r,s)}),E=Xr(),T=g.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx($z,{scope:n,value:r,disabled:s,textId:E,isSelected:d,onItemTextChange:g.useCallback(w=>{f(v=>v||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Bf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(he.div,{role:"option","aria-labelledby":E,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ue(o.onFocus,()=>y(!0)),onBlur:ue(o.onBlur,()=>y(!1)),onClick:ue(o.onClick,()=>{T.current!=="mouse"&&_()}),onPointerUp:ue(o.onPointerUp,()=>{T.current==="mouse"&&_()}),onPointerDown:ue(o.onPointerDown,w=>{T.current=w.pointerType}),onPointerMove:ue(o.onPointerMove,w=>{var v;T.current=w.pointerType,s?(v=c.onItemLeave)==null||v.call(c):T.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,w=>{var v;w.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ue(o.onKeyDown,w=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(Cz.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});yR.displayName=Ah;var Cl="SelectItemText",vR=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=mi(Cl,n),a=pi(Cl,n),c=gR(Cl,n),d=Rz(Cl,n),[h,f]=g.useState(null),m=je(e,_=>f(_),c.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,c.value,c.disabled)}),y=h==null?void 0:h.textContent,x=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:E,onNativeOptionRemove:T}=d;return Qt(()=>(E(x),()=>T(x)),[E,T,x]),l.jsxs(l.Fragment,{children:[l.jsx(he.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ea.createPortal(i.children,o.valueNode):null]})});vR.displayName=Cl;var wR="SelectItemIndicator",xR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return gR(wR,n).isSelected?l.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});xR.displayName=wR;var Xg="SelectScrollUpButton",_R=g.forwardRef((t,e)=>{const n=pi(Xg,t.__scopeSelect),r=Tw(Xg,t.__scopeSelect),[s,i]=g.useState(!1),o=je(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(bR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});_R.displayName=Xg;var Jg="SelectScrollDownButton",ER=g.forwardRef((t,e)=>{const n=pi(Jg,t.__scopeSelect),r=Tw(Jg,t.__scopeSelect),[s,i]=g.useState(!1),o=je(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(bR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});ER.displayName=Jg;var bR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pi("SelectScrollButton",n),o=g.useRef(null),a=zf(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Qt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(he.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{c()})})}),Bz="SelectSeparator",TR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});TR.displayName=Bz;var Zg="SelectArrow",zz=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wf(n),i=mi(Zg,n),o=pi(Zg,n);return i.open&&o.position==="popper"?l.jsx(Zk,{...s,...r,ref:e}):null});zz.displayName=Zg;var Wz="SelectBubbleInput",SR=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=je(r,s),o=Af(e);return g.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(he.select,{...n,style:{...eR,...n.style},ref:i,defaultValue:e})});SR.displayName=Wz;function CR(t){return t===""||t===void 0}function IR(t){const e=ri(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function NR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Hz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Hz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qz=tR,kR=rR,Gz=iR,Kz=oR,Yz=aR,RR=lR,Qz=hR,AR=pR,PR=yR,Xz=vR,Jz=xR,jR=_R,DR=ER,OR=TR;const Ph=qz,jh=Gz,Ec=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(kR,{ref:r,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Kz,{asChild:!0,children:l.jsx(pa,{className:"h-4 w-4 opacity-50"})})]}));Ec.displayName=kR.displayName;const MR=g.forwardRef(({className:t,...e},n)=>l.jsx(jR,{ref:n,className:Q("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Th,{className:"h-4 w-4"})}));MR.displayName=jR.displayName;const LR=g.forwardRef(({className:t,...e},n)=>l.jsx(DR,{ref:n,className:Q("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(pa,{className:"h-4 w-4"})}));LR.displayName=DR.displayName;const bc=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(Yz,{children:l.jsxs(RR,{ref:s,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(MR,{}),l.jsx(Qz,{className:Q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(LR,{})]})}));bc.displayName=RR.displayName;const Zz=g.forwardRef(({className:t,...e},n)=>l.jsx(AR,{ref:n,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Zz.displayName=AR.displayName;const vt=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(PR,{ref:r,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Jz,{children:l.jsx(YI,{className:"h-4 w-4"})})}),l.jsx(Xz,{children:e})]}));vt.displayName=PR.displayName;const e8=g.forwardRef(({className:t,...e},n)=>l.jsx(OR,{ref:n,className:Q("-mx-1 my-1 h-px bg-muted",t),...e}));e8.displayName=OR.displayName;var Hf="Switch",[t8,VH]=tr(Hf),[n8,r8]=t8(Hf),VR=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,y]=g.useState(null),x=je(e,v=>y(v)),E=g.useRef(!1),T=m?h||!!m.closest("form"):!0,[_,w]=as({prop:s,defaultProp:i??!1,onChange:d,caller:Hf});return l.jsxs(n8,{scope:n,checked:_,disabled:a,children:[l.jsx(he.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":BR(_),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:x,onClick:ue(t.onClick,v=>{w(k=>!k),T&&(E.current=v.isPropagationStopped(),E.current||v.stopPropagation())})}),T&&l.jsx($R,{control:m,bubbles:!E.current,name:r,value:c,checked:_,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});VR.displayName=Hf;var FR="SwitchThumb",UR=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=r8(FR,n);return l.jsx(he.span,{"data-state":BR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});UR.displayName=FR;var s8="SwitchBubbleInput",$R=g.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=g.useRef(null),a=je(o,i),c=Af(n),d=Pf(e);return g.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const x=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(x)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$R.displayName=s8;function BR(t){return t?"checked":"unchecked"}var zR=VR,i8=UR;const Li=g.forwardRef(({className:t,...e},n)=>l.jsx(zR,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(i8,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Li.displayName=zR.displayName;const cp={},Il={};function Wl(t,e){try{const r=(cp[t]||(cp[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Il?Il[r]:qE(r,r.split(":"))}catch{if(t in Il)return Il[t];const n=t==null?void 0:t.match(o8);return n?qE(t,n.slice(1)):NaN}}const o8=/([+-]\d\d):?(\d\d)?/;function qE(t,e){const n=+e[0],r=+(e[1]||0);return Il[t]=n>0?n*60+r:n*60-r}class dr extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Wl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),WR(this),ey(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new dr(...n,e):new dr(Date.now(),e)}withTimeZone(e){return new dr(+this,e)}getTimezoneOffset(){return-Wl(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),ey(this),+this}[Symbol.for("constructDateFrom")](e){return new dr(+new Date(e),this.timeZone)}}const GE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!GE.test(t))return;const e=t.replace(GE,"$1UTC");dr.prototype[e]&&(t.startsWith("get")?dr.prototype[t]=function(){return this.internal[e]()}:(dr.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),a8(this),+this},dr.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),ey(this),+this}))});function ey(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function a8(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),WR(t)}function WR(t){const e=Wl(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const c=Wl(t.timeZone,t),h=-new Date(+t).getTimezoneOffset()-c,f=c!==e,m=h-a;if(f&&m){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const y=Wl(t.timeZone,t),x=c-y;x&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+x),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x))}}class Wt extends dr{static tz(e,...n){return n.length?new Wt(...n,e):new Wt(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${l8(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new Wt(+this,e)}[Symbol.for("constructDateFrom")](e){return new Wt(+new Date(e),this.timeZone)}}function l8(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var re;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(re||(re={}));var Je;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Je||(Je={}));var Hn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Hn||(Hn={}));var pn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(pn||(pn={}));const HR=6048e5,c8=864e5,KE=Symbol.for("constructDateFrom");function bt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&KE in t?t[KE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ve(t,e){return bt(e||t,t)}function qR(t,e,n){const r=Ve(t,n==null?void 0:n.in);return isNaN(e)?bt(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function GR(t,e,n){const r=Ve(t,n==null?void 0:n.in);if(isNaN(e))return bt(t,NaN);if(!e)return r;const s=r.getDate(),i=bt(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let u8={};function Qc(){return u8}function ya(t,e){var a,c,d,h;const n=Qc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Ve(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Tc(t,e){return ya(t,{...e,weekStartsOn:1})}function KR(t,e){const n=Ve(t,e==null?void 0:e.in),r=n.getFullYear(),s=bt(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Tc(s),o=bt(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Tc(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function YE(t){const e=Ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $a(t,...e){const n=bt.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Sc(t,e){const n=Ve(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function YR(t,e,n){const[r,s]=$a(n==null?void 0:n.in,t,e),i=Sc(r),o=Sc(s),a=+i-YE(i),c=+o-YE(o);return Math.round((a-c)/c8)}function d8(t,e){const n=KR(t,e),r=bt(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Tc(r)}function h8(t,e,n){return qR(t,e*7,n)}function f8(t,e,n){return GR(t,e*12,n)}function m8(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=bt.bind(null,s));const i=Ve(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),bt(r,n||NaN)}function p8(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=bt.bind(null,s));const i=Ve(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),bt(r,n||NaN)}function g8(t,e,n){const[r,s]=$a(n==null?void 0:n.in,t,e);return+Sc(r)==+Sc(s)}function QR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function y8(t){return!(!QR(t)&&typeof t!="number"||isNaN(+Ve(t)))}function v8(t,e,n){const[r,s]=$a(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function w8(t,e){const n=Ve(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function x8(t,e){const[n,r]=$a(t,e.start,e.end);return{start:n,end:r}}function _8(t,e){const{start:n,end:r}=x8(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(bt(n,o)),o.setMonth(o.getMonth()+a);return s?c.reverse():c}function E8(t,e){const n=Ve(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function b8(t,e){const n=Ve(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function XR(t,e){const n=Ve(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function JR(t,e){var a,c,d,h;const n=Qc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Ve(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function T8(t,e){return JR(t,{...e,weekStartsOn:1})}const S8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C8=(t,e,n)=>{let r;const s=S8[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function up(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const I8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R8={date:up({formats:I8,defaultWidth:"full"}),time:up({formats:N8,defaultWidth:"full"}),dateTime:up({formats:k8,defaultWidth:"full"})},A8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P8=(t,e,n,r)=>A8[t];function dl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const j8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},M8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},F8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},U8={ordinalNumber:F8,era:dl({values:j8,defaultWidth:"wide"}),quarter:dl({values:D8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dl({values:O8,defaultWidth:"wide"}),day:dl({values:M8,defaultWidth:"wide"}),dayPeriod:dl({values:L8,defaultWidth:"wide",formattingValues:V8,defaultFormattingWidth:"wide"})};function hl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?B8(a,f=>f.test(o)):$8(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function $8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function B8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function z8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const W8=/^(\d+)(th|st|nd|rd)?/i,H8=/\d+/i,q8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G8={any:[/^b/i,/^(a|c)/i]},K8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y8={any:[/1/i,/2/i,/3/i,/4/i]},Q8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},J8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Z8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nW={ordinalNumber:z8({matchPattern:W8,parsePattern:H8,valueCallback:t=>parseInt(t,10)}),era:hl({matchPatterns:q8,defaultMatchWidth:"wide",parsePatterns:G8,defaultParseWidth:"any"}),quarter:hl({matchPatterns:K8,defaultMatchWidth:"wide",parsePatterns:Y8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hl({matchPatterns:Q8,defaultMatchWidth:"wide",parsePatterns:X8,defaultParseWidth:"any"}),day:hl({matchPatterns:J8,defaultMatchWidth:"wide",parsePatterns:Z8,defaultParseWidth:"any"}),dayPeriod:hl({matchPatterns:eW,defaultMatchWidth:"any",parsePatterns:tW,defaultParseWidth:"any"})},Sw={code:"en-US",formatDistance:C8,formatLong:R8,formatRelative:P8,localize:U8,match:nW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rW(t,e){const n=Ve(t,e==null?void 0:e.in);return YR(n,XR(n))+1}function ZR(t,e){const n=Ve(t,e==null?void 0:e.in),r=+Tc(n)-+d8(n);return Math.round(r/HR)+1}function eA(t,e){var h,f,m,y;const n=Ve(t,e==null?void 0:e.in),r=n.getFullYear(),s=Qc(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=bt((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ya(o,e),c=bt((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ya(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function sW(t,e){var a,c,d,h;const n=Qc(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=eA(t,e),i=bt((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ya(i,e)}function tA(t,e){const n=Ve(t,e==null?void 0:e.in),r=+ya(n,e)-+sW(n,e);return Math.round(r/HR)+1}function Me(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Me(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Me(n+1,2)},d(t,e){return Me(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Me(t.getHours()%12||12,e.length)},H(t,e){return Me(t.getHours(),e.length)},m(t,e){return Me(t.getMinutes(),e.length)},s(t,e){return Me(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Me(s,e.length)}},_o={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return xs.y(t,e)},Y:function(t,e,n,r){const s=eA(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Me(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Me(i,e.length)},R:function(t,e){const n=KR(t);return Me(n,e.length)},u:function(t,e){const n=t.getFullYear();return Me(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=tA(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Me(s,e.length)},I:function(t,e,n){const r=ZR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Me(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xs.d(t,e)},D:function(t,e,n){const r=rW(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Me(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Me(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Me(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Me(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=_o.noon:r===0?s=_o.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=_o.evening:r>=12?s=_o.afternoon:r>=4?s=_o.morning:s=_o.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xs.s(t,e)},S:function(t,e){return xs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return JE(r);case"XXXX":case"XX":return Ii(r);case"XXXXX":case"XXX":default:return Ii(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return JE(r);case"xxxx":case"xx":return Ii(r);case"xxxxx":case"xxx":default:return Ii(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+XE(r,":");case"OOOO":default:return"GMT"+Ii(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+XE(r,":");case"zzzz":default:return"GMT"+Ii(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Me(r,e.length)},T:function(t,e,n){return Me(+t,e.length)}};function XE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Me(i,2)}function JE(t,e){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):Ii(t,e)}function Ii(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Me(Math.trunc(r/60),2),i=Me(r%60,2);return n+s+e+i}const ZE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},iW=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return ZE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ZE(r,e)).replace("{{time}}",nA(s,e))},oW={p:nA,P:iW},aW=/^D+$/,lW=/^Y+$/,cW=["D","DD","YY","YYYY"];function uW(t){return aW.test(t)}function dW(t){return lW.test(t)}function hW(t,e,n){const r=fW(t,e,n);if(console.warn(r),cW.includes(t))throw new RangeError(r)}function fW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gW=/^'([^]*?)'?$/,yW=/''/g,vW=/[a-zA-Z]/;function Cw(t,e,n){var h,f,m,y,x,E,T,_;const r=Qc(),s=(n==null?void 0:n.locale)??r.locale??Sw,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((E=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((_=(T=r.locale)==null?void 0:T.options)==null?void 0:_.weekStartsOn)??0,a=Ve(t,n==null?void 0:n.in);if(!y8(a))throw new RangeError("Invalid time value");let c=e.match(pW).map(w=>{const v=w[0];if(v==="p"||v==="P"){const k=oW[v];return k(w,s.formatLong)}return w}).join("").match(mW).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:wW(w)};if(QE[v])return{isToken:!0,value:w};if(v.match(vW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const v=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&dW(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&uW(v))&&hW(v,e,String(t));const k=QE[v[0]];return k(a,v,s.localize,d)}).join("")}function wW(t){const e=t.match(gW);return e?e[1].replace(yW,"'"):t}function xW(t,e){const n=Ve(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=bt(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function _W(t,e){return Ve(t,e==null?void 0:e.in).getMonth()}function EW(t,e){return Ve(t,e==null?void 0:e.in).getFullYear()}function bW(t,e){return+Ve(t)>+Ve(e)}function TW(t,e){return+Ve(t)<+Ve(e)}function SW(t,e,n){const[r,s]=$a(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function CW(t,e,n){const[r,s]=$a(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function IW(t,e,n){const r=Ve(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=bt(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=xW(o);return r.setMonth(e,Math.min(i,a)),r}function NW(t,e,n){const r=Ve(t,n==null?void 0:n.in);return isNaN(+r)?bt(t,NaN):(r.setFullYear(e),r)}const eb=5,kW=4;function RW(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,eb*7-1);return e.getMonth(t)===e.getMonth(i)?eb:kW}function rA(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function AW(t,e){const n=rA(t,e),r=RW(t,e);return e.addDays(n,r*7-1)}class hs{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Wt.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new Wt(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):qR(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):GR(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):h8(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):f8(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):YR(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):v8(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):_8(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):AW(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):T8(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):w8(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):JR(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):b8(r)},this.format=(r,s,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(r,s,this.options):Cw(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):ZR(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):_W(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):EW(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):tA(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):bW(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):TW(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):QR(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):g8(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):SW(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):CW(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):m8(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):p8(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):IW(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):NW(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):rA(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):Sc(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Tc(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):E8(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):ya(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):XR(r)},this.options={locale:Sw,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Ar=new hs;class sA{constructor(e,n,r=Ar){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class PW{constructor(e,n){this.date=e,this.weeks=n}}class jW{constructor(e,n){this.days=n,this.weekNumber=e}}function Hr(t,e,n=!1,r=Ar){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&s?a(s,e):!1}function iA(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Iw(t){return!!(t&&typeof t=="object"&&"from"in t)}function oA(t){return!!(t&&typeof t=="object"&&"after"in t)}function aA(t){return!!(t&&typeof t=="object"&&"before"in t)}function lA(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function cA(t,e){return Array.isArray(t)&&t.every(e.isDate)}function qr(t,e,n=Ar){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(t,a);if(cA(a,n))return a.includes(t);if(Iw(a))return Hr(a,t,!1,n);if(lA(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(iA(a)){const c=i(a.before,t),d=i(a.after,t),h=c>0,f=d<0;return o(a.before,a.after)?f&&h:h||f}return oA(a)?i(t,a.after)>0:aA(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function DW(t,e,n,r,s){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:c,broadcastCalendar:d,today:h}=e,{isSameDay:f,isSameMonth:m,startOfMonth:y,isBefore:x,endOfMonth:E,isAfter:T}=s,_=n&&y(n),w=r&&E(r),v={[Je.focused]:[],[Je.outside]:[],[Je.disabled]:[],[Je.hidden]:[],[Je.today]:[]},k={};for(const D of t){const{date:O,displayMonth:C}=D,S=!!(C&&!m(O,C)),N=!!(_&&x(O,_)),P=!!(w&&T(O,w)),I=!!(i&&qr(O,i,s)),R=!!(o&&qr(O,o,s))||N||P||!d&&!c&&S||d&&c===!1&&S,j=f(O,h??s.today());S&&v.outside.push(D),I&&v.disabled.push(D),R&&v.hidden.push(D),j&&v.today.push(D),a&&Object.keys(a).forEach(B=>{const J=a==null?void 0:a[B];J&&qr(O,J,s)&&(k[B]?k[B].push(D):k[B]=[D])})}return D=>{const O={[Je.focused]:!1,[Je.disabled]:!1,[Je.hidden]:!1,[Je.outside]:!1,[Je.today]:!1},C={};for(const S in v){const N=v[S];O[S]=N.some(P=>P===D)}for(const S in k)C[S]=k[S].some(N=>N===D);return{...O,...C}}}function OW(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[Je[i]]?s.push(e[Je[i]]):e[Hn[i]]&&s.push(e[Hn[i]]),s),[e[re.Day]])}function MW(t){return q.createElement("button",{...t})}function LW(t){return q.createElement("span",{...t})}function VW(t){const{size:e=24,orientation:n="left",className:r}=t;return q.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function FW(t){const{day:e,modifiers:n,...r}=t;return q.createElement("td",{...r})}function UW(t){const{day:e,modifiers:n,...r}=t,s=q.useRef(null);return q.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),q.createElement("button",{ref:s,...r})}function $W(t){const{options:e,className:n,components:r,classNames:s,...i}=t,o=[s[re.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return q.createElement("span",{"data-disabled":i.disabled,className:s[re.DropdownRoot]},q.createElement(r.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:d,disabled:h})=>q.createElement(r.Option,{key:c,value:c,disabled:h},d))),q.createElement("span",{className:s[re.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,q.createElement(r.Chevron,{orientation:"down",size:18,className:s[re.Chevron]})))}function BW(t){return q.createElement("div",{...t})}function zW(t){return q.createElement("div",{...t})}function WW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return q.createElement("div",{...r},t.children)}function HW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return q.createElement("div",{...r})}function qW(t){return q.createElement("table",{...t})}function GW(t){return q.createElement("div",{...t})}const uA=g.createContext(void 0);function Xc(){const t=g.useContext(uA);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function KW(t){const{components:e}=Xc();return q.createElement(e.Dropdown,{...t})}function YW(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:d}}=Xc(),h=g.useCallback(m=>{s&&(n==null||n(m))},[s,n]),f=g.useCallback(m=>{r&&(e==null||e(m))},[r,e]);return q.createElement("nav",{...i},q.createElement(o.PreviousMonthButton,{type:"button",className:a[re.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},q.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[re.Chevron],orientation:"left"})),q.createElement(o.NextMonthButton,{type:"button",className:a[re.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:h},q.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[re.Chevron]})))}function QW(t){const{components:e}=Xc();return q.createElement(e.Button,{...t})}function XW(t){return q.createElement("option",{...t})}function JW(t){const{components:e}=Xc();return q.createElement(e.Button,{...t})}function ZW(t){const{rootRef:e,...n}=t;return q.createElement("div",{...n,ref:e})}function e7(t){return q.createElement("select",{...t})}function t7(t){const{week:e,...n}=t;return q.createElement("tr",{...n})}function n7(t){return q.createElement("th",{...t})}function r7(t){return q.createElement("thead",{"aria-hidden":!0},q.createElement("tr",{...t}))}function s7(t){const{week:e,...n}=t;return q.createElement("th",{...n})}function i7(t){return q.createElement("th",{...t})}function o7(t){return q.createElement("tbody",{...t})}function a7(t){const{components:e}=Xc();return q.createElement(e.Dropdown,{...t})}const l7=Object.freeze(Object.defineProperty({__proto__:null,Button:MW,CaptionLabel:LW,Chevron:VW,Day:FW,DayButton:UW,Dropdown:$W,DropdownNav:BW,Footer:zW,Month:WW,MonthCaption:HW,MonthGrid:qW,Months:GW,MonthsDropdown:KW,Nav:YW,NextMonthButton:QW,Option:XW,PreviousMonthButton:JW,Root:ZW,Select:e7,Week:t7,WeekNumber:s7,WeekNumberHeader:i7,Weekday:n7,Weekdays:r7,Weeks:o7,YearsDropdown:a7},Symbol.toStringTag,{value:"Module"}));function c7(t){return{...l7,...t}}function u7(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Nw(){const t={};for(const e in re)t[re[e]]=`rdp-${re[e]}`;for(const e in Je)t[Je[e]]=`rdp-${Je[e]}`;for(const e in Hn)t[Hn[e]]=`rdp-${Hn[e]}`;for(const e in pn)t[pn[e]]=`rdp-${pn[e]}`;return t}function dA(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const d7=dA;function h7(t,e,n){return(n??new hs(e)).format(t,"d")}function f7(t,e=Ar){return e.format(t,"LLLL")}function m7(t,e=Ar){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function p7(){return""}function g7(t,e,n){return(n??new hs(e)).format(t,"cccccc")}function hA(t,e=Ar){return e.format(t,"yyyy")}const y7=hA,v7=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:dA,formatDay:h7,formatMonthCaption:d7,formatMonthDropdown:f7,formatWeekNumber:m7,formatWeekNumberHeader:p7,formatWeekdayName:g7,formatYearCaption:y7,formatYearDropdown:hA},Symbol.toStringTag,{value:"Module"}));function w7(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...v7,...t}}function x7(t,e,n,r,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:d}=s;return c({start:o(t),end:a(t)}).map(m=>{const y=r.formatMonthDropdown(m,s),x=d(m),E=e&&m<i(e)||n&&m>i(n)||!1;return{value:x,label:y,disabled:E}})}function _7(t,e={},n={}){let r={...e==null?void 0:e[re.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function E7(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function b7(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:c,isSameYear:d}=r,h=s(t),f=i(e),m=[];let y=h;for(;c(y,f)||d(y,f);)m.push(y),y=o(y,1);return m.map(x=>{const E=n.formatYearDropdown(x,r);return{value:a(x),label:E,disabled:!1}})}function fA(t,e,n){return(n??new hs(e)).format(t,"LLLL y")}const T7=fA;function S7(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function mA(t,e,n,r){let s=(r??new hs(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const C7=mA;function I7(){return""}function N7(t){return"Choose the Month"}function k7(t){return"Go to the Next Month"}function R7(t){return"Go to the Previous Month"}function A7(t,e,n){return(n??new hs(e)).format(t,"cccc")}function P7(t,e){return`Week ${t}`}function j7(t){return"Week Number"}function D7(t){return"Choose the Year"}const O7=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:T7,labelDay:C7,labelDayButton:mA,labelGrid:fA,labelGridcell:S7,labelMonthDropdown:N7,labelNav:I7,labelNext:k7,labelPrevious:R7,labelWeekNumber:P7,labelWeekNumberHeader:j7,labelWeekday:A7,labelYearDropdown:D7},Symbol.toStringTag,{value:"Module"})),Jc=t=>t instanceof HTMLElement?t:null,dp=t=>[...t.querySelectorAll("[data-animated-month]")??[]],M7=t=>Jc(t.querySelector("[data-animated-month]")),hp=t=>Jc(t.querySelector("[data-animated-caption]")),fp=t=>Jc(t.querySelector("[data-animated-weeks]")),L7=t=>Jc(t.querySelector("[data-animated-nav]")),V7=t=>Jc(t.querySelector("[data-animated-weekdays]"));function F7(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const o=g.useRef(null),a=g.useRef(r),c=g.useRef(!1);g.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const h=i.isSameMonth(r[0].date,d[0].date),f=i.isAfter(r[0].date,d[0].date),m=f?n[pn.caption_after_enter]:n[pn.caption_before_enter],y=f?n[pn.weeks_after_enter]:n[pn.weeks_before_enter],x=o.current,E=t.current.cloneNode(!0);if(E instanceof HTMLElement?(dp(E).forEach(v=>{if(!(v instanceof HTMLElement))return;const k=M7(v);k&&v.contains(k)&&v.removeChild(k);const D=hp(v);D&&D.classList.remove(m);const O=fp(v);O&&O.classList.remove(y)}),o.current=E):o.current=null,c.current||h||s)return;const T=x instanceof HTMLElement?dp(x):[],_=dp(t.current);if(_&&_.every(w=>w instanceof HTMLElement)&&T&&T.every(w=>w instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const w=L7(t.current);w&&(w.style.zIndex="1"),_.forEach((v,k)=>{const D=T[k];if(!D)return;v.style.position="relative",v.style.overflow="hidden";const O=hp(v);O&&O.classList.add(m);const C=fp(v);C&&C.classList.add(y);const S=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),w&&(w.style.zIndex=""),O&&O.classList.remove(m),C&&C.classList.remove(y),v.style.position="",v.style.overflow="",v.contains(D)&&v.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const N=V7(D);N&&(N.style.opacity="0");const P=hp(D);P&&(P.classList.add(f?n[pn.caption_before_exit]:n[pn.caption_after_exit]),P.addEventListener("animationend",S));const I=fp(D);I&&I.classList.add(f?n[pn.weeks_before_exit]:n[pn.weeks_after_exit]),v.insertBefore(D,v.firstChild)})}})}function U7(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:m,endOfISOWeek:y,endOfMonth:x,endOfWeek:E,isAfter:T,startOfBroadcastWeek:_,startOfISOWeek:w,startOfWeek:v}=r,k=c?_(s,r):o?w(s):v(s),D=c?m(i):o?y(x(i)):E(x(i)),O=h(D,k),C=f(i,s)+1,S=[];for(let I=0;I<=O;I++){const R=d(k,I);if(e&&T(R,e))break;S.push(R)}const P=(c?35:42)*C;if(a&&S.length<P){const I=P-S.length;for(let R=0;R<I;R++){const j=d(S[S.length-1],1);S.push(j)}}return S}function $7(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,o)=>[...i,...o.days],e);return[...n,...s]},e)}function B7(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let o=0;o<s;o++){const a=r.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function tb(t,e,n,r){const{month:s,defaultMonth:i,today:o=r.today(),numberOfMonths:a=1}=t;let c=s||i||o;const{differenceInCalendarMonths:d,addMonths:h,startOfMonth:f}=r;if(n&&d(n,c)<a-1){const m=-1*(a-1);c=h(n,m)}return e&&d(c,e)<0&&(c=e),f(c)}function z7(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:d,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:m,startOfWeek:y}=r,x=t.reduce((E,T)=>{const _=n.broadcastCalendar?f(T,r):n.ISOWeek?m(T):y(T),w=n.broadcastCalendar?i(T):n.ISOWeek?o(a(T)):c(a(T)),v=e.filter(C=>C>=_&&C<=w),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&v.length<k){const C=e.filter(S=>{const N=k-v.length;return S>w&&S<=s(w,N)});v.push(...C)}const D=v.reduce((C,S)=>{const N=n.ISOWeek?d(S):h(S),P=C.find(R=>R.weekNumber===N),I=new sA(S,T,r);return P?P.days.push(I):C.push(new jW(N,[I])),C},[]),O=new PW(T,D);return E.push(O),E},[]);return n.reverseMonths?x.reverse():x}function W7(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:d,newDate:h,today:f}=e,{fromYear:m,toYear:y,fromMonth:x,toMonth:E}=t;!n&&x&&(n=x),!n&&m&&(n=e.newDate(m,0,1)),!r&&E&&(r=E),!r&&y&&(r=h(y,11,31));const T=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):m?n=h(m,0,1):!n&&T&&(n=s(c(t.today??f(),-100))),r?r=a(r):y?r=h(y,11,31):!r&&T&&(r=d(t.today??f())),[n&&i(n),r&&i(r)]}function H7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i:1,h=o(t);if(!e)return a(h,d);if(!(c(e,t)<i))return a(h,d)}function q7(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i??1:1,h=o(t);if(!e)return a(h,-d);if(!(c(h,e)<=0))return a(h,-d)}function G7(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function qf(t,e){const[n,r]=g.useState(t);return[e===void 0?n:e,r]}function K7(t,e){const[n,r]=W7(t,e),{startOfMonth:s,endOfMonth:i}=e,o=tb(t,n,r,e),[a,c]=qf(o,t.month?o:void 0);g.useEffect(()=>{const O=tb(t,n,r,e);c(O)},[t.timeZone]);const d=B7(a,r,t,e),h=U7(d,t.endMonth?i(t.endMonth):void 0,t,e),f=z7(d,h,t,e),m=G7(f),y=$7(f),x=q7(a,n,t,e),E=H7(a,r,t,e),{disableNavigation:T,onMonthChange:_}=t,w=O=>m.some(C=>C.days.some(S=>S.isEqualTo(O))),v=O=>{if(T)return;let C=s(O);n&&C<s(n)&&(C=s(n)),r&&C>s(r)&&(C=s(r)),c(C),_==null||_(C)};return{months:f,weeks:m,days:y,navStart:n,navEnd:r,previousMonth:x,nextMonth:E,goToMonth:v,goToDay:O=>{w(O)||v(O.date)}}}var or;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(or||(or={}));function nb(t){return!t[Je.disabled]&&!t[Je.hidden]&&!t[Je.outside]}function Y7(t,e,n,r){let s,i=-1;for(const o of t){const a=e(o);nb(a)&&(a[Je.focused]&&i<or.FocusedModifier?(s=o,i=or.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<or.LastFocused?(s=o,i=or.LastFocused):n(o.date)&&i<or.Selected?(s=o,i=or.Selected):a[Je.today]&&i<or.Today&&(s=o,i=or.Today))}return s||(s=t.find(o=>nb(e(o)))),s}function Q7(t,e,n,r,s,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:d,addMonths:h,addWeeks:f,addYears:m,endOfBroadcastWeek:y,endOfISOWeek:x,endOfWeek:E,max:T,min:_,startOfBroadcastWeek:w,startOfISOWeek:v,startOfWeek:k}=o;let O={day:d,week:f,month:h,year:m,startOfWeek:C=>c?w(C,o):a?v(C):k(C),endOfWeek:C=>c?y(C):a?x(C):E(C)}[t](n,e==="after"?1:-1);return e==="before"&&r?O=T([r,O]):e==="after"&&s&&(O=_([s,O])),O}function pA(t,e,n,r,s,i,o,a=0){if(a>365)return;const c=Q7(t,e,n.date,r,s,i,o),d=!!(i.disabled&&qr(c,i.disabled,o)),h=!!(i.hidden&&qr(c,i.hidden,o)),f=c,m=new sA(c,f,o);return!d&&!h?m:pA(t,e,m,r,s,i,o,a+1)}function X7(t,e,n,r,s){const{autoFocus:i}=t,[o,a]=g.useState(),c=Y7(e.days,n,r||(()=>!1),o),[d,h]=g.useState(i?c:void 0);return{isFocusTarget:E=>!!(c!=null&&c.isEqualTo(E)),setFocused:h,focused:d,blur:()=>{a(d),h(void 0)},moveFocus:(E,T)=>{if(!d)return;const _=pA(E,T,d,e.navStart,e.navEnd,t,s);_&&(e.goToDay(_),h(_))}}}function J7(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=qf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e,d=y=>(a==null?void 0:a.some(x=>c(x,y)))??!1,{min:h,max:f}=t;return{selected:a,select:(y,x,E)=>{let T=[...a??[]];if(d(y)){if((a==null?void 0:a.length)===h||r&&(a==null?void 0:a.length)===1)return;T=a==null?void 0:a.filter(_=>!c(_,y))}else(a==null?void 0:a.length)===f?T=[y]:T=[...T,y];return s||o(T),s==null||s(T,y,x,E),T},isSelected:d}}function Z7(t,e,n=0,r=0,s=!1,i=Ar){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:d,isBefore:h}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)c(o,t)?s?f={from:o,to:void 0}:f=void 0:h(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))s?f={from:o,to:a}:f=void 0;else if(c(o,t))f={from:o,to:n>0?void 0:t};else if(c(a,t))f={from:t,to:n>0?void 0:t};else if(h(t,o))f={from:t,to:a};else if(d(t,o))f={from:o,to:t};else if(d(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const m=i.differenceInCalendarDays(f.to,f.from);r>0&&m>r?f={from:t,to:void 0}:n>1&&m<n&&(f={from:t,to:void 0})}return f}function eH(t,e,n=Ar){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function rb(t,e,n=Ar){return Hr(t,e.from,!1,n)||Hr(t,e.to,!1,n)||Hr(e,t.from,!1,n)||Hr(e,t.to,!1,n)}function tH(t,e,n=Ar){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Hr(t,a,!1,n):cA(a,n)?a.some(c=>Hr(t,c,!1,n)):Iw(a)?a.from&&a.to?rb(t,{from:a.from,to:a.to},n):!1:lA(a)?eH(t,a.dayOfWeek,n):iA(a)?n.isAfter(a.before,a.after)?rb(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):qr(t.from,a,n)||qr(t.to,a,n):oA(a)||aA(a)?qr(t.from,a,n)||qr(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=c;d++){if(o.some(h=>h(a)))return!0;a=n.addDays(a,1)}}return!1}function nH(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:o}=t,[a,c]=qf(s,o?s:void 0),d=o?s:a;return{selected:d,select:(m,y,x)=>{const{min:E,max:T}=t,_=m?Z7(m,d,E,T,i,e):void 0;return r&&n&&(_!=null&&_.from)&&_.to&&tH({from:_.from,to:_.to},n,e)&&(_.from=m,_.to=void 0),o||c(_),o==null||o(_,m,y,x),_},isSelected:m=>d&&Hr(d,m,!1,e)}}function rH(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=qf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e;return{selected:a,select:(f,m,y)=>{let x=f;return!r&&a&&a&&c(f,a)&&(x=void 0),s||o(x),s==null||s(x,f,m,y),x},isSelected:f=>a?c(a,f):!1}}function sH(t,e){const n=rH(t,e),r=J7(t,e),s=nH(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function iH(t){var uo;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new Wt(e.today,e.timeZone)),e.month&&(e.month=new Wt(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Wt(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Wt(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Wt(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Wt(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(uo=e.selected)==null?void 0:uo.map(pe=>new Wt(pe,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Wt(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Wt(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:o,classNames:a}=g.useMemo(()=>{const pe={...Sw,...e.locale};return{dateLib:new hs({locale:pe,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:c7(e.components),formatters:w7(e.formatters),labels:{...O7,...e.labels},locale:pe,classNames:{...Nw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:d,navLayout:h,numberOfMonths:f=1,onDayBlur:m,onDayClick:y,onDayFocus:x,onDayKeyDown:E,onDayMouseEnter:T,onDayMouseLeave:_,onNextClick:w,onPrevClick:v,showWeekNumber:k,styles:D}=e,{formatCaption:O,formatDay:C,formatMonthDropdown:S,formatWeekNumber:N,formatWeekNumberHeader:P,formatWeekdayName:I,formatYearDropdown:R}=r,j=K7(e,i),{days:B,months:J,navStart:F,navEnd:G,previousMonth:L,nextMonth:z,goToMonth:Y}=j,ie=DW(B,e,F,G,i),{isSelected:ye,select:Ie,selected:Qe}=sH(e,i)??{},{blur:pt,focused:st,isFocusTarget:ne,moveFocus:De,setFocused:Xe}=X7(e,j,ie,ye??(()=>!1),i),{labelDayButton:Ne,labelGridcell:Te,labelGrid:Se,labelMonthDropdown:gt,labelNav:Nt,labelPrevious:Ln,labelNext:rr,labelWeekday:Pr,labelWeekNumber:Ba,labelWeekNumberHeader:jr,labelYearDropdown:za}=s,eu=g.useMemo(()=>E7(i,e.ISOWeek),[i,e.ISOWeek]),tu=d!==void 0||y!==void 0,yi=g.useCallback(()=>{L&&(Y(L),v==null||v(L))},[L,Y,v]),vi=g.useCallback(()=>{z&&(Y(z),w==null||w(z))},[Y,z,w]),nu=g.useCallback((pe,Fe)=>xe=>{xe.preventDefault(),xe.stopPropagation(),Xe(pe),Ie==null||Ie(pe.date,Fe,xe),y==null||y(pe.date,Fe,xe)},[Ie,y,Xe]),Tt=g.useCallback((pe,Fe)=>xe=>{Xe(pe),x==null||x(pe.date,Fe,xe)},[x,Xe]),kt=g.useCallback((pe,Fe)=>xe=>{pt(),m==null||m(pe.date,Fe,xe)},[pt,m]),co=g.useCallback((pe,Fe)=>xe=>{const Sn={ArrowLeft:[xe.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[xe.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[xe.shiftKey?"year":"week","after"],ArrowUp:[xe.shiftKey?"year":"week","before"],PageUp:[xe.shiftKey?"year":"month","before"],PageDown:[xe.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Sn[xe.key]){xe.preventDefault(),xe.stopPropagation();const[Xt,Cn]=Sn[xe.key];De(Xt,Cn)}E==null||E(pe.date,Fe,xe)},[De,E,e.dir]),ru=g.useCallback((pe,Fe)=>xe=>{T==null||T(pe.date,Fe,xe)},[T]),su=g.useCallback((pe,Fe)=>xe=>{_==null||_(pe.date,Fe,xe)},[_]),Kf=g.useCallback(pe=>Fe=>{const xe=Number(Fe.target.value),Sn=i.setMonth(i.startOfMonth(pe),xe);Y(Sn)},[i,Y]),wi=g.useCallback(pe=>Fe=>{const xe=Number(Fe.target.value),Sn=i.setYear(i.startOfMonth(pe),xe);Y(Sn)},[i,Y]),{className:iu,style:ou}=g.useMemo(()=>({className:[a[re.Root],e.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[re.Root],...e.style}}),[a,e.className,e.style,D]),Wa=u7(e),au=g.useRef(null);F7(au,!!e.animate,{classNames:a,months:J,focused:st,dateLib:i});const Yf={dayPickerProps:e,selected:Qe,select:Ie,isSelected:ye,months:J,nextMonth:z,previousMonth:L,goToMonth:Y,getModifiers:ie,components:n,classNames:a,styles:D,labels:s,formatters:r};return q.createElement(uA.Provider,{value:Yf},q.createElement(n.Root,{rootRef:e.animate?au:void 0,className:iu,style:ou,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Wa},q.createElement(n.Months,{className:a[re.Months],style:D==null?void 0:D[re.Months]},!e.hideNavigation&&!h&&q.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[re.Nav],style:D==null?void 0:D[re.Nav],"aria-label":Nt(),onPreviousClick:yi,onNextClick:vi,previousMonth:L,nextMonth:z}),J.map((pe,Fe)=>{const xe=x7(pe.date,F,G,r,i),Sn=b7(F,G,r,i);return q.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[re.Month],style:D==null?void 0:D[re.Month],key:Fe,displayIndex:Fe,calendarMonth:pe},h==="around"&&!e.hideNavigation&&Fe===0&&q.createElement(n.PreviousMonthButton,{type:"button",className:a[re.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":Ln(L),onClick:yi,"data-animated-button":e.animate?"true":void 0},q.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[re.Chevron],orientation:e.dir==="rtl"?"right":"left"})),q.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[re.MonthCaption],style:D==null?void 0:D[re.MonthCaption],calendarMonth:pe,displayIndex:Fe},c!=null&&c.startsWith("dropdown")?q.createElement(n.DropdownNav,{className:a[re.Dropdowns],style:D==null?void 0:D[re.Dropdowns]},c==="dropdown"||c==="dropdown-months"?q.createElement(n.MonthsDropdown,{className:a[re.MonthsDropdown],"aria-label":gt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:Kf(pe.date),options:xe,style:D==null?void 0:D[re.Dropdown],value:i.getMonth(pe.date)}):q.createElement("span",null,S(pe.date,i)),c==="dropdown"||c==="dropdown-years"?q.createElement(n.YearsDropdown,{className:a[re.YearsDropdown],"aria-label":za(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:wi(pe.date),options:Sn,style:D==null?void 0:D[re.Dropdown],value:i.getYear(pe.date)}):q.createElement("span",null,R(pe.date,i)),q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(pe.date,i.options,i))):q.createElement(n.CaptionLabel,{className:a[re.CaptionLabel],role:"status","aria-live":"polite"},O(pe.date,i.options,i))),h==="around"&&!e.hideNavigation&&Fe===f-1&&q.createElement(n.NextMonthButton,{type:"button",className:a[re.NextMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":rr(z),onClick:vi,"data-animated-button":e.animate?"true":void 0},q.createElement(n.Chevron,{disabled:z?void 0:!0,className:a[re.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Fe===f-1&&h==="after"&&!e.hideNavigation&&q.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[re.Nav],style:D==null?void 0:D[re.Nav],"aria-label":Nt(),onPreviousClick:yi,onNextClick:vi,previousMonth:L,nextMonth:z}),q.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Se(pe.date,i.options,i)||void 0,className:a[re.MonthGrid],style:D==null?void 0:D[re.MonthGrid]},!e.hideWeekdays&&q.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[re.Weekdays],style:D==null?void 0:D[re.Weekdays]},k&&q.createElement(n.WeekNumberHeader,{"aria-label":jr(i.options),className:a[re.WeekNumberHeader],style:D==null?void 0:D[re.WeekNumberHeader],scope:"col"},P()),eu.map((Xt,Cn)=>q.createElement(n.Weekday,{"aria-label":Pr(Xt,i.options,i),className:a[re.Weekday],key:Cn,style:D==null?void 0:D[re.Weekday],scope:"col"},I(Xt,i.options,i)))),q.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[re.Weeks],style:D==null?void 0:D[re.Weeks]},pe.weeks.map((Xt,Cn)=>q.createElement(n.Week,{className:a[re.Week],key:Xt.weekNumber,style:D==null?void 0:D[re.Week],week:Xt},k&&q.createElement(n.WeekNumber,{week:Xt,style:D==null?void 0:D[re.WeekNumber],"aria-label":Ba(Xt.weekNumber,{locale:o}),className:a[re.WeekNumber],scope:"row",role:"rowheader"},N(Xt.weekNumber,i)),Xt.days.map(yt=>{const{date:Jt}=yt,Re=ie(yt);if(Re[Je.focused]=!Re.hidden&&!!(st!=null&&st.isEqualTo(yt)),Re[Hn.selected]=(ye==null?void 0:ye(Jt))||Re.selected,Iw(Qe)){const{from:ho,to:Dr}=Qe;Re[Hn.range_start]=!!(ho&&Dr&&i.isSameDay(Jt,ho)),Re[Hn.range_end]=!!(ho&&Dr&&i.isSameDay(Jt,Dr)),Re[Hn.range_middle]=Hr(Qe,Jt,!0,i)}const xi=_7(Re,D,e.modifiersStyles),lu=OW(Re,a,e.modifiersClassNames),Rt=!tu&&!Re.hidden?Te(Jt,Re,i.options,i):void 0;return q.createElement(n.Day,{key:`${i.format(Jt,"yyyy-MM-dd")}_${i.format(yt.displayMonth,"yyyy-MM")}`,day:yt,modifiers:Re,className:lu.join(" "),style:xi,role:"gridcell","aria-selected":Re.selected||void 0,"aria-label":Rt,"data-day":i.format(Jt,"yyyy-MM-dd"),"data-month":yt.outside?i.format(Jt,"yyyy-MM"):void 0,"data-selected":Re.selected||void 0,"data-disabled":Re.disabled||void 0,"data-hidden":Re.hidden||void 0,"data-outside":yt.outside||void 0,"data-focused":Re.focused||void 0,"data-today":Re.today||void 0},!Re.hidden&&tu?q.createElement(n.DayButton,{className:a[re.DayButton],style:D==null?void 0:D[re.DayButton],type:"button",day:yt,modifiers:Re,disabled:Re.disabled||void 0,tabIndex:ne(yt)?0:-1,"aria-label":Ne(Jt,Re,i.options,i),onClick:nu(yt,Re),onBlur:kt(yt,Re),onFocus:Tt(yt,Re),onKeyDown:co(yt,Re),onMouseEnter:ru(yt,Re),onMouseLeave:su(yt,Re)},C(Jt,i.options,i)):!Re.hidden&&C(yt.date,i.options,i))}))))))})),e.footer&&q.createElement(n.Footer,{className:a[re.Footer],style:D==null?void 0:D[re.Footer],role:"status","aria-live":"polite"},e.footer)))}function gA({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:i,components:o,...a}){const c=Nw();return l.jsx(iH,{showOutsideDays:n,className:Q("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:Q("w-fit",c.root),months:Q("flex gap-4 flex-col md:flex-row relative",c.months),month:Q("flex flex-col w-full gap-4",c.month),nav:Q("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:Q(Mg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:Q(Mg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:Q("flex items-center justify-center h-[--cell-size] w-full px-[--cell-size]",c.month_caption),dropdowns:Q("w-full flex items-center text-sm font-medium justify-center h-[--cell-size] gap-1.5",c.dropdowns),dropdown_root:Q("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:Q("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:Q("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:Q("flex",c.weekdays),weekday:Q("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:Q("flex w-full mt-2",c.week),week_number_header:Q("select-none w-[--cell-size]",c.week_number_header),week_number:Q("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:Q("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:Q("rounded-l-md bg-accent",c.range_start),range_middle:Q("rounded-none",c.range_middle),range_end:Q("rounded-r-md bg-accent",c.range_end),today:Q("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:Q("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:Q("text-muted-foreground opacity-50",c.disabled),hidden:Q("invisible",c.hidden),...e},components:{Root:({className:d,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:Q(d),...f}),Chevron:({className:d,orientation:h,...f})=>h==="left"?l.jsx(k9,{className:Q("size-4",d),...f}):h==="right"?l.jsx(R9,{className:Q("size-4",d),...f}):l.jsx(pa,{className:Q("size-4",d),...f}),DayButton:oH,WeekNumber:({children:d,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:d})}),...o},...a})}function oH({className:t,day:e,modifiers:n,...r}){const s=Nw(),i=g.useRef(null);return g.useEffect(()=>{var o;n.focused&&((o=i.current)==null||o.focus())},[n.focused]),l.jsx(te,{ref:i,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Q("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square w-full min-w-[--cell-size] flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Gf="Popover",[yA,FH]=tr(Gf,[$f]),Zc=$f(),[aH,gi]=yA(Gf),vA=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Zc(e),c=g.useRef(null),[d,h]=g.useState(!1),[f,m]=as({prop:r,defaultProp:s??!1,onChange:i,caller:Gf});return l.jsx(Xk,{...a,children:l.jsx(aH,{scope:e,contentId:Xr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:d,onCustomAnchorAdd:g.useCallback(()=>h(!0),[]),onCustomAnchorRemove:g.useCallback(()=>h(!1),[]),modal:o,children:n})})};vA.displayName=Gf;var wA="PopoverAnchor",lH=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gi(wA,n),i=Zc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return g.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(bw,{...i,...r,ref:e})});lH.displayName=wA;var xA="PopoverTrigger",_A=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gi(xA,n),i=Zc(n),o=je(e,s.triggerRef),a=l.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":CA(s.open),...r,ref:o,onClick:ue(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(bw,{asChild:!0,...i,children:a})});_A.displayName=xA;var kw="PopoverPortal",[cH,uH]=yA(kw,{forceMount:void 0}),EA=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=gi(kw,e);return l.jsx(cH,{scope:e,forceMount:n,children:l.jsx(ds,{present:n||i.open,children:l.jsx(Cf,{asChild:!0,container:s,children:r})})})};EA.displayName=kw;var va="PopoverContent",bA=g.forwardRef((t,e)=>{const n=uH(va,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=gi(va,t.__scopePopover);return l.jsx(ds,{present:r||i.open,children:i.modal?l.jsx(hH,{...s,ref:e}):l.jsx(fH,{...s,ref:e})})});bA.displayName=va;var dH=Yi("PopoverContent.RemoveScroll"),hH=g.forwardRef((t,e)=>{const n=gi(va,t.__scopePopover),r=g.useRef(null),s=je(e,r),i=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return ow(o)},[]),l.jsx(Nf,{as:dH,allowPinchZoom:!0,children:l.jsx(TA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ue(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),fH=g.forwardRef((t,e)=>{const n=gi(va,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(TA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TA=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...f}=t,m=gi(va,n),y=Zc(n);return iw(),l.jsx(Sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Tf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Jk,{"data-state":CA(m.open),role:"dialog",id:m.contentId,...y,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),SA="PopoverClose",mH=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gi(SA,n);return l.jsx(he.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});mH.displayName=SA;var pH="PopoverArrow",gH=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Zc(n);return l.jsx(Zk,{...s,...r,ref:e})});gH.displayName=pH;function CA(t){return t?"open":"closed"}var yH=vA,vH=_A,wH=EA,IA=bA;const NA=yH,kA=vH,Rw=g.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(wH,{children:l.jsx(IA,{ref:s,align:e,sideOffset:n,className:Q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Rw.displayName=IA.displayName;function xH({organization:t,isOpen:e,onClose:n,onSuccess:r}){var D,O,C,S,N,P,I;const[s,i]=g.useState(!1),[o,a]=g.useState(null),[c,d]=g.useState(),[h,f]=g.useState(),[m,y]=g.useState([]),[x,E]=g.useState({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,registrationRequired:!1,eventbriteUrl:"",presaleEnabled:!1,series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),T=(R,j)=>{if(R.startsWith("price.")){const B=R.split(".")[1];E(J=>({...J,price:{...J.price,[B]:j}}))}else if(R.startsWith("series.")){const B=R.split(".")[1];E(J=>({...J,series:{...J.series,[B]:j}}))}else E(B=>({...B,[R]:j}))},_=()=>{y(R=>[...R,{date:"",theme:"",description:""}])},w=(R,j,B)=>{y(J=>J.map((F,G)=>G===R?{...F,[j]:B}:F))},v=R=>{y(j=>j.filter((B,J)=>J!==R))},k=async R=>{R.preventDefault(),i(!0),a(null);try{if(!c)throw new Error("Please select an event date");const j={...x,date:c,endDate:h,recurringDates:x.isRecurring&&m.length>0?m:void 0},B=await Qi.create(j);r(B),n(),E({organizationId:t.id,title:"",description:"",fullDescription:"",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,registrationRequired:!1,eventbriteUrl:"",presaleEnabled:!1,series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),d(void 0),f(void 0),y([])}catch(j){console.error("Failed to create event:",j),a(j instanceof Error?j.message:"Failed to create event")}finally{i(!1)}};return l.jsx(Gc,{open:e,onOpenChange:n,children:l.jsxs(Oa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Ma,{children:[l.jsx(La,{children:"Create New Event"}),l.jsxs(Rf,{children:["Create a new event for ",t.name,". Fill out the details below."]})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:o})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(X,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:x.title,onChange:R=>T("title",R.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"status",children:"Status"}),l.jsxs(Ph,{value:x.status,onValueChange:R=>T("status",R),children:[l.jsx(Ec,{children:l.jsx(jh,{})}),l.jsxs(bc,{children:[l.jsx(vt,{value:"draft",children:"Draft"}),l.jsx(vt,{value:"presale",children:"PreSale"}),l.jsx(vt,{value:"published",children:"Published"}),l.jsx(vt,{value:"sold_out",children:"Sold Out"}),l.jsx(vt,{value:"cancelled",children:"Canceled"}),l.jsx(vt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"description",children:"Short Description *"}),l.jsx(Er,{id:"description",value:x.description,onChange:R=>T("description",R.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Er,{id:"fullDescription",value:x.fullDescription,onChange:R=>T("fullDescription",R.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{children:"Event Date *"}),l.jsxs(NA,{children:[l.jsx(kA,{asChild:!0,children:l.jsxs(te,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Mt,{className:"mr-2 h-4 w-4"}),c?Cw(c,"PPP"):"Pick a date"]})}),l.jsx(Rw,{className:"w-auto p-0",children:l.jsx(gA,{mode:"single",selected:c,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:x.time,onChange:R=>T("time",R.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:x.duration,onChange:R=>T("duration",R.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:x.location,onChange:R=>T("location",R.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:x.address,onChange:R=>T("address",R.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Pricing"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(X,{children:"Price Type"}),l.jsxs(Ph,{value:(D=x.price)==null?void 0:D.type,onValueChange:R=>T("price.type",R),children:[l.jsx(Ec,{children:l.jsx(jh,{})}),l.jsxs(bc,{children:[l.jsx(vt,{value:"free",children:"Free"}),l.jsx(vt,{value:"paid",children:"Paid"}),l.jsx(vt,{value:"donation",children:"Donation"})]})]})]}),((O=x.price)==null?void 0:O.type)==="paid"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((C=x.price)==null?void 0:C.amount)||"",onChange:R=>T("price.amount",parseFloat(R.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((S=x.price)==null?void 0:S.advancePrice)||"",onChange:R=>T("price.advancePrice",parseFloat(R.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:(N=x.price)==null?void 0:N.description,onChange:R=>T("price.description",R.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Registration"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Li,{id:"registrationRequired",checked:x.registrationRequired,onCheckedChange:R=>T("registrationRequired",R)}),l.jsx(X,{htmlFor:"registrationRequired",children:"Registration Required"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Li,{id:"presaleEnabled",checked:x.presaleEnabled,onCheckedChange:R=>T("presaleEnabled",R)}),l.jsx(X,{htmlFor:"presaleEnabled",children:"Enable Presale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:x.capacity||"",onChange:R=>T("capacity",parseInt(R.target.value)||void 0),placeholder:"Maximum attendees"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"eventbriteUrl",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbriteUrl",value:x.eventbriteUrl,onChange:R=>T("eventbriteUrl",R.target.value),placeholder:"https://eventbrite.com/..."})]})]})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((P=x.series)==null?void 0:P.name)||"",onChange:R=>T("series.name",R.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Er,{id:"seriesDescription",value:((I=x.series)==null?void 0:I.description)||"",onChange:R=>T("series.description",R.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Li,{id:"isRecurring",checked:x.isRecurring,onCheckedChange:R=>{T("isRecurring",R),R||y([])}}),l.jsx(X,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),x.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(X,{children:"Recurring Dates & Themes"}),l.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:_,children:[l.jsx(nw,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),m.map((R,j)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:R.date,onChange:B=>w(j,"date",B.target.value)}),l.jsx(le,{placeholder:"Theme",value:R.theme,onChange:B=>w(j,"theme",B.target.value)}),l.jsx(le,{placeholder:"Description",value:R.description,onChange:B=>w(j,"description",B.target.value)})]}),l.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(j),children:l.jsx(Da,{className:"h-4 w-4"})})]},j))]})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:x.imageUrl,onChange:R=>T("imageUrl",R.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[l.jsx(te,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(te,{type:"submit",disabled:s,children:[s&&l.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})]})]})]})})}function _H({event:t,isOpen:e,onClose:n,onSuccess:r,onDelete:s}){var N,P,I,R,j,B,J;const[i,o]=g.useState(!1),[a,c]=g.useState(!1),[d,h]=g.useState(null),[f,m]=g.useState(),[y,x]=g.useState(),[E,T]=g.useState([]),[_,w]=g.useState({});g.useEffect(()=>{t&&(w({title:t.title,description:t.description,fullDescription:t.fullDescription,time:t.time,duration:t.duration,location:t.location,address:t.address,price:{...t.price},capacity:t.capacity,registrationRequired:t.registrationRequired,eventbriteUrl:t.eventbriteUrl,presaleEnabled:t.presaleEnabled,series:t.series?{...t.series}:void 0,isRecurring:t.isRecurring,imageUrl:t.imageUrl,status:t.status}),m(t.date instanceof Date?t.date:new Date(t.date)),x(t.endDate?t.endDate instanceof Date?t.endDate:new Date(t.endDate):void 0),T(t.recurringDates||[]))},[t]);const v=(F,G)=>{if(F.startsWith("price.")){const L=F.split(".")[1];w(z=>({...z,price:{...z.price,[L]:G}}))}else if(F.startsWith("series.")){const L=F.split(".")[1];w(z=>({...z,series:{...z.series,[L]:G}}))}else w(L=>({...L,[F]:G}))},k=()=>{T(F=>[...F,{date:"",theme:"",description:""}])},D=(F,G,L)=>{T(z=>z.map((Y,ie)=>ie===F?{...Y,[G]:L}:Y))},O=F=>{T(G=>G.filter((L,z)=>z!==F))},C=async F=>{F.preventDefault(),o(!0),h(null);try{if(!f)throw new Error("Please select an event date");const G={..._,date:f,endDate:y,recurringDates:_.isRecurring&&E.length>0?E:void 0},L=await Qi.update(t.id,G);r(L),n()}catch(G){console.error("Failed to update event:",G),h(G instanceof Error?G.message:"Failed to update event")}finally{o(!1)}},S=async()=>{if(!(!s||!window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`))){c(!0),h(null);try{await Qi.delete(t.id),s(t.id),n()}catch(G){console.error("Failed to delete event:",G),h(G instanceof Error?G.message:"Failed to delete event")}finally{c(!1)}}};return l.jsx(Gc,{open:e,onOpenChange:n,children:l.jsxs(Oa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Ma,{children:[l.jsx(La,{children:"Edit Event"}),l.jsxs(Rf,{children:['Update the details for "',t.title,'".']})]}),l.jsxs("form",{onSubmit:C,className:"space-y-6",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:d})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(X,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:_.title||"",onChange:F=>v("title",F.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"status",children:"Status"}),l.jsxs(Ph,{value:_.status,onValueChange:F=>v("status",F),children:[l.jsx(Ec,{children:l.jsx(jh,{})}),l.jsxs(bc,{children:[l.jsx(vt,{value:"draft",children:"Draft"}),l.jsx(vt,{value:"presale",children:"PreSale"}),l.jsx(vt,{value:"published",children:"Published"}),l.jsx(vt,{value:"sold_out",children:"Sold Out"}),l.jsx(vt,{value:"cancelled",children:"Canceled"}),l.jsx(vt,{value:"completed",children:"Complete"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"description",children:"Short Description *"}),l.jsx(Er,{id:"description",value:_.description||"",onChange:F=>v("description",F.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Er,{id:"fullDescription",value:_.fullDescription||"",onChange:F=>v("fullDescription",F.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{children:"Event Date *"}),l.jsxs(NA,{children:[l.jsx(kA,{asChild:!0,children:l.jsxs(te,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Mt,{className:"mr-2 h-4 w-4"}),f?Cw(f,"PPP"):"Pick a date"]})}),l.jsx(Rw,{className:"w-auto p-0",children:l.jsx(gA,{mode:"single",selected:f,onSelect:m,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:_.time||"",onChange:F=>v("time",F.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:_.duration||"",onChange:F=>v("duration",F.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:_.location||"",onChange:F=>v("location",F.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:_.address||"",onChange:F=>v("address",F.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Pricing"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(X,{children:"Price Type"}),l.jsxs(Ph,{value:(N=_.price)==null?void 0:N.type,onValueChange:F=>v("price.type",F),children:[l.jsx(Ec,{children:l.jsx(jh,{})}),l.jsxs(bc,{children:[l.jsx(vt,{value:"free",children:"Free"}),l.jsx(vt,{value:"paid",children:"Paid"}),l.jsx(vt,{value:"donation",children:"Donation"})]})]})]}),((P=_.price)==null?void 0:P.type)==="paid"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((I=_.price)==null?void 0:I.amount)||"",onChange:F=>v("price.amount",parseFloat(F.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((R=_.price)==null?void 0:R.advancePrice)||"",onChange:F=>v("price.advancePrice",parseFloat(F.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:((j=_.price)==null?void 0:j.description)||"",onChange:F=>v("price.description",F.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Registration"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Li,{id:"registrationRequired",checked:_.registrationRequired||!1,onCheckedChange:F=>v("registrationRequired",F)}),l.jsx(X,{htmlFor:"registrationRequired",children:"Registration Required"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Li,{id:"presaleEnabled",checked:_.presaleEnabled||!1,onCheckedChange:F=>v("presaleEnabled",F)}),l.jsx(X,{htmlFor:"presaleEnabled",children:"Enable Presale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:_.capacity||"",onChange:F=>v("capacity",parseInt(F.target.value)||void 0),placeholder:"Maximum attendees"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"eventbriteUrl",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbriteUrl",value:_.eventbriteUrl||"",onChange:F=>v("eventbriteUrl",F.target.value),placeholder:"https://eventbrite.com/..."})]})]})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(X,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((B=_.series)==null?void 0:B.name)||"",onChange:F=>v("series.name",F.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Er,{id:"seriesDescription",value:((J=_.series)==null?void 0:J.description)||"",onChange:F=>v("series.description",F.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Li,{id:"isRecurring",checked:_.isRecurring||!1,onCheckedChange:F=>{v("isRecurring",F),F||T([])}}),l.jsx(X,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),_.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(X,{children:"Recurring Dates & Themes"}),l.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:k,children:[l.jsx(nw,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),E.map((F,G)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:F.date,onChange:L=>D(G,"date",L.target.value)}),l.jsx(le,{placeholder:"Theme",value:F.theme,onChange:L=>D(G,"theme",L.target.value)}),l.jsx(le,{placeholder:"Description",value:F.description,onChange:L=>D(G,"description",L.target.value)})]}),l.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(G),children:l.jsx(Da,{className:"h-4 w-4"})})]},G))]})]})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:_.imageUrl||"",onChange:F=>v("imageUrl",F.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsx("div",{children:s&&l.jsxs(te,{type:"button",variant:"destructive",onClick:S,disabled:a,children:[a&&l.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx($9,{className:"mr-2 h-4 w-4"}),"Delete Event"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(te,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(te,{type:"submit",disabled:i,children:[i&&l.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})]})]})]})]})})}const RA=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Q("w-full caption-bottom text-sm",t),...e})}));RA.displayName="Table";const AA=g.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:Q("[&_tr]:border-b",t),...e}));AA.displayName="TableHeader";const PA=g.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:Q("[&_tr:last-child]:border-0",t),...e}));PA.displayName="TableBody";const EH=g.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:Q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));EH.displayName="TableFooter";const ty=g.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:Q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ty.displayName="TableRow";const Io=g.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Io.displayName="TableHead";const No=g.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));No.displayName="TableCell";const bH=g.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:Q("mt-4 text-sm text-muted-foreground",t),...e}));bH.displayName="TableCaption";function TH({event:t,isOpen:e,onClose:n}){const[r,s]=g.useState([]),[i,o]=g.useState({veryInterested:0,somewhatInterested:0,presaleRequests:0,totalRegistrations:0}),[a,c]=g.useState(0),[d,h]=g.useState(!1),[f,m]=g.useState(null),[y,x]=g.useState(0);g.useEffect(()=>{e&&E()},[e,t.id]),g.useEffect(()=>{const I=localStorage.getItem(`manual-sales-${t.id}`);I&&c(parseInt(I,10)||0)},[t.id]);const E=async()=>{h(!0),m(null);try{console.log("Loading registrations for event:",t.id);const I=await tN.getByEvent(t.id);console.log("Raw API Response:",JSON.stringify(I,null,2)),console.log("Response type:",typeof I),console.log("Response keys:",I?Object.keys(I):"none");let R=[];if(Array.isArray(I))console.log("Response is array, length:",I.length),R=I;else if(I&&Array.isArray(I.data))console.log("Response.data is array, length:",I.data.length),R=I.data;else if(I&&I.registrations&&Array.isArray(I.registrations))console.log("Response.registrations is array, length:",I.registrations.length),R=I.registrations;else if(I&&I.registrations&&typeof I.registrations=="object"){console.log("Converting registrations object to array"),console.log("Registrations object:",JSON.stringify(I.registrations,null,2)),console.log("Object keys:",Object.keys(I.registrations));const B=Object.values(I.registrations);console.log("Object values:",JSON.stringify(B,null,2)),console.log("Values length:",B.length);const J=[];B.forEach(F=>{Array.isArray(F)&&J.push(...F)}),console.log("Flattened registrations:",J.length),R=J}else console.warn("No registrations found or unexpected format"),console.log("Response structure check:"),console.log("- response exists:",!!I),console.log("- response.registrations exists:",!!(I&&I.registrations)),console.log("- response.registrations type:",I&&I.registrations?typeof I.registrations:"none"),R=[];console.log("Final registration data:",R),console.log("Final data length:",R.length),console.log("Sample registration:",R[0]),console.log("All registrations mapped:",R.map((B,J)=>({index:J,id:B==null?void 0:B.id,name:B==null?void 0:B.name,type:B==null?void 0:B.registrationType}))),s(R);const j={veryInterested:R.filter(B=>B.registrationType==="rsvp_yes").length,somewhatInterested:R.filter(B=>B.registrationType==="rsvp_maybe").length,presaleRequests:R.filter(B=>B.registrationType==="presale_request").length,totalRegistrations:R.length};o(j)}catch(I){console.error("Failed to load registrations:",I);let R="Failed to load registration data";I instanceof Error&&(R=I.message);const j=`${R} (Event: ${t.id}, Attempt: ${y+1})`;m(j),console.error("Registration Load Error Details:",{eventId:t.id,eventTitle:t.title,error:I,retryCount:y,timestamp:new Date().toISOString()})}finally{h(!1)}},T=()=>{x(I=>I+1),E()},_=I=>{const R=parseInt(I,10)||0;c(R),localStorage.setItem(`manual-sales-${t.id}`,R.toString())},w=()=>t.capacity?Math.max(0,t.capacity-i.totalRegistrations-a):null,v=()=>{const I=w();return I===null?null:I===0?{color:"destructive",text:"Full"}:I<=5?{color:"secondary",text:"Almost Full"}:{color:"default",text:"Available"}},k=I=>{switch(I){case"rsvp_yes":return l.jsx(B9,{className:"h-4 w-4 text-green-600"});case"rsvp_maybe":return l.jsx(z9,{className:"h-4 w-4 text-yellow-600"});case"presale_request":return l.jsx(L9,{className:"h-4 w-4 text-blue-600"});default:return l.jsx(Wr,{className:"h-4 w-4 text-gray-400"})}},D=I=>{switch(I){case"rsvp_yes":return"Very Interested";case"rsvp_maybe":return"Somewhat Interested";case"presale_request":return"Presale Request";default:return I}},O=I=>{switch(I){case"rsvp_yes":return l.jsx(xt,{className:"bg-green-600",children:"Very Interested"});case"rsvp_maybe":return l.jsx(xt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Somewhat Interested"});case"presale_request":return l.jsx(xt,{variant:"outline",className:"border-blue-500 text-blue-700",children:"Presale"});default:return l.jsx(xt,{variant:"outline",children:I})}},C=()=>{if(r.length===0)return;const R=[["Name","Email","Phone","Type","Notes","Registered At"],...r.map(F=>[F.name||"",F.email||"",F.phone||"",D(F.registrationType),F.notes||"",new Date(F.registeredAt||F.createdAt||"").toLocaleDateString()])].map(F=>F.map(G=>`"${G}"`).join(",")).join(`
`),j=new Blob([R],{type:"text/csv"}),B=URL.createObjectURL(j),J=document.createElement("a");J.href=B,J.download=`${t.title}-registrations.csv`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(B)},S=I=>{try{return new Date(I).toLocaleString()}catch{return I}},N=w(),P=v();return l.jsx(Gc,{open:e,onOpenChange:n,children:l.jsxs(Oa,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Ma,{children:l.jsxs(La,{className:"flex items-center gap-2",children:[l.jsx(Wr,{className:"h-5 w-5"}),"Registration Management - ",t.title]})}),l.jsxs("div",{className:"space-y-6",children:[d&&l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(ni,{className:"h-6 w-6 animate-spin mr-2"}),"Loading registrations..."]}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(A9,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Unable to Load Registration Data"}),l.jsx("p",{className:"text-sm text-red-700 mb-3",children:f}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(te,{size:"sm",variant:"outline",onClick:T,disabled:d,className:"text-red-700 border-red-300 hover:bg-red-100",children:d?l.jsxs(l.Fragment,{children:[l.jsx(ni,{className:"h-4 w-4 animate-spin mr-2"}),"Retrying..."]}):"Retry"}),l.jsx(te,{size:"sm",variant:"ghost",onClick:()=>m(null),className:"text-red-700 hover:bg-red-100",children:"Dismiss"})]})]})]})}),f&&l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsxs(We,{className:"text-lg flex items-center gap-2",children:[l.jsx(Mt,{className:"h-5 w-5"}),"Event Information"]})}),l.jsx(ge,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Event:"})," ",t.title]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),t.capacity&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Capacity:"})," ",t.capacity]})]})})]}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(QI,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Very Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.veryInterested})]})]})}),l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(Mt,{className:"h-8 w-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Somewhat Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.somewhatInterested})]})]})}),l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(_r,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presale Requests"}),l.jsx("p",{className:"text-2xl font-bold",children:i.presaleRequests})]})]})}),l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(Wr,{className:"h-8 w-8 text-gray-700"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:i.totalRegistrations})]})]})})]}),t.capacity&&l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsx(We,{className:"text-lg",children:"Capacity Management"})}),l.jsx(ge,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx(X,{className:"text-sm text-gray-600",children:"Event Capacity"}),l.jsx("p",{className:"text-xl font-semibold",children:t.capacity})]}),l.jsxs("div",{children:[l.jsx(X,{htmlFor:"manual-sales",className:"text-sm text-gray-600",children:"External Sales"}),l.jsx(le,{id:"manual-sales",type:"number",min:"0",value:a,onChange:I=>_(I.target.value),className:"mt-1",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(X,{className:"text-sm text-gray-600",children:"App Registrations"}),l.jsx("p",{className:"text-xl font-semibold",children:i.totalRegistrations})]}),l.jsxs("div",{children:[l.jsx(X,{className:"text-sm text-gray-600",children:"Remaining"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[P&&l.jsx(xt,{variant:P.color,children:P.text}),l.jsx("span",{className:"text-xl font-semibold",children:N!==null?N:"Unlimited"})]})]})]})})]}),l.jsxs(fe,{children:[l.jsx(ze,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(We,{className:"text-lg",children:"Registration Details"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(te,{variant:"outline",size:"sm",onClick:E,children:[l.jsx(j9,{className:"h-4 w-4 mr-2"}),"Refresh"]}),l.jsxs(te,{variant:"outline",size:"sm",onClick:C,disabled:r.length===0,children:[l.jsx(D9,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),l.jsx(ge,{children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-500 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Registrations will appear here when people express interest or request presale info."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(RA,{children:[l.jsx(AA,{children:l.jsxs(ty,{children:[l.jsx(Io,{children:"Type"}),l.jsx(Io,{children:"Name"}),l.jsx(Io,{children:"Contact"}),l.jsx(Io,{children:"Registered"}),l.jsx(Io,{children:"Notes"})]})}),l.jsx(PA,{children:r.map((I,R)=>(console.log(`Rendering registration ${R}:`,I),console.log(`- ID: ${I==null?void 0:I.id}`),console.log(`- Name: ${I==null?void 0:I.name}`),console.log(`- Email: ${I==null?void 0:I.email}`),console.log(`- Type: ${I==null?void 0:I.registrationType}`),console.log(`- Created: ${I==null?void 0:I.createdAt}`),l.jsxs(ty,{children:[l.jsx(No,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[k((I==null?void 0:I.registrationType)||""),O((I==null?void 0:I.registrationType)||"")]})}),l.jsx(No,{className:"font-medium",children:(I==null?void 0:I.name)||"No name provided"}),l.jsx(No,{children:l.jsxs("div",{className:"space-y-1",children:[(I==null?void 0:I.email)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(_r,{className:"h-3 w-3"}),l.jsx("a",{href:`mailto:${I.email}`,className:"text-blue-600 hover:underline",children:I.email})]}),(I==null?void 0:I.phone)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(F9,{className:"h-3 w-3"}),l.jsx("a",{href:`tel:${I.phone}`,className:"text-blue-600 hover:underline",children:I.phone})]}),!(I!=null&&I.email)&&!(I!=null&&I.phone)&&l.jsx("span",{className:"text-gray-400 text-sm",children:"No contact info"})]})}),l.jsx(No,{className:"text-sm text-gray-600",children:S((I==null?void 0:I.registeredAt)||(I==null?void 0:I.createdAt)||"")}),l.jsx(No,{children:I!=null&&I.notes?l.jsxs("div",{className:"flex items-start gap-1",children:[l.jsx(M9,{className:"h-3 w-3 mt-0.5 text-gray-400"}),l.jsx("span",{className:"text-sm",children:I.notes})]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"No notes"})})]},(I==null?void 0:I.id)||`reg-${R}`)))})]})})})]})]})]})]})})}function SH(){const{orgSlug:t}=oD(),e=NS(),{organization:n,events:r,loading:s,error:i,updateOrganization:o,refreshEvents:a}=mk(t||""),[c,d]=g.useState(!1),[h,f]=g.useState(null),[m,y]=g.useState(!1),[x,E]=g.useState(null),[T,_]=g.useState(null),w=Sh(),v=sw("adminControls"),k=async N=>{d(!0),f(null);try{await o(N),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(P){console.error("Failed to save organization:",P);const I=P instanceof Error?P.message:"Unknown error occurred";f(`❌ Failed to save changes: ${I}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{d(!1)}},D=N=>{f("✅ Event created successfully!"),setTimeout(()=>f(null),4e3),a()},O=N=>{f("✅ Event updated successfully!"),setTimeout(()=>f(null),4e3),a(),E(null)},C=N=>{f("✅ Event deleted successfully!"),setTimeout(()=>f(null),4e3),a(),E(null)},S=N=>{_(N)};return v?s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ni,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),l.jsx(te,{onClick:()=>e("/"),children:"Return Home"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(te,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[l.jsx(N9,{className:"h-4 w-4"}),"Back to Public Page"]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(xt,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),w]}),l.jsxs(te,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[l.jsx(O9,{className:"h-4 w-4"}),"Preview"]})]})]}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg border ${h.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:l.jsx("p",{className:"text-sm font-medium",children:h})})]})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(sB,{defaultValue:"organization",className:"flex gap-8",orientation:"vertical",children:[l.jsx("div",{className:"w-64 flex-shrink-0",children:l.jsxs(kk,{className:"flex flex-col h-fit w-full",children:[l.jsxs(Tl,{value:"organization",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(ZI,{className:"h-4 w-4"}),"Organization"]}),l.jsxs(Tl,{value:"events",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Mt,{className:"h-4 w-4"}),"Events"]}),l.jsxs(Tl,{value:"subscribers",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(_r,{className:"h-4 w-4"}),"Subscribers"]}),l.jsxs(Tl,{value:"analytics",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Jm,{className:"h-4 w-4"}),"Analytics"]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(Sl,{value:"organization",children:l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Organization Settings"}),l.jsx(en,{children:"Update your organization's information, branding, and contact details."})]}),l.jsx(ge,{children:l.jsx(pk,{organization:n,onSave:k,onCancel:()=>{},isFullPage:!0,isSaving:c})})]})}),l.jsx(Sl,{value:"events",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),l.jsxs(te,{className:"flex items-center gap-2",onClick:()=>y(!0),children:[l.jsx(nw,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?l.jsx(fe,{children:l.jsxs(ge,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Mt,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),l.jsx(te,{onClick:()=>y(!0),children:"Create Your First Event"})]})}):l.jsx("div",{className:"space-y-4",children:r.map(N=>l.jsx(fe,{children:l.jsx(ge,{className:"p-6",children:l.jsx("div",{className:"flex flex-col",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[N.category&&l.jsx(xt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:N.category}),l.jsx(xt,{variant:N.status==="published"?"default":N.status==="presale"?"secondary":N.status==="sold_out"||N.status==="cancelled"?"destructive":N.status==="completed"?"outline":"secondary",children:N.status==="presale"?"PreSale":N.status==="sold_out"?"Sold Out":N.status==="cancelled"?"Canceled":N.status==="completed"?"Complete":N.status==="published"?"Published":N.status==="draft"?"Draft":N.status}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:N.title})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:N.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mt,{className:"h-4 w-4 mr-2"}),N.date instanceof Date?N.date.toLocaleDateString():new Date(N.date).toLocaleDateString()," • ",N.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mi,{className:"h-4 w-4 mr-2"}),N.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",N.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsxs(te,{variant:"outline",size:"sm",onClick:()=>E(N),children:[l.jsx(Lg,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(te,{variant:"outline",size:"sm",onClick:()=>S(N),children:[l.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]})})})},N.id))})]})}),l.jsx(Sl,{value:"subscribers",children:l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Subscriber Management"}),l.jsx(en,{children:"Manage email subscribers and send newsletters to your audience."})]}),l.jsx(ge,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(_r,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Event Updates"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(Wr,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Newsletter"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),l.jsx(fe,{children:l.jsxs(ge,{className:"flex items-center gap-3 p-4",children:[l.jsx(Jm,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Subscribers"}),l.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})]}),l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{className:"text-lg",children:"Send Email Blast"}),l.jsx(en,{children:"Send newsletters or updates to your subscribers"})]}),l.jsx(ge,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(_r,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email Management"}),l.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Email blast functionality will be available soon. Subscribers from event registrations will appear here automatically."}),l.jsx(te,{disabled:!0,variant:"outline",children:"Compose Email"})]})})]}),l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{className:"text-lg",children:"Subscriber List"}),l.jsx(en,{children:"View and manage your email subscribers"})]}),l.jsx(ge,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Wr,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Subscribers Yet"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Subscribers will appear here when people opt-in during event registration."})]})})]})]})})]})}),l.jsx(Sl,{value:"analytics",children:l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsx(We,{children:"Analytics"}),l.jsx(en,{children:"Track your organization's performance and audience engagement."})]}),l.jsx(ge,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Jm,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Analytics and insights will be available soon."})]})})]})})]})]})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(xH,{organization:n,isOpen:m,onClose:()=>y(!1),onSuccess:D}),x&&l.jsx(_H,{event:x,isOpen:!!x,onClose:()=>E(null),onSuccess:O,onDelete:C}),T&&l.jsx(TH,{event:T,isOpen:!!T,onClose:()=>_(null)})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",w," environment."]}),l.jsx(te,{onClick:()=>e("/"),children:"Return Home"})]})})}function CH(){const{user:t}=L5(),[e,n]=g.useState([]),[r,s]=g.useState(!1),[i,o]=g.useState([]),a=async()=>{s(!0);try{const y=await bl("voxxy-presents-nyc");if(y){o(E=>[...E,`✅ Voxxy Presents NYC found: ${y.name}`]);const x=await Hg(y.id);n(x),o(E=>[...E,`✅ Found ${x.length} events for Voxxy Presents NYC`])}else o(x=>[...x,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(y){o(x=>[...x,`❌ Error testing Voxxy Presents NYC: ${y}`])}s(!1)},c=async()=>{s(!0);try{const y=await Q$({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",bio:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(x=>[...x,`✅ Organization created with ID: ${y}`])}catch(y){o(x=>[...x,`❌ Error creating organization: ${y}`])}s(!1)},d=async()=>{s(!0);try{const y=await bl("brooklyn-hearts-club");return y?(o(x=>[...x,`✅ Organization found: ${y.name}`]),y):(o(x=>[...x,"❌ Organization not found"]),null)}catch(y){return o(x=>[...x,`❌ Error retrieving organization: ${y}`]),null}finally{s(!1)}},h=async()=>{s(!0);try{const y=await bl("brooklyn-hearts-club");if(!y){o(E=>[...E,"❌ Need to create organization first"]),s(!1);return}const x=await J$({organizationId:y.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",category:"Workshop",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(E=>[...E,`✅ Event created with ID: ${x}`])}catch(y){o(x=>[...x,`❌ Error creating event: ${y}`])}s(!1)},f=async()=>{s(!0);try{const y=await bl("brooklyn-hearts-club");if(!y){o(E=>[...E,"❌ Need to create organization first"]),s(!1);return}const x=await Hg(y.id);n(x),o(E=>[...E,`✅ Found ${x.length} events`])}catch(y){o(x=>[...x,`❌ Error retrieving events: ${y}`])}s(!1)},m=()=>{o([]),n([])};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(xt,{variant:"secondary",children:t.email}),l.jsx(te,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsxs(We,{className:"flex items-center gap-2",children:[l.jsx(xE,{className:"h-5 w-5"}),"Database Testing"]}),l.jsx(en,{children:"Test Firebase Firestore connection and basic operations"})]}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(te,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),l.jsx(te,{onClick:c,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),l.jsx(te,{onClick:d,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),l.jsx(te,{onClick:h,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),l.jsx(te,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),l.jsx(te,{onClick:m,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?l.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((y,x)=>l.jsx("div",{className:"mb-1",children:y},x))})]})]}),l.jsxs(fe,{children:[l.jsxs(ze,{children:[l.jsxs(We,{className:"flex items-center gap-2",children:[l.jsx(Mt,{className:"h-5 w-5"}),"Events"]}),l.jsx(en,{children:"Events retrieved from database"})]}),l.jsx(ge,{children:e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):l.jsx("div",{className:"space-y-4",children:e.map(y=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:y.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsx("span",{children:y.date.toLocaleDateString()}),l.jsx("span",{children:y.time}),l.jsx(xt,{variant:"secondary",className:"text-xs",children:y.category})]})]}),l.jsx(xt,{variant:y.status==="published"?"default":"secondary",children:y.status})]})},y.id))})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[l.jsx(fe,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wr,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),l.jsx(fe,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Mt,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),l.jsx(fe,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(xE,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),l.jsx(fe,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ZI,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function IH(){return l.jsx(V5,{children:l.jsx(WD,{children:l.jsxs(_D,{children:[l.jsx(Eo,{path:"/",element:l.jsx(W9,{})}),l.jsx(Eo,{path:"/brooklyn-hearts-club",element:l.jsx(Y$,{})}),l.jsx(Eo,{path:"/voxxy-presents-nyc",element:l.jsx(eB,{})}),l.jsx(Eo,{path:"/:orgSlug/admin",element:l.jsx(SH,{})}),l.jsx(Eo,{path:"/admin",element:l.jsx(CH,{})})]})})})}vS(document.getElementById("root")).render(l.jsx(g.StrictMode,{children:l.jsx(IH,{})}));
