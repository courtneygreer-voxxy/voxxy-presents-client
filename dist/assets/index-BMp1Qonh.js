var TR=Object.defineProperty;var bR=(t,e,n)=>e in t?TR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nx=(t,e,n)=>bR(t,typeof e!="symbol"?e+"":e,n);function SR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GE={exports:{}},Ah={},KE={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),IR=Symbol.for("react.portal"),CR=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),kR=Symbol.for("react.profiler"),AR=Symbol.for("react.provider"),RR=Symbol.for("react.context"),PR=Symbol.for("react.forward_ref"),DR=Symbol.for("react.suspense"),jR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),rx=Symbol.iterator;function MR(t){return t===null||typeof t!="object"?null:(t=rx&&t[rx]||t["@@iterator"],typeof t=="function"?t:null)}var YE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QE=Object.assign,XE={};function _a(t,e,n){this.props=t,this.context=e,this.refs=XE,this.updater=n||YE}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JE(){}JE.prototype=_a.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=XE,this.updater=n||YE}var Wg=zg.prototype=new JE;Wg.constructor=zg;QE(Wg,_a.prototype);Wg.isPureReactComponent=!0;var sx=Array.isArray,ZE=Object.prototype.hasOwnProperty,Hg={current:null},eT={key:!0,ref:!0,__self:!0,__source:!0};function tT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ZE.call(e,r)&&!eT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xc,type:t,key:i,ref:o,props:s,_owner:Hg.current}}function LR(t,e){return{$$typeof:xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===xc}function VR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ix=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VR(""+t.key):e.toString(36)}function ed(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xc:case IR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zf(o,0):r,sx(s)?(n="",t!=null&&(n=t.replace(ix,"$&/")+"/"),ed(s,e,n,"",function(d){return d})):s!=null&&(qg(s)&&(s=LR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ix,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",sx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Zf(i,a);o+=ed(i,e,n,c,s)}else if(c=MR(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Zf(i,a++),o+=ed(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(t,e,n){if(t==null)return t;var r=[],s=0;return ed(t,r,"","",function(i){return e.call(n,i,s++)}),r}function FR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},td={transition:null},UR={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:td,ReactCurrentOwner:Hg};function nT(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:_u,forEach:function(t,e,n){_u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _u(t,function(){e++}),e},toArray:function(t){return _u(t,function(e){return e})||[]},only:function(t){if(!qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=_a;me.Fragment=CR;me.Profiler=kR;me.PureComponent=zg;me.StrictMode=NR;me.Suspense=DR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;me.act=nT;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Hg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)ZE.call(e,c)&&!eT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:xc,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:RR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AR,_context:t},t.Consumer=t};me.createElement=tT;me.createFactory=function(t){var e=tT.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:PR,render:t}};me.isValidElement=qg;me.lazy=function(t){return{$$typeof:OR,_payload:{_status:-1,_result:t},_init:FR}};me.memo=function(t,e){return{$$typeof:jR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=td.transition;td.transition={};try{t()}finally{td.transition=e}};me.unstable_act=nT;me.useCallback=function(t,e){return tn.current.useCallback(t,e)};me.useContext=function(t){return tn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};me.useEffect=function(t,e){return tn.current.useEffect(t,e)};me.useId=function(){return tn.current.useId()};me.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return tn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};me.useRef=function(t){return tn.current.useRef(t)};me.useState=function(t){return tn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return tn.current.useTransition()};me.version="18.3.1";KE.exports=me;var y=KE.exports;const q=qE(y),rT=SR({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=y,$R=Symbol.for("react.element"),zR=Symbol.for("react.fragment"),WR=Object.prototype.hasOwnProperty,HR=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qR={key:!0,ref:!0,__self:!0,__source:!0};function sT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WR.call(e,r)&&!qR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$R,type:t,key:i,ref:o,props:s,_owner:HR.current}}Ah.Fragment=zR;Ah.jsx=sT;Ah.jsxs=sT;GE.exports=Ah;var l=GE.exports,iT={exports:{}},En={},oT={exports:{}},aT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Y=L.length;L.push(z);e:for(;0<Y;){var ie=Y-1>>>1,pe=L[ie];if(0<s(pe,z))L[ie]=z,L[Y]=pe,Y=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Y=L.pop();if(Y!==z){L[0]=Y;e:for(var ie=0,pe=L.length,Ie=pe>>>1;ie<Ie;){var Ke=2*(ie+1)-1,gt=L[Ke],it=Ke+1,te=L[it];if(0>s(gt,Y))it<pe&&0>s(te,gt)?(L[ie]=te,L[it]=Y,ie=it):(L[ie]=gt,L[Ke]=Y,ie=Ke);else if(it<pe&&0>s(te,Y))L[ie]=te,L[it]=Y,ie=it;else break e}}return z}function s(L,z){var Y=L.sortIndex-z.sortIndex;return Y!==0?Y:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,w=!1,x=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=L)r(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(d)}}function j(L){if(_=!1,T(L),!x)if(n(c)!==null)x=!0,V(D);else{var z=n(d);z!==null&&G(j,z.startTime-L)}}function D(L,z){x=!1,_&&(_=!1,g(S),S=-1),w=!0;var Y=p;try{for(T(z),f=n(c);f!==null&&(!(f.expirationTime>z)||L&&!C());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var pe=ie(f.expirationTime<=z);z=t.unstable_now(),typeof pe=="function"?f.callback=pe:f===n(c)&&r(c),T(z)}else r(c);f=n(c)}if(f!==null)var Ie=!0;else{var Ke=n(d);Ke!==null&&G(j,Ke.startTime-z),Ie=!1}return Ie}finally{f=null,p=Y,w=!1}}var O=!1,I=null,S=-1,N=5,R=-1;function C(){return!(t.unstable_now()-R<N)}function k(){if(I!==null){var L=t.unstable_now();R=L;var z=!0;try{z=I(!0,L)}finally{z?P():(O=!1,I=null)}}else O=!1}var P;if(typeof v=="function")P=function(){v(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=k,P=function(){X.postMessage(null)}}else P=function(){b(k,0)};function V(L){I=L,O||(O=!0,P())}function G(L,z){S=b(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,V(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var Y=p;p=z;try{return L()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=p;p=L;try{return z()}finally{p=Y}},t.unstable_scheduleCallback=function(L,z,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,L){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,L={id:h++,callback:z,priorityLevel:L,startTime:Y,expirationTime:pe,sortIndex:-1},Y>ie?(L.sortIndex=Y,e(d,L),n(c)===null&&L===n(d)&&(_?(g(S),S=-1):_=!0,G(j,Y-ie))):(L.sortIndex=pe,e(c,L),x||w||(x=!0,V(D))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var z=p;return function(){var Y=p;p=z;try{return L.apply(this,arguments)}finally{p=Y}}}})(aT);oT.exports=aT;var GR=oT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR=y,_n=GR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lT=new Set,Bl={};function eo(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Bl[t]=e,t=0;t<e.length;t++)lT.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ox={},ax={};function QR(t){return sm.call(ax,t)?!0:sm.call(ox,t)?!1:YR.test(t)?ax[t]=!0:(ox[t]=!0,!1)}function XR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JR(t,e,n,r){if(e===null||typeof e>"u"||XR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,Kg);Mt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,Kg);Mt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,Kg);Mt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yg(t,e,n,r){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JR(e,n,s,r)&&(n=null),r||s===null?QR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=KR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),Qg=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),dT=Symbol.for("react.offscreen"),lx=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,ep;function dl(t){if(ep===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ep=e&&e[1]||""}return`
`+ep+t}var tp=!1;function np(t,e){if(!t||tp)return"";tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{tp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dl(t):""}function ZR(t){switch(t.tag){case 5:return dl(t.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return t=np(t.type,!1),t;case 11:return t=np(t.type.render,!1),t;case 1:return t=np(t.type,!0),t;default:return""}}function lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case ko:return"Portal";case im:return"Profiler";case Qg:return"StrictMode";case om:return"Suspense";case am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uT:return(t.displayName||"Context")+".Consumer";case cT:return(t._context.displayName||"Context")+".Provider";case Xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jg:return e=t.displayName||null,e!==null?e:lm(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return lm(t(e))}catch{}}return null}function eP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lm(e);case 8:return e===Qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tP(t){var e=hT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tu(t){t._valueTracker||(t._valueTracker=tP(t))}function fT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cm(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pT(t,e){e=e.checked,e!=null&&Yg(t,"checked",e,!1)}function um(t,e){pT(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dm(t,e.type,n):e.hasOwnProperty("defaultValue")&&dm(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ux(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dm(t,e,n){(e!=="number"||Ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hl=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(hl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function mT(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,yT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nP=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(t){nP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bl[e]=bl[t]})});function vT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bl.hasOwnProperty(t)&&bl[t]?(""+e).trim():e+"px"}function wT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rP=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pm(t,e){if(e){if(rP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function mm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function Zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ym=null,zo=null,Wo=null;function fx(t){if(t=Tc(t)){if(typeof ym!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Oh(e),ym(t.stateNode,t.type,e))}}function xT(t){zo?Wo?Wo.push(t):Wo=[t]:zo=t}function _T(){if(zo){var t=zo,e=Wo;if(Wo=zo=null,fx(t),e)for(t=0;t<e.length;t++)fx(e[t])}}function ET(t,e){return t(e)}function TT(){}var rp=!1;function bT(t,e,n){if(rp)return t(e,n);rp=!0;try{return ET(t,e,n)}finally{rp=!1,(zo!==null||Wo!==null)&&(TT(),_T())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=Oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var vm=!1;if(Yr)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){vm=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{vm=!1}function sP(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Sl=!1,Rd=null,Pd=!1,wm=null,iP={onError:function(t){Sl=!0,Rd=t}};function oP(t,e,n,r,s,i,o,a,c){Sl=!1,Rd=null,sP.apply(iP,arguments)}function aP(t,e,n,r,s,i,o,a,c){if(oP.apply(this,arguments),Sl){if(Sl){var d=Rd;Sl=!1,Rd=null}else throw Error(W(198));Pd||(Pd=!0,wm=d)}}function to(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ST(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function px(t){if(to(t)!==t)throw Error(W(188))}function lP(t){var e=t.alternate;if(!e){if(e=to(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return px(s),t;if(i===r)return px(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function IT(t){return t=lP(t),t!==null?CT(t):null}function CT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CT(t);if(e!==null)return e;t=t.sibling}return null}var NT=_n.unstable_scheduleCallback,mx=_n.unstable_cancelCallback,cP=_n.unstable_shouldYield,uP=_n.unstable_requestPaint,ct=_n.unstable_now,dP=_n.unstable_getCurrentPriorityLevel,ey=_n.unstable_ImmediatePriority,kT=_n.unstable_UserBlockingPriority,Dd=_n.unstable_NormalPriority,hP=_n.unstable_LowPriority,AT=_n.unstable_IdlePriority,Rh=null,dr=null;function fP(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Rh,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:gP,pP=Math.log,mP=Math.LN2;function gP(t){return t>>>=0,t===0?32:31-(pP(t)/mP|0)|0}var Su=64,Iu=4194304;function fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fl(a):(i&=o,i!==0&&(r=fl(i)))}else o=n&~s,o!==0?r=fl(o):i!==0&&(r=fl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),s=1<<n,r|=t[n],e&=~s;return r}function yP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=yP(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RT(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function wP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function PT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DT,ny,jT,OT,MT,_m=!1,Cu=[],Ns=null,ks=null,As=null,Wl=new Map,Hl=new Map,ws=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gx(t,e){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function el(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tc(e),e!==null&&ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _P(t,e,n,r,s){switch(e){case"focusin":return Ns=el(Ns,t,e,n,r,s),!0;case"dragenter":return ks=el(ks,t,e,n,r,s),!0;case"mouseover":return As=el(As,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wl.set(i,el(Wl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,el(Hl.get(i)||null,t,e,n,r,s)),!0}return!1}function LT(t){var e=Ti(t.target);if(e!==null){var n=to(e);if(n!==null){if(e=n.tag,e===13){if(e=ST(n),e!==null){t.blockedOn=e,MT(t.priority,function(){jT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gm=r,n.target.dispatchEvent(r),gm=null}else return e=Tc(n),e!==null&&ny(e),t.blockedOn=n,!1;e.shift()}return!0}function yx(t,e,n){nd(t)&&n.delete(e)}function EP(){_m=!1,Ns!==null&&nd(Ns)&&(Ns=null),ks!==null&&nd(ks)&&(ks=null),As!==null&&nd(As)&&(As=null),Wl.forEach(yx),Hl.forEach(yx)}function tl(t,e){t.blockedOn===e&&(t.blockedOn=null,_m||(_m=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,EP)))}function ql(t){function e(s){return tl(s,t)}if(0<Cu.length){tl(Cu[0],t);for(var n=1;n<Cu.length;n++){var r=Cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ns!==null&&tl(Ns,t),ks!==null&&tl(ks,t),As!==null&&tl(As,t),Wl.forEach(e),Hl.forEach(e),n=0;n<ws.length;n++)r=ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ws.length&&(n=ws[0],n.blockedOn===null);)LT(n),n.blockedOn===null&&ws.shift()}var Ho=os.ReactCurrentBatchConfig,Od=!0;function TP(t,e,n,r){var s=Me,i=Ho.transition;Ho.transition=null;try{Me=1,ry(t,e,n,r)}finally{Me=s,Ho.transition=i}}function bP(t,e,n,r){var s=Me,i=Ho.transition;Ho.transition=null;try{Me=4,ry(t,e,n,r)}finally{Me=s,Ho.transition=i}}function ry(t,e,n,r){if(Od){var s=Em(t,e,n,r);if(s===null)pp(t,e,r,Md,n),gx(t,r);else if(_P(s,t,e,n,r))r.stopPropagation();else if(gx(t,r),e&4&&-1<xP.indexOf(t)){for(;s!==null;){var i=Tc(s);if(i!==null&&DT(i),i=Em(t,e,n,r),i===null&&pp(t,e,r,Md,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pp(t,e,r,null,n)}}var Md=null;function Em(t,e,n,r){if(Md=null,t=Zg(r),t=Ti(t),t!==null)if(e=to(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ST(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function VT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dP()){case ey:return 1;case kT:return 4;case Dd:case hP:return 16;case AT:return 536870912;default:return 16}default:return 16}}var Ss=null,sy=null,rd=null;function FT(){if(rd)return rd;var t,e=sy,n=e.length,r,s="value"in Ss?Ss.value:Ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return rd=s.slice(t,1<r?1-r:void 0)}function sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function vx(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nu:vx,this.isPropagationStopped=vx,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iy=Tn(Ea),Ec=rt({},Ea,{view:0,detail:0}),SP=Tn(Ec),ip,op,nl,Ph=rt({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(ip=t.screenX-nl.screenX,op=t.screenY-nl.screenY):op=ip=0,nl=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:op}}),wx=Tn(Ph),IP=rt({},Ph,{dataTransfer:0}),CP=Tn(IP),NP=rt({},Ec,{relatedTarget:0}),ap=Tn(NP),kP=rt({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),AP=Tn(kP),RP=rt({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PP=Tn(RP),DP=rt({},Ea,{data:0}),xx=Tn(DP),jP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MP[t])?!!e[t]:!1}function oy(){return LP}var VP=rt({},Ec,{key:function(t){if(t.key){var e=jP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(t){return t.type==="keypress"?sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FP=Tn(VP),UP=rt({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_x=Tn(UP),BP=rt({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),$P=Tn(BP),zP=rt({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),WP=Tn(zP),HP=rt({},Ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qP=Tn(HP),GP=[9,13,27,32],ay=Yr&&"CompositionEvent"in window,Il=null;Yr&&"documentMode"in document&&(Il=document.documentMode);var KP=Yr&&"TextEvent"in window&&!Il,UT=Yr&&(!ay||Il&&8<Il&&11>=Il),Ex=" ",Tx=!1;function BT(t,e){switch(t){case"keyup":return GP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function YP(t,e){switch(t){case"compositionend":return $T(e);case"keypress":return e.which!==32?null:(Tx=!0,Ex);case"textInput":return t=e.data,t===Ex&&Tx?null:t;default:return null}}function QP(t,e){if(Ro)return t==="compositionend"||!ay&&BT(t,e)?(t=FT(),rd=sy=Ss=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UT&&e.locale!=="ko"?null:e.data;default:return null}}var XP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XP[t.type]:e==="textarea"}function zT(t,e,n,r){xT(r),e=Ld(e,"onChange"),0<e.length&&(n=new iy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,Gl=null;function JP(t){eb(t,0)}function Dh(t){var e=jo(t);if(fT(e))return t}function ZP(t,e){if(t==="change")return e}var WT=!1;if(Yr){var lp;if(Yr){var cp="oninput"in document;if(!cp){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),cp=typeof Sx.oninput=="function"}lp=cp}else lp=!1;WT=lp&&(!document.documentMode||9<document.documentMode)}function Ix(){Cl&&(Cl.detachEvent("onpropertychange",HT),Gl=Cl=null)}function HT(t){if(t.propertyName==="value"&&Dh(Gl)){var e=[];zT(e,Gl,t,Zg(t)),bT(JP,e)}}function e2(t,e,n){t==="focusin"?(Ix(),Cl=e,Gl=n,Cl.attachEvent("onpropertychange",HT)):t==="focusout"&&Ix()}function t2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dh(Gl)}function n2(t,e){if(t==="click")return Dh(e)}function r2(t,e){if(t==="input"||t==="change")return Dh(e)}function s2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:s2;function Kl(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sm.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function Cx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nx(t,e){var n=Cx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cx(n)}}function qT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GT(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ad(t.document)}return e}function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i2(t){var e=GT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qT(n.ownerDocument.documentElement,n)){if(r!==null&&ly(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Nx(n,i);var o=Nx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o2=Yr&&"documentMode"in document&&11>=document.documentMode,Po=null,Tm=null,Nl=null,bm=!1;function kx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bm||Po==null||Po!==Ad(r)||(r=Po,"selectionStart"in r&&ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nl&&Kl(Nl,r)||(Nl=r,r=Ld(Tm,"onSelect"),0<r.length&&(e=new iy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Po)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Do={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},up={},KT={};Yr&&(KT=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function jh(t){if(up[t])return up[t];if(!Do[t])return t;var e=Do[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KT)return up[t]=e[n];return t}var YT=jh("animationend"),QT=jh("animationiteration"),XT=jh("animationstart"),JT=jh("transitionend"),ZT=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){ZT.set(t,e),eo(e,[t])}for(var dp=0;dp<Ax.length;dp++){var hp=Ax[dp],a2=hp.toLowerCase(),l2=hp[0].toUpperCase()+hp.slice(1);ei(a2,"on"+l2)}ei(YT,"onAnimationEnd");ei(QT,"onAnimationIteration");ei(XT,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(JT,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Rx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aP(r,e,void 0,t),t.currentTarget=null}function eb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Rx(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Rx(s,a,d),i=c}}}if(Pd)throw t=wm,Pd=!1,wm=null,t}function He(t,e){var n=e[km];n===void 0&&(n=e[km]=new Set);var r=t+"__bubble";n.has(r)||(tb(e,t,2,!1),n.add(r))}function fp(t,e,n){var r=0;e&&(r|=4),tb(n,t,r,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Yl(t){if(!t[Au]){t[Au]=!0,lT.forEach(function(n){n!=="selectionchange"&&(c2.has(n)||fp(n,!1,t),fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,fp("selectionchange",!1,e))}}function tb(t,e,n,r){switch(VT(e)){case 1:var s=TP;break;case 4:s=bP;break;default:s=ry}n=s.bind(null,e,n,t),s=void 0,!vm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ti(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}bT(function(){var d=i,h=Zg(n),f=[];e:{var p=ZT.get(t);if(p!==void 0){var w=iy,x=t;switch(t){case"keypress":if(sd(n)===0)break e;case"keydown":case"keyup":w=FP;break;case"focusin":x="focus",w=ap;break;case"focusout":x="blur",w=ap;break;case"beforeblur":case"afterblur":w=ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=CP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=$P;break;case YT:case QT:case XT:w=AP;break;case JT:w=WP;break;case"scroll":w=SP;break;case"wheel":w=qP;break;case"copy":case"cut":case"paste":w=PP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=_x}var _=(e&4)!==0,b=!_&&t==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var v=d,T;v!==null;){T=v;var j=T.stateNode;if(T.tag===5&&j!==null&&(T=j,g!==null&&(j=zl(v,g),j!=null&&_.push(Ql(v,j,T)))),b)break;v=v.return}0<_.length&&(p=new w(p,x,null,n,h),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==gm&&(x=n.relatedTarget||n.fromElement)&&(Ti(x)||x[Qr]))break e;if((w||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=d,x=x?Ti(x):null,x!==null&&(b=to(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=d),w!==x)){if(_=wx,j="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=_x,j="onPointerLeave",g="onPointerEnter",v="pointer"),b=w==null?p:jo(w),T=x==null?p:jo(x),p=new _(j,v+"leave",w,n,h),p.target=b,p.relatedTarget=T,j=null,Ti(h)===d&&(_=new _(g,v+"enter",x,n,h),_.target=T,_.relatedTarget=b,j=_),b=j,w&&x)t:{for(_=w,g=x,v=0,T=_;T;T=yo(T))v++;for(T=0,j=g;j;j=yo(j))T++;for(;0<v-T;)_=yo(_),v--;for(;0<T-v;)g=yo(g),T--;for(;v--;){if(_===g||g!==null&&_===g.alternate)break t;_=yo(_),g=yo(g)}_=null}else _=null;w!==null&&Px(f,p,w,_,!1),x!==null&&b!==null&&Px(f,b,x,_,!0)}}e:{if(p=d?jo(d):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var D=ZP;else if(bx(p))if(WT)D=r2;else{D=t2;var O=e2}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=n2);if(D&&(D=D(t,d))){zT(f,D,n,h);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&dm(p,"number",p.value)}switch(O=d?jo(d):window,t){case"focusin":(bx(O)||O.contentEditable==="true")&&(Po=O,Tm=d,Nl=null);break;case"focusout":Nl=Tm=Po=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,kx(f,n,h);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":kx(f,n,h)}var I;if(ay)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ro?BT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(UT&&n.locale!=="ko"&&(Ro||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ro&&(I=FT()):(Ss=h,sy="value"in Ss?Ss.value:Ss.textContent,Ro=!0)),O=Ld(d,S),0<O.length&&(S=new xx(S,t,null,n,h),f.push({event:S,listeners:O}),I?S.data=I:(I=$T(n),I!==null&&(S.data=I)))),(I=KP?YP(t,n):QP(t,n))&&(d=Ld(d,"onBeforeInput"),0<d.length&&(h=new xx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}eb(f,e)})}function Ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zl(t,n),i!=null&&r.unshift(Ql(t,i,s)),i=zl(t,e),i!=null&&r.push(Ql(t,i,s))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Px(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=zl(n,i),c!=null&&o.unshift(Ql(n,c,a))):s||(c=zl(n,i),c!=null&&o.push(Ql(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var u2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function Dx(t){return(typeof t=="string"?t:""+t).replace(u2,`
`).replace(d2,"")}function Ru(t,e,n){if(e=Dx(e),Dx(t)!==e&&n)throw Error(W(425))}function Vd(){}var Sm=null,Im=null;function Cm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,h2=typeof clearTimeout=="function"?clearTimeout:void 0,jx=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof jx<"u"?function(t){return jx.resolve(null).then(t).catch(p2)}:Nm;function p2(t){setTimeout(function(){throw t})}function mp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ql(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ox(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ta,Xl="__reactProps$"+Ta,Qr="__reactContainer$"+Ta,km="__reactEvents$"+Ta,m2="__reactListeners$"+Ta,g2="__reactHandles$"+Ta;function Ti(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ox(t);t!==null;){if(n=t[ar])return n;t=Ox(t)}return e}t=n,n=t.parentNode}return null}function Tc(t){return t=t[ar]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Oh(t){return t[Xl]||null}var Am=[],Oo=-1;function ti(t){return{current:t}}function qe(t){0>Oo||(t.current=Am[Oo],Am[Oo]=null,Oo--)}function Be(t,e){Oo++,Am[Oo]=t.current,t.current=e}var Bs={},Kt=ti(Bs),ln=ti(!1),Oi=Bs;function ia(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cn(t){return t=t.childContextTypes,t!=null}function Fd(){qe(ln),qe(Kt)}function Mx(t,e,n){if(Kt.current!==Bs)throw Error(W(168));Be(Kt,e),Be(ln,n)}function nb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,eP(t)||"Unknown",s));return rt({},n,r)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Oi=Kt.current,Be(Kt,t),Be(ln,ln.current),!0}function Lx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=nb(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,qe(ln),qe(Kt),Be(Kt,t)):qe(ln),Be(ln,n)}var Mr=null,Mh=!1,gp=!1;function rb(t){Mr===null?Mr=[t]:Mr.push(t)}function y2(t){Mh=!0,rb(t)}function ni(){if(!gp&&Mr!==null){gp=!0;var t=0,e=Me;try{var n=Mr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Mh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),NT(ey,ni),s}finally{Me=e,gp=!1}}return null}var Mo=[],Lo=0,Bd=null,$d=0,In=[],Cn=0,Mi=null,Lr=1,Vr="";function wi(t,e){Mo[Lo++]=$d,Mo[Lo++]=Bd,Bd=t,$d=e}function sb(t,e,n){In[Cn++]=Lr,In[Cn++]=Vr,In[Cn++]=Mi,Mi=t;var r=Lr;t=Vr;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Lr=1<<32-qn(e)+s|n<<s|r,Vr=i+t}else Lr=1<<i|n<<s|r,Vr=t}function cy(t){t.return!==null&&(wi(t,1),sb(t,1,0))}function uy(t){for(;t===Bd;)Bd=Mo[--Lo],Mo[Lo]=null,$d=Mo[--Lo],Mo[Lo]=null;for(;t===Mi;)Mi=In[--Cn],In[Cn]=null,Vr=In[--Cn],In[Cn]=null,Lr=In[--Cn],In[Cn]=null}var vn=null,gn=null,Ge=!1,zn=null;function ib(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,gn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:Lr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,gn=null,!0):!1;default:return!1}}function Rm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pm(t){if(Ge){var e=gn;if(e){var n=e;if(!Vx(t,e)){if(Rm(t))throw Error(W(418));e=Rs(n.nextSibling);var r=vn;e&&Vx(t,e)?ib(r,n):(t.flags=t.flags&-4097|2,Ge=!1,vn=t)}}else{if(Rm(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ge=!1,vn=t}}}function Fx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function Pu(t){if(t!==vn)return!1;if(!Ge)return Fx(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cm(t.type,t.memoizedProps)),e&&(e=gn)){if(Rm(t))throw ob(),Error(W(418));for(;e;)ib(t,e),e=Rs(e.nextSibling)}if(Fx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=vn?Rs(t.stateNode.nextSibling):null;return!0}function ob(){for(var t=gn;t;)t=Rs(t.nextSibling)}function oa(){gn=vn=null,Ge=!1}function dy(t){zn===null?zn=[t]:zn.push(t)}var v2=os.ReactCurrentBatchConfig;function rl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ux(t){var e=t._init;return e(t._payload)}function ab(t){function e(g,v){if(t){var T=g.deletions;T===null?(g.deletions=[v],g.flags|=16):T.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Os(g,v),g.index=0,g.sibling=null,g}function i(g,v,T){return g.index=T,t?(T=g.alternate,T!==null?(T=T.index,T<v?(g.flags|=2,v):T):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,T,j){return v===null||v.tag!==6?(v=Tp(T,g.mode,j),v.return=g,v):(v=s(v,T),v.return=g,v)}function c(g,v,T,j){var D=T.type;return D===Ao?h(g,v,T.props.children,j,T.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ys&&Ux(D)===v.type)?(j=s(v,T.props),j.ref=rl(g,v,T),j.return=g,j):(j=dd(T.type,T.key,T.props,null,g.mode,j),j.ref=rl(g,v,T),j.return=g,j)}function d(g,v,T,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=bp(T,g.mode,j),v.return=g,v):(v=s(v,T.children||[]),v.return=g,v)}function h(g,v,T,j,D){return v===null||v.tag!==7?(v=Ai(T,g.mode,j,D),v.return=g,v):(v=s(v,T),v.return=g,v)}function f(g,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Tp(""+v,g.mode,T),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Eu:return T=dd(v.type,v.key,v.props,null,g.mode,T),T.ref=rl(g,null,v),T.return=g,T;case ko:return v=bp(v,g.mode,T),v.return=g,v;case ys:var j=v._init;return f(g,j(v._payload),T)}if(hl(v)||Ja(v))return v=Ai(v,g.mode,T,null),v.return=g,v;Du(g,v)}return null}function p(g,v,T,j){var D=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(g,v,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:return T.key===D?c(g,v,T,j):null;case ko:return T.key===D?d(g,v,T,j):null;case ys:return D=T._init,p(g,v,D(T._payload),j)}if(hl(T)||Ja(T))return D!==null?null:h(g,v,T,j,null);Du(g,T)}return null}function w(g,v,T,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(T)||null,a(v,g,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Eu:return g=g.get(j.key===null?T:j.key)||null,c(v,g,j,D);case ko:return g=g.get(j.key===null?T:j.key)||null,d(v,g,j,D);case ys:var O=j._init;return w(g,v,T,O(j._payload),D)}if(hl(j)||Ja(j))return g=g.get(T)||null,h(v,g,j,D,null);Du(v,j)}return null}function x(g,v,T,j){for(var D=null,O=null,I=v,S=v=0,N=null;I!==null&&S<T.length;S++){I.index>S?(N=I,I=null):N=I.sibling;var R=p(g,I,T[S],j);if(R===null){I===null&&(I=N);break}t&&I&&R.alternate===null&&e(g,I),v=i(R,v,S),O===null?D=R:O.sibling=R,O=R,I=N}if(S===T.length)return n(g,I),Ge&&wi(g,S),D;if(I===null){for(;S<T.length;S++)I=f(g,T[S],j),I!==null&&(v=i(I,v,S),O===null?D=I:O.sibling=I,O=I);return Ge&&wi(g,S),D}for(I=r(g,I);S<T.length;S++)N=w(I,g,S,T[S],j),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?S:N.key),v=i(N,v,S),O===null?D=N:O.sibling=N,O=N);return t&&I.forEach(function(C){return e(g,C)}),Ge&&wi(g,S),D}function _(g,v,T,j){var D=Ja(T);if(typeof D!="function")throw Error(W(150));if(T=D.call(T),T==null)throw Error(W(151));for(var O=D=null,I=v,S=v=0,N=null,R=T.next();I!==null&&!R.done;S++,R=T.next()){I.index>S?(N=I,I=null):N=I.sibling;var C=p(g,I,R.value,j);if(C===null){I===null&&(I=N);break}t&&I&&C.alternate===null&&e(g,I),v=i(C,v,S),O===null?D=C:O.sibling=C,O=C,I=N}if(R.done)return n(g,I),Ge&&wi(g,S),D;if(I===null){for(;!R.done;S++,R=T.next())R=f(g,R.value,j),R!==null&&(v=i(R,v,S),O===null?D=R:O.sibling=R,O=R);return Ge&&wi(g,S),D}for(I=r(g,I);!R.done;S++,R=T.next())R=w(I,g,S,R.value,j),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),v=i(R,v,S),O===null?D=R:O.sibling=R,O=R);return t&&I.forEach(function(k){return e(g,k)}),Ge&&wi(g,S),D}function b(g,v,T,j){if(typeof T=="object"&&T!==null&&T.type===Ao&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:e:{for(var D=T.key,O=v;O!==null;){if(O.key===D){if(D=T.type,D===Ao){if(O.tag===7){n(g,O.sibling),v=s(O,T.props.children),v.return=g,g=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ys&&Ux(D)===O.type){n(g,O.sibling),v=s(O,T.props),v.ref=rl(g,O,T),v.return=g,g=v;break e}n(g,O);break}else e(g,O);O=O.sibling}T.type===Ao?(v=Ai(T.props.children,g.mode,j,T.key),v.return=g,g=v):(j=dd(T.type,T.key,T.props,null,g.mode,j),j.ref=rl(g,v,T),j.return=g,g=j)}return o(g);case ko:e:{for(O=T.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(g,v.sibling),v=s(v,T.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=bp(T,g.mode,j),v.return=g,g=v}return o(g);case ys:return O=T._init,b(g,v,O(T._payload),j)}if(hl(T))return x(g,v,T,j);if(Ja(T))return _(g,v,T,j);Du(g,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,T),v.return=g,g=v):(n(g,v),v=Tp(T,g.mode,j),v.return=g,g=v),o(g)):n(g,v)}return b}var aa=ab(!0),lb=ab(!1),zd=ti(null),Wd=null,Vo=null,hy=null;function fy(){hy=Vo=Wd=null}function py(t){var e=zd.current;qe(zd),t._currentValue=e}function Dm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){Wd=t,hy=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(hy!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(Wd===null)throw Error(W(308));Vo=t,Wd.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var bi=null;function my(t){bi===null?bi=[t]:bi.push(t)}function cb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,my(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function gy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ub(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xr(t,n)}return s=r.interleaved,s===null?(e.next=e,my(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xr(t,n)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}function Bx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var s=t.updateQueue;vs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,w=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,_=a;switch(p=e,w=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){f=x.call(w,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,p=typeof x=="function"?x.call(w,f,p):x,p==null)break e;f=rt({},f,p);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=w,c=f):h=h.next=w,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function $x(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var bc={},hr=ti(bc),Jl=ti(bc),Zl=ti(bc);function Si(t){if(t===bc)throw Error(W(174));return t}function yy(t,e){switch(Be(Zl,e),Be(Jl,t),Be(hr,bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fm(e,t)}qe(hr),Be(hr,e)}function la(){qe(hr),qe(Jl),qe(Zl)}function db(t){Si(Zl.current);var e=Si(hr.current),n=fm(e,t.type);e!==n&&(Be(Jl,t),Be(hr,n))}function vy(t){Jl.current===t&&(qe(hr),qe(Jl))}var Je=ti(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yp=[];function wy(){for(var t=0;t<yp.length;t++)yp[t]._workInProgressVersionPrimary=null;yp.length=0}var od=os.ReactCurrentDispatcher,vp=os.ReactCurrentBatchConfig,Li=0,tt=null,wt=null,St=null,Gd=!1,kl=!1,ec=0,w2=0;function Ut(){throw Error(W(321))}function xy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function _y(t,e,n,r,s,i){if(Li=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?T2:b2,t=n(r,s),kl){i=0;do{if(kl=!1,ec=0,25<=i)throw Error(W(301));i+=1,St=wt=null,e.updateQueue=null,od.current=S2,t=n(r,s)}while(kl)}if(od.current=Kd,e=wt!==null&&wt.next!==null,Li=0,St=wt=tt=null,Gd=!1,e)throw Error(W(300));return t}function Ey(){var t=ec!==0;return ec=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=t:St=St.next=t,St}function Mn(){if(wt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=St===null?tt.memoizedState:St.next;if(e!==null)St=e,wt=t;else{if(t===null)throw Error(W(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?tt.memoizedState=St=t:St=St.next=t}return St}function tc(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Li&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,tt.lanes|=h,Vi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Kn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,tt.lanes|=i,Vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kn(i,e.memoizedState)||(an=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function hb(){}function fb(t,e){var n=tt,r=Mn(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,an=!0),r=r.queue,Ty(gb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,nc(9,mb.bind(null,n,r,s,e),void 0,null),It===null)throw Error(W(349));Li&30||pb(n,e,s)}return s}function pb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mb(t,e,n,r){e.value=n,e.getSnapshot=r,yb(e)&&vb(t)}function gb(t,e,n){return n(function(){yb(e)&&vb(t)})}function yb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function vb(t){var e=Xr(t,1);e!==null&&Gn(e,t,1,-1)}function zx(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=E2.bind(null,tt,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wb(){return Mn().memoizedState}function ad(t,e,n,r){var s=sr();tt.flags|=t,s.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Lh(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&xy(r,o.deps)){s.memoizedState=nc(e,n,i,r);return}}tt.flags|=t,s.memoizedState=nc(1|e,n,i,r)}function Wx(t,e){return ad(8390656,8,t,e)}function Ty(t,e){return Lh(2048,8,t,e)}function xb(t,e){return Lh(4,2,t,e)}function _b(t,e){return Lh(4,4,t,e)}function Eb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tb(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4,4,Eb.bind(null,e,t),n)}function by(){}function bb(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sb(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ib(t,e,n){return Li&21?(Kn(n,e)||(n=RT(),tt.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function x2(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=vp.transition;vp.transition={};try{t(!1),e()}finally{Me=n,vp.transition=r}}function Cb(){return Mn().memoizedState}function _2(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nb(t))kb(e,n);else if(n=cb(t,e,n,r),n!==null){var s=en();Gn(n,t,r,s),Ab(n,e,r)}}function E2(t,e,n){var r=js(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nb(t))kb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Kn(a,o)){var c=e.interleaved;c===null?(s.next=s,my(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=cb(t,e,s,r),n!==null&&(s=en(),Gn(n,t,r,s),Ab(n,e,r))}}function Nb(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function kb(t,e){kl=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ab(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}var Kd={readContext:On,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},T2={readContext:On,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Wx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ad(4194308,4,Eb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return ad(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_2.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:zx,useDebugValue:by,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=zx(!1),e=t[0];return t=x2.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,s=sr();if(Ge){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),It===null)throw Error(W(349));Li&30||pb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Wx(gb.bind(null,r,i,t),[t]),r.flags|=2048,nc(9,mb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sr(),e=It.identifierPrefix;if(Ge){var n=Vr,r=Lr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},b2={readContext:On,useCallback:bb,useContext:On,useEffect:Ty,useImperativeHandle:Tb,useInsertionEffect:xb,useLayoutEffect:_b,useMemo:Sb,useReducer:wp,useRef:wb,useState:function(){return wp(tc)},useDebugValue:by,useDeferredValue:function(t){var e=Mn();return Ib(e,wt.memoizedState,t)},useTransition:function(){var t=wp(tc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:hb,useSyncExternalStore:fb,useId:Cb,unstable_isNewReconciler:!1},S2={readContext:On,useCallback:bb,useContext:On,useEffect:Ty,useImperativeHandle:Tb,useInsertionEffect:xb,useLayoutEffect:_b,useMemo:Sb,useReducer:xp,useRef:wb,useState:function(){return xp(tc)},useDebugValue:by,useDeferredValue:function(t){var e=Mn();return wt===null?e.memoizedState=t:Ib(e,wt.memoizedState,t)},useTransition:function(){var t=xp(tc)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:hb,useSyncExternalStore:fb,useId:Cb,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vh={isMounted:function(t){return(t=t._reactInternals)?to(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=js(t),i=zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Gn(e,t,s,r),id(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=js(t),i=zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Gn(e,t,s,r),id(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=js(t),s=zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(Gn(e,t,r,n),id(e,t,r))}};function Hx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(s,i):!0}function Rb(t,e,n){var r=!1,s=Bs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=cn(e)?Oi:Kt.current,r=e.contextTypes,i=(r=r!=null)?ia(t,s):Bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function qx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vh.enqueueReplaceState(e,e.state,null)}function Om(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=cn(e)?Oi:Kt.current,s.context=ia(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vh.enqueueReplaceState(s,s.state,null),Hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do n+=ZR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I2=typeof WeakMap=="function"?WeakMap:Map;function Pb(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qd||(Qd=!0,qm=r),Mm(t,e)},n}function Db(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Mm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mm(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Gx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=U2.bind(null,t,e,n),e.then(t,t))}function Kx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var C2=os.ReactCurrentOwner,an=!1;function Zt(t,e,n,r){e.child=t===null?lb(e,null,n,r):aa(e,t.child,n,r)}function Qx(t,e,n,r,s){n=n.render;var i=e.ref;return qo(e,s),r=_y(t,e,n,r,i,s),n=Ey(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ge&&n&&cy(e),e.flags|=1,Zt(t,e,r,s),e.child)}function Xx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Py(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jb(t,e,i,r,s)):(t=dd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(o,r)&&t.ref===e.ref)return Jr(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function jb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kl(i,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Jr(t,e,s)}return Lm(t,e,n,r,s)}function Ob(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Uo,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Uo,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Uo,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Uo,fn),fn|=r;return Zt(t,e,s,n),e.child}function Mb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,n,r,s){var i=cn(n)?Oi:Kt.current;return i=ia(e,i),qo(e,s),n=_y(t,e,n,r,i,s),r=Ey(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ge&&r&&cy(e),e.flags|=1,Zt(t,e,n,s),e.child)}function Jx(t,e,n,r,s){if(cn(n)){var i=!0;Ud(e)}else i=!1;if(qo(e,s),e.stateNode===null)ld(t,e),Rb(e,n,r),Om(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=cn(n)?Oi:Kt.current,d=ia(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&qx(e,o,r,d),vs=!1;var p=e.memoizedState;o.state=p,Hd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||ln.current||vs?(typeof h=="function"&&(jm(e,n,h,r),c=e.memoizedState),(a=vs||Hx(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ub(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Bn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=On(c):(c=cn(n)?Oi:Kt.current,c=ia(e,c));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&qx(e,o,r,c),vs=!1,p=e.memoizedState,o.state=p,Hd(e,r,o,s);var x=e.memoizedState;a!==f||p!==x||ln.current||vs?(typeof w=="function"&&(jm(e,n,w,r),x=e.memoizedState),(d=vs||Hx(e,n,d,r,p,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Vm(t,e,n,r,i,s)}function Vm(t,e,n,r,s,i){Mb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Lx(e,n,!1),Jr(t,e,i);r=e.stateNode,C2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=aa(e,t.child,null,i),e.child=aa(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&Lx(e,n,!0),e.child}function Lb(t){var e=t.stateNode;e.pendingContext?Mx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mx(t,e.context,!1),yy(t,e.containerInfo)}function Zx(t,e,n,r,s){return oa(),dy(s),e.flags|=256,Zt(t,e,n,r),e.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Um(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vb(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Je,s&1),t===null)return Pm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bh(o,r,0,null),t=Ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Um(n),e.memoizedState=Fm,t):Sy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return N2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Os(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=Ai(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Um(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fm,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sy(t,e){return e=Bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ju(t,e,n,r){return r!==null&&dy(r),aa(e,t.child,null,n),t=Sy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(W(422))),ju(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bh({mode:"visible",children:r.children},s,0,null),i=Ai(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&aa(e,t.child,null,o),e.child.memoizedState=Um(o),e.memoizedState=Fm,i);if(!(e.mode&1))return ju(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=_p(i,r,void 0),ju(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xr(t,s),Gn(r,t,s,-1))}return Ry(),r=_p(Error(W(421))),ju(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=B2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,gn=Rs(s.nextSibling),vn=e,Ge=!0,zn=null,t!==null&&(In[Cn++]=Lr,In[Cn++]=Vr,In[Cn++]=Mi,Lr=t.id,Vr=t.overflow,Mi=e),e=Sy(e,r.children),e.flags|=4096,e)}function e0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dm(t.return,e,n)}function Ep(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,n,e);else if(t.tag===19)e0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ep(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ep(e,!0,n,null,i);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k2(t,e,n){switch(e.tag){case 3:Lb(e),oa();break;case 5:db(e);break;case 1:cn(e.type)&&Ud(e);break;case 4:yy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(zd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?Vb(t,e,n):(Be(Je,Je.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,Ob(t,e,n)}return Jr(t,e,n)}var Ub,Bm,Bb,$b;Ub=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bm=function(){};Bb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Si(hr.current);var i=null;switch(n){case"input":s=cm(t,s),r=cm(t,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=hm(t,s),r=hm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}pm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};$b=function(t,e,n,r){n!==r&&(e.flags|=4)};function sl(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function A2(t,e,n){var r=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return cn(e.type)&&Fd(),Bt(e),null;case 3:return r=e.stateNode,la(),qe(ln),qe(Kt),wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(Ym(zn),zn=null))),Bm(t,e),Bt(e),null;case 5:vy(e);var s=Si(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)Bb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Bt(e),null}if(t=Si(hr.current),Pu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[Xl]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<pl.length;s++)He(pl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":cx(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":dx(r,i),He("invalid",r)}pm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",""+a]):Bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Tu(r),ux(r,i,!0);break;case"textarea":Tu(r),hx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[Xl]=r,Ub(t,e,!1,!1),e.stateNode=t;e:{switch(o=mm(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<pl.length;s++)He(pl[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":cx(t,r),s=cm(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),He("invalid",t);break;case"textarea":dx(t,r),s=hm(t,r),He("invalid",t);break;default:s=r}pm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?wT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$l(t,c):typeof c=="number"&&$l(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",t):c!=null&&Yg(t,i,c,o))}switch(n){case"input":Tu(t),ux(t,r,!1);break;case"textarea":Tu(t),hx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$o(t,!!r.multiple,i,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)$b(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Si(Zl.current),Si(hr.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Bt(e),null;case 13:if(qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&gn!==null&&e.mode&1&&!(e.flags&128))ob(),oa(),e.flags|=98560,i=!1;else if(i=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[ar]=e}else oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else zn!==null&&(Ym(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?xt===0&&(xt=3):Ry())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return la(),Bm(t,e),t===null&&Yl(e.stateNode.containerInfo),Bt(e),null;case 10:return py(e.type._context),Bt(e),null;case 17:return cn(e.type)&&Fd(),Bt(e),null;case 19:if(qe(Je),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)sl(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qd(t),o!==null){for(e.flags|=128,sl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>ua&&(e.flags|=128,r=!0,sl(i,!1),e.lanes=4194304)}else{if(!r)if(t=qd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Bt(e),null}else 2*ct()-i.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,sl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return Ay(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function R2(t,e){switch(uy(e),e.tag){case 1:return cn(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return la(),qe(ln),qe(Kt),wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vy(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return la(),null;case 10:return py(e.type._context),null;case 22:case 23:return Ay(),null;case 24:return null;default:return null}}var Ou=!1,Ht=!1,P2=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function $m(t,e,n){try{n()}catch(r){at(t,e,r)}}var t0=!1;function D2(t,e){if(Sm=Od,t=GT(),ly(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var w;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Im={focusedElem:t,selectionRange:n},Od=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,b=x.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bn(e.type,_),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){at(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return x=t0,t0=!1,x}function Al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$m(e,n,i)}s=s.next}while(s!==r)}}function Fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zb(t){var e=t.alternate;e!==null&&(t.alternate=null,zb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[Xl],delete e[km],delete e[m2],delete e[g2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wb(t){return t.tag===5||t.tag===3||t.tag===4}function n0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}var Rt=null,$n=!1;function ds(t,e,n){for(n=n.child;n!==null;)Hb(t,e,n),n=n.sibling}function Hb(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Rh,n)}catch{}switch(n.tag){case 5:Ht||Fo(n,e);case 6:var r=Rt,s=$n;Rt=null,ds(t,e,n),Rt=r,$n=s,Rt!==null&&($n?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&($n?(t=Rt,n=n.stateNode,t.nodeType===8?mp(t.parentNode,n):t.nodeType===1&&mp(t,n),ql(t)):mp(Rt,n.stateNode));break;case 4:r=Rt,s=$n,Rt=n.stateNode.containerInfo,$n=!0,ds(t,e,n),Rt=r,$n=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$m(n,e,o),s=s.next}while(s!==r)}ds(t,e,n);break;case 1:if(!Ht&&(Fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ds(t,e,n),Ht=r):ds(t,e,n);break;default:ds(t,e,n)}}function r0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P2),e.forEach(function(r){var s=$2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,$n=!1;break e;case 3:Rt=a.stateNode.containerInfo,$n=!0;break e;case 4:Rt=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(Rt===null)throw Error(W(160));Hb(i,o,s),Rt=null,$n=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){at(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qb(e,t),e=e.sibling}function qb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),rr(t),r&4){try{Al(3,t,t.return),Fh(3,t)}catch(_){at(t,t.return,_)}try{Al(5,t,t.return)}catch(_){at(t,t.return,_)}}break;case 1:Fn(e,t),rr(t),r&512&&n!==null&&Fo(n,n.return);break;case 5:if(Fn(e,t),rr(t),r&512&&n!==null&&Fo(n,n.return),t.flags&32){var s=t.stateNode;try{$l(s,"")}catch(_){at(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pT(s,i),mm(a,o);var d=mm(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?wT(s,f):h==="dangerouslySetInnerHTML"?yT(s,f):h==="children"?$l(s,f):Yg(s,h,f,d)}switch(a){case"input":um(s,i);break;case"textarea":mT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?$o(s,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?$o(s,!!i.multiple,i.defaultValue,!0):$o(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xl]=i}catch(_){at(t,t.return,_)}}break;case 6:if(Fn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){at(t,t.return,_)}}break;case 3:if(Fn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(_){at(t,t.return,_)}break;case 4:Fn(e,t),rr(t);break;case 13:Fn(e,t),rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ny=ct())),r&4&&r0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(d=Ht)||h,Fn(e,t),Ht=d):Fn(e,t),rr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(f=ee=h;ee!==null;){switch(p=ee,w=p.child,p.tag){case 0:case 11:case 14:case 15:Al(4,p,p.return);break;case 1:Fo(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){at(r,n,_)}}break;case 5:Fo(p,p.return);break;case 22:if(p.memoizedState!==null){i0(f);continue}}w!==null?(w.return=p,ee=w):i0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=vT("display",o))}catch(_){at(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){at(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),rr(t),r&4&&r0(t);break;case 21:break;default:Fn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wb(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($l(s,""),r.flags&=-33);var i=n0(t);Hm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n0(t);Wm(t,a,o);break;default:throw Error(W(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j2(t,e,n){ee=t,Gb(t)}function Gb(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ht;a=Ou;var d=Ht;if(Ou=o,(Ht=c)&&!d)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?o0(s):c!==null?(c.return=o,ee=c):o0(s);for(;i!==null;)ee=i,Gb(i),i=i.sibling;ee=s,Ou=a,Ht=d}s0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):s0(t)}}function s0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Fh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$x(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$x(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ht||e.flags&512&&zm(e)}catch(p){at(e,e.return,p)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function i0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function o0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fh(4,e)}catch(c){at(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{zm(e)}catch(c){at(e,i,c)}break;case 5:var o=e.return;try{zm(e)}catch(c){at(e,o,c)}}}catch(c){at(e,e.return,c)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var O2=Math.ceil,Yd=os.ReactCurrentDispatcher,Iy=os.ReactCurrentOwner,Dn=os.ReactCurrentBatchConfig,ke=0,It=null,dt=null,Ot=0,fn=0,Uo=ti(0),xt=0,rc=null,Vi=0,Uh=0,Cy=0,Rl=null,sn=null,Ny=0,ua=1/0,Or=null,Qd=!1,qm=null,Ds=null,Mu=!1,Is=null,Xd=0,Pl=0,Gm=null,cd=-1,ud=0;function en(){return ke&6?ct():cd!==-1?cd:cd=ct()}function js(t){return t.mode&1?ke&2&&Ot!==0?Ot&-Ot:v2.transition!==null?(ud===0&&(ud=RT()),ud):(t=Me,t!==0||(t=window.event,t=t===void 0?16:VT(t.type)),t):1}function Gn(t,e,n,r){if(50<Pl)throw Pl=0,Gm=null,Error(W(185));_c(t,n,r),(!(ke&2)||t!==It)&&(t===It&&(!(ke&2)&&(Uh|=n),xt===4&&xs(t,Ot)),un(t,r),n===1&&ke===0&&!(e.mode&1)&&(ua=ct()+500,Mh&&ni()))}function un(t,e){var n=t.callbackNode;vP(t,e);var r=jd(t,t===It?Ot:0);if(r===0)n!==null&&mx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mx(n),e===1)t.tag===0?y2(a0.bind(null,t)):rb(a0.bind(null,t)),f2(function(){!(ke&6)&&ni()}),n=null;else{switch(PT(r)){case 1:n=ey;break;case 4:n=kT;break;case 16:n=Dd;break;case 536870912:n=AT;break;default:n=Dd}n=tS(n,Kb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kb(t,e){if(cd=-1,ud=0,ke&6)throw Error(W(327));var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var r=jd(t,t===It?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jd(t,r);else{e=r;var s=ke;ke|=2;var i=Qb();(It!==t||Ot!==e)&&(Or=null,ua=ct()+500,ki(t,e));do try{V2();break}catch(a){Yb(t,a)}while(!0);fy(),Yd.current=i,ke=s,dt!==null?e=0:(It=null,Ot=0,e=xt)}if(e!==0){if(e===2&&(s=xm(t),s!==0&&(r=s,e=Km(t,s))),e===1)throw n=rc,ki(t,0),xs(t,r),un(t,ct()),n;if(e===6)xs(t,r);else{if(s=t.current.alternate,!(r&30)&&!M2(s)&&(e=Jd(t,r),e===2&&(i=xm(t),i!==0&&(r=i,e=Km(t,i))),e===1))throw n=rc,ki(t,0),xs(t,r),un(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:xi(t,sn,Or);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=Ny+500-ct(),10<e)){if(jd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nm(xi.bind(null,t,sn,Or),e);break}xi(t,sn,Or);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O2(r/1960))-r,10<r){t.timeoutHandle=Nm(xi.bind(null,t,sn,Or),r);break}xi(t,sn,Or);break;case 5:xi(t,sn,Or);break;default:throw Error(W(329))}}}return un(t,ct()),t.callbackNode===n?Kb.bind(null,t):null}function Km(t,e){var n=Rl;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=Jd(t,e),t!==2&&(e=sn,sn=n,e!==null&&Ym(e)),t}function Ym(t){sn===null?sn=t:sn.push.apply(sn,t)}function M2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~Cy,e&=~Uh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function a0(t){if(ke&6)throw Error(W(327));Go();var e=jd(t,0);if(!(e&1))return un(t,ct()),null;var n=Jd(t,e);if(t.tag!==0&&n===2){var r=xm(t);r!==0&&(e=r,n=Km(t,r))}if(n===1)throw n=rc,ki(t,0),xs(t,e),un(t,ct()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,sn,Or),un(t,ct()),null}function ky(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(ua=ct()+500,Mh&&ni())}}function Fi(t){Is!==null&&Is.tag===0&&!(ke&6)&&Go();var e=ke;ke|=1;var n=Dn.transition,r=Me;try{if(Dn.transition=null,Me=1,t)return t()}finally{Me=r,Dn.transition=n,ke=e,!(ke&6)&&ni()}}function Ay(){fn=Uo.current,qe(Uo)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h2(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:la(),qe(ln),qe(Kt),wy();break;case 5:vy(r);break;case 4:la();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:py(r.type._context);break;case 22:case 23:Ay()}n=n.return}if(It=t,dt=t=Os(t.current,null),Ot=fn=e,xt=0,rc=null,Cy=Uh=Vi=0,sn=Rl=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bi=null}return t}function Yb(t,e){do{var n=dt;try{if(fy(),od.current=Kd,Gd){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(Li=0,St=wt=tt=null,kl=!1,ec=0,Iy.current=null,n===null||n.return===null){xt=1,rc=e,dt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Kx(o);if(w!==null){w.flags&=-257,Yx(w,o,a,i,e),w.mode&1&&Gx(i,d,e),e=w,c=d;var x=e.updateQueue;if(x===null){var _=new Set;_.add(c),e.updateQueue=_}else x.add(c);break e}else{if(!(e&1)){Gx(i,d,e),Ry();break e}c=Error(W(426))}}else if(Ge&&a.mode&1){var b=Kx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yx(b,o,a,i,e),dy(ca(c,a));break e}}i=c=ca(c,a),xt!==4&&(xt=2),Rl===null?Rl=[i]:Rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Pb(i,c,e);Bx(i,g);break e;case 1:a=c;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ds===null||!Ds.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=Db(i,a,e);Bx(i,j);break e}}i=i.return}while(i!==null)}Jb(n)}catch(D){e=D,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function Qb(){var t=Yd.current;return Yd.current=Kd,t===null?Kd:t}function Ry(){(xt===0||xt===3||xt===2)&&(xt=4),It===null||!(Vi&268435455)&&!(Uh&268435455)||xs(It,Ot)}function Jd(t,e){var n=ke;ke|=2;var r=Qb();(It!==t||Ot!==e)&&(Or=null,ki(t,e));do try{L2();break}catch(s){Yb(t,s)}while(!0);if(fy(),ke=n,Yd.current=r,dt!==null)throw Error(W(261));return It=null,Ot=0,xt}function L2(){for(;dt!==null;)Xb(dt)}function V2(){for(;dt!==null&&!cP();)Xb(dt)}function Xb(t){var e=eS(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?Jb(t):dt=e,Iy.current=null}function Jb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R2(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,dt=null;return}}else if(n=A2(n,e,fn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);xt===0&&(xt=5)}function xi(t,e,n){var r=Me,s=Dn.transition;try{Dn.transition=null,Me=1,F2(t,e,n,r)}finally{Dn.transition=s,Me=r}return null}function F2(t,e,n,r){do Go();while(Is!==null);if(ke&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wP(t,i),t===It&&(dt=It=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mu||(Mu=!0,tS(Dd,function(){return Go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=Me;Me=1;var a=ke;ke|=4,Iy.current=null,D2(t,n),qb(n,t),i2(Im),Od=!!Sm,Im=Sm=null,t.current=n,j2(n),uP(),ke=a,Me=o,Dn.transition=i}else t.current=n;if(Mu&&(Mu=!1,Is=t,Xd=s),i=t.pendingLanes,i===0&&(Ds=null),fP(n.stateNode),un(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qd)throw Qd=!1,t=qm,qm=null,t;return Xd&1&&t.tag!==0&&Go(),i=t.pendingLanes,i&1?t===Gm?Pl++:(Pl=0,Gm=t):Pl=0,ni(),null}function Go(){if(Is!==null){var t=PT(Xd),e=Dn.transition,n=Me;try{if(Dn.transition=null,Me=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,Xd=0,ke&6)throw Error(W(331));var s=ke;for(ke|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ee=d;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:Al(8,h,i)}var f=h.child;if(f!==null)f.return=h,ee=f;else for(;ee!==null;){h=ee;var p=h.sibling,w=h.return;if(zb(h),h===d){ee=null;break}if(p!==null){p.return=w,ee=p;break}ee=w}}}var x=i.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Al(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ee=g;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){o=ee;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ee=T;else e:for(o=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fh(9,a)}}catch(D){at(a,a.return,D)}if(a===o){ee=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,ee=j;break e}ee=a.return}}if(ke=s,ni(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Rh,t)}catch{}r=!0}return r}finally{Me=n,Dn.transition=e}}return!1}function l0(t,e,n){e=ca(n,e),e=Pb(t,e,1),t=Ps(t,e,1),e=en(),t!==null&&(_c(t,1,e),un(t,e))}function at(t,e,n){if(t.tag===3)l0(t,t,n);else for(;e!==null;){if(e.tag===3){l0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=ca(n,t),t=Db(e,t,1),e=Ps(e,t,1),t=en(),e!==null&&(_c(e,1,t),un(e,t));break}}e=e.return}}function U2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ot&n)===n&&(xt===4||xt===3&&(Ot&130023424)===Ot&&500>ct()-Ny?ki(t,0):Cy|=n),un(t,e)}function Zb(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=en();t=Xr(t,e),t!==null&&(_c(t,e,n),un(t,n))}function B2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zb(t,n)}function $2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Zb(t,n)}var eS;eS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,k2(t,e,n);an=!!(t.flags&131072)}else an=!1,Ge&&e.flags&1048576&&sb(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ld(t,e),t=e.pendingProps;var s=ia(e,Kt.current);qo(e,n),s=_y(null,e,r,t,s,n);var i=Ey();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(i=!0,Ud(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gy(e),s.updater=Vh,e.stateNode=s,s._reactInternals=e,Om(e,r,t,n),e=Vm(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&cy(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ld(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=W2(r),t=Bn(r,t),s){case 0:e=Lm(null,e,r,t,n);break e;case 1:e=Jx(null,e,r,t,n);break e;case 11:e=Qx(null,e,r,t,n);break e;case 14:e=Xx(null,e,r,Bn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Lm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Jx(t,e,r,s,n);case 3:e:{if(Lb(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ub(t,e),Hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ca(Error(W(423)),e),e=Zx(t,e,r,n,s);break e}else if(r!==s){s=ca(Error(W(424)),e),e=Zx(t,e,r,n,s);break e}else for(gn=Rs(e.stateNode.containerInfo.firstChild),vn=e,Ge=!0,zn=null,n=lb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),r===s){e=Jr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return db(e),t===null&&Pm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cm(r,s)?o=null:i!==null&&Cm(r,i)&&(e.flags|=32),Mb(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Pm(e),null;case 13:return Vb(t,e,n);case 4:return yy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=aa(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Qx(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(zd,r._currentValue),r._currentValue=o,i!==null)if(Kn(i.value,o)){if(i.children===s.children&&!ln.current){e=Jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=zr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Dm(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qo(e,n),s=On(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),Xx(t,e,r,s,n);case 15:return jb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),ld(t,e),e.tag=1,cn(r)?(t=!0,Ud(e)):t=!1,qo(e,n),Rb(e,r,s),Om(e,r,s,n),Vm(null,e,r,!0,t,n);case 19:return Fb(t,e,n);case 22:return Ob(t,e,n)}throw Error(W(156,e.tag))};function tS(t,e){return NT(t,e)}function z2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new z2(t,e,n,r)}function Py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W2(t){if(typeof t=="function")return Py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xg)return 11;if(t===Jg)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Ai(n.children,s,i,e);case Qg:o=8,s|=8;break;case im:return t=Rn(12,n,e,s|2),t.elementType=im,t.lanes=i,t;case om:return t=Rn(13,n,e,s),t.elementType=om,t.lanes=i,t;case am:return t=Rn(19,n,e,s),t.elementType=am,t.lanes=i,t;case dT:return Bh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cT:o=10;break e;case uT:o=9;break e;case Xg:o=11;break e;case Jg:o=14;break e;case ys:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ai(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Bh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=dT,t.lanes=n,t.stateNode={isHidden:!1},t}function Tp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function bp(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dy(t,e,n,r,s,i,o,a,c){return t=new H2(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(i),t}function q2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nS(t){if(!t)return Bs;t=t._reactInternals;e:{if(to(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(cn(n))return nb(t,n,e)}return e}function rS(t,e,n,r,s,i,o,a,c){return t=Dy(n,r,!0,t,s,i,o,a,c),t.context=nS(null),n=t.current,r=en(),s=js(n),i=zr(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,_c(t,s,r),un(t,r),t}function $h(t,e,n,r){var s=e.current,i=en(),o=js(s);return n=nS(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(Gn(t,s,o,i),id(t,s,o)),o}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jy(t,e){c0(t,e),(t=t.alternate)&&c0(t,e)}function G2(){return null}var sS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oy(t){this._internalRoot=t}zh.prototype.render=Oy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));$h(t,e,null,null)};zh.prototype.unmount=Oy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){$h(null,t,null,null)}),e[Qr]=null}};function zh(t){this._internalRoot=t}zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=OT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ws.length&&e!==0&&e<ws[n].priority;n++);ws.splice(n,0,t),n===0&&LT(t)}};function My(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u0(){}function K2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Zd(o);i.call(d)}}var o=rS(e,r,t,0,null,!1,!1,"",u0);return t._reactRootContainer=o,t[Qr]=o.current,Yl(t.nodeType===8?t.parentNode:t),Fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Zd(c);a.call(d)}}var c=Dy(t,0,!1,null,null,!1,!1,"",u0);return t._reactRootContainer=c,t[Qr]=c.current,Yl(t.nodeType===8?t.parentNode:t),Fi(function(){$h(e,c,n,r)}),c}function Hh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Zd(o);a.call(c)}}$h(e,o,t,s)}else o=K2(n,e,t,s,r);return Zd(o)}DT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fl(e.pendingLanes);n!==0&&(ty(e,n|1),un(e,ct()),!(ke&6)&&(ua=ct()+500,ni()))}break;case 13:Fi(function(){var r=Xr(t,1);if(r!==null){var s=en();Gn(r,t,1,s)}}),jy(t,1)}};ny=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=en();Gn(e,t,134217728,n)}jy(t,134217728)}};jT=function(t){if(t.tag===13){var e=js(t),n=Xr(t,e);if(n!==null){var r=en();Gn(n,t,e,r)}jy(t,e)}};OT=function(){return Me};MT=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};ym=function(t,e,n){switch(e){case"input":if(um(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Oh(r);if(!s)throw Error(W(90));fT(r),um(r,s)}}}break;case"textarea":mT(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};ET=ky;TT=Fi;var Y2={usingClientEntryPoint:!1,Events:[Tc,jo,Oh,xT,_T,ky]},il={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q2={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IT(t),t===null?null:t.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||G2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Rh=Lu.inject(Q2),dr=Lu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(e))throw Error(W(200));return q2(t,e,null,n)};En.createRoot=function(t,e){if(!My(t))throw Error(W(299));var n=!1,r="",s=sS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dy(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,Yl(t.nodeType===8?t.parentNode:t),new Oy(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=IT(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Fi(t)};En.hydrate=function(t,e,n){if(!Wh(e))throw Error(W(200));return Hh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!My(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rS(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,Yl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zh(e)};En.render=function(t,e,n){if(!Wh(e))throw Error(W(200));return Hh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(W(40));return t._reactRootContainer?(Fi(function(){Hh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};En.unstable_batchedUpdates=ky;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Hh(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(t){console.error(t)}}iS(),iT.exports=En;var ba=iT.exports;const X2=qE(ba);var oS,d0=ba;oS=d0.createRoot,d0.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h0="popstate";function J2(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Qm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sc(s)}return eD(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substring(2,10)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function Qm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:n,key:e&&e.key||r||Z2()}}function sc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eD(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let b=h(),g=b==null?null:b-d;d=b,c&&c({action:a,location:_.location,delta:g})}function p(b,g){a="PUSH";let v=Qm(_.location,b,g);d=h()+1;let T=f0(v,d),j=_.createHref(v);try{o.pushState(T,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(j)}i&&c&&c({action:a,location:_.location,delta:1})}function w(b,g){a="REPLACE";let v=Qm(_.location,b,g);d=h();let T=f0(v,d),j=_.createHref(v);o.replaceState(T,"",j),i&&c&&c({action:a,location:_.location,delta:0})}function x(b){return tD(b)}let _={get action(){return a},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(h0,f),c=b,()=>{s.removeEventListener(h0,f),c=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let g=x(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:w,go(b){return o.go(b)}};return _}function tD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aS(t,e,n="/"){return nD(t,e,n,!1)}function nD(t,e,n,r){let s=typeof e=="string"?Sa(e):e,i=Zr(s.pathname||"/",n);if(i==null)return null;let o=lS(t);rD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=pD(i);a=hD(o[c],d,r)}return a}function lS(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Wr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:uD(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of cS(i.path))s(i,o,c)}),e}function cS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=cS(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function rD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sD=/^:[\w-]+$/,iD=3,oD=2,aD=1,lD=10,cD=-2,p0=t=>t==="*";function uD(t,e){let n=t.split("/"),r=n.length;return n.some(p0)&&(r+=cD),e&&(r+=oD),n.filter(s=>!p0(s)).reduce((s,i)=>s+(sD.test(i)?iD:i===""?aD:lD),r)}function dD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hD(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=eh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=eh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Wr([i,f.pathname]),pathnameBase:vD(Wr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Wr([i,f.pathnameBase]))}return o}function eh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let x=a[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=a[p];return f&&!w?d[h]=void 0:d[h]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function fD(t,e=!1,n=!0){_r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Sa(t):t;return{pathname:n?n.startsWith("/")?n:gD(n,e):e,search:wD(r),hash:xD(s)}}function gD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uS(t){let e=yD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function dS(t,e,n,r=!1){let s;typeof t=="string"?s=Sa(t):(s={...t},nt(!s.pathname||!s.pathname.includes("?"),Sp("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Sp("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Sp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=mD(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Wr=t=>t.join("/").replace(/\/\/+/g,"/"),vD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _D(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hS=["POST","PUT","PATCH","DELETE"];new Set(hS);var ED=["GET",...hS];new Set(ED);var Ia=y.createContext(null);Ia.displayName="DataRouter";var qh=y.createContext(null);qh.displayName="DataRouterState";y.createContext(!1);var fS=y.createContext({isTransitioning:!1});fS.displayName="ViewTransition";var TD=y.createContext(new Map);TD.displayName="Fetchers";var bD=y.createContext(null);bD.displayName="Await";var Sr=y.createContext(null);Sr.displayName="Navigation";var Sc=y.createContext(null);Sc.displayName="Location";var Ir=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Ly=y.createContext(null);Ly.displayName="RouteError";function SD(t,{relative:e}={}){nt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Sr),{hash:s,pathname:i,search:o}=Cc(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Wr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Ic(){return y.useContext(Sc)!=null}function no(){return nt(Ic(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Sc).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mS(t){y.useContext(Sr).static||y.useLayoutEffect(t)}function gS(){let{isDataRoute:t}=y.useContext(Ir);return t?FD():ID()}function ID(){nt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(Ia),{basename:e,navigator:n}=y.useContext(Sr),{matches:r}=y.useContext(Ir),{pathname:s}=no(),i=JSON.stringify(uS(r)),o=y.useRef(!1);return mS(()=>{o.current=!0}),y.useCallback((c,d={})=>{if(_r(o.current,pS),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=dS(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}y.createContext(null);function CD(){let{matches:t}=y.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function Cc(t,{relative:e}={}){let{matches:n}=y.useContext(Ir),{pathname:r}=no(),s=JSON.stringify(uS(n));return y.useMemo(()=>dS(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function ND(t,e){return yS(t,e)}function yS(t,e,n,r){var g;nt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Sr),{matches:i}=y.useContext(Ir),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";vS(c,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=no(),p;if(e){let v=typeof e=="string"?Sa(e):e;nt(d==="/"||((g=v.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=f;let w=p.pathname||"/",x=w;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=aS(t,{pathname:x});_r(h||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),_r(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=DD(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Wr([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Wr([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&b?y.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function kD(){let t=VD(),e=_D(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var AD=y.createElement(kD,null),RD=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?y.createElement(Ir.Provider,{value:this.props.routeContext},y.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PD({routeContext:t,match:e,children:n}){let r=y.useContext(Ia);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Ir.Provider,{value:t},n)}function DD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);nt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,w=null,x=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,w=d.route.errorElement||AD,o&&(a<0&&h===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):a===h&&(p=!0,x=d.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,h+1)),b=()=>{let g;return f?g=w:p?g=x:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,y.createElement(PD,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(RD,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}function Vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jD(t){let e=y.useContext(Ia);return nt(e,Vy(t)),e}function OD(t){let e=y.useContext(qh);return nt(e,Vy(t)),e}function MD(t){let e=y.useContext(Ir);return nt(e,Vy(t)),e}function Fy(t){let e=MD(t),n=e.matches[e.matches.length-1];return nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LD(){return Fy("useRouteId")}function VD(){var r;let t=y.useContext(Ly),e=OD("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FD(){let{router:t}=jD("useNavigate"),e=Fy("useNavigate"),n=y.useRef(!1);return mS(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{_r(n.current,pS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var m0={};function vS(t,e,n){!e&&!m0[t]&&(m0[t]=!0,_r(!1,n))}y.memo(UD);function UD({routes:t,future:e,state:n}){return yS(t,void 0,n,e)}function Eo(t){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){nt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Sa(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,w=y.useMemo(()=>{let x=Zr(c,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return _r(w!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(Sr.Provider,{value:a},y.createElement(Sc.Provider,{children:e,value:w}))}function $D({children:t,location:e}){return ND(Xm(t),e)}function Xm(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Xm(r.props.children,i));return}nt(r.type===Eo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xm(r.props.children,i)),n.push(o)}),n}var hd="get",fd="application/x-www-form-urlencoded";function Gh(t){return t!=null&&typeof t.tagName=="string"}function zD(t){return Gh(t)&&t.tagName.toLowerCase()==="button"}function WD(t){return Gh(t)&&t.tagName.toLowerCase()==="form"}function HD(t){return Gh(t)&&t.tagName.toLowerCase()==="input"}function qD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GD(t,e){return t.button===0&&(!e||e==="_self")&&!qD(t)}var Vu=null;function KD(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var YD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(t){return t!=null&&!YD.has(t)?(_r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):t}function QD(t,e){let n,r,s,i,o;if(WD(t)){let a=t.getAttribute("action");r=a?Zr(a,e):null,n=t.getAttribute("method")||hd,s=Ip(t.getAttribute("enctype"))||fd,i=new FormData(t)}else if(zD(t)||HD(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Zr(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||hd,s=Ip(t.getAttribute("formenctype"))||Ip(a.getAttribute("enctype"))||fd,i=new FormData(a,t),!KD()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hd,r=null,s=fd,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Zr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function JD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ej(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await JD(i,n);return o.links?o.links():[]}return[]}));return sj(r.flat(1).filter(ZD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function g0(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function tj(t,e,{includeHydrateFallback:n}={}){return nj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function nj(t){return[...new Set(t)]}function rj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function sj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(rj(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function wS(){let t=y.useContext(Ia);return Uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ij(){let t=y.useContext(qh);return Uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var By=y.createContext(void 0);By.displayName="FrameworkContext";function xS(){let t=y.useContext(By);return Uy(t,"You must render this element inside a <HydratedRouter> element"),t}function oj(t,e){let n=y.useContext(By),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=g=>{g.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(_,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),y.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let w=()=>{s(!0)},x=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ol(a,w),onBlur:ol(c,x),onMouseEnter:ol(d,w),onMouseLeave:ol(h,x),onTouchStart:ol(f,w)}]:[!1,p,{}]}function ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aj({page:t,...e}){let{router:n}=wS(),r=y.useMemo(()=>aS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(cj,{page:t,matches:r,...e}):null}function lj(t){let{manifest:e,routeModules:n}=xS(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return ej(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function cj({page:t,matches:e,...n}){let r=no(),{manifest:s,routeModules:i}=xS(),{basename:o}=wS(),{loaderData:a,matches:c}=ij(),d=y.useMemo(()=>g0(t,e,c,s,r,"data"),[t,e,c,s,r]),h=y.useMemo(()=>g0(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,_=!1;if(e.forEach(g=>{var T;let v=s.routes[g.route.id];!v||!v.hasLoader||(!d.some(j=>j.route.id===g.route.id)&&g.route.id in a&&((T=i[g.route.id])!=null&&T.shouldRevalidate)||v.hasClientLoader?_=!0:x.add(g.route.id))}),x.size===0)return[];let b=XD(t,o,"data");return _&&x.size>0&&b.searchParams.set("_routes",e.filter(g=>x.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[o,a,r,s,d,e,t,i]),p=y.useMemo(()=>tj(h,s),[h,s]),w=lj(h);return y.createElement(y.Fragment,null,f.map(x=>y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>y.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:_})=>y.createElement("link",{key:x,..._})))}function uj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_S&&(window.__reactRouterVersion="7.7.1")}catch{}function dj({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=J2({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(BD,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},w){let{basename:x}=y.useContext(Sr),_=typeof d=="string"&&ES.test(d),b,g=!1;if(typeof d=="string"&&_&&(b=d,_S))try{let N=new URL(window.location.href),R=d.startsWith("//")?new URL(N.protocol+d):new URL(d),C=Zr(R.pathname,x);R.origin===N.origin&&C!=null?d=C+R.search+R.hash:g=!0}catch{_r(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=SD(d,{relative:s}),[T,j,D]=oj(r,p),O=mj(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function I(N){e&&e(N),N.defaultPrevented||O(N)}let S=y.createElement("a",{...p,...D,href:b||v,onClick:g||i?e:I,ref:uj(w,j),target:c,"data-discover":!_&&n==="render"?"true":void 0});return T&&!_?y.createElement(y.Fragment,null,S,y.createElement(aj,{page:v})):S});ic.displayName="Link";var hj=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},h){let f=Cc(o,{relative:d.relative}),p=no(),w=y.useContext(qh),{navigator:x,basename:_}=y.useContext(Sr),b=w!=null&&xj(f)&&a===!0,g=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,v=p.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(v=v.toLowerCase(),T=T?T.toLowerCase():null,g=g.toLowerCase()),T&&_&&(T=Zr(T,_)||T);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let D=v===g||!s&&v.startsWith(g)&&v.charAt(j)==="/",O=T!=null&&(T===g||!s&&T.startsWith(g)&&T.charAt(g.length)==="/"),I={isActive:D,isPending:O,isTransitioning:b},S=D?e:void 0,N;typeof r=="function"?N=r(I):N=[r,D?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(I):i;return y.createElement(ic,{...d,"aria-current":S,className:N,ref:h,style:R,to:o,viewTransition:a},typeof c=="function"?c(I):c)});hj.displayName="NavLink";var fj=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=hd,action:a,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},w)=>{let x=vj(),_=wj(a,{relative:d}),b=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&ES.test(a),v=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let j=T.nativeEvent.submitter,D=(j==null?void 0:j.getAttribute("formmethod"))||o;x(j||T.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return y.createElement("form",{ref:w,method:b,action:_,onSubmit:r?c:v,...p,"data-discover":!g&&t==="render"?"true":void 0})});fj.displayName="Form";function pj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TS(t){let e=y.useContext(Ia);return nt(e,pj(t)),e}function mj(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=gS(),c=no(),d=Cc(t,{relative:i});return y.useCallback(h=>{if(GD(h,e)){h.preventDefault();let f=n!==void 0?n:sc(c)===sc(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,r,e,t,s,i,o])}var gj=0,yj=()=>`__${String(++gj)}__`;function vj(){let{router:t}=TS("useSubmit"),{basename:e}=y.useContext(Sr),n=LD();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=QD(r,e);if(s.navigate===!1){let h=s.fetcherKey||yj();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function wj(t,{relative:e}={}){let{basename:n}=y.useContext(Sr),r=y.useContext(Ir);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Cc(t||".",{relative:e})},o=no();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Wr([n,i.pathname])),sc(i)}function xj(t,{relative:e}={}){let n=y.useContext(fS);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TS("useViewTransitionState"),s=Cc(t,{relative:e});if(!n.isTransitioning)return!1;let i=Zr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Zr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eh(s.pathname,o)!=null||eh(s.pathname,i)!=null}const _j=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ej=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,w=d&63;c||(w=64,o||(p=64)),r.push(n[h],n[f],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ej(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new Tj;const p=i<<2|a>>4;if(r.push(p),d!==64){const w=a<<4&240|d>>2;if(r.push(w),f!==64){const x=d<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bj=function(t){const e=bS(t);return SS.encodeByteArray(e,!0)},th=function(t){return bj(t).replace(/\./g,"")},IS=function(t){try{return SS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=()=>Sj().__FIREBASE_DEFAULTS__,Cj=()=>{if(typeof process>"u"||typeof y0>"u")return;const t=y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IS(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return _j()||Ij()||Cj()||Nj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CS=t=>{var e,n;return(n=(e=Kh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kj=t=>{const e=CS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NS=()=>{var t;return(t=Kh())==null?void 0:t.config},kS=t=>{var e;return(e=Kh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[th(JSON.stringify(n)),th(JSON.stringify(o)),""].join(".")}const Dl={};function Pj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?t.emulator.push(e):t.prod.push(e);return t}function Dj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let v0=!1;function RS(t,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Dl[t]===e||Dl[t]||v0)return;Dl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Pj().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,w){p.setAttribute("width","24"),p.setAttribute("id",w),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{v0=!0,o()},p}function h(p,w){p.setAttribute("id",w),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Dj(r),w=n("text"),x=document.getElementById(w)||document.createElement("span"),_=n("learnmore"),b=document.getElementById(_)||document.createElement("a"),g=n("preprendIcon"),v=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),h(b,_);const j=d();c(v,g),T.append(v,x,b,j),document.body.appendChild(T)}i?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function Oj(){var e;const t=(e=Kh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vj(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fj(){return!Oj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DS(){try{return typeof indexedDB=="object"}catch{return!1}}function jS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function Uj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bj,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$j(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new er(s,a,r)}}function $j(t,e){return t.replace(zj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zj=/\{\$([^}]+)}/g;function Wj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(w0(i)&&w0(o)){if(!$s(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Hj(t,e){const n=new qj(t,e);return n.subscribe.bind(n)}class qj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Gj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Cp),s.error===void 0&&(s.error=Cp),s.complete===void 0&&(s.complete=Cp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=1e3,Yj=2,Qj=4*60*60*1e3,Xj=.5;function x0(t,e=Kj,n=Yj){const r=e*Math.pow(n,t),s=Math.round(Xj*r*(Math.random()-.5)*2);return Math.min(Qj,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Aj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zj(t){return t===_i?void 0:t}function eO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const nO={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},rO=ve.INFO,sO={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},iO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=rO,this._logHandler=iO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const oO=(t,e)=>e.some(n=>t instanceof n);let _0,E0;function aO(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,Jm=new WeakMap,MS=new WeakMap,Np=new WeakMap,$y=new WeakMap;function cO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OS.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function uO(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jm.set(t,e)}let Zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dO(t){Zm=t(Zm)}function hO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kp(this),e,...n);return MS.set(r,e.sort?e.sort():[e]),Ms(r)}:lO().includes(t)?function(...e){return t.apply(kp(this),e),Ms(OS.get(this))}:function(...e){return Ms(t.apply(kp(this),e))}}function fO(t){return typeof t=="function"?hO(t):(t instanceof IDBTransaction&&uO(t),oO(t,aO())?new Proxy(t,Zm):t)}function Ms(t){if(t instanceof IDBRequest)return cO(t);if(Np.has(t))return Np.get(t);const e=fO(t);return e!==t&&(Np.set(t,e),$y.set(e,t)),e}const kp=t=>$y.get(t);function LS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ms(o.result),c.oldVersion,c.newVersion,Ms(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const pO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],Ap=new Map;function T0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Ap.set(e,i),i}dO(t=>({...t,get:(e,n,r)=>T0(e,n)||t.get(e,n,r),has:(e,n)=>!!T0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eg="@firebase/app",b0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Yh("@firebase/app"),vO="@firebase/app-compat",wO="@firebase/analytics-compat",xO="@firebase/analytics",_O="@firebase/app-check-compat",EO="@firebase/app-check",TO="@firebase/auth",bO="@firebase/auth-compat",SO="@firebase/database",IO="@firebase/data-connect",CO="@firebase/database-compat",NO="@firebase/functions",kO="@firebase/functions-compat",AO="@firebase/installations",RO="@firebase/installations-compat",PO="@firebase/messaging",DO="@firebase/messaging-compat",jO="@firebase/performance",OO="@firebase/performance-compat",MO="@firebase/remote-config",LO="@firebase/remote-config-compat",VO="@firebase/storage",FO="@firebase/storage-compat",UO="@firebase/firestore",BO="@firebase/ai",$O="@firebase/firestore-compat",zO="firebase",WO="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",HO={[eg]:"fire-core",[vO]:"fire-core-compat",[xO]:"fire-analytics",[wO]:"fire-analytics-compat",[EO]:"fire-app-check",[_O]:"fire-app-check-compat",[TO]:"fire-auth",[bO]:"fire-auth-compat",[SO]:"fire-rtdb",[IO]:"fire-data-connect",[CO]:"fire-rtdb-compat",[NO]:"fire-fn",[kO]:"fire-fn-compat",[AO]:"fire-iid",[RO]:"fire-iid-compat",[PO]:"fire-fcm",[DO]:"fire-fcm-compat",[jO]:"fire-perf",[OO]:"fire-perf-compat",[MO]:"fire-rc",[LO]:"fire-rc-compat",[VO]:"fire-gcs",[FO]:"fire-gcs-compat",[UO]:"fire-fst",[$O]:"fire-fst-compat",[BO]:"fire-vertex","fire-js":"fire-js",[zO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,qO=new Map,ng=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){const e=t.name;if(ng.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(const n of nh.values())S0(n,t);for(const n of qO.values())S0(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new ro("app","Firebase",GO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=WO;function VS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=NS()),!n)throw Ls.create("no-options");const i=nh.get(s);if(i){if($s(n,i.options)&&$s(r,i.config))return i;throw Ls.create("duplicate-app",{appName:s})}const o=new tO(s);for(const c of ng.values())o.addComponent(c);const a=new KO(n,r,o);return nh.set(s,a),a}function zy(t=tg){const e=nh.get(t);if(!e&&t===tg&&NS())return VS();if(!e)throw Ls.create("no-app",{appName:t});return e}function jn(t,e,n){let r=HO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}Er(new Yn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firebase-heartbeat-database",QO=1,oc="firebase-heartbeat-store";let Rp=null;function FS(){return Rp||(Rp=LS(YO,QO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function XO(t){try{const n=(await FS()).transaction(oc),r=await n.objectStore(oc).get(US(t));return await n.done,r}catch(e){if(e instanceof er)es.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function I0(t,e){try{const r=(await FS()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,US(t)),await r.done}catch(n){if(n instanceof er)es.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function US(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=1024,ZO=30;class eM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=C0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ZO){const o=rM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C0(),{heartbeatsToSend:r,unsentEntries:s}=tM(this._heartbeatsCache.heartbeats),i=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return es.warn(n),""}}}function C0(){return new Date().toISOString().substring(0,10)}function tM(t,e=JO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),N0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DS()?jS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N0(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function rM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){Er(new Yn("platform-logger",e=>new gO(e),"PRIVATE")),Er(new Yn("heartbeat",e=>new eM(e),"PRIVATE")),jn(eg,b0,t),jn(eg,b0,"esm2020"),jn("fire-js","")}sM("");function BS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iM=BS,$S=new ro("auth","Firebase",BS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Yh("@firebase/auth");function oM(t,...e){rh.logLevel<=ve.WARN&&rh.warn(`Auth (${Na}): ${t}`,...e)}function pd(t,...e){rh.logLevel<=ve.ERROR&&rh.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Wy(t,...e)}function fr(t,...e){return Wy(t,...e)}function zS(t,e,n){const r={...iM(),[e]:n};return new ro("auth","Firebase",r).create(e,{appName:t.name})}function Hr(t){return zS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $S.create(t,...e)}function oe(t,e,...n){if(!t)throw Wy(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function ts(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function aM(){return k0()==="http:"||k0()==="https:"}function k0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aM()||PS()||"connection"in navigator)?navigator.onLine:!0}function cM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=jj()||Lj()}get(){return lM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hM=new kc(3e4,6e4);function ri(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function si(t,e,n,r,s={}){return HS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Nc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return Mj()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(d.credentials="include"),WS.fetch()(await qS(t,t.config.apiHost,n,a),d)})}async function HS(t,e,n){t._canInitEmulator=!1;const r={...uM,...e};try{const s=new pM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zS(t,h,d);Qn(t,h)}}catch(s){if(s instanceof er)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function Ac(t,e,n,r,s={}){const i=await si(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function qS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Hy(t.config,s):`${t.config.apiScheme}://${s}`;return dM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function fM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),hM.get())})}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(t,e,r);return s.customData._tokenResponse=n,s}function A0(t){return t!==void 0&&t.enterprise!==void 0}class mM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gM(t,e){return si(t,"GET","/v2/recaptchaConfig",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function sh(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vM(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=qy(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:jl(Pp(s.auth_time)),issuedAtTime:jl(Pp(s.iat)),expirationTime:jl(Pp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pp(t){return Number(t)*1e3}function qy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const s=IS(n);return s?JSON.parse(s):(pd("Failed to decode base64 JWT payload"),null)}catch(s){return pd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function R0(t){const e=qy(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&wM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ac(t,sh(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?GS(s.providerUserInfo):[],o=EM(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function _M(t){const e=mt(t);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function GS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){const n=await HS(t,{},async()=>{const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await qS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(c.credentials="include"),WS.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bM(t,e){return si(t,"POST","/v2/accounts:revokeToken",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=R0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await TM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ko;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new xM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vM(this,e)}reload(){return _M(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await ac(this,yM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:w,providerData:x,stsTokenManager:_}=n;oe(f&&_,e,"internal-error");const b=Ko.fromJSON(this.name,_);oe(typeof f=="string",e,"internal-error"),hs(r,e.name),hs(s,e.name),oe(typeof p=="boolean",e,"internal-error"),oe(typeof w=="boolean",e,"internal-error"),hs(i,e.name),hs(o,e.name),hs(a,e.name),hs(c,e.name),hs(d,e.name),hs(h,e.name);const g=new Wn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:d,lastLoginAt:h});return x&&Array.isArray(x)&&(g.providerData=x.map(v=>({...v}))),c&&(g._redirectEventId=c),g}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ko;s.updateFromServerResponse(n);const i=new Wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ih(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?GS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ko;a.updateFromIdToken(r);const c=new Wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new sg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;function Ur(t){ts(t instanceof Function,"Expected a class definition");let e=P0.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KS.type="NONE";const D0=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=md(this.userKey,s.apiKey,i),this.fullPersistenceKey=md("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(Ur(D0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ur(D0);const o=md(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await sh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Wn._fromGetAccountInfoResponse(e,p,h)}else f=Wn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Yo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Yo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if(QS(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(ZS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YS(t=Yt()){return/firefox\//i.test(t)}function QS(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(t=Yt()){return/crios\//i.test(t)}function JS(t=Yt()){return/iemobile/i.test(t)}function ZS(t=Yt()){return/android/i.test(t)}function e1(t=Yt()){return/blackberry/i.test(t)}function t1(t=Yt()){return/webos/i.test(t)}function Gy(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SM(t=Yt()){var e;return Gy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function IM(){return Vj()&&document.documentMode===10}function n1(t=Yt()){return Gy(t)||ZS(t)||t1(t)||e1(t)||/windows phone/i.test(t)||JS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e=[]){let n;switch(t){case"Browser":n=j0(Yt());break;case"Worker":n=`${j0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e={}){return si(t,"GET","/v2/passwordPolicy",ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=6;class AM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new CM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Hr(this));const n=e?mt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NM(this),n=new AM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&oM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function io(t){return mt(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hj(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PM(t){Qh=t}function s1(t){return Qh.loadJS(t)}function DM(){return Qh.recaptchaEnterpriseScript}function jM(){return Qh.gapiScript}function OM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MM{constructor(){this.enterprise=new LM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VM="recaptcha-enterprise",i1="NO_RECAPTCHA";class FM{constructor(e){this.type=VM,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{gM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new mM(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;A0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(i1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MM().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&A0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=DM();c.length!==0&&(c+=a),s1(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function M0(t,e,n,r=!1,s=!1){const i=new FM(t);let o;if(s)o=i1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ig(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await M0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await M0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t,e){const n=so(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if($s(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function BM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $M(t,e,n){const r=io(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=o1(e),{host:o,port:a}=zM(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe($s(d,r.config.emulator)&&$s(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ca(o)?(AS(`${i}//${o}${c}`),RS("Auth",!0)):WM()}function o1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zM(t){const e=o1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:L0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:L0(o)}}}function L0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function HM(t,e){return si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return Ac(t,"POST","/v1/accounts:signInWithPassword",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}async function KM(t,e){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Ky{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,n,"signInWithPassword",qM);case"emailLink":return GM(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",HM);case"emailLink":return KM(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return Ac(t,"POST","/v1/accounts:signInWithIdp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="http://localhost";class Ui extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ui(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:YM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XM(t){const e=ml(gl(t)).link,n=e?ml(gl(e)).deep_link_id:null,r=ml(gl(t)).deep_link_id;return(r?ml(gl(r)).link:null)||r||n||e||t}class Yy{constructor(e){const n=ml(gl(e)),r=n.apiKey??null,s=n.oobCode??null,i=QM(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=XM(e);try{return new Yy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yy.parseLink(n);return oe(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Rc{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ui._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Rc{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Rc{constructor(){super("twitter.com")}static credential(e,n){return Ui._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e){return Ac(t,"POST","/v1/accounts:signUp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wn._fromIdTokenResponse(e,r,s),o=V0(r);return new Bi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=V0(r);return new Bi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function V0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends er{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new oh(e,n,r,s)}}function l1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,i,e,r):i})}async function ZM(t,e,n=!1){const r=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(Hr(r));const s="reauthenticate";try{const i=await ac(t,l1(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=qy(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Bi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t,e,n=!1){if(kn(t.app))return Promise.reject(Hr(t));const r="signIn",s=await l1(t,r,e),i=await Bi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function t4(t,e){return c1(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function n4(t,e,n){if(kn(t.app))return Promise.reject(Hr(t));const r=io(t),o=await ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JM).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&u1(t),c}),a=await Bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function r4(t,e,n){return kn(t.app)?Promise.reject(Hr(t)):t4(mt(t),ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u1(t),r})}function s4(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function i4(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function o4(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function a4(t){return mt(t).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=1e3,c4=10;class h1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);IM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,c4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const u4=h1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f1.type="SESSION";const p1=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await d4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=Qy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function f4(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function p4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function g4(){return m1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firebaseLocalStorageDb",y4=1,lh="firebaseLocalStorage",y1="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(t,e){return t.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function v4(){const t=indexedDB.deleteDatabase(g1);return new Pc(t).toPromise()}function og(){const t=indexedDB.open(g1,y4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lh,{keyPath:y1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await v4(),e(await og()))})})}async function F0(t,e,n){const r=Jh(t,!0).put({[y1]:e,value:n});return new Pc(r).toPromise()}async function w4(t,e){const n=Jh(t,!1).get(e),r=await new Pc(n).toPromise();return r===void 0?null:r.value}function U0(t,e){const n=Jh(t,!0).delete(e);return new Pc(n).toPromise()}const x4=800,_4=3;class v1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(g4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await p4(),!this.activeServiceWorker)return;this.sender=new h4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await F0(e,ah,"1"),await U0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>w4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jh(s,!1).getAll();return new Pc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v1.type="LOCAL";const E4=v1;new kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t,e){return e?Ur(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b4(t){return c1(t.auth,new Xy(t),t.bypassAuthState)}function S4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),e4(n,new Xy(t),t.bypassAuthState)}async function I4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),ZM(n,new Xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b4;case"linkViaPopup":case"linkViaRedirect":return I4;case"reauthViaPopup":case"reauthViaRedirect":return S4;default:Qn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new kc(2e3,1e4);class Bo extends w1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C4.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="pendingRedirect",gd=new Map;class k4 extends w1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await A4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A4(t,e){const n=D4(e),r=P4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function R4(t,e){gd.set(t._key(),e)}function P4(t){return Ur(t._redirectPersistence)}function D4(t){return md(N4,t.config.apiKey,t.name)}async function j4(t,e,n=!1){if(kn(t.app))return Promise.reject(Hr(t));const r=io(t),s=T4(r,e),o=await new k4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=10*60*1e3;class M4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O4&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U4=/^https?/;async function B4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V4(t);for(const n of e)try{if($4(n))return}catch{}Qn(t,"unauthorized-domain")}function $4(t){const e=rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!U4.test(n))return!1;if(F4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new kc(3e4,6e4);function $0(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W4(t){return new Promise((e,n)=>{var s,i,o;function r(){$0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$0(),n(fr(t,"network-request-failed"))},timeout:z4.get()})}if((i=(s=pr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=pr().gapi)!=null&&o.load)r();else{const a=OM("iframefcb");return pr()[a]=()=>{gapi.load?r():n(fr(t,"network-request-failed"))},s1(`${jM()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw yd=null,e})}let yd=null;function H4(t){return yd=yd||W4(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new kc(5e3,15e3),G4="__/auth/iframe",K4="emulator/auth/iframe",Y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X4(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,K4):`https://${t.config.authDomain}/${G4}`,r={apiKey:e.apiKey,appName:t.name,v:Na},s=Q4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nc(r).slice(1)}`}async function J4(t){const e=await H4(t),n=pr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:X4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},q4.get());function c(){pr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eL=500,tL=600,nL="_blank",rL="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sL(t,e,n,r=eL,s=tL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...Z4,width:r.toString(),height:s.toString(),top:i,left:o},d=Yt().toLowerCase();n&&(a=XS(d)?nL:n),YS(d)&&(e=e||rL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[w,x])=>`${p}${w}=${x},`,"");if(SM(d)&&a!=="_self")return iL(e||"",a),new z0(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new z0(f)}function iL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="__/auth/handler",aL="emulator/auth/handler",lL=encodeURIComponent("fac");async function W0(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:s};if(e instanceof a1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Rc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${lL}=${encodeURIComponent(c)}`:"";return`${cL(t)}?${Nc(a).slice(1)}${d}`}function cL({config:t}){return t.emulator?Hy(t,aL):`https://${t.authDomain}/${oL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="webStorageSupport";class uL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=j4,this._overrideRedirectResult=R4}async _openPopup(e,n,r,s){var o;ts((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await W0(e,n,r,rg(),s);return sL(e,i,Qy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await W0(e,n,r,rg(),s);return f4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ts(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J4(e),r=new M4(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dp,{type:Dp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Dp];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n1()||QS()||Gy()}}const dL=uL;var H0="@firebase/auth",q0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pL(t){Er(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(t)},d=new RM(r,s,i,c);return BM(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new Yn("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new hL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(H0,q0,fL(t)),jn(H0,q0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=5*60,gL=kS("authIdTokenMaxAge")||mL;let G0=null;const yL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gL)return;const s=n==null?void 0:n.token;G0!==s&&(G0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vL(t=zy()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UM(t,{popupRedirectResolver:dL,persistence:[E4,u4,p1]}),r=kS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=yL(i.toString());i4(n,o,()=>o(n.currentUser)),s4(n,a=>o(a))}}const s=CS("auth");return s&&$M(n,`http://${s}`),n}function wL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}PM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",wL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pL("Browser");var xL="firebase",_L="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(xL,_L,"app");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,_1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function N(){}N.prototype=S.prototype,I.D=S.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(R,C,k){for(var P=Array(arguments.length-2),$=2;$<arguments.length;$++)P[$-2]=arguments[$];return S.prototype[C].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,N){N||(N=0);var R=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)R[C]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(C=0;16>C;++C)R[C]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=I.g[0],N=I.g[1],C=I.g[2];var k=I.g[3],P=S+(k^N&(C^k))+R[0]+3614090360&4294967295;S=N+(P<<7&4294967295|P>>>25),P=k+(C^S&(N^C))+R[1]+3905402710&4294967295,k=S+(P<<12&4294967295|P>>>20),P=C+(N^k&(S^N))+R[2]+606105819&4294967295,C=k+(P<<17&4294967295|P>>>15),P=N+(S^C&(k^S))+R[3]+3250441966&4294967295,N=C+(P<<22&4294967295|P>>>10),P=S+(k^N&(C^k))+R[4]+4118548399&4294967295,S=N+(P<<7&4294967295|P>>>25),P=k+(C^S&(N^C))+R[5]+1200080426&4294967295,k=S+(P<<12&4294967295|P>>>20),P=C+(N^k&(S^N))+R[6]+2821735955&4294967295,C=k+(P<<17&4294967295|P>>>15),P=N+(S^C&(k^S))+R[7]+4249261313&4294967295,N=C+(P<<22&4294967295|P>>>10),P=S+(k^N&(C^k))+R[8]+1770035416&4294967295,S=N+(P<<7&4294967295|P>>>25),P=k+(C^S&(N^C))+R[9]+2336552879&4294967295,k=S+(P<<12&4294967295|P>>>20),P=C+(N^k&(S^N))+R[10]+4294925233&4294967295,C=k+(P<<17&4294967295|P>>>15),P=N+(S^C&(k^S))+R[11]+2304563134&4294967295,N=C+(P<<22&4294967295|P>>>10),P=S+(k^N&(C^k))+R[12]+1804603682&4294967295,S=N+(P<<7&4294967295|P>>>25),P=k+(C^S&(N^C))+R[13]+4254626195&4294967295,k=S+(P<<12&4294967295|P>>>20),P=C+(N^k&(S^N))+R[14]+2792965006&4294967295,C=k+(P<<17&4294967295|P>>>15),P=N+(S^C&(k^S))+R[15]+1236535329&4294967295,N=C+(P<<22&4294967295|P>>>10),P=S+(C^k&(N^C))+R[1]+4129170786&4294967295,S=N+(P<<5&4294967295|P>>>27),P=k+(N^C&(S^N))+R[6]+3225465664&4294967295,k=S+(P<<9&4294967295|P>>>23),P=C+(S^N&(k^S))+R[11]+643717713&4294967295,C=k+(P<<14&4294967295|P>>>18),P=N+(k^S&(C^k))+R[0]+3921069994&4294967295,N=C+(P<<20&4294967295|P>>>12),P=S+(C^k&(N^C))+R[5]+3593408605&4294967295,S=N+(P<<5&4294967295|P>>>27),P=k+(N^C&(S^N))+R[10]+38016083&4294967295,k=S+(P<<9&4294967295|P>>>23),P=C+(S^N&(k^S))+R[15]+3634488961&4294967295,C=k+(P<<14&4294967295|P>>>18),P=N+(k^S&(C^k))+R[4]+3889429448&4294967295,N=C+(P<<20&4294967295|P>>>12),P=S+(C^k&(N^C))+R[9]+568446438&4294967295,S=N+(P<<5&4294967295|P>>>27),P=k+(N^C&(S^N))+R[14]+3275163606&4294967295,k=S+(P<<9&4294967295|P>>>23),P=C+(S^N&(k^S))+R[3]+4107603335&4294967295,C=k+(P<<14&4294967295|P>>>18),P=N+(k^S&(C^k))+R[8]+1163531501&4294967295,N=C+(P<<20&4294967295|P>>>12),P=S+(C^k&(N^C))+R[13]+2850285829&4294967295,S=N+(P<<5&4294967295|P>>>27),P=k+(N^C&(S^N))+R[2]+4243563512&4294967295,k=S+(P<<9&4294967295|P>>>23),P=C+(S^N&(k^S))+R[7]+1735328473&4294967295,C=k+(P<<14&4294967295|P>>>18),P=N+(k^S&(C^k))+R[12]+2368359562&4294967295,N=C+(P<<20&4294967295|P>>>12),P=S+(N^C^k)+R[5]+4294588738&4294967295,S=N+(P<<4&4294967295|P>>>28),P=k+(S^N^C)+R[8]+2272392833&4294967295,k=S+(P<<11&4294967295|P>>>21),P=C+(k^S^N)+R[11]+1839030562&4294967295,C=k+(P<<16&4294967295|P>>>16),P=N+(C^k^S)+R[14]+4259657740&4294967295,N=C+(P<<23&4294967295|P>>>9),P=S+(N^C^k)+R[1]+2763975236&4294967295,S=N+(P<<4&4294967295|P>>>28),P=k+(S^N^C)+R[4]+1272893353&4294967295,k=S+(P<<11&4294967295|P>>>21),P=C+(k^S^N)+R[7]+4139469664&4294967295,C=k+(P<<16&4294967295|P>>>16),P=N+(C^k^S)+R[10]+3200236656&4294967295,N=C+(P<<23&4294967295|P>>>9),P=S+(N^C^k)+R[13]+681279174&4294967295,S=N+(P<<4&4294967295|P>>>28),P=k+(S^N^C)+R[0]+3936430074&4294967295,k=S+(P<<11&4294967295|P>>>21),P=C+(k^S^N)+R[3]+3572445317&4294967295,C=k+(P<<16&4294967295|P>>>16),P=N+(C^k^S)+R[6]+76029189&4294967295,N=C+(P<<23&4294967295|P>>>9),P=S+(N^C^k)+R[9]+3654602809&4294967295,S=N+(P<<4&4294967295|P>>>28),P=k+(S^N^C)+R[12]+3873151461&4294967295,k=S+(P<<11&4294967295|P>>>21),P=C+(k^S^N)+R[15]+530742520&4294967295,C=k+(P<<16&4294967295|P>>>16),P=N+(C^k^S)+R[2]+3299628645&4294967295,N=C+(P<<23&4294967295|P>>>9),P=S+(C^(N|~k))+R[0]+4096336452&4294967295,S=N+(P<<6&4294967295|P>>>26),P=k+(N^(S|~C))+R[7]+1126891415&4294967295,k=S+(P<<10&4294967295|P>>>22),P=C+(S^(k|~N))+R[14]+2878612391&4294967295,C=k+(P<<15&4294967295|P>>>17),P=N+(k^(C|~S))+R[5]+4237533241&4294967295,N=C+(P<<21&4294967295|P>>>11),P=S+(C^(N|~k))+R[12]+1700485571&4294967295,S=N+(P<<6&4294967295|P>>>26),P=k+(N^(S|~C))+R[3]+2399980690&4294967295,k=S+(P<<10&4294967295|P>>>22),P=C+(S^(k|~N))+R[10]+4293915773&4294967295,C=k+(P<<15&4294967295|P>>>17),P=N+(k^(C|~S))+R[1]+2240044497&4294967295,N=C+(P<<21&4294967295|P>>>11),P=S+(C^(N|~k))+R[8]+1873313359&4294967295,S=N+(P<<6&4294967295|P>>>26),P=k+(N^(S|~C))+R[15]+4264355552&4294967295,k=S+(P<<10&4294967295|P>>>22),P=C+(S^(k|~N))+R[6]+2734768916&4294967295,C=k+(P<<15&4294967295|P>>>17),P=N+(k^(C|~S))+R[13]+1309151649&4294967295,N=C+(P<<21&4294967295|P>>>11),P=S+(C^(N|~k))+R[4]+4149444226&4294967295,S=N+(P<<6&4294967295|P>>>26),P=k+(N^(S|~C))+R[11]+3174756917&4294967295,k=S+(P<<10&4294967295|P>>>22),P=C+(S^(k|~N))+R[2]+718787259&4294967295,C=k+(P<<15&4294967295|P>>>17),P=N+(k^(C|~S))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var N=S-this.blockSize,R=this.B,C=this.h,k=0;k<S;){if(C==0)for(;k<=N;)s(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(R[C++]=I.charCodeAt(k++),C==this.blockSize){s(this,R),C=0;break}}else for(;k<S;)if(R[C++]=I[k++],C==this.blockSize){s(this,R),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var N=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=N&255,N/=256;for(this.u(I),I=Array(16),S=N=0;4>S;++S)for(var R=0;32>R;R+=8)I[N++]=this.g[S]>>>R&255;return I};function i(I,S){var N=a;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=S(I)}function o(I,S){this.h=S;for(var N=[],R=!0,C=I.length-1;0<=C;C--){var k=I[C]|0;R&&k==S||(N[C]=k,R=!1)}this.g=N}var a={};function c(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return b(d(-I));for(var S=[],N=1,R=0;I>=N;R++)S[R]=I/N|0,N*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return b(h(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(S,8)),R=f,C=0;C<I.length;C+=8){var k=Math.min(8,I.length-C),P=parseInt(I.substring(C,C+k),S);8>k?(k=d(Math.pow(S,k)),R=R.j(k).add(d(P))):(R=R.j(N),R=R.add(d(P)))}return R}var f=c(0),p=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-b(this).m();for(var I=0,S=1,N=0;N<this.g.length;N++){var R=this.i(N);I+=(0<=R?R:4294967296+R)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(_(this))return"-"+b(this).toString(I);for(var S=d(Math.pow(I,6)),N=this,R="";;){var C=j(N,S).g;N=g(N,C.j(S));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=C,x(N))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=g(this,I),_(I)?-1:x(I)?0:1};function b(I){for(var S=I.g.length,N=[],R=0;R<S;R++)N[R]=~I.g[R];return new o(N,~I.h).add(p)}t.abs=function(){return _(this)?b(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],R=0,C=0;C<=S;C++){var k=R+(this.i(C)&65535)+(I.i(C)&65535),P=(k>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);R=P>>>16,k&=65535,P&=65535,N[C]=P<<16|k}return new o(N,N[N.length-1]&-2147483648?-1:0)};function g(I,S){return I.add(b(S))}t.j=function(I){if(x(this)||x(I))return f;if(_(this))return _(I)?b(this).j(b(I)):b(b(this).j(I));if(_(I))return b(this.j(b(I)));if(0>this.l(w)&&0>I.l(w))return d(this.m()*I.m());for(var S=this.g.length+I.g.length,N=[],R=0;R<2*S;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(var C=0;C<I.g.length;C++){var k=this.i(R)>>>16,P=this.i(R)&65535,$=I.i(C)>>>16,X=I.i(C)&65535;N[2*R+2*C]+=P*X,v(N,2*R+2*C),N[2*R+2*C+1]+=k*X,v(N,2*R+2*C+1),N[2*R+2*C+1]+=P*$,v(N,2*R+2*C+1),N[2*R+2*C+2]+=k*$,v(N,2*R+2*C+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new o(N,0)};function v(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function T(I,S){this.g=I,this.h=S}function j(I,S){if(x(S))throw Error("division by zero");if(x(I))return new T(f,f);if(_(I))return S=j(b(I),S),new T(b(S.g),b(S.h));if(_(S))return S=j(I,b(S)),new T(b(S.g),S.h);if(30<I.g.length){if(_(I)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var N=p,R=S;0>=R.l(I);)N=D(N),R=D(R);var C=O(N,1),k=O(R,1);for(R=O(R,2),N=O(N,2);!x(R);){var P=k.add(R);0>=P.l(I)&&(C=C.add(N),k=P),R=O(R,1),N=O(N,1)}return S=g(I,C.j(S)),new T(C,S)}for(C=f;0<=I.l(S);){for(N=Math.max(1,Math.floor(I.m()/S.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=d(N),P=k.j(S);_(P)||0<P.l(I);)N-=R,k=d(N),P=k.j(S);x(k)&&(k=p),C=C.add(k),I=g(I,P)}return new T(C,I)}t.A=function(I){return j(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],R=0;R<S;R++)N[R]=this.i(R)&I.i(R);return new o(N,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],R=0;R<S;R++)N[R]=this.i(R)|I.i(R);return new o(N,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),N=[],R=0;R<S;R++)N[R]=this.i(R)^I.i(R);return new o(N,this.h^I.h)};function D(I){for(var S=I.g.length+1,N=[],R=0;R<S;R++)N[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(N,I.h)}function O(I,S){var N=S>>5;S%=32;for(var R=I.g.length-N,C=[],k=0;k<R;k++)C[k]=0<S?I.i(k+N)>>>S|I.i(k+N+1)<<32-S:I.i(k+N);return new o(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Vs=o}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,yl,T1,vd,ag,b1,S1,I1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,E){return u==Array.prototype||u==Object.prototype||(u[m]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var M=u[A];if(!(M in E))break e;E=E[M]}u=u[u.length-1],A=E[u],m=m(A),m!=A&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var E=0,A=!1,M={next:function(){if(!A&&E<u.length){var F=E++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,E){return u.call.apply(u.bind,arguments)}function f(u,m,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function w(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function E(){}E.prototype=m.prototype,u.aa=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,M,F){for(var H=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)H[Fe-2]=arguments[Fe];return m.prototype[M].apply(A,H)}}function _(u){const m=u.length;if(0<m){const E=Array(m);for(let A=0;A<m;A++)E[A]=u[A];return E}return[]}function b(u,m){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(c(A)){const M=u.length||0,F=A.length||0;u.length=M+F;for(let H=0;H<F;H++)u[M+H]=A[H]}else u.push(A)}}class g{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function j(u){return j[" "](u),u}j[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,m,E){for(const A in u)m.call(E,u[A],A,u)}function I(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function S(u){const m={};for(const E in u)m[E]=u[E];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let E,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(E in A)u[E]=A[E];for(let F=0;F<N.length;F++)E=N[F],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function C(u){var m=1;u=u.split(":");const E=[];for(;0<m&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function k(u){a.setTimeout(()=>{throw u},0)}function P(){var u=z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,E){const A=X.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new g(()=>new V,u=>u.reset());class V{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let G,L=!1,z=new $,Y=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(ie)}};var ie=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(E){k(E)}var m=X;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}L=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return u}();function gt(u,m){if(Ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{j(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:it[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&gt.aa.h.call(this)}}x(gt,Ie);var it={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ye(u,m,E,A,M){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=M,this.key=++De,this.da=this.fa=!1}function Ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,m,E,A,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=yt(u,m,A,M);return-1<H?(m=u[H],E||(m.fa=!1)):(m=new Ye(m,this.src,F,!!A,M),m.fa=E,u.push(m)),m};function be(u,m){var E=m.type;if(E in u.g){var A=u.g[E],M=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=M)&&Array.prototype.splice.call(A,M,1),F&&(Ce(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function yt(u,m,E,A){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==m&&F.capture==!!E&&F.ha==A)return M}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),Ln={};function nr(u,m,E,A,M){if(Array.isArray(m)){for(var F=0;F<m.length;F++)nr(u,m[F],E,A,M);return null}return E=eu(E),u&&u[te]?u.K(m,E,d(A)?!!A.capture:!1,M):kr(u,m,E,!1,A,M)}function kr(u,m,E,A,M,F){if(!m)throw Error("Invalid event type");var H=d(M)?!!M.capture:!!M,Fe=hi(u);if(Fe||(u[Ct]=Fe=new Ee(u)),E=Fe.add(m,E,A,H,F),E.proxy)return E;if(A=Ua(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)Ke||(M=H),M===void 0&&(M=!1),u.addEventListener(m.toString(),A,M);else if(u.attachEvent)u.attachEvent(Jc(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ua(){function u(E){return m.call(u.src,u.listener,E)}const m=Zc;return u}function Ar(u,m,E,A,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ar(u,m[F],E,A,M);else A=d(A)?!!A.capture:!!A,E=eu(E),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],E=yt(F,E,A,M),-1<E&&(Ce(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=hi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,E,A,M)),(E=-1<u?m[u]:null)&&Ba(E))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])be(m.i,u);else{var E=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(E,A,u.capture):m.detachEvent?m.detachEvent(Jc(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=hi(m))?(be(E,u),E.h==0&&(E.src=null,m[Ct]=null)):Ce(u)}}}function Jc(u){return u in Ln?Ln[u]:Ln[u]="on"+u}function Zc(u,m){if(u.da)u=!0;else{m=new gt(m,this);var E=u.listener,A=u.ha||u.src;u.fa&&Ba(u),u=E.call(A,m)}return u}function hi(u){return u=u[Ct],u instanceof Ee?u:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(u){return typeof u=="function"?u:(u[fi]||(u[fi]=function(m){return u.handleEvent(m)}),u[fi])}function Tt(){pe.call(this),this.i=new Ee(this),this.M=this,this.F=null}x(Tt,pe),Tt.prototype[te]=!0,Tt.prototype.removeEventListener=function(u,m,E,A){Ar(this,u,m,E,A)};function Nt(u,m){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new Ie(m,u);else if(m instanceof Ie)m.target=m.target||u;else{var M=m;m=new Ie(A,u),R(m,M)}if(M=!0,E)for(var F=E.length-1;0<=F;F--){var H=m.g=E[F];M=co(H,A,!0,m)&&M}if(H=m.g=u,M=co(H,A,!0,m)&&M,M=co(H,A,!1,m)&&M,E)for(F=0;F<E.length;F++)H=m.g=E[F],M=co(H,A,!1,m)&&M}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var E=u.g[m],A=0;A<E.length;A++)Ce(E[A]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,E,A){return this.i.add(String(u),m,!1,E,A)},Tt.prototype.L=function(u,m,E,A){return this.i.add(String(u),m,!0,E,A)};function co(u,m,E,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,F=0;F<m.length;++F){var H=m[F];if(H&&!H.da&&H.capture==E){var Fe=H.listener,At=H.ha||H.src;H.fa&&be(u.i,H),M=Fe.call(At,A)!==!1&&M}}return M&&!A.defaultPrevented}function tu(u,m,E){if(typeof u=="function")E&&(u=p(u,E));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function nu(u){u.g=tu(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ff extends pe{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(u){pe.call(this),this.h=u,this.g={}}x(pi,pe);var ru=[];function su(u){O(u.g,function(m,E){this.g.hasOwnProperty(E)&&Ba(m)},u),u.g={}}pi.prototype.N=function(){pi.aa.N.call(this),su(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $a=a.JSON.stringify,iu=a.JSON.parse,Uf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function uo(){}uo.prototype.h=null;function he(u){return u.h||(u.h=u.i())}function Ve(){}var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){Ie.call(this,"d")}x(bn,Ie);function Xt(){Ie.call(this,"c")}x(Xt,Ie);var Sn={},vt=null;function Jt(){return vt=vt||new Tt}Sn.La="serverreachability";function Ae(u){Ie.call(this,Sn.La,u)}x(Ae,Ie);function mi(u){const m=Jt();Nt(m,new Ae(m))}Sn.STAT_EVENT="statevent";function ou(u,m){Ie.call(this,Sn.STAT_EVENT,u),this.stat=m}x(ou,Ie);function kt(u){const m=Jt();Nt(m,new ou(m,u))}Sn.Ma="timingevent";function ho(u,m){Ie.call(this,Sn.Ma,u),this.size=m}x(ho,Ie);function Rr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function za(){this.g=!0}za.prototype.xa=function(){this.g=!1};function eR(u,m,E,A,M,F){u.info(function(){if(u.g)if(F)for(var H="",Fe=F.split("&"),At=0;At<Fe.length;At++){var Re=Fe[At].split("=");if(1<Re.length){var Vt=Re[0];Re=Re[1];var Ft=Vt.split("_");H=2<=Ft.length&&Ft[1]=="type"?H+(Vt+"="+Re+"&"):H+(Vt+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+m+`
`+E+`
`+H})}function tR(u,m,E,A,M,F,H){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+m+`
`+E+`
`+F+" "+H})}function fo(u,m,E,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rR(u,E)+(A?" "+A:"")})}function nR(u,m){u.info(function(){return"TIMEOUT: "+m})}za.prototype.info=function(){};function rR(u,m){if(!u.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return $a(E)}catch{return m}}var au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bf;function lu(){}x(lu,uo),lu.prototype.g=function(){return new XMLHttpRequest},lu.prototype.i=function(){return{}},Bf=new lu;function ls(u,m,E,A){this.j=u,this.i=m,this.l=E,this.R=A||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vw}function vw(){this.i=null,this.g="",this.h=!1}var ww={},$f={};function zf(u,m,E){u.L=1,u.v=hu(Pr(m)),u.m=E,u.P=!0,xw(u,null)}function xw(u,m){u.F=Date.now(),cu(u),u.A=Pr(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),jw(E.i,"t",A),u.C=0,E=u.j.J,u.h=new vw,u.g=Jw(u.j,E?m:null,!u.m),0<u.O&&(u.M=new Ff(p(u.Y,u,u.g),u.O)),m=u.U,E=u.g,A=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(ru[0]=M.toString()),M=ru);for(var F=0;F<M.length;F++){var H=nr(E,M[F],A||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),mi(),eR(u.i,u.u,u.A,u.l,u.R,u.m)}ls.prototype.ca=function(u){u=u.target;const m=this.M;m&&Dr(u)==3?m.j():this.Y(u)},ls.prototype.Y=function(u){try{if(u==this.g)e:{const Ft=Dr(this.g);var m=this.g.Ba();const go=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Bw(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=go?mi(3):mi(2)),Wf(this);var E=this.g.Z();this.X=E;t:if(_w(this)){var A=Bw(this.g);u="";var M=A.length,F=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Wa(this);var H="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==M-1)});A.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=E==200,tR(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,At=this.g;if((Fe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Fe)){var Re=Fe;break t}}Re=null}if(E=Re)fo(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hf(this,E);else{this.o=!1,this.s=3,kt(12),gi(this),Wa(this);break e}}if(this.P){E=!0;let Vn;for(;!this.J&&this.C<H.length;)if(Vn=sR(this,H),Vn==$f){Ft==4&&(this.s=4,kt(14),E=!1),fo(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==ww){this.s=4,kt(15),fo(this.i,this.l,H,"[Invalid Chunk]"),E=!1;break}else fo(this.i,this.l,Vn,null),Hf(this,Vn);if(_w(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||H.length!=0||this.h.h||(this.s=1,kt(16),E=!1),this.o=this.o&&E,!E)fo(this.i,this.l,H,"[Invalid Chunked Response]"),gi(this),Wa(this);else if(0<H.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Xf(Vt),Vt.M=!0,kt(11))}}else fo(this.i,this.l,H,null),Hf(this,H);Ft==4&&gi(this),this.o&&!this.J&&(Ft==4?Kw(this.j,this):(this.o=!1,cu(this)))}else _R(this.g),E==400&&0<H.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),gi(this),Wa(this)}}}catch{}finally{}};function _w(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sR(u,m){var E=u.C,A=m.indexOf(`
`,E);return A==-1?$f:(E=Number(m.substring(E,A)),isNaN(E)?ww:(A+=1,A+E>m.length?$f:(m=m.slice(A,A+E),u.C=A+E,m)))}ls.prototype.cancel=function(){this.J=!0,gi(this)};function cu(u){u.S=Date.now()+u.I,Ew(u,u.I)}function Ew(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rr(p(u.ba,u),m)}function Wf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ls.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(nR(this.i,this.A),this.L!=2&&(mi(),kt(17)),gi(this),this.s=2,Wa(this)):Ew(this,this.S-u)};function Wa(u){u.j.G==0||u.J||Kw(u.j,u)}function gi(u){Wf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,su(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Hf(u,m){try{var E=u.j;if(E.G!=0&&(E.g==u||qf(E.h,u))){if(!u.K&&qf(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)vu(E),gu(E);else break e;Qf(E),kt(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=Rr(p(E.Za,E),6e3));if(1>=Sw(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else vi(E,11)}else if((u.K||E.g==u)&&vu(E),!v(m))for(M=E.Da.g.parse(m),m=0;m<M.length;m++){let Re=M[m];if(E.T=Re[0],Re=Re[1],E.G==2)if(Re[0]=="c"){E.K=Re[1],E.ia=Re[2];const Vt=Re[3];Vt!=null&&(E.la=Vt,E.j.info("VER="+E.la));const Ft=Re[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const go=Re[5];go!=null&&typeof go=="number"&&0<go&&(A=1.5*go,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Vn=u.g;if(Vn){const xu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var F=A.h;F.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Gf(F,F.h),F.h=null))}if(A.D){const Jf=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jf&&(A.ya=Jf,ze(A.I,A.D,Jf))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var H=u;if(A.qa=Xw(A,A.J?A.ia:null,A.W),H.K){Iw(A.h,H);var Fe=H,At=A.L;At&&(Fe.I=At),Fe.B&&(Wf(Fe),cu(Fe)),A.g=H}else qw(A);0<E.i.length&&yu(E)}else Re[0]!="stop"&&Re[0]!="close"||vi(E,7);else E.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?vi(E,7):Yf(E):Re[0]!="noop"&&E.l&&E.l.ta(Re),E.v=0)}}mi(4)}catch{}}var iR=class{constructor(u,m){this.g=u,this.map=m}};function Tw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sw(u){return u.h?1:u.g?u.g.size:0}function qf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gf(u,m){u.g?u.g.add(m):u.h=m}function Iw(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tw.prototype.cancel=function(){if(this.i=Cw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.D);return m}return _(u.i)}function oR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],E=u.length,A=0;A<E;A++)m.push(u[A]);return m}m=[],E=0;for(A in u)m[E++]=u[A];return m}function aR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var E=0;E<u;E++)m.push(E);return m}m=[],E=0;for(const A in u)m[E++]=A;return m}}}function Nw(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var E=aR(u),A=oR(u),M=A.length,F=0;F<M;F++)m.call(void 0,A[F],E&&E[F],u)}var kw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lR(u,m){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),M=null;if(0<=A){var F=u[E].substring(0,A);M=u[E].substring(A+1)}else F=u[E];m(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,uu(this,u.j),this.o=u.o,this.g=u.g,du(this,u.s),this.l=u.l;var m=u.i,E=new Ga;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Aw(this,E),this.m=u.m}else u&&(m=String(u).match(kw))?(this.h=!1,uu(this,m[1]||"",!0),this.o=Ha(m[2]||""),this.g=Ha(m[3]||"",!0),du(this,m[4]),this.l=Ha(m[5]||"",!0),Aw(this,m[6]||"",!0),this.m=Ha(m[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qa(m,Rw,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qa(m,Rw,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(qa(E,E.charAt(0)=="/"?dR:uR,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",qa(E,fR)),u.join("")};function Pr(u){return new yi(u)}function uu(u,m,E){u.j=E?Ha(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function du(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Aw(u,m,E){m instanceof Ga?(u.i=m,pR(u.i,u.h)):(E||(m=qa(m,hR)),u.i=new Ga(m,u.h))}function ze(u,m,E){u.i.set(m,E)}function hu(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ha(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,cR),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rw=/[#\/\?@]/g,uR=/[#\?:]/g,dR=/[#\?]/g,hR=/[#\?@]/g,fR=/#/g;function Ga(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cs(u){u.g||(u.g=new Map,u.h=0,u.i&&lR(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=Ga.prototype,t.add=function(u,m){cs(this),this.i=null,u=po(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function Pw(u,m){cs(u),m=po(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dw(u,m){return cs(u),m=po(u,m),u.g.has(m)}t.forEach=function(u,m){cs(this),this.g.forEach(function(E,A){E.forEach(function(M){u.call(m,M,A,this)},this)},this)},t.na=function(){cs(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let A=0;A<m.length;A++){const M=u[A];for(let F=0;F<M.length;F++)E.push(m[A])}return E},t.V=function(u){cs(this);let m=[];if(typeof u=="string")Dw(this,u)&&(m=m.concat(this.g.get(po(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)m=m.concat(u[E])}return m},t.set=function(u,m){return cs(this),this.i=null,u=po(this,u),Dw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function jw(u,m,E){Pw(u,m),0<E.length&&(u.i=null,u.g.set(po(u,m),_(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var A=m[E];const F=encodeURIComponent(String(A)),H=this.V(A);for(A=0;A<H.length;A++){var M=F;H[A]!==""&&(M+="="+encodeURIComponent(String(H[A]))),u.push(M)}}return this.i=u.join("&")};function po(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pR(u,m){m&&!u.j&&(cs(u),u.i=null,u.g.forEach(function(E,A){var M=A.toLowerCase();A!=M&&(Pw(this,A),jw(this,M,E))},u)),u.j=m}function mR(u,m){const E=new za;if(a.Image){const A=new Image;A.onload=w(us,E,"TestLoadImage: loaded",!0,m,A),A.onerror=w(us,E,"TestLoadImage: error",!1,m,A),A.onabort=w(us,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=w(us,E,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function gR(u,m){const E=new za,A=new AbortController,M=setTimeout(()=>{A.abort(),us(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(M),F.ok?us(E,"TestPingServer: ok",!0,m):us(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),us(E,"TestPingServer: error",!1,m)})}function us(u,m,E,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(E)}catch{}}function yR(){this.g=new Uf}function vR(u,m,E){const A=E||"";try{Nw(u,function(M,F){let H=M;d(M)&&(H=$a(M)),m.push(A+F+"="+encodeURIComponent(H))})}catch(M){throw m.push(A+"type="+encodeURIComponent("_badmap")),M}}function fu(u){this.l=u.Ub||null,this.j=u.eb||!1}x(fu,uo),fu.prototype.g=function(){return new pu(this.l,this.j)},fu.prototype.i=function(u){return function(){return u}}({});function pu(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(pu,Tt),t=pu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ya(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ow(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ow(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ka(this):Ya(this),this.readyState==3&&Ow(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ka(this))},t.Qa=function(u){this.g&&(this.response=u,Ka(this))},t.ga=function(){this.g&&Ka(this)};function Ka(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ya(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function Ya(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mw(u){let m="";return O(u,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function Kf(u,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Mw(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):ze(u,m,E))}function ot(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ot,Tt);var wR=/^https?$/i,xR=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bf.g(),this.v=this.o?he(this.o):he(Bf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Lw(this,F);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)E.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())E.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xR,m,void 0))||A||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of E)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Lw(this,F)}};function Lw(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Vw(u),mu(u)}function Vw(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Nt(this,"complete"),Nt(this,"abort"),mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fw(this):this.bb())},t.bb=function(){Fw(this)};function Fw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Dr(u)!=4||u.Z()!=2)){if(u.u&&Dr(u)==4)tu(u.Ea,0,u);else if(Nt(u,"readystatechange"),Dr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=H===0){var M=String(u.D).match(kw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!wR.test(M?M.toLowerCase():"")}E=A}if(E)Nt(u,"complete"),Nt(u,"success");else{u.m=6;try{var F=2<Dr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Vw(u)}}finally{mu(u)}}}}function mu(u,m){if(u.g){Uw(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Nt(u,"ready");try{E.onreadystatechange=A}catch{}}}function Uw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Dr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),iu(m)}};function Bw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _R(u){const m={};u=(u.g&&2<=Dr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(v(u[A]))continue;var E=C(u[A]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=m[M]||[];m[M]=F,F.push(E)}I(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function $w(u){this.Aa=0,this.i=[],this.j=new za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Tw(u&&u.concurrentRequestLimit),this.Da=new yR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$w.prototype,t.la=8,t.G=1,t.connect=function(u,m,E,A){kt(0),this.W=u,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Xw(this,null,this.W),yu(this)};function Yf(u){if(zw(u),u.G==3){var m=u.U++,E=Pr(u.I);if(ze(E,"SID",u.K),ze(E,"RID",m),ze(E,"TYPE","terminate"),Xa(u,E),m=new ls(u,u.j,m),m.L=2,m.v=hu(Pr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=Jw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),cu(m)}Qw(u)}function gu(u){u.g&&(Xf(u),u.g.cancel(),u.g=null)}function zw(u){gu(u),u.u&&(a.clearTimeout(u.u),u.u=null),vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function yu(u){if(!bw(u.h)&&!u.s){u.s=!0;var m=u.Ga;G||Y(),L||(G(),L=!0),z.add(m,u),u.B=0}}function ER(u,m){return Sw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rr(p(u.Ga,u,m),Yw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new ls(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Hw(this,M,m),E=Pr(this.I),ze(E,"RID",u),ze(E,"CVER",22),this.D&&ze(E,"X-HTTP-Session-Id",this.D),Xa(this,E),F&&(this.O?m="headers="+encodeURIComponent(String(Mw(F)))+"&"+m:this.m&&Kf(E,this.m,F)),Gf(this.h,M),this.Ua&&ze(E,"TYPE","init"),this.P?(ze(E,"$req",m),ze(E,"SID","null"),M.T=!0,zf(M,E,null)):zf(M,E,m),this.G=2}}else this.G==3&&(u?Ww(this,u):this.i.length==0||bw(this.h)||Ww(this))};function Ww(u,m){var E;m?E=m.l:E=u.U++;const A=Pr(u.I);ze(A,"SID",u.K),ze(A,"RID",E),ze(A,"AID",u.T),Xa(u,A),u.m&&u.o&&Kf(A,u.m,u.o),E=new ls(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Hw(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gf(u.h,E),zf(E,A,m)}function Xa(u,m){u.H&&O(u.H,function(E,A){ze(m,A,E)}),u.l&&Nw({},function(E,A){ze(m,A,E)})}function Hw(u,m,E){E=Math.min(u.i.length,E);var A=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const H=["count="+E];F==-1?0<E?(F=M[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let Fe=!0;for(let At=0;At<E;At++){let Re=M[At].g;const Vt=M[At].map;if(Re-=F,0>Re)F=Math.max(0,M[At].g-100),Fe=!1;else try{vR(Vt,H,"req"+Re+"_")}catch{A&&A(Vt)}}if(Fe){A=H.join("&");break e}}}return u=u.i.splice(0,E),m.D=u,A}function qw(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;G||Y(),L||(G(),L=!0),z.add(m,u),u.v=0}}function Qf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rr(p(u.Fa,u),Yw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Gw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rr(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),gu(this),Gw(this))};function Xf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Gw(u){u.g=new ls(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Pr(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),Xa(u,m),u.m&&u.o&&Kf(m,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=hu(Pr(m)),E.m=null,E.P=!0,xw(E,u)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),Qf(this),kt(19))};function vu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Kw(u,m){var E=null;if(u.g==m){vu(u),Xf(u),u.g=null;var A=2}else if(qf(u.h,m))E=m.D,Iw(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;A=Jt(),Nt(A,new ho(A,E)),yu(u)}else qw(u);else if(M=m.s,M==3||M==0&&0<m.X||!(A==1&&ER(u,m)||A==2&&Qf(u)))switch(E&&0<E.length&&(m=u.h,m.i=m.i.concat(E)),M){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Yw(u,m){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var E=p(u.fb,u),A=u.Xa;const M=!A;A=new yi(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uu(A,"https"),hu(A),M?mR(A.toString(),E):gR(A.toString(),E)}else kt(2);u.G=0,u.l&&u.l.sa(m),Qw(u),zw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Qw(u){if(u.G=0,u.ka=[],u.l){const m=Cw(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Xw(u,m,E){var A=E instanceof yi?Pr(E):new yi(E);if(A.g!="")m&&(A.g=m+"."+A.g),du(A,A.s);else{var M=a.location;A=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var F=new yi(null);A&&uu(F,A),m&&(F.g=m),M&&du(F,M),E&&(F.l=E),A=F}return E=u.D,m=u.ya,E&&m&&ze(A,E,m),ze(A,"VER",u.la),Xa(u,A),A}function Jw(u,m,E){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ot(new fu({eb:E})):new ot(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zw(){}t=Zw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){Tt.call(this),this.g=new $w(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new mo(this)}x(hn,Tt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Yf(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=$a(u),u=E);m.i.push(new iR(m.Ya++,u)),m.G==3&&yu(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Yf(this.g),delete this.g,hn.aa.N.call(this)};function ex(u){bn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(ex,bn);function tx(){Xt.call(this),this.status=1}x(tx,Xt);function mo(u){this.g=u}x(mo,Zw),mo.prototype.ua=function(){Nt(this.g,"a")},mo.prototype.ta=function(u){Nt(this.g,new ex(u))},mo.prototype.sa=function(u){Nt(this.g,new tx)},mo.prototype.ra=function(){Nt(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,I1=function(){return new wu},S1=function(){return Jt()},b1=Sn,ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},au.NO_ERROR=0,au.TIMEOUT=8,au.HTTP_ERROR=6,vd=au,yw.COMPLETE="complete",T1=yw,Ve.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,yl=Ve,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,E1=ot}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",Q0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Yh("@firebase/firestore");function To(){return $i.logLevel}function Z(t,...e){if($i.logLevel<=ve.DEBUG){const n=e.map(Jy);$i.debug(`Firestore (${Aa}): ${t}`,...n)}}function ns(t,...e){if($i.logLevel<=ve.ERROR){const n=e.map(Jy);$i.error(`Firestore (${Aa}): ${t}`,...n)}}function da(t,...e){if($i.logLevel<=ve.WARN){const n=e.map(Jy);$i.warn(`Firestore (${Aa}): ${t}`,...n)}}function Jy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,C1(t,r,n)}function C1(t,e,n){let r=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||C1(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class TL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bL{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new N1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class SL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=NL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function lg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return jp(s)===jp(i)?we(s,i):jp(s)?1:-1}return we(t.length,e.length)}const kL=55296,AL=57343;function jp(t){const e=t.charCodeAt(0);return e>=kL&&e<=AL}function ha(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=or.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),s=or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?or.extractNumericId(e).compare(or.extractNumericId(n)):lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class Ue extends or{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const RL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends or{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return RL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Dt([J0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ue.fromString(e))}static fromName(e){return new re(Ue.fromString(e).popFirst(5))}static empty(){return new re(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PL(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z0(t){if(!re.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e_(t){if(re.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dc(t,e){if(!A1(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,n_=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n_);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t_)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:ft("string",Pe._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Pe(0,0))}static max(){return new ce(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function DL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new Ws(s,re.empty(),e)}function jL(t){return new Ws(t.readTime,t.key,cc)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(ce.min(),re.empty(),cc)}static max(){return new Ws(ce.max(),re.empty(),cc)}}function OL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==ML)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function VL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-1;function tf(t){return t==null}function ch(t){return t===0&&1/t==-1/0}function FL(t){return typeof t=="number"&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="";function UL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r_(e)),e=BL(t.get(n),e);return r_(e)}function BL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case R1:n+="";break;default:n+=i}}return n}function r_(t){return t+R1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new _t(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new D1("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const $L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=$L.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="server_timestamp",O1="__type__",M1="__previous_value__",L1="__local_write_time__";function tv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[O1])==null?void 0:r.stringValue)===j1}function nf(t){const e=t.mapValue.fields[M1];return tv(e)?nf(e):e}function uc(t){const e=Hs(t.mapValue.fields[L1].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const uh="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__type__",WL="__max__",$u={mapValue:{}},F1="__vector__",dh="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:qL(t)?9007199254740991:HL(t)?10:11:ae(28295,{value:t})}function Tr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hs(s.timestampValue),a=Hs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?ch(o)===ch(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ha(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(s_(o)!==s_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Tr(o[c],a[c])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function hc(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function fa(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),c=lt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return o_(t.timestampValue,e.timestampValue);case 4:return o_(uc(t),uc(e));case 5:return lg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),c=qs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=we(a[d],c[d]);if(h!==0)return h}return we(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(lt(i.latitude),lt(o.latitude));return a!==0?a:we(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return a_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,w,x,_;const a=i.fields||{},c=o.fields||{},d=(p=a[dh])==null?void 0:p.arrayValue,h=(w=c[dh])==null?void 0:w.arrayValue,f=we(((x=d==null?void 0:d.values)==null?void 0:x.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:a_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===$u.mapValue&&o===$u.mapValue)return 0;if(i===$u.mapValue)return 1;if(o===$u.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=lg(c[f],h[f]);if(p!==0)return p;const w=fa(a[c[f]],d[h[f]]);if(w!==0)return w}return we(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function o_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Hs(t),r=Hs(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function a_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=fa(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function pa(t){return cg(t)}function cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cg(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function wd(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(t);return e?16+wd(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+wd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ii(r.fields,(i,o)=>{s+=i.length+wd(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function l_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ug(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function c_(t){return!!t&&"nullValue"in t}function u_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function HL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[V1])==null?void 0:r.stringValue)===F1}function Ol(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return{...t}}function qL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new on(Ol(this.value))}}function U1(t){const e=[];return ii(t.fields,(n,r)=>{const s=new Dt([n]);if(xd(r)){const i=U1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,ce.min(),ce.min(),ce.min(),on.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,ce.min(),ce.min(),on.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,ce.min(),ce.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function d_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=fa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function h_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function GL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class ht extends B1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YL(e,n,r):n==="array-contains"?new JL(e,r):n==="in"?new ZL(e,r):n==="not-in"?new eV(e,r):n==="array-contains-any"?new tV(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QL(e,r):new XL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fa(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends B1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return $1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(t){return t.op==="and"}function z1(t){return KL(t)&&$1(t)}function KL(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function dg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(z1(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function W1(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&W1(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function H1(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(H1).join(" ,")+"}"}(t):"Filter"}class YL extends ht{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class QL extends ht{constructor(e,n){super(e,"in",n),this.keys=q1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XL extends ht{constructor(e,n){super(e,"not-in",n),this.keys=q1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class JL extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&hc(n.arrayValue,this.value)}}class ZL extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class eV extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}}class tV extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function f_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new nV(t,e,n,r,s,i,o)}function rv(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.Te=n}return e.Te}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h_(t.startAt,e.startAt)&&h_(t.endAt,e.endAt)}function hg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rV(t,e,n,r,s,i,o,a){return new Da(t,e,n,r,s,i,o,a)}function iv(t){return new Da(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G1(t){return t.collectionGroup!==null}function Ml(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Dt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new fc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new fc(Dt.keyField(),r))}return e.Ie}function mr(t){const e=ue(t);return e.Ee||(e.Ee=sV(e,Ml(t))),e.Ee}function sV(t,e){if(t.limitType==="F")return f_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new fc(s.field,i)});const n=t.endAt?new hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hh(t.startAt.position,t.startAt.inclusive):null;return f_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e){const n=t.filters.concat([e]);return new Da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fh(t,e,n){return new Da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return sv(mr(t),mr(e))&&t.limitType===e.limitType}function K1(t){return`${rv(mr(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>H1(s)).join(", ")}]`),tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pa(s)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ml(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=d_(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Ml(r),s)||r.endAt&&!function(o,a,c){const d=d_(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Ml(r),s))}(t,e)}function iV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y1(t){return(e,n)=>{let r=!1;for(const s of Ml(t)){const i=oV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oV(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?fa(c,d):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new st(re.comparator);function rs(){return aV}const Q1=new st(re.comparator);function vl(...t){let e=Q1;for(const n of t)e=e.insert(n.key,n);return e}function X1(t){let e=Q1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Ll()}function J1(){return Ll()}function Ll(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const lV=new st(re.comparator),cV=new _t(re.comparator);function _e(...t){let e=cV;for(const n of t)e=e.add(n);return e}const uV=new _t(we);function dV(){return uV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function Z1(t){return{integerValue:""+t}}function hV(t,e){return FL(e)?Z1(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function fV(t,e,n){return t instanceof ph?function(s,i){const o={fields:{[O1]:{stringValue:j1},[L1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&tv(i)&&(i=nf(i)),i&&(o.fields[M1]=i),{mapValue:o}}(n,e):t instanceof pc?tI(t,e):t instanceof mc?nI(t,e):function(s,i){const o=eI(s,i),a=m_(o)+m_(s.Ae);return ug(o)&&ug(s.Ae)?Z1(a):ov(s.serializer,a)}(t,e)}function pV(t,e,n){return t instanceof pc?tI(t,e):t instanceof mc?nI(t,e):n}function eI(t,e){return t instanceof mh?function(r){return ug(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ph extends of{}class pc extends of{constructor(e){super(),this.elements=e}}function tI(t,e){const n=rI(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class mc extends of{constructor(e){super(),this.elements=e}}function nI(t,e){let n=rI(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class mh extends of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m_(t){return lt(t.integerValue||t.doubleValue)}function rI(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof pc&&s instanceof pc||r instanceof mc&&s instanceof mc?ha(r.elements,s.elements,Tr):r instanceof mh&&s instanceof mh?Tr(r.Ae,s.Ae):r instanceof ph&&s instanceof ph}(t.transform,e.transform)}class gV{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class af{}function sI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oI(t.key,gr.none()):new jc(t.key,t.data,gr.none());{const n=t.data,r=on.empty();let s=new _t(Dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new oi(t.key,r,new yn(s.toArray()),gr.none())}}function yV(t,e,n){t instanceof jc?function(s,i,o){const a=s.value.clone(),c=y_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(s,i,o){if(!_d(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=y_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(iI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,r){return t instanceof jc?function(i,o,a,c){if(!_d(i.precondition,o))return a;const d=i.value.clone(),h=v_(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(i,o,a,c){if(!_d(i.precondition,o))return a;const d=v_(i.fieldTransforms,c,o),h=o.data;return h.setAll(iI(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return _d(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eI(r.transform,s||null);i!=null&&(n===null&&(n=on.empty()),n.set(r.field,i))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ha(r,s,(i,o)=>mV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends af{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oi extends af{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function y_(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,pV(o,a,n[s]))}return r}function v_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,fV(i,o,e))}return r}class oI extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wV extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&yV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=sI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(n,r)=>g_(n,r))&&ha(this.baseMutations,e.baseMutations,(n,r)=>g_(n,r))}}class av{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return lV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new av(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _V=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Se;function TV(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function aI(t){if(t===void 0)return ns("GRPC error has no .code"),U.UNKNOWN;switch(t){case ut.OK:return U.OK;case ut.CANCELLED:return U.CANCELLED;case ut.UNKNOWN:return U.UNKNOWN;case ut.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ut.INTERNAL:return U.INTERNAL;case ut.UNAVAILABLE:return U.UNAVAILABLE;case ut.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ut.NOT_FOUND:return U.NOT_FOUND;case ut.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ut.ABORTED:return U.ABORTED;case ut.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ut.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(Se=ut||(ut={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Vs([4294967295,4294967295],0);function w_(t){const e=bV().encode(t),n=new _1;return n.update(e),new Uint8Array(n.digest())}function x_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([s,i],0)]}class lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vs.fromNumber(r)));return s.compare(SV)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w_(e),[r,s]=x_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new lv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=w_(e),[r,s]=x_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lf(ce.min(),s,new st(we),rs(),_e())}}class Oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class lI{constructor(e,n){this.targetId=e,this.Ce=n}}class cI{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class __{constructor(){this.ve=0,this.Fe=E_(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=E_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IV{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.Je=zu(),this.He=zu(),this.Ye=new st(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(hg(i))if(r===0){const o=new re(i.path);this.et(n,o,qt.newNoDocument(o,ce.min()))}else je(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(c){if(c instanceof D1)return da("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new lv(o,s,i)}catch(c){return da(c instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&hg(a.target)){const c=new re(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,qt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=_e();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new lf(e,n,this.Ye,this.je,r);return this.je=rs(),this.Je=zu(),this.He=zu(),this.Ye=new st(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new __,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new __),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zu(){return new st(re.comparator)}function E_(){return new st(re.comparator)}const CV={asc:"ASCENDING",desc:"DESCENDING"},NV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kV={and:"AND",or:"OR"};class AV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RV(t,e){return gh(t,e.toTimestamp())}function yr(t){return je(!!t,49232),ce.fromTimestamp(function(n){const r=Hs(n);return new Pe(r.seconds,r.nanos)}(t))}function cv(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=Ue.fromString(t);return je(gI(e),10190,{key:e.toString()}),e}function gg(t,e){return cv(t.databaseId,e.path)}function Op(t,e){const n=dI(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(fI(n))}function hI(t,e){return cv(t.databaseId,e)}function PV(t){const e=dI(t);return e.length===4?Ue.emptyPath():fI(e)}function yg(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function T_(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function DV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ae(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(je(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:aI(d.code);return new K(h,d.message||"")}(o);n=new cI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Op(t,r.document.name),i=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):ce.min(),a=new on({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ed(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Op(t,r.document),i=r.readTime?yr(r.readTime):ce.min(),o=qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ed([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Op(t,r.document),i=r.removedTargetIds||[];n=new Ed([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new EV(s,i),a=r.targetId;n=new lI(a,o)}}return n}function jV(t,e){let n;if(e instanceof jc)n={update:T_(t,e.key,e.value)};else if(e instanceof oI)n={delete:gg(t,e.key)};else if(e instanceof oi)n={update:T_(t,e.key,e.data),updateMask:zV(e.fieldMask)};else{if(!(e instanceof wV))return ae(16599,{Vt:e.type});n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:RV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function OV(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?yr(s.updateTime):yr(i);return o.isEqual(ce.min())&&(o=yr(i)),new gV(o,s.transformResults||[])}(n,e))):[]}function MV(t,e){return{documents:[hI(t,e.path)]}}function LV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(t,s);const i=function(d){if(d.length!==0)return mI(Xn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:So(p.field),direction:UV(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function VV(t){let e=PV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=pI(f);return p instanceof Xn&&z1(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new fc(Io(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,tf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,w=f.values||[];return new hh(w,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,w=f.values||[];return new hh(w,p)}(n.endAt)),rV(e,s,o,i,a,"F",c,d)}function FV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Io(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Io(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Io(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Io(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>pI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function UV(t){return CV[t]}function BV(t){return NV[t]}function $V(t){return kV[t]}function So(t){return{fieldPath:t.canonicalString()}}function Io(t){return Dt.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof ht?function(n){if(n.op==="=="){if(u_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(c_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(c_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:BV(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>mI(s));return r.length===1?r[0]:{compositeFilter:{op:$V(n.op),filters:r}}}(t):ae(54877,{filter:t})}function zV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.yt=e}}function HV(t){const e=VV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.Cn=new GV}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ws.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class GV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(yI,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ma(0)}static cr(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LruGarbageCollector",KV=1048576;function I_([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class YV{constructor(e){this.Ir=e,this.buffer=new _t(I_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(S_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pa(n)?Z(S_,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.Vr(3e5)})}}class XV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ef.ce);const r=new YV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(b_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),To()<=ve.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function JV(t,e){return new XV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vl(r.mutation,s,yn.empty(),Pe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Ii();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=vl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=rs();const o=Ll(),a=function(){return Ll()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof oi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Vl(h.mutation,d,h.mutation.getFieldMask(),Pe.now())):o.set(d.key,yn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new eF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let s=new st((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||yn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||_e()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=J1();h.forEach(p=>{if(!i.has(p)){const w=sI(n.get(p),r.get(p));w!==null&&f.set(p,w),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ii());let a=cc,c=i;return o.next(d=>B.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,_e())).next(h=>({batchId:a,changes:X1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=vl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vl();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const d=function(f,p){return new Da(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,qt.newInvalidDocument(h)))});let a=vl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Vl(h.mutation,d,yn.empty(),Pe.now()),sf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:HV(s.bundledQuery),readTime:yr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.overlays=new st(re.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ii(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new st((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ii(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ii(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _V(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.Qr=new _t(bt.$r),this.Ur=new _t(bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new bt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new Ue([])),r=new bt(n,e),s=new bt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new Ue([])),r=new bt(n,e),s=new bt(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(bt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new bt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?ev:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),s=new bt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(we);return n.forEach(s=>{const i=new bt(s,0),o=new bt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new bt(new re(i),0);let a=new _t(we);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new bt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new bt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.ri=e,this.docs=function(){return new st(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rs();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||OL(jL(h),r)<=0||(s.has(h.key)||sf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aF(this)}getSize(e){return B.resolve(this.size)}}class aF extends ZV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.persistence=e,this.si=new oo(n=>rv(n),sv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new uv,this.targetCount=0,this.ai=ma.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.ui={},this.overlays={},this.ci=new ef(0),this.li=!1,this.li=!0,this.hi=new sF,this.referenceDelegate=e(this),this.Pi=new lF(this),this.indexManager=new qV,this.remoteDocumentCache=function(s){return new oF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WV(n),this.Ii=new nF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new iF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new cF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class cF extends LL{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ri=new uv,this.Vi=null}static mi(e){return new dv(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=re.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.pi=new oo(r=>UL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=JV(this,n)}static mi(e,n){return new yh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Fj()?8:VL(Yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new uF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(To()<=ve.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(To()<=ve.DEBUG&&Z("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(To()<=ve.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):B.resolve())}ys(e,n){if(p_(n))return B.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fh(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,fh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return p_(n)||s.isEqual(ce.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(To()<=ve.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bo(n)),this.vs(e,o,n,DL(s,cc)).next(a=>a))})}Ds(e,n){let r=new _t(Y1(e));return n.forEach((s,i)=>{sf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return To()<=ve.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LocalStore",hF=3e8;class fF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new st(we),this.xs=new oo(i=>rv(i),sv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pF(t,e,n,r){return new fF(t,e,n,r)}async function wI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=_e();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function mF(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let w=B.resolve();return p.forEach(x=>{w=w.next(()=>h.getEntry(c,x)).next(_=>{const b=d.docVersions.get(x);je(b!==null,48541),_.version.compareTo(b)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function xI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function gF(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let w=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(Lt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(f,w),function(_,b,g){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=hF?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,w,h)&&a.push(n.Pi.updateTargetData(i,w))});let c=rs(),d=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(yF(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ce.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function yF(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rs();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(fv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function vF(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ev),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wF(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function vg(t,e,n){const r=ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pa(o))throw o;Z(fv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function C_(t,e,n){const r=ue(t);let s=ce.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=ue(c),p=f.xs.get(h);return p!==void 0?B.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:_e())).next(a=>(xF(r,iV(e),a),{documents:a,Qs:i})))}function xF(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class N_{constructor(){this.activeTargetIds=dV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _F{constructor(){this.Mo=new N_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class A_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function wg(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",TF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=wg(),a=this.zo(e,n.toUriEncodedString());Z(Mp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Ca(d);return this.Jo(e,a,c,r,h).then(f=>(Z(Mp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw da(Mp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=TF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class IF extends bF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=wg();return new Promise((a,c)=>{const d=new E1;d.setWithCredentials(!0),d.listenOnce(T1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case vd.NO_ERROR:const f=d.getResponseJson();Z($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case vd.TIMEOUT:Z($t,`RPC '${e}' ${o} timed out`),c(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const p=d.getStatus();if(Z($t,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const _=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(x.status);c(new K(_,x.message))}else c(new K(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z($t,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z($t,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=wg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=I1(),a=S1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z($t,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,w=!1;const x=new SF({Yo:b=>{w?Z($t,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(Z($t,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Z($t,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},Zo:()=>f.close()}),_=(b,g,v)=>{b.listen(g,T=>{try{v(T)}catch(j){setTimeout(()=>{throw j},0)}})};return _(f,yl.EventType.OPEN,()=>{w||(Z($t,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),_(f,yl.EventType.CLOSE,()=>{w||(w=!0,Z($t,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(f))}),_(f,yl.EventType.ERROR,b=>{w||(w=!0,da($t,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),x.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),_(f,yl.EventType.MESSAGE,b=>{var g;if(!w){const v=b.data[0];je(!!v,16349);const T=v,j=(T==null?void 0:T.error)||((g=T[0])==null?void 0:g.error);if(j){Z($t,`RPC '${e}' stream ${s} received error:`,j);const D=j.status;let O=function(N){const R=ut[N];if(R!==void 0)return aI(R)}(D),I=j.message;O===void 0&&(O=U.INTERNAL,I="Unknown error status: "+D+" with message "+j.message),w=!0,x.a_(new K(O,I)),f.close()}else Z($t,`RPC '${e}' stream ${s} received:`,v),x.u_(v)}}),_(a,b1.STAT_EVENT,b=>{b.stat===ag.PROXY?Z($t,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===ag.NOPROXY&&Z($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return new AV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class EI{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _I(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CF extends EI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DV(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?yr(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yg(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=hg(c)?{documents:MV(i,c)}:{query:LV(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uI(i,o.resumeToken);const d=pg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=gh(i,o.snapshotVersion.toTimestamp());const d=pg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=FV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.q_(n)}}class NF extends EI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OV(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{}class AF extends kF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,mg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,mg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class PF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ao(this)&&(Z(zi,"Restarting streams for network reachability change."),await async function(c){const d=ue(c);d.Ea.add(4),await Mc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await uf(d)}(this))})}),this.Ra=new RF(r,s)}}async function uf(t){if(ao(t))for(const e of t.da)await e(!0)}async function Mc(t){for(const e of t.da)await e(!1)}function TI(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yv(n)?gv(n):ja(n).O_()&&mv(n,e))}function pv(t,e){const n=ue(t),r=ja(n);n.Ia.delete(e),r.O_()&&bI(n,e),n.Ia.size===0&&(r.O_()?r.L_():ao(n)&&n.Ra.set("Unknown"))}function mv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).Y_(e)}function bI(t,e){t.Va.Ue(e),ja(t).Z_(e)}function gv(t){t.Va=new IV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.Ra.ua()}function yv(t){return ao(t)&&!ja(t).x_()&&t.Ia.size>0}function ao(t){return ue(t).Ea.size===0}function SI(t){t.Va=void 0}async function DF(t){t.Ra.set("Online")}async function jF(t){t.Ia.forEach((e,n)=>{mv(t,e)})}async function OF(t,e){SI(t),yv(t)?(t.Ra.ha(e),gv(t)):t.Ra.set("Unknown")}async function MF(t,e,n){if(t.Ra.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(t,r)}else if(e instanceof Ed?t.Va.Ze(e):e instanceof lI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await xI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),bI(i,c);const f=new Cs(h.target,c,d,h.sequenceNumber);mv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(zi,"Failed to raise snapshot:",r),await vh(t,r)}}async function vh(t,e,n){if(!Pa(e))throw e;t.Ea.add(1),await Mc(t),t.Ra.set("Offline"),n||(n=()=>xI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(zi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await uf(t)})}function II(t,e){return e().catch(n=>vh(t,n,e))}async function df(t){const e=ue(t),n=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ev;for(;LF(e);)try{const s=await vF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,VF(e,s)}catch(s){await vh(e,s)}CI(e)&&NI(e)}function LF(t){return ao(t)&&t.Ta.length<10}function VF(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function CI(t){return ao(t)&&!Ks(t).x_()&&t.Ta.length>0}function NI(t){Ks(t).start()}async function FF(t){Ks(t).ra()}async function UF(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function BF(t,e,n){const r=t.Ta.shift(),s=av.from(r,e,n);await II(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await df(t)}async function $F(t,e){e&&Ks(t).X_&&await async function(r,s){if(function(o){return TV(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Ks(r).B_(),await II(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await df(r)}}(t,e),CI(t)&&NI(t)}async function P_(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Z(zi,"RemoteStore received new credentials");const r=ao(n);n.Ea.add(3),await Mc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function zF(t,e){const n=ue(t);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function ja(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new CF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:DF.bind(null,t),t_:jF.bind(null,t),r_:OF.bind(null,t),H_:MF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),yv(t)?gv(t):t.Ra.set("Unknown")):(await t.ma.stop(),SI(t))})),t.ma}function Ks(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new NF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FF.bind(null,t),r_:$F.bind(null,t),ta:UF.bind(null,t),na:BF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await df(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new vv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(ns("AsyncQueue",`${e}: ${t}`),Pa(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new st(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ga(e,n,Xo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HF{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=j_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function j_(){return new oo(t=>K1(t),rf)}async function kI(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new WF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=wv(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&xv(n)}async function AI(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qF(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&xv(n)}function GF(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function xv(t){t.Ca.forEach(e=>{e.next()})}var xg,O_;(O_=xg||(xg={})).Ma="default",O_.Cache="cache";class RI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.key=e}}class DI{constructor(e){this.key=e}}class KF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=Y1(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new D_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),w=sf(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;p&&w?p.data.isEqual(w.data)?x!==_&&(r.track({type:3,doc:w}),b=!0):this.su(p,w)||(r.track({type:2,doc:w}),b=!0,(c&&this.eu(w,c)>0||d&&this.eu(w,d)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),b=!0):p&&!w&&(r.track({type:1,doc:p}),b=!0,(c||d)&&(a=!0)),b&&(w?(o=o.add(w),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(w,x){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:b})}};return _(w)-_(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ga(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new DI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new PI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _v="SyncEngine";class YF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QF{constructor(e){this.key=e,this.hu=!1}}class XF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new oo(a=>K1(a),rf),this.Iu=new Map,this.Eu=new Set,this.du=new st(re.comparator),this.Au=new Map,this.Ru=new uv,this.Vu={},this.mu=new Map,this.fu=ma.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JF(t,e,n=!0){const r=FI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await jI(r,e,n,!0),s}async function ZF(t,e){const n=FI(t);await jI(n,e,!0,!1)}async function jI(t,e,n,r){const s=await wF(t.localStore,mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await e6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&TI(t.remoteStore,s),a}async function e6(t,e,n,r,s){t.pu=(f,p,w)=>async function(_,b,g,v){let T=b.view.ru(g);T.Cs&&(T=await C_(_.localStore,b.query,!1).then(({documents:I})=>b.view.ru(I,T)));const j=v&&v.targetChanges.get(b.targetId),D=v&&v.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(T,_.isPrimaryClient,j,D);return L_(_,b.targetId,O.au),O.snapshot}(t,f,p,w);const i=await C_(t.localStore,e,!0),o=new KF(e,i.Qs),a=o.ru(i.documents),c=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);L_(t,n,d.au);const h=new YF(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function t6(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!rf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&pv(r.remoteStore,s.targetId),_g(r,s.targetId)}).catch(Ra)):(_g(r,s.targetId),await vg(r.localStore,s.targetId,!0))}async function n6(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pv(n.remoteStore,r.targetId))}async function r6(t,e,n){const r=u6(t);try{const s=await function(o,a){const c=ue(o),d=Pe.now(),h=a.reduce((w,x)=>w.add(x.key),_e());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=rs(),_=_e();return c.Ns.getEntries(w,h).next(b=>{x=b,x.forEach((g,v)=>{v.isValidDocument()||(_=_.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,x)).next(b=>{f=b;const g=[];for(const v of a){const T=vV(v,f.get(v.key).overlayedDocument);T!=null&&g.push(new oi(v.key,T,U1(T.value.mapValue),gr.exists(!0)))}return c.mutationQueue.addMutationBatch(w,d,g,a)}).next(b=>{p=b;const g=b.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(w,b.batchId,g)})}).then(()=>({batchId:p.batchId,changes:X1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new st(we)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Lc(r,s.changes),await df(r.remoteStore)}catch(s){const i=wv(s,"Failed to persist write");n.reject(i)}}async function OI(t,e){const n=ue(t);try{const r=await gF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?je(o.hu,14607):s.removedDocuments.size>0&&(je(o.hu,42227),o.hu=!1))}),await Lc(n,r,e)}catch(r){await Ra(r)}}function M_(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ue(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&xv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s6(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new st(re.comparator);o=o.insert(i,qt.newNoDocument(i,ce.min()));const a=_e().add(i),c=new lf(ce.min(),new Map,new st(we),o,a);await OI(r,c),r.du=r.du.remove(i),r.Au.delete(e),Ev(r)}else await vg(r.localStore,e,!1).then(()=>_g(r,e,n)).catch(Ra)}async function i6(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await mF(n.localStore,e);LI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,s)}catch(s){await Ra(s)}}async function o6(t,e,n){const r=ue(t);try{const s=await function(o,a){const c=ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(je(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);LI(r,e,n),MI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,s)}catch(s){await Ra(s)}}function MI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function LI(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function _g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||VI(t,r)})}function VI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ev(t))}function L_(t,e,n){for(const r of n)r instanceof PI?(t.Ru.addReference(r.key,e),a6(t,r)):r instanceof DI?(Z(_v,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||VI(t,r.key)):ae(19791,{wu:r})}function a6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(_v,"New document in limbo: "+n),t.Eu.add(r),Ev(t))}function Ev(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new QF(n)),t.du=t.du.insert(n,r),TI(t.remoteStore,new Cs(mr(iv(n.path)),r,"TargetPurposeLimboResolution",ef.ce))}}async function Lc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=hv.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=ue(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.Es,w=>h.persistence.referenceDelegate.addReference(f,p.targetId,w)).next(()=>B.forEach(p.ds,w=>h.persistence.referenceDelegate.removeReference(f,p.targetId,w)))))}catch(f){if(!Pa(f))throw f;Z(fv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const w=h.Ms.get(p),x=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(p,_)}}}(r.localStore,i))}async function l6(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Z(_v,"User change. New user:",e.toKey());const r=await wI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.Ls)}}function c6(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function FI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s6.bind(null,e),e.Pu.H_=qF.bind(null,e.eventManager),e.Pu.yu=GF.bind(null,e.eventManager),e}function u6(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o6.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pF(this.persistence,new dF,e.initialUser,this.serializer)}Cu(e){return new vI(dv.mi,this.serializer)}Du(e){return new _F}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class d6 extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new vI(r=>yh.mi(r,n),this.serializer)}}class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l6.bind(null,this.syncEngine),await zF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HF}()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),r=function(i){return new IF(i)}(e.databaseInfo);return function(i,o,a,c){return new AF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new PF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return A_.v()?new A_:new EF}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new XF(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Z(zi,"RemoteStore shutting down."),i.Ea.add(5),await Mc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class h6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=Zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(Ys,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(Ys,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vp(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f6(t);Z(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>P_(e.remoteStore,s)),t._onlineComponents=e}async function f6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Ys,"Using user provided OfflineComponentProvider");try{await Vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await Vp(t,new wh)}}else Z(Ys,"Using default OfflineComponentProvider"),await Vp(t,new d6(void 0));return t._offlineComponents}async function BI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Ys,"Using user provided OnlineComponentProvider"),await V_(t,t._uninitializedComponentsProvider._online)):(Z(Ys,"Using default OnlineComponentProvider"),await V_(t,new Eg))),t._onlineComponents}function p6(t){return BI(t).then(e=>e.syncEngine)}async function $I(t){const e=await BI(t),n=e.eventManager;return n.onListen=JF.bind(null,e.syncEngine),n.onUnlisten=t6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n6.bind(null,e.syncEngine),n}function m6(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new UI({next:p=>{h.Nu(),o.enqueueAndForget(()=>AI(i,f));const w=p.docs.has(a);!w&&p.fromCache?d.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&c&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new RI(iv(a.path),h,{includeMetadataChanges:!0,qa:!0});return kI(i,f)}(await $I(t),t.asyncQueue,e,n,r)),r.promise}function g6(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new UI({next:p=>{h.Nu(),o.enqueueAndForget(()=>AI(i,f)),p.fromCache&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new RI(a,h,{includeMetadataChanges:!0,qa:!0});return kI(i,f)}(await $I(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firestore.googleapis.com",U_=!0;class B_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WI,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KV)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EL;switch(r.type){case"firstParty":return new IL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),F_.delete(n),r.terminate())}(this),Promise.resolve()}}function y6(t,e,n,r={}){var d;t=zs(t,hf);const s=Ca(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(AS(`https://${a}`),RS("Firestore",!0)),i.host!==WI&&i.host!==a&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!$s(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Wt.MOCK_USER;else{h=Rj(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Wt(p)}t._authCredentials=new TL(new N1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dc(n,pt._jsonSchema))return new pt(e,r||null,new re(Ue.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ft("string",pt._jsonSchemaVersion),referencePath:ft("string")};class Fs extends ai{constructor(e,n,r){super(e,n,iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new re(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function ff(t,e,...n){if(t=mt(t),k1("collection","path",e),t instanceof hf){const r=Ue.fromString(e,...n);return e_(r),new Fs(t,null,r)}{if(!(t instanceof pt||t instanceof Fs))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return e_(r),new Fs(t.firestore,null,r)}}function HI(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Zy.newId()),k1("doc","path",e),t instanceof hf){const r=Ue.fromString(e,...n);return Z0(r),new pt(t,null,new re(r))}{if(!(t instanceof pt||t instanceof Fs))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Z0(r),new pt(t.firestore,t instanceof Fs?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _I(this,"async_queue_retry"),this._c=()=>{const r=Lp();r&&Z($_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pa(e))throw e;Z($_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",W_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=vv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:W_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vc extends hf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new z_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function v6(t,e){const n=typeof t=="object"?t:zy(),r=typeof t=="string"?t:uh,s=so(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kj("firestore");i&&y6(s,...i)}return s}function Tv(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w6(t),t._firestoreClient}function w6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new zL(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new h6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Lt.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new An(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:ft("string",An._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:ft("string",vr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wr(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:ft("string",wr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=/^__.*__$/;class _6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class qI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class Sv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GI(this.Ac)&&x6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class E6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cf(e)}Cc(e,n,r,s=!1){return new Sv({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iv(t){const e=t._freezeSettings(),n=cf(t._databaseId);return new E6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T6(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Cv("Data must be an object, but it was:",o,r);const a=KI(r,o);let c,d;if(i.merge)c=new yn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Tg(e,f,n);if(!o.contains(p))throw new K(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);QI(h,p)||h.push(p)}c=new yn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new _6(new on(a),c,d)}class mf extends bv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function b6(t,e,n,r){const s=t.Cc(1,e,n);Cv("Data must be an object, but it was:",s,r);const i=[],o=on.empty();ii(r,(c,d)=>{const h=Nv(e,c,n);d=mt(d);const f=s.yc(h);if(d instanceof mf)i.push(h);else{const p=Fc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new yn(i);return new qI(o,a,s.fieldTransforms)}function S6(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Tg(e,r,n)],c=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Tg(e,i[p])),c.push(i[p+1]);const d=[],h=on.empty();for(let p=a.length-1;p>=0;--p)if(!QI(d,a[p])){const w=a[p];let x=c[p];x=mt(x);const _=o.yc(w);if(x instanceof mf)d.push(w);else{const b=Fc(x,_);b!=null&&(d.push(w),h.set(w,b))}}const f=new yn(d);return new qI(h,f,o.fieldTransforms)}function I6(t,e,n,r=!1){return Fc(n,t.Cc(r?4:3,e))}function Fc(t,e){if(YI(t=mt(t)))return Cv("Unsupported field value:",e,t),KI(t,e);if(t instanceof bv)return function(r,s){if(!GI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Fc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pe.fromDate(r);return{timestampValue:gh(s.serializer,i)}}if(r instanceof Pe){const i=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(s.serializer,i)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:uI(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wr)return function(o,a){return{mapValue:{fields:{[V1]:{stringValue:F1},[dh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return ov(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Zh(r)}`)}(t,e)}function KI(t,e){const n={};return P1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,s)=>{const i=Fc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof vr||t instanceof An||t instanceof pt||t instanceof bv||t instanceof wr)}function Cv(t,e,n){if(!YI(n)||!A1(n)){const r=Zh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Tg(t,e,n){if((e=mt(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Nv(t,e);throw xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const C6=new RegExp("[~\\*/\\[\\]]");function Nv(t,e,n){if(e.search(C6)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new K(U.INVALID_ARGUMENT,a+t+c)}function QI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N6 extends XI{data(){return super.data()}}function gf(t,e){return typeof e=="string"?Nv(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}class Av extends kv{}function JI(t,e,...n){let r=[];e instanceof kv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Rv).length,a=i.filter(c=>c instanceof yf).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class yf extends Av{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yf(e,n,r)}_apply(e){const n=this._parse(e);return eC(e._query,n),new ai(e.firestore,e.converter,fg(e._query,n))}_parse(e){const n=Iv(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){q_(f,h);const x=[];for(const _ of f)x.push(H_(c,i,_));p={arrayValue:{values:x}}}else p=H_(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||q_(f,h),p=I6(a,o,f,h==="in"||h==="not-in");return ht.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ZI(t,e,n){const r=e,s=gf("where",t);return yf._create(s,r,n)}class Rv extends kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)eC(o,c),o=fg(o,c)}(e._query,n),new ai(e.firestore,e.converter,fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pv extends Av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(i,o)}(e._query,this._field,this._direction);return new ai(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Da(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function A6(t,e="asc"){const n=e,r=gf("orderBy",t);return Pv._create(r,n)}class Dv extends Av{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dv(e,n,r)}_apply(e){return new ai(e.firestore,e.converter,fh(e._query,this._limit,this._limitType))}}function R6(t){return Dv._create("limit",t,"F")}function H_(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!re.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l_(t,new re(r))}if(n instanceof pt)return l_(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function q_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P6{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ii(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[dh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>lt(o.doubleValue));return new wr(n)}convertGeoPoint(e){return new vr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);je(gI(r),9688,{name:e});const s=new dc(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||ns(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ri extends XI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ri._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ri._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ri._jsonSchema={type:ft("string",Ri._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class Td extends Ri{data(e={}){return super.data(e)}}class Jo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Td(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Td(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:j6(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){t=zs(t,pt);const e=zs(t.firestore,Vc);return m6(Tv(e),t._key).then(n=>L6(e,t,n))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:ft("string",Jo._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class tC extends P6{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function nC(t){t=zs(t,ai);const e=zs(t.firestore,Vc),n=Tv(e),r=new tC(e);return k6(t._query),g6(n,t._query).then(s=>new Jo(e,r,t,s))}function M6(t,e,n,...r){t=zs(t,pt);const s=zs(t.firestore,Vc),i=Iv(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof pf?S6(i,"updateDoc",t._key,e,n,r):b6(i,"updateDoc",t._key,e),sC(s,[o.toMutation(t._key,gr.exists(!0))])}function rC(t,e){const n=zs(t.firestore,Vc),r=HI(t),s=D6(t.converter,e);return sC(n,[T6(Iv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function sC(t,e){return function(r,s){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>r6(await p6(r),s,i)),i.promise}(Tv(t),e)}function L6(t,e,n){const r=n.docs.get(e._key),s=new tC(t);return new Ri(t,s,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Aa=s})(Na),Er(new Yn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Vc(new bL(r.getProvider("auth-internal")),new CL(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jn(Y0,Q0,e),jn(Y0,Q0,"esm2020")})();const iC="@firebase/installations",jv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e4,aC=`w:${jv}`,lC="FIS_v2",V6="https://firebaseinstallations.googleapis.com/v1",F6=60*60*1e3,U6="installations",B6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new ro(U6,B6,$6);function cC(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC({projectId:t}){return`${V6}/projects/${t}/installations`}function dC(t){return{token:t.token,requestStatus:2,expiresIn:W6(t.expiresIn),creationTime:Date.now()}}async function hC(t,e){const r=(await e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function z6(t,{refreshToken:e}){const n=fC(t);return n.append("Authorization",H6(e)),n}async function pC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function W6(t){return Number(t.replace("s","000"))}function H6(t){return`${lC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uC(t),s=fC(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:lC,appId:t.appId,sdkVersion:aC},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await pC(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:dC(d.authToken)}}else throw await hC("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=/^[cdef][\w-]{21}$/,bg="";function Y6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Q6(t);return K6.test(n)?n:bg}catch{return bg}}function Q6(t){return G6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Map;function yC(t,e){const n=vf(t);vC(n,e),X6(n,e)}function vC(t,e){const n=gC.get(t);if(n)for(const r of n)r(e)}function X6(t,e){const n=J6();n&&n.postMessage({key:t,fid:e}),Z6()}let Ci=null;function J6(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=t=>{vC(t.data.key,t.data.fid)}),Ci}function Z6(){gC.size===0&&Ci&&(Ci.close(),Ci=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="firebase-installations-database",t3=1,Hi="firebase-installations-store";let Fp=null;function Ov(){return Fp||(Fp=LS(e3,t3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}})),Fp}async function _h(t,e){const n=vf(t),s=(await Ov()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&yC(t,e.fid),e}async function wC(t){const e=vf(t),r=(await Ov()).transaction(Hi,"readwrite");await r.objectStore(Hi).delete(e),await r.done}async function wf(t,e){const n=vf(t),s=(await Ov()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&yC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(t){let e;const n=await wf(t.appConfig,r=>{const s=n3(r),i=r3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===bg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function n3(t){const e=t||{fid:Y6(),registrationStatus:0};return xC(e)}function r3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=s3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i3(t)}:{installationEntry:e}}async function s3(t,e){try{const n=await q6(t,e);return _h(t.appConfig,n)}catch(n){throw cC(n)&&n.customData.serverCode===409?await wC(t.appConfig):await _h(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function i3(t){let e=await G_(t.appConfig);for(;e.registrationStatus===1;)await mC(100),e=await G_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Mv(t);return r||n}return e}function G_(t){return wf(t,e=>{if(!e)throw Wi.create("installation-not-found");return xC(e)})}function xC(t){return o3(t)?{fid:t.fid,registrationStatus:0}:t}function o3(t){return t.registrationStatus===1&&t.registrationTime+oC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3({appConfig:t,heartbeatServiceProvider:e},n){const r=l3(t,n),s=z6(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:aC,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await pC(()=>fetch(r,a));if(c.ok){const d=await c.json();return dC(d)}else throw await hC("Generate Auth Token",c)}function l3(t,{fid:e}){return`${uC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(t,e=!1){let n;const r=await wf(t.appConfig,i=>{if(!_C(i))throw Wi.create("not-registered");const o=i.authToken;if(!e&&d3(o))return i;if(o.requestStatus===1)return n=c3(t,e),i;{if(!navigator.onLine)throw Wi.create("app-offline");const a=f3(i);return n=u3(t,a),a}});return n?await n:r.authToken}async function c3(t,e){let n=await K_(t.appConfig);for(;n.authToken.requestStatus===1;)await mC(100),n=await K_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Lv(t,e):r}function K_(t){return wf(t,e=>{if(!_C(e))throw Wi.create("not-registered");const n=e.authToken;return p3(n)?{...e,authToken:{requestStatus:0}}:e})}async function u3(t,e){try{const n=await a3(t,e),r={...e,authToken:n};return await _h(t.appConfig,r),n}catch(n){if(cC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await _h(t.appConfig,r)}throw n}}function _C(t){return t!==void 0&&t.registrationStatus===2}function d3(t){return t.requestStatus===2&&!h3(t)}function h3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+F6}function f3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function p3(t){return t.requestStatus===1&&t.requestTime+oC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Mv(e);return r?r.catch(console.error):Lv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e=!1){const n=t;return await y3(n),(await Lv(n,e)).token}async function y3(t){const{registrationPromise:e}=await Mv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){if(!t||!t.options)throw Up("App Configuration");if(!t.name)throw Up("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Up(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Up(t){return Wi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="installations",w3="installations-internal",x3=t=>{const e=t.getProvider("app").getImmediate(),n=v3(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_3=t=>{const e=t.getProvider("app").getImmediate(),n=so(e,EC).getImmediate();return{getId:()=>m3(n),getToken:s=>g3(n,s)}};function E3(){Er(new Yn(EC,x3,"PUBLIC")),Er(new Yn(w3,_3,"PRIVATE"))}E3();jn(iC,jv);jn(iC,jv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="analytics",T3="firebase_id",b3="origin",S3=60*1e3,I3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new ro("analytics","Analytics",C3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){if(!t.startsWith(Vv)){const e=wn.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function TC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function k3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function A3(t,e){const n=k3("firebase-js-sdk-policy",{createScriptURL:N3}),r=document.createElement("script"),s=`${Vv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function R3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function P3(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await TC(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){dn.error(a)}t("config",s,i)}async function D3(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await TC(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){dn.error(i)}}function j3(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await D3(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await P3(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){dn.error(a)}}return s}function O3(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=j3(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function M3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Vv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=30,V3=1e3;class F3{constructor(e={},n=V3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bC=new F3;function U3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function B3(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:U3(n)},s=I3.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(a=c.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function $3(t,e=bC,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw wn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw wn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H3;return setTimeout(async()=>{a.abort()},S3),SC({appId:r,apiKey:s,measurementId:i},o,a,e)}async function SC(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=bC){var a;const{appId:i,measurementId:o}=t;try{await z3(r,e)}catch(c){if(o)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await B3(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!W3(d)){if(s.deleteThrottleMetadata(i),o)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?x0(n,s.intervalMillis,L3):x0(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),dn.debug(`Calling attemptFetch again in ${h} millis`),SC(t,f,r,s)}}function z3(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W3(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function q3(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(){if(DS())try{await jS()}catch(t){return dn.warn(wn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K3(t,e,n,r,s,i,o){const a=$3(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>dn.error(p)),e.push(a);const c=G3().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,c]);M3(i)||A3(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[b3]="firebase",f.update=!0,h!=null&&(f[T3]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.app=e}_delete(){return delete Fl[this.app.options.appId],Promise.resolve()}}let Fl={},Y_=[];const Q_={};let Bp="dataLayer",Q3="gtag",X_,IC,J_=!1;function X3(){const t=[];if(PS()&&t.push("This is a browser extension environment."),Uj()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function J3(t,e,n){X3();const r=t.options.appId;if(!r)throw wn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Fl[r]!=null)throw wn.create("already-exists",{id:r});if(!J_){R3(Bp);const{wrappedGtag:i,gtagCore:o}=O3(Fl,Y_,Q_,Bp,Q3);IC=i,X_=o,J_=!0}return Fl[r]=K3(t,Y_,Q_,e,X_,Bp,n),new Y3(t)}function Z3(t=zy()){t=mt(t);const e=so(t,Eh);return e.isInitialized()?e.getImmediate():e9(t)}function e9(t,e={}){const n=so(t,Eh);if(n.isInitialized()){const s=n.getImmediate();if($s(e,n.getOptions()))return s;throw wn.create("already-initialized")}return n.initialize({options:e})}function t9(t,e,n,r){t=mt(t),q3(IC,Fl[t.app.options.appId],e,n,r).catch(s=>dn.error(s))}const Z_="@firebase/analytics",eE="0.10.18";function n9(){Er(new Yn(Eh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return J3(r,s,n)},"PUBLIC")),Er(new Yn("analytics-internal",t,"PRIVATE")),jn(Z_,eE),jn(Z_,eE,"esm2020");function t(e){try{const n=e.getProvider(Eh).getImmediate();return{logEvent:(r,s,i)=>t9(n,r,s,i)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}n9();const r9={apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},Fv=VS(r9),Hu=vL(Fv),Uc=v6(Fv);typeof window<"u"&&Z3(Fv);const CC=y.createContext(void 0),s9=()=>{const t=y.useContext(CC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},i9=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>o4(Hu,h=>{n(h),s(!1)}),[]);const c={user:e,login:async(d,h)=>{await r4(Hu,d,h)},register:async(d,h)=>{await n4(Hu,d,h)},logout:async()=>{await a4(Hu)},loading:r};return l.jsx(CC.Provider,{value:c,children:!r&&t})};function tE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=tE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():tE(t[s],null)}}}}function $e(...t){return y.useCallback(NC(...t),t)}function qi(t){const e=a9(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(c9);if(c){const d=c.props.children,h=a.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var o9=qi("Slot");function a9(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=d9(s),a=u9(i,s.props);return s.type!==y.Fragment&&(a.ref=r?NC(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var l9=Symbol("radix.slottable");function c9(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===l9}function u9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function d9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=kC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function AC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=kC(t))&&(r&&(r+=" "),r+=e);return r}const nE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rE=AC,Uv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return rE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=nE(h)||nE(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...w}=h;return Object.entries(w).every(x=>{let[_,b]=x;return Array.isArray(b)?b.includes({...i,...a}[_]):{...i,...a}[_]===b})?[...d,f,p]:d},[]);return rE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Bv="-",h9=t=>{const e=p9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Bv);return a[0]===""&&a.length!==1&&a.shift(),RC(a,e)||f9(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},RC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?RC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Bv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},sE=/^\[(.+)\]$/,f9=t=>{if(sE.test(t)){const e=sE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},p9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return g9(Object.entries(t.classGroups),n).forEach(([i,o])=>{Sg(o,r,i,e)}),r},Sg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:iE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(m9(s)){Sg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Sg(o,iE(e,i),n,r)})})},iE=(t,e)=>{let n=t;return e.split(Bv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},m9=t=>t.isThemeGetter,g9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,y9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PC="!",v9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let b=0;b<a.length;b++){let g=a[b];if(d===0){if(g===s&&(r||a.slice(b,b+i)===e)){c.push(a.slice(h,b)),h=b+i;continue}if(g==="/"){f=b;continue}}g==="["?d++:g==="]"&&d--}const p=c.length===0?a:a.substring(h),w=p.startsWith(PC),x=w?p.substring(1):p,_=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},w9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},x9=t=>({cache:y9(t.cacheSize),parseClassName:v9(t),...h9(t)}),_9=/\s+/,E9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(_9);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:w}=n(d);let x=!!w,_=r(x?p.substring(0,w):p);if(!_){if(!x){a=d+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=d+(a.length>0?" "+a:a);continue}x=!1}const b=w9(h).join(":"),g=f?b+PC:b,v=g+_;if(i.includes(v))continue;i.push(v);const T=s(_,x);for(let j=0;j<T.length;++j){const D=T[j];i.push(g+D)}a=d+(a.length>0?" "+a:a)}return a};function T9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DC(e))&&(r&&(r+=" "),r+=n);return r}const DC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=DC(t[r]))&&(n&&(n+=" "),n+=e);return n};function b9(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=x9(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=E9(c,n);return s(c,h),h}return function(){return i(T9.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jC=/^\[(?:([a-z-]+):)?(.+)\]$/i,S9=/^\d+\/\d+$/,I9=new Set(["px","full","screen"]),C9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=t=>Zo(t)||I9.has(t)||S9.test(t),fs=t=>Oa(t,"length",F9),Zo=t=>!!t&&!Number.isNaN(Number(t)),$p=t=>Oa(t,"number",Zo),al=t=>!!t&&Number.isInteger(Number(t)),P9=t=>t.endsWith("%")&&Zo(t.slice(0,-1)),de=t=>jC.test(t),ps=t=>C9.test(t),D9=new Set(["length","size","percentage"]),j9=t=>Oa(t,D9,OC),O9=t=>Oa(t,"position",OC),M9=new Set(["image","url"]),L9=t=>Oa(t,M9,B9),V9=t=>Oa(t,"",U9),ll=()=>!0,Oa=(t,e,n)=>{const r=jC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},F9=t=>N9.test(t)&&!k9.test(t),OC=()=>!1,U9=t=>A9.test(t),B9=t=>R9.test(t),$9=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),c=We("contrast"),d=We("grayscale"),h=We("hueRotate"),f=We("invert"),p=We("gap"),w=We("gradientColorStops"),x=We("gradientColorStopPositions"),_=We("inset"),b=We("margin"),g=We("opacity"),v=We("padding"),T=We("saturate"),j=We("scale"),D=We("sepia"),O=We("skew"),I=We("space"),S=We("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",de,e],k=()=>[de,e],P=()=>["",jr,fs],$=()=>["auto",Zo,de],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",de],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Zo,de];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[jr,fs],blur:["none","",ps,de],brightness:ie(),borderColor:[t],borderRadius:["none","","full",ps,de],borderSpacing:k(),borderWidth:P(),contrast:ie(),grayscale:z(),hueRotate:ie(),invert:z(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[P9,fs],inset:C(),margin:C(),opacity:ie(),padding:k(),saturate:ie(),scale:ie(),sepia:z(),skew:ie(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),de]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",al,de]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",al,de]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",al,de]},de]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[al,de]},de]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$p]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Zo,$p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,fs]}],"underline-offset":[{"underline-offset":["auto",jr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),O9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",j9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[jr,de]}],"outline-w":[{outline:[jr,fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[jr,fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ps,V9]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ps,de]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[al,de]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jr,fs,$p]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z9=b9($9);function J(...t){return z9(AC(t))}const Ig=Uv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?o9:"button";return l.jsx(o,{className:J(Ig({variant:e,size:n,className:t})),ref:i,...s})});se.displayName="Button";const xe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xe.displayName="Card";const Ze=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",t),...e}));Ze.displayName="CardHeader";const et=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));et.displayName="CardTitle";const Pn=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("text-sm text-muted-foreground",t),...e}));Pn.displayName="CardDescription";const Ne=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("p-6 pt-0",t),...e}));Ne.displayName="CardContent";const W9=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",t),...e}));W9.displayName="CardFooter";const H9=Uv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,...n}){return l.jsx("div",{className:J(H9({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...G9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MC("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(K9,{ref:i,iconNode:e,className:MC(`lucide-${q9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Te("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=Te("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Te("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function u5(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[l.jsx("section",{className:"relative py-20 px-4",children:l.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(jt,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[l.jsx(o5,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(se,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",l.jsx(qu,{className:"ml-2 h-5 w-5"})]}),l.jsx(se,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:l.jsxs(ic,{to:"/brooklyn-hearts-club",children:["View Live Example",l.jsx(qu,{className:"ml-2 h-5 w-5"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(xe,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Gt,{className:"h-6 w-6 text-purple-600"})}),l.jsx(et,{className:"text-xl",children:"Custom Event Pages"}),l.jsx(Pn,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),l.jsx(xe,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(Ni,{className:"h-6 w-6 text-purple-600"})}),l.jsx(et,{className:"text-xl",children:"Automated Waitlists"}),l.jsx(Pn,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),l.jsx(xe,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:l.jsx(ya,{className:"h-6 w-6 text-purple-600"})}),l.jsx(et,{className:"text-xl",children:"Community Messaging"}),l.jsx(Pn,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),l.jsx(xe,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:l.jsx(Ne,{className:"p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[l.jsxs("div",{children:[l.jsx(jt,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l.jsx(se,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:l.jsxs(ic,{to:"/brooklyn-hearts-club",children:["Visit Brooklyn Hearts Club",l.jsx(qu,{className:"ml-2 h-4 w-4"})]})})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),l.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:l.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),l.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),l.jsxs(se,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",l.jsx(qu,{className:"ml-2 h-5 w-5"})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),l.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:l.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}const d5="http://localhost:3001/api";class bd extends Error{constructor(n,r){super(n);nx(this,"status");this.status=r,this.name="ApiError"}}async function Nn(t,e){const n=`${d5}${t}`;try{console.log("API Request:",{url:n,method:(e==null?void 0:e.method)||"GET",timestamp:new Date().toISOString()});const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e});if(!r.ok){let i={};try{i=await r.json()}catch{i={message:`HTTP ${r.status}: ${r.statusText}`}}console.error("API Error Response:",{url:n,status:r.status,statusText:r.statusText,errorData:i,timestamp:new Date().toISOString()});const o=i.message||i.error||`API request failed (${r.status})`;throw new bd(o,r.status)}const s=await r.json();return console.log("API Success:",{url:n,dataKeys:Object.keys(s||{}),timestamp:new Date().toISOString()}),s}catch(r){throw r instanceof bd?r:(console.error("Network Error:",{url:n,error:r instanceof Error?r.message:"Unknown error",timestamp:new Date().toISOString()}),new bd(`Network error: ${r instanceof Error?r.message:"Unknown error"}`,0))}}const Ng={async getBySlug(t){return Nn(`/organizations/${t}`)},async create(t){return Nn("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return Nn(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},Ki={async getById(t){return Nn(`/events/${t}`)},async getByOrganization(t){return Nn(`/events?organization=${t}`)},async getAll(){return Nn("/events")},async create(t){return Nn("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return Nn(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return Nn(`/events/${t}`,{method:"DELETE"})}},$C={async create(t){return Nn("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return Nn(`/registrations/event/${t}`)},async markEmailSent(t){return Nn(`/registrations/${t}/email-sent`,{method:"PATCH"})}};function h5(){const[t,e]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState(!0),[o,a]=y.useState(null);y.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0),a(null);const h=await Ng.getBySlug("brooklyn-hearts-club");e(h);const f=await Ki.getByOrganization(h.id);r(f)}catch(h){console.error("Error loading Brooklyn Hearts Club data:",h),a(h instanceof Error?h.message:"Failed to load data")}finally{i(!1)}};return{organization:t,events:n,loading:s,error:o,refreshEvents:async()=>{if(t)try{const h=await Ki.getByOrganization(t.id);r(h)}catch(h){console.error("Error refreshing events:",h)}},reload:c}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function f5(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function li(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const d=f=>{var g;const{scope:p,children:w,...x}=f,_=((g=p==null?void 0:p[t])==null?void 0:g[c])||a,b=y.useMemo(()=>x,Object.values(x));return l.jsx(_.Provider,{value:b,children:w})};d.displayName=i+"Provider";function h(f,p){var _;const w=((_=p==null?void 0:p[t])==null?void 0:_[c])||a,x=y.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,p5(s,...e)]}function p5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Qt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},m5=rT[" useId ".trim().toString()]||(()=>{}),g5=0;function Gr(t){const[e,n]=y.useState(m5());return Qt(()=>{n(r=>r??String(g5++))},[t]),e?`radix-${e}`:""}var y5=rT[" useInsertionEffect ".trim().toString()]||Qt;function Yi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=v5({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const p=w5(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[c,d]}function v5({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return y5(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function w5(t){return typeof t=="function"}var x5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=x5.reduce((t,e)=>{const n=qi(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _5(t,e){t&&ba.flushSync(()=>t.dispatchEvent(e))}function Xs(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function E5(t,e=globalThis==null?void 0:globalThis.document){const n=Xs(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var T5="DismissableLayer",kg="dismissableLayer.update",b5="dismissableLayer.pointerDownOutside",S5="dismissableLayer.focusOutside",cE,zC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=y.useContext(zC),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=y.useState({}),x=$e(e,I=>f(I)),_=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(b),v=h?_.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=g,D=N5(I=>{const S=I.target,N=[...d.branches].some(R=>R.contains(S));!j||N||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=k5(I=>{const S=I.target;[...d.branches].some(R=>R.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return E5(I=>{v===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(cE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),uE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=cE)}},[h,p,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),uE())},[h,d]),y.useEffect(()=>{const I=()=>w({});return document.addEventListener(kg,I),()=>document.removeEventListener(kg,I)},[]),l.jsx(ge.div,{...c,ref:x,style:{pointerEvents:T?j?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,D.onPointerDownCapture)})});xf.displayName=T5;var I5="DismissableLayerBranch",C5=y.forwardRef((t,e)=>{const n=y.useContext(zC),r=y.useRef(null),s=$e(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(ge.div,{...t,ref:s})});C5.displayName=I5;function N5(t,e=globalThis==null?void 0:globalThis.document){const n=Xs(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){WC(b5,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function k5(t,e=globalThis==null?void 0:globalThis.document){const n=Xs(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&WC(S5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uE(){const t=new CustomEvent(kg);document.dispatchEvent(t)}function WC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_5(s,i):s.dispatchEvent(i)}var zp="focusScope.autoFocusOnMount",Wp="focusScope.autoFocusOnUnmount",dE={bubbles:!1,cancelable:!0},A5="FocusScope",_f=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),d=Xs(s),h=Xs(i),f=y.useRef(null),p=$e(e,_=>c(_)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let _=function(T){if(w.paused||!a)return;const j=T.target;a.contains(j)?f.current=j:gs(f.current,{select:!0})},b=function(T){if(w.paused||!a)return;const j=T.relatedTarget;j!==null&&(a.contains(j)||gs(f.current,{select:!0}))},g=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&gs(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,w.paused]),y.useEffect(()=>{if(a){fE.add(w);const _=document.activeElement;if(!a.contains(_)){const g=new CustomEvent(zp,dE);a.addEventListener(zp,d),a.dispatchEvent(g),g.defaultPrevented||(R5(M5(HC(a)),{select:!0}),document.activeElement===_&&gs(a))}return()=>{a.removeEventListener(zp,d),setTimeout(()=>{const g=new CustomEvent(Wp,dE);a.addEventListener(Wp,h),a.dispatchEvent(g),g.defaultPrevented||gs(_??document.body,{select:!0}),a.removeEventListener(Wp,h),fE.remove(w)},0)}}},[a,d,h,w]);const x=y.useCallback(_=>{if(!n&&!r||w.paused)return;const b=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,g=document.activeElement;if(b&&g){const v=_.currentTarget,[T,j]=P5(v);T&&j?!_.shiftKey&&g===j?(_.preventDefault(),n&&gs(T,{select:!0})):_.shiftKey&&g===T&&(_.preventDefault(),n&&gs(j,{select:!0})):g===v&&_.preventDefault()}},[n,r,w.paused]);return l.jsx(ge.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});_f.displayName=A5;function R5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gs(r,{select:e}),document.activeElement!==n)return}function P5(t){const e=HC(t),n=hE(e,t),r=hE(e.reverse(),t);return[n,r]}function HC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hE(t,e){for(const n of t)if(!D5(n,{upTo:e}))return n}function D5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function j5(t){return t instanceof HTMLInputElement&&"select"in t}function gs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&j5(t)&&e&&t.select()}}var fE=O5();function O5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=pE(t,e),t.unshift(e)},remove(e){var n;t=pE(t,e),(n=t[0])==null||n.resume()}}}function pE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function M5(t){return t.filter(e=>e.tagName!=="A")}var L5="Portal",Ef=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?X2.createPortal(l.jsx(ge.div,{...r,ref:e}),o):null});Ef.displayName=L5;function V5(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var lo=t=>{const{present:e,children:n}=t,r=F5(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=$e(r.ref,U5(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};lo.displayName="Presence";function F5(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=V5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Gu(r.current);i.current=a==="mounted"?d:"none"},[a]),Qt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,w=Gu(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Qt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=w=>{const _=Gu(r.current).includes(w.animationName);if(w.target===e&&_&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=w=>{w.target===e&&(i.current=Gu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Gu(t){return(t==null?void 0:t.animationName)||"none"}function U5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hp=0;function Hv(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mE()),document.body.insertAdjacentElement("beforeend",t[1]??mE()),Hp++,()=>{Hp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hp--}},[])}function mE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function qC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function B5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Sd="right-scroll-bar-position",Id="width-before-scroll-bar",$5="with-scroll-bars-hidden",z5="--removed-body-scroll-bar-size";function qp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function W5(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var H5=typeof window<"u"?y.useLayoutEffect:y.useEffect,gE=new WeakMap;function q5(t,e){var n=W5(null,function(r){return t.forEach(function(s){return qp(s,r)})});return H5(function(){var r=gE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||qp(a,null)}),i.forEach(function(a){s.has(a)||qp(a,o)})}gE.set(n,t)},[t]),n}function G5(t){return t}function K5(t,e){e===void 0&&(e=G5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function Y5(t){t===void 0&&(t={});var e=K5(null);return e.options=lr({async:!0,ssr:!1},t),e}var GC=function(t){var e=t.sideCar,n=qC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,lr({},n))};GC.isSideCarExport=!0;function Q5(t,e){return t.useMedium(e),GC}var KC=Y5(),Gp=function(){},Tf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Gp,onWheelCapture:Gp,onTouchMoveCapture:Gp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,w=t.noRelative,x=t.noIsolation,_=t.inert,b=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,T=t.gapMode,j=qC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,O=q5([n,e]),I=lr(lr({},j),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:KC,removeScrollBar:d,shards:f,noRelative:w,noIsolation:x,inert:_,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),lr(lr({},I),{ref:O})):y.createElement(v,lr({},I,{className:c,ref:O}),a))});Tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tf.classNames={fullWidth:Id,zeroRight:Sd};var X5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=X5();return e&&t.setAttribute("nonce",e),t}function Z5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=J5())&&(Z5(e,n),eU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nU=function(){var t=tU();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},YC=function(){var t=nU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},rU={left:0,top:0,right:0,gap:0},Kp=function(t){return parseInt(t||"",10)||0},sU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Kp(n),Kp(r),Kp(s)]},iU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rU;var e=sU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oU=YC(),ea="data-scroll-locked",aU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sd," .").concat(Sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ea,`] {
    `).concat(z5,": ").concat(a,`px;
  }
`)},yE=function(){var t=parseInt(document.body.getAttribute(ea)||"0",10);return isFinite(t)?t:0},lU=function(){y.useEffect(function(){return document.body.setAttribute(ea,(yE()+1).toString()),function(){var t=yE()-1;t<=0?document.body.removeAttribute(ea):document.body.setAttribute(ea,t.toString())}},[])},cU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;lU();var i=y.useMemo(function(){return iU(s)},[s]);return y.createElement(oU,{styles:aU(i,!e,s,n?"":"!important")})},Ag=!1;if(typeof window<"u")try{var Ku=Object.defineProperty({},"passive",{get:function(){return Ag=!0,!0}});window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{Ag=!1}var vo=Ag?{passive:!1}:!1,uU=function(t){return t.tagName==="TEXTAREA"},QC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uU(t)&&n[e]==="visible")},dU=function(t){return QC(t,"overflowY")},hU=function(t){return QC(t,"overflowX")},vE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=XC(t,r);if(s){var i=JC(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},XC=function(t,e){return t==="v"?dU(e):hU(e)},JC=function(t,e){return t==="v"?fU(e):pU(e)},mU=function(t,e){return t==="h"&&e==="rtl"?-1:1},gU=function(t,e,n,r,s){var i=mU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var w=JC(t,a),x=w[0],_=w[1],b=w[2],g=_-b-i*x;(x||g)&&XC(t,a)&&(f+=g,p+=x);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},wE=function(t){return[t.deltaX,t.deltaY]},xE=function(t){return t&&"current"in t?t.current:t},yU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wU=0,wo=[];function xU(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(wU++)[0],i=y.useState(YC)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=B5([t.lockRef.current],(t.shards||[]).map(xE),!0).filter(Boolean);return _.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(_,b){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var g=Yu(_),v=n.current,T="deltaX"in _?_.deltaX:v[0]-g[0],j="deltaY"in _?_.deltaY:v[1]-g[1],D,O=_.target,I=Math.abs(T)>Math.abs(j)?"h":"v";if("touches"in _&&I==="h"&&O.type==="range")return!1;var S=vE(I,O);if(!S)return!0;if(S?D=I:(D=I==="v"?"h":"v",S=vE(I,O)),!S)return!1;if(!r.current&&"changedTouches"in _&&(T||j)&&(r.current=D),!D)return!0;var N=r.current||D;return gU(N,b,_,N==="h"?T:j)},[]),c=y.useCallback(function(_){var b=_;if(!(!wo.length||wo[wo.length-1]!==i)){var g="deltaY"in b?wE(b):Yu(b),v=e.current.filter(function(D){return D.name===b.type&&(D.target===b.target||b.target===D.shadowParent)&&yU(D.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(xE).filter(Boolean).filter(function(D){return D.contains(b.target)}),j=T.length>0?a(b,T[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=y.useCallback(function(_,b,g,v){var T={name:_,delta:b,target:g,should:v,shadowParent:_U(g)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(j){return j!==T})},1)},[]),h=y.useCallback(function(_){n.current=Yu(_),r.current=void 0},[]),f=y.useCallback(function(_){d(_.type,wE(_),_.target,a(_,t.lockRef.current))},[]),p=y.useCallback(function(_){d(_.type,Yu(_),_.target,a(_,t.lockRef.current))},[]);y.useEffect(function(){return wo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,vo),document.addEventListener("touchmove",c,vo),document.addEventListener("touchstart",h,vo),function(){wo=wo.filter(function(_){return _!==i}),document.removeEventListener("wheel",c,vo),document.removeEventListener("touchmove",c,vo),document.removeEventListener("touchstart",h,vo)}},[]);var w=t.removeScrollBar,x=t.inert;return y.createElement(y.Fragment,null,x?y.createElement(i,{styles:vU(s)}):null,w?y.createElement(cU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _U(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EU=Q5(KC,xU);var bf=y.forwardRef(function(t,e){return y.createElement(Tf,lr({},t,{ref:e,sideCar:EU}))});bf.classNames=Tf.classNames;var TU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,Qu=new WeakMap,Xu={},Yp=0,ZC=function(t){return t&&(t.host||ZC(t.parentNode))},bU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ZC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},SU=function(t,e,n,r){var s=bU(e,Array.isArray(t)?t:[t]);Xu[n]||(Xu[n]=new WeakMap);var i=Xu[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var w=p.getAttribute(r),x=w!==null&&w!=="false",_=(xo.get(p)||0)+1,b=(i.get(p)||0)+1;xo.set(p,_),i.set(p,b),o.push(p),_===1&&x&&Qu.set(p,!0),b===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return h(e),a.clear(),Yp++,function(){o.forEach(function(f){var p=xo.get(f)-1,w=i.get(f)-1;xo.set(f,p),i.set(f,w),p||(Qu.has(f)||f.removeAttribute(r),Qu.delete(f)),w||f.removeAttribute(n)}),Yp--,Yp||(xo=new WeakMap,xo=new WeakMap,Qu=new WeakMap,Xu={})}},qv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=TU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),SU(r,s,n,"aria-hidden")):function(){return null}},Sf="Dialog",[eN,U7]=li(Sf),[IU,tr]=eN(Sf),tN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[d,h]=Yi({prop:r,defaultProp:s??!1,onChange:i,caller:Sf});return l.jsx(IU,{scope:e,triggerRef:a,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};tN.displayName=Sf;var nN="DialogTrigger",CU=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(nN,n),i=$e(e,s.triggerRef);return l.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Yv(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});CU.displayName=nN;var Gv="DialogPortal",[NU,rN]=eN(Gv,{forceMount:void 0}),sN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=tr(Gv,e);return l.jsx(NU,{scope:e,forceMount:n,children:y.Children.map(r,o=>l.jsx(lo,{present:n||i.open,children:l.jsx(Ef,{asChild:!0,container:s,children:o})}))})};sN.displayName=Gv;var Th="DialogOverlay",iN=y.forwardRef((t,e)=>{const n=rN(Th,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Th,t.__scopeDialog);return i.modal?l.jsx(lo,{present:r||i.open,children:l.jsx(AU,{...s,ref:e})}):null});iN.displayName=Th;var kU=qi("DialogOverlay.RemoveScroll"),AU=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Th,n);return l.jsx(bf,{as:kU,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ge.div,{"data-state":Yv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",oN=y.forwardRef((t,e)=>{const n=rN(Qi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Qi,t.__scopeDialog);return l.jsx(lo,{present:r||i.open,children:i.modal?l.jsx(RU,{...s,ref:e}):l.jsx(PU,{...s,ref:e})})});oN.displayName=Qi;var RU=y.forwardRef((t,e)=>{const n=tr(Qi,t.__scopeDialog),r=y.useRef(null),s=$e(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return qv(i)},[]),l.jsx(aN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),PU=y.forwardRef((t,e)=>{const n=tr(Qi,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(aN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),aN=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=tr(Qi,n),c=y.useRef(null),d=$e(e,c);return Hv(),l.jsxs(l.Fragment,{children:[l.jsx(_f,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(xf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Yv(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(DU,{titleId:a.titleId}),l.jsx(OU,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Kv="DialogTitle",lN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Kv,n);return l.jsx(ge.h2,{id:s.titleId,...r,ref:e})});lN.displayName=Kv;var cN="DialogDescription",uN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(cN,n);return l.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});uN.displayName=cN;var dN="DialogClose",hN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(dN,n);return l.jsx(ge.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});hN.displayName=dN;function Yv(t){return t?"open":"closed"}var fN="DialogTitleWarning",[B7,pN]=f5(fN,{contentName:Qi,titleName:Kv,docsSlug:"dialog"}),DU=({titleId:t})=>{const e=pN(fN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jU="DialogDescriptionWarning",OU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pN(jU).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},MU=tN,LU=sN,mN=iN,gN=oN,yN=lN,vN=uN,VU=hN;const If=MU,FU=LU,wN=y.forwardRef(({className:t,...e},n)=>l.jsx(mN,{ref:n,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wN.displayName=mN.displayName;const zc=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(FU,{children:[l.jsx(wN,{}),l.jsxs(gN,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(VU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx($c,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zc.displayName=gN.displayName;const Wc=({className:t,...e})=>l.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Wc.displayName="DialogHeader";const Hc=y.forwardRef(({className:t,...e},n)=>l.jsx(yN,{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",t),...e}));Hc.displayName=yN.displayName;const Cf=y.forwardRef(({className:t,...e},n)=>l.jsx(vN,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));Cf.displayName=vN.displayName;const le=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));le.displayName="Input";var UU="Label",xN=y.forwardRef((t,e)=>l.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xN.displayName=UU;var _N=xN;const BU=Uv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=y.forwardRef(({className:t,...e},n)=>l.jsx(_N,{ref:n,className:J(BU(),t),...e}));Q.displayName=_N.displayName;const Kr=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Kr.displayName="Textarea";function EN({event:t}){const[e,n]=y.useState(!1),[r,s]=y.useState("interest"),[i,o]=y.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:""}),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(null),w=()=>t.eventbriteUrl?"eventbrite":t.presaleEnabled?"presale":t.registrationRequired||t.price.type==="free"?"interest":null,x=g=>{s(g),n(!0),h(!1),p(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:""})},_=async g=>{g.preventDefault(),c(!0),p(null);try{let v;r==="presale"?v="presale_request":v=i.rsvpType,await $C.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:v,notes:i.notes||void 0}),h(!0),setTimeout(()=>{n(!1),h(!1)},2e3)}catch(v){console.error("Error submitting registration:",v),v instanceof bd?p(v.message):p("Failed to submit registration. Please try again.")}finally{c(!1)}},b=w();return b?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[b==="eventbrite"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",l.jsx(zv,{className:"ml-2 h-4 w-4"})]}),b==="presale"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>x("presale"),children:["Presale",l.jsx(Gi,{className:"ml-2 h-4 w-4"})]}),b==="interest"&&l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>x("interest"),children:["I'm Interested",l.jsx(Gt,{className:"ml-2 h-4 w-4"})]})]}),l.jsx(If,{open:e,onOpenChange:n,children:l.jsxs(zc,{className:"sm:max-w-md",children:[l.jsxs(Wc,{children:[l.jsx(Hc,{className:"flex items-center gap-2",children:r==="presale"?l.jsxs(l.Fragment,{children:[l.jsx(Gi,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):l.jsxs(l.Fragment,{children:[l.jsx(Gt,{className:"h-5 w-5 text-purple-600"}),"Express Interest"]})}),l.jsx(Cf,{children:r==="presale"?l.jsxs(l.Fragment,{children:["Get notified when tickets become available for ",l.jsx("strong",{children:t.title})]}):l.jsxs(l.Fragment,{children:["Let us know your level of interest in ",l.jsx("strong",{children:t.title})]})})]}),d?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(LC,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="presale"?"Request Sent!":"Interest Submitted!"}),l.jsx("p",{className:"text-gray-600",children:r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for expressing your interest! This helps the organizer gauge event popularity."})]}):l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Q,{htmlFor:"name",children:"Name *"}),l.jsx(le,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:g=>o(v=>({...v,name:g.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:"email",children:["Email ",r==="presale"?"*":"(optional)"]}),l.jsx(le,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:g=>o(v=>({...v,email:g.target.value})),required:r==="presale"})]}),r==="interest"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Q,{children:"How interested are you?"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(g=>({...g,rsvpType:"rsvp_yes"})),children:"Very Interested"}),l.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(g=>({...g,rsvpType:"rsvp_maybe"})),children:"Somewhat Interested"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Q,{htmlFor:"notes",children:"Notes (optional)"}),l.jsx(Kr,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:g=>o(v=>({...v,notes:g.target.value})),rows:2})]}),f&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(se,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),l.jsx(se,{type:"submit",disabled:a||!i.name||r==="presale"&&!i.email,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":r==="presale"?"Send Request":"Submit Interest"})]})]})]})})]}):null}function $U(){const{organization:t,events:e,loading:n,error:r}=h5(),[s,i]=y.useState([]),o=a=>{i(c=>c.includes(a)?c.filter(d=>d!==a):[...c,a])};return n?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Qs,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading Brooklyn Hearts Club..."})]})}):r?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",r]}),l.jsx(se,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):t?l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:"/brooklyn-hearts-club-banner.svg?height=320&width=1200",alt:"Art Club Header",className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:"/brooklyn-hearts-club-logo.svg?height=80&width=80",alt:"Brooklyn Hearts club Logo",width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:t.name}),l.jsx("p",{className:"text-lg text-gray-200",children:t.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",t.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.bio})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("Brooklyn Hearts Club - All events:",e.map(c=>({id:c.id,title:c.title,status:c.status})));const a=e.filter(c=>(c.status||"published")==="published");return console.log("Brooklyn Hearts Club - Published events:",a.map(c=>({id:c.id,title:c.title,status:c.status}))),a})().length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsx("div",{className:"space-y-6",children:e.filter(a=>(a.status||"published")==="published").map(a=>l.jsx(xe,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(Ne,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(jt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:a.category}),a.isRecurring&&l.jsxs(jt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(UC,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",a.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:a.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Gt,{className:"h-4 w-4 mr-2"}),new Date(a.date).toLocaleDateString()," • ",a.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ya,{className:"h-4 w-4 mr-2"}),a.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",a.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(EN,{event:a}),l.jsxs(se,{variant:"outline",onClick:()=>o(a.id),className:"flex items-center gap-2",children:["Details",s.includes(a.id)?l.jsx($v,{className:"h-4 w-4"}):l.jsx(Bc,{className:"h-4 w-4"})]})]})]}),s.includes(a.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[a.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",a.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:a.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",a.address]})})]}),a.isRecurring&&a.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:a.recurringDates.map((c,d)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:c.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[c.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:c.description})]})]},d))})]})]})]})})},a.id))})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",t.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:"/brooklyn-hearts-club-about-images-1.svg?height=400&width=600",alt:"Art Club Members",width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Founded in 2018 by a group of passionate local artists, Brooklyn Hearts club began as a small gathering in a converted warehouse space. What started as weekly sketch sessions has grown into a thriving community of over 200 members from all walks of life."}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our club welcomes artists of all skill levels, from complete beginners picking up a brush for the first time to seasoned professionals looking to connect with fellow creatives. We offer a diverse range of activities including workshops, exhibitions, collaborative projects, and social events."}),l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsxs("ul",{className:"space-y-2 text-gray-700",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Weekly open studio sessions with shared materials"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Monthly workshops led by professional artists"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Quarterly exhibitions showcasing member artwork"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Access to professional-grade equipment and studio space"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Networking opportunities with local galleries and art organizations"]})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",children:l.jsx(FC,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Bluesky",children:l.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.015.27-.031.402-.05-.132.019-.266.035-.402.05-2.67-.296-5.568.628-6.383 3.364C.378 17.804 0 22.764 0 23.452c0 .688.139 1.86.902 2.203.659.299 1.664.621 4.3-1.239C7.954 22.474 10.913 18.535 12 16.421c1.087 2.114 4.046 6.053 6.798 7.995 2.636 1.86 3.641 1.538 4.3 1.239.763-.343.902-1.515.902-2.203 0-.688-.378-5.648-.624-6.477-.815-2.736-3.713-3.66-6.383-3.364-.136.015-.27-.031-.402.05.132-.019.266.035.402-.50 2.67.296 5.568-.628 6.383-3.364.246-.829.624-5.789.624-6.479 0-.688-.139-1.86-.902-2.203-.659-.299-1.664-.621-4.3 1.239C16.046 4.747 13.087 8.686 12 10.8z"})})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"LinkTree",children:l.jsx(zv,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",children:l.jsx(Gt,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",children:l.jsx(VC,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(ya,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"123 Art Street, Creative District"})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(Gi,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"team@heyvoxxy"})]}),l.jsxs("div",{className:"group relative",children:[l.jsx("svg",{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Connect on LinkedIn"})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}const TN=ff(Uc,"organizations"),bN=ff(Uc,"events");ff(Uc,"registrations");ff(Uc,"users");const zU=async t=>(await rC(TN,{...t,createdAt:Pe.now(),updatedAt:Pe.now()})).id,_l=async t=>{const e=JI(TN,ZI("slug","==",t),R6(1)),n=await nC(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},WU=async(t,e)=>{const n=HI(Uc,"organizations",t),r={...e,updatedAt:Pe.now()};await M6(n,r);const s=await O6(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},HU=async t=>(await rC(bN,{...t,date:Pe.fromDate(t.date),endDate:t.endDate?Pe.fromDate(t.endDate):null,createdAt:Pe.now(),updatedAt:Pe.now()})).id,Rg=async t=>{const e=JI(bN,ZI("organizationId","==",t),A6("date","desc"));return(await nC(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})};function Ju(){return{apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const SN={development:{name:"development",dataSource:"firebase",firebaseConfig:Ju(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-staging.run.app/api",firebaseConfig:Ju(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Ju(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Ju(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function bh(){const t="development";if(SN[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function Qv(){const t=bh();return SN[t]}function Xv(t){return Qv().features[t]}function _E(){return Qv().dataSource}function EE(){return Qv().apiBaseUrl}function IN(t){const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState(!0),[a,c]=y.useState(null),d=y.useCallback(async()=>{try{o(!0),c(null);const p=bh(),w=_E(),x=EE();if(console.log(`Loading data for ${t} in ${p} environment using ${w}`),w==="firebase"){console.log("Using Firebase directly");const _=await _l(t);if(!_)throw new Error(`Organization '${t}' not found in ${p} environment`);n(_);const b=await Rg(_.id);s(b)}else if(w==="api"&&x){console.log(`Using API: ${x}`);const _=await Ng.getBySlug(t);n(_);const b=await Ki.getByOrganization(_.id);s(b)}else throw new Error(`Invalid data source configuration for ${p} environment`)}catch(p){console.error(`Error loading ${t} data:`,p),c(p instanceof Error?p.message:"Failed to load data")}finally{o(!1)}},[t]);return y.useEffect(()=>{t&&d()},[t,d]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const p=await Ki.getByOrganization(e.id);s(p)}catch(p){console.error("Error refreshing events:",p)}},updateOrganization:async p=>{if(e)try{const w=bh(),x=_E(),_=EE();if(console.log(`Updating organization in ${w} environment using ${x}`),x==="firebase"){console.log("Updating organization via Firebase (development/sandbox)");const b=await WU(e.id,p);n(b),console.log(`✅ Organization updated successfully in Firebase (${w})`)}else if(x==="api"&&_){console.log(`Updating organization via API: ${_}`);const b=await Ng.update(e.id,p);n(b)}else throw new Error(`Invalid update configuration for ${w} environment`)}catch(w){throw console.error("Error updating organization:",w),w}},reload:d}}function CN({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=y.useState({name:t.name,description:t.description,bio:t.bio,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress,theme:{primaryColor:t.settings.theme.primaryColor,backgroundColor:t.settings.theme.backgroundColor}}}),[a,c]=y.useState(!1),d=s||a,h=(x,_)=>{o(b=>({...b,[x]:_}))},f=(x,_,b)=>{o(g=>({...g,[x]:{...g[x],[_]:b}}))},p=(x,_)=>{o(b=>({...b,settings:{...b.settings,theme:{...b.settings.theme,[x]:_}}}))},w=async x=>{x.preventDefault(),s||c(!0);try{await e(i)}catch(_){console.error("Failed to save organization:",_)}finally{s||c(!1)}};return l.jsxs("div",{className:r?"":"p-6",children:[!r&&l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),l.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),l.jsxs(se,{onClick:n,variant:"outline",size:"sm",children:[l.jsx($c,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsx(et,{children:"Basic Information"}),l.jsx(Pn,{children:"Core details about your organization"})]}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"name",children:"Organization Name"}),l.jsx(le,{id:"name",value:i.name,onChange:x=>h("name",x.target.value),placeholder:"Organization Name"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"contactEmail",children:"Contact Email"}),l.jsx(le,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:x=>h("contactEmail",x.target.value),placeholder:"contact@organization.com"})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"description",children:"Short Description"}),l.jsx(le,{id:"description",value:i.description,onChange:x=>h("description",x.target.value),placeholder:"Brief description for headers and previews"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"bio",children:"Full Bio"}),l.jsx(Kr,{id:"bio",value:i.bio,onChange:x=>h("bio",x.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsx(et,{children:"Media & Branding"}),l.jsx(Pn,{children:"Images and visual identity for your organization"})]}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"logoUrl",children:"Logo URL"}),l.jsx(le,{id:"logoUrl",value:i.logoUrl,onChange:x=>h("logoUrl",x.target.value),placeholder:"https://example.com/logo.png"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"bannerUrl",children:"Banner Image URL"}),l.jsx(le,{id:"bannerUrl",value:i.bannerUrl,onChange:x=>h("bannerUrl",x.target.value),placeholder:"https://example.com/banner.jpg"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"primaryColor",children:"Primary Color"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{id:"primaryColor",value:i.settings.theme.primaryColor,onChange:x=>p("primaryColor",x.target.value),placeholder:"#8b5cf6"}),l.jsx("input",{type:"color",value:i.settings.theme.primaryColor,onChange:x=>p("primaryColor",x.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"backgroundColor",children:"Background Color"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{id:"backgroundColor",value:i.settings.theme.backgroundColor,onChange:x=>p("backgroundColor",x.target.value),placeholder:"#ffffff"}),l.jsx("input",{type:"color",value:i.settings.theme.backgroundColor,onChange:x=>p("backgroundColor",x.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]})]})]})]}),l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsx(et,{children:"Default Location"}),l.jsx(Pn,{children:"Default venue information for events"})]}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"defaultLocation",children:"Venue Name"}),l.jsx(le,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:x=>f("settings","defaultLocation",x.target.value),placeholder:"Venue Name"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"defaultAddress",children:"Address"}),l.jsx(le,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:x=>f("settings","defaultAddress",x.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsx(et,{children:"Social Media & Links"}),l.jsx(Pn,{children:"Connect your social media accounts and external links"})]}),l.jsx(Ne,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"instagram",children:"Instagram Handle"}),l.jsx(le,{id:"instagram",value:i.socialLinks.instagram,onChange:x=>f("socialLinks","instagram",x.target.value),placeholder:"@yourhandle"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"website",children:"Website URL"}),l.jsx(le,{id:"website",value:i.socialLinks.website,onChange:x=>f("socialLinks","website",x.target.value),placeholder:"https://yourwebsite.com"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"eventbrite",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:x=>f("socialLinks","eventbrite",x.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"venmo",children:"Venmo Handle"}),l.jsx(le,{id:"venmo",value:i.socialLinks.venmo,onChange:x=>f("socialLinks","venmo",x.target.value),placeholder:"@yourvenmo"})]})]})})]}),!r&&l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:d,children:[l.jsx(lE,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})]}),r&&l.jsx("div",{className:"sticky bottom-6 flex justify-center",children:l.jsxs(se,{type:"submit",disabled:d,className:"shadow-lg",size:"lg",children:[l.jsx(lE,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})})]})]})}function qU({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:c,error:d,updateOrganization:h}=IN(t),[f,p]=y.useState([]),[w,x]=y.useState(!1),_=g=>{p(v=>v.includes(g)?v.filter(T=>T!==g):[...v,g])},b=async g=>{try{await h(g),x(!1)}catch(v){console.error("Failed to save organization:",v)}};return c?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Qs,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):d?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",d]}),l.jsx(se,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?l.jsxs("div",{className:"min-h-screen bg-white",children:[s&&Xv("adminControls")&&l.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[l.jsx(ic,{to:`/${t}/admin`,children:l.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[l.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),w?l.jsxs(se,{onClick:()=>x(!1),variant:"outline",size:"sm",children:[l.jsx($c,{className:"h-4 w-4 mr-2"}),"Cancel"]}):l.jsxs(se,{onClick:()=>x(!0),variant:"outline",size:"sm",children:[l.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Quick Edit"]})]}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsx(CN,{organization:o,onSave:b,onCancel:()=>x(!1)})})}),l.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[l.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold",children:o.name}),l.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),l.jsx("section",{className:"py-12 bg-white",children:l.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.bio})]})})}),l.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),(()=>{console.log("All events:",a.map(v=>({id:v.id,title:v.title,status:v.status})));const g=a.filter(v=>(v.status||"published")==="published");return console.log("Published events:",g.map(v=>({id:v.id,title:v.title,status:v.status}))),g})().length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):l.jsx("div",{className:"space-y-6",children:a.filter(g=>(g.status||"published")==="published").map(g=>l.jsx(xe,{className:"hover:shadow-lg transition-shadow duration-300",children:l.jsx(Ne,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(jt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:g.category}),g.isRecurring&&l.jsxs(jt,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(UC,{className:"h-3 w-3"}),"Recurring"]}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:g.title})]}),g.series&&l.jsx("div",{className:"mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),l.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Gt,{className:"h-4 w-4 mr-2"}),g.date instanceof Date?g.date.toLocaleDateString():new Date(g.date).toLocaleDateString()," • ",g.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ya,{className:"h-4 w-4 mr-2"}),g.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsx(EN,{event:{...g,date:g.date instanceof Date?g.date.toISOString():g.date,createdAt:g.createdAt instanceof Date?g.createdAt.toISOString():g.createdAt,updatedAt:g.updatedAt instanceof Date?g.updatedAt.toISOString():g.updatedAt}}),l.jsxs(se,{variant:"outline",onClick:()=>_(g.id),className:"flex items-center gap-2",children:["Details",f.includes(g.id)?l.jsx($v,{className:"h-4 w-4"}):l.jsx(Bc,{className:"h-4 w-4"})]})]})]}),f.includes(g.id)&&l.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&l.jsxs("div",{children:[l.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),l.jsx("p",{className:"text-gray-600 text-sm",children:g.series.description})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.fullDescription}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",g.address]})})]}),g.isRecurring&&g.recurringDates&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),l.jsx("div",{className:"space-y-2",children:g.recurringDates.map((v,T)=>l.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[l.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:v.date}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium text-gray-900",children:[v.theme,":"]}),l.jsx("span",{className:"text-gray-600 ml-1",children:v.description})]})]},T))})]})]})]})})},g.id))})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),l.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?l.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),l.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&l.jsxs(l.Fragment,{children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),l.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((g,v)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),g]},v))})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),l.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&l.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:l.jsx(FC,{className:"h-6 w-6"})}),o.socialLinks.website&&l.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:l.jsx(zv,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&l.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:l.jsx(Gt,{className:"h-6 w-6"})}),o.socialLinks.venmo&&l.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:l.jsx(VC,{className:"h-6 w-6"})}),l.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:l.jsx(Gi,{className:"h-6 w-6"})})]})]})]})]})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),l.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),l.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"group relative",children:[l.jsx(ya,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),l.jsxs("div",{className:"group relative",children:[l.jsx(Gi,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:l.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function GU(){const t={story:`
      <p>
        Voxxy Presents NYC emerged from the underground music scene in 2023, born out of a desire to create 
        authentic connections between emerging artists and passionate music lovers. What started as pop-up shows 
        in unconventional Brooklyn venues has evolved into a curated collective that champions the raw, 
        unfiltered creativity of New York's underground scene.
      </p>
      <p>
        We believe that the most powerful art happens in intimate spaces where barriers between performer and 
        audience dissolve. Our events aren't just concerts—they're communal experiences that celebrate the 
        beautiful chaos of creative expression in all its forms.
      </p>
    `,offerings:["Intimate showcases featuring 3-5 carefully curated underground artists","Monthly open mic nights for emerging talent to connect and grow","Pop-up events in unique Brooklyn venues and unconventional spaces","Artist development workshops and networking opportunities","Collaborative projects between musicians, visual artists, and performers","Community-driven events that prioritize authentic artistic expression"]};return l.jsx(qU,{organizationSlug:"voxxy-presents-nyc",bannerImage:"/placeholder.jpg",logoImage:"/placeholder-logo.png",aboutImage:"/placeholder.jpg",showAdminControls:Xv("adminControls"),customContent:t})}function NN(t){const e=t+"CollectionProvider",[n,r]=li(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:b,children:g}=_,v=q.useRef(null),T=q.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:T,collectionRef:v,children:g})};o.displayName=e;const a=t+"CollectionSlot",c=qi(a),d=q.forwardRef((_,b)=>{const{scope:g,children:v}=_,T=i(a,g),j=$e(b,T.collectionRef);return l.jsx(c,{ref:j,children:v})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=qi(h),w=q.forwardRef((_,b)=>{const{scope:g,children:v,...T}=_,j=q.useRef(null),D=$e(b,j),O=i(h,g);return q.useEffect(()=>(O.itemMap.set(j,{ref:j,...T}),()=>void O.itemMap.delete(j))),l.jsx(p,{[f]:"",ref:D,children:v})});w.displayName=h;function x(_){const b=i(t+"CollectionConsumer",_);return q.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((O,I)=>T.indexOf(O.ref.current)-T.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},x,r]}var KU=y.createContext(void 0);function Jv(t){const e=y.useContext(KU);return t||e||"ltr"}var Qp="rovingFocusGroup.onEntryFocus",YU={bubbles:!1,cancelable:!0},qc="RovingFocusGroup",[Pg,kN,QU]=NN(qc),[XU,AN]=li(qc,[QU]),[JU,ZU]=XU(qc),RN=y.forwardRef((t,e)=>l.jsx(Pg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Pg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(eB,{...t,ref:e})})}));RN.displayName=qc;var eB=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=y.useRef(null),w=$e(e,p),x=Jv(i),[_,b]=Yi({prop:o,defaultProp:a??null,onChange:c,caller:qc}),[g,v]=y.useState(!1),T=Xs(d),j=kN(n),D=y.useRef(!1),[O,I]=y.useState(0);return y.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(Qp,T),()=>S.removeEventListener(Qp,T)},[T]),l.jsx(JU,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:_,onItemFocus:y.useCallback(S=>b(S),[b]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>I(S=>S-1),[]),children:l.jsx(ge.div,{tabIndex:g||O===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{D.current=!0}),onFocus:fe(t.onFocus,S=>{const N=!D.current;if(S.target===S.currentTarget&&N&&!g){const R=new CustomEvent(Qp,YU);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const C=j().filter(V=>V.focusable),k=C.find(V=>V.active),P=C.find(V=>V.id===_),X=[k,P,...C].filter(Boolean).map(V=>V.ref.current);jN(X,h)}}D.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),PN="RovingFocusGroupItem",DN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Gr(),d=i||c,h=ZU(PN,n),f=h.currentTabStopId===d,p=kN(n),{onFocusableItemAdd:w,onFocusableItemRemove:x,currentTabStopId:_}=h;return y.useEffect(()=>{if(r)return w(),()=>x()},[r,w,x]),l.jsx(Pg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(ge.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,b=>{r?h.onItemFocus(d):b.preventDefault()}),onFocus:fe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:fe(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=rB(b,h.orientation,h.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let T=p().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")T.reverse();else if(g==="prev"||g==="next"){g==="prev"&&T.reverse();const j=T.indexOf(b.currentTarget);T=h.loop?sB(T,j+1):T.slice(j+1)}setTimeout(()=>jN(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:_!=null}):o})})});DN.displayName=PN;var tB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rB(t,e,n){const r=nB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tB[r]}function jN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iB=RN,oB=DN,Nf="Tabs",[aB,$7]=li(Nf,[AN]),ON=AN(),[lB,Zv]=aB(Nf),MN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Jv(a),[f,p]=Yi({prop:r,onChange:s,defaultProp:i??"",caller:Nf});return l.jsx(lB,{scope:n,baseId:Gr(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:l.jsx(ge.div,{dir:h,"data-orientation":o,...d,ref:e})})});MN.displayName=Nf;var LN="TabsList",VN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Zv(LN,n),o=ON(n);return l.jsx(iB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});VN.displayName=LN;var FN="TabsTrigger",UN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Zv(FN,n),a=ON(n),c=zN(o.baseId,r),d=WN(o.baseId,r),h=r===o.value;return l.jsx(oB,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(ge.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:fe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});UN.displayName=FN;var BN="TabsContent",$N=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Zv(BN,n),c=zN(a.baseId,r),d=WN(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(lo,{present:s||h,children:({present:p})=>l.jsx(ge.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});$N.displayName=BN;function zN(t,e){return`${t}-trigger-${e}`}function WN(t,e){return`${t}-content-${e}`}var cB=MN,HN=VN,qN=UN,GN=$N;const uB=cB,KN=y.forwardRef(({className:t,...e},n)=>l.jsx(HN,{ref:n,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));KN.displayName=HN.displayName;const Cd=y.forwardRef(({className:t,...e},n)=>l.jsx(qN,{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Cd.displayName=qN.displayName;const Nd=y.forwardRef(({className:t,...e},n)=>l.jsx(GN,{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nd.displayName=GN.displayName;function TE(t,[e,n]){return Math.min(n,Math.max(e,t))}const dB=["top","right","bottom","left"],Js=Math.min,mn=Math.max,Sh=Math.round,Zu=Math.floor,xr=t=>({x:t,y:t}),hB={left:"right",right:"left",bottom:"top",top:"bottom"},fB={start:"end",end:"start"};function Dg(t,e,n){return mn(t,Js(e,n))}function ss(t,e){return typeof t=="function"?t(e):t}function is(t){return t.split("-")[0]}function Ma(t){return t.split("-")[1]}function ew(t){return t==="x"?"y":"x"}function tw(t){return t==="y"?"height":"width"}const pB=new Set(["top","bottom"]);function cr(t){return pB.has(is(t))?"y":"x"}function nw(t){return ew(cr(t))}function mB(t,e,n){n===void 0&&(n=!1);const r=Ma(t),s=nw(t),i=tw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ih(o)),[o,Ih(o)]}function gB(t){const e=Ih(t);return[jg(t),e,jg(e)]}function jg(t){return t.replace(/start|end/g,e=>fB[e])}const bE=["left","right"],SE=["right","left"],yB=["top","bottom"],vB=["bottom","top"];function wB(t,e,n){switch(t){case"top":case"bottom":return n?e?SE:bE:e?bE:SE;case"left":case"right":return e?yB:vB;default:return[]}}function xB(t,e,n,r){const s=Ma(t);let i=wB(is(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(jg)))),i}function Ih(t){return t.replace(/left|right|bottom|top/g,e=>hB[e])}function _B(t){return{top:0,right:0,bottom:0,left:0,...t}}function YN(t){return typeof t!="number"?_B(t):{top:t,right:t,bottom:t,left:t}}function Ch(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function IE(t,e,n){let{reference:r,floating:s}=t;const i=cr(e),o=nw(e),a=tw(o),c=is(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let w;switch(c){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-s.width,y:f};break;default:w={x:r.x,y:r.y}}switch(Ma(e)){case"start":w[o]-=p*(n&&d?-1:1);break;case"end":w[o]+=p*(n&&d?-1:1);break}return w}const EB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=IE(d,r,c),p=r,w={},x=0;for(let _=0;_<a.length;_++){const{name:b,fn:g}=a[_],{x:v,y:T,data:j,reset:D}=await g({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,f=T??f,w={...w,[b]:{...w[b],...j}},D&&x<=50&&(x++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=IE(d,p,c)),_=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:w}};async function gc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:w=0}=ss(e,t),x=YN(w),b=a[p?f==="floating"?"reference":"floating":f],g=Ch(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),j=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Ch(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:c}):v);return{top:(g.top-D.top+x.top)/j.y,bottom:(D.bottom-g.bottom+x.bottom)/j.y,left:(g.left-D.left+x.left)/j.x,right:(D.right-g.right+x.right)/j.x}}const TB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=ss(t,e)||{};if(d==null)return{};const f=YN(h),p={x:n,y:r},w=nw(s),x=tw(w),_=await o.getDimensions(d),b=w==="y",g=b?"top":"left",v=b?"bottom":"right",T=b?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[w]-p[w]-i.floating[x],D=p[w]-i.reference[w],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=O?O[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[T]||i.floating[x]);const S=j/2-D/2,N=I/2-_[x]/2-1,R=Js(f[g],N),C=Js(f[v],N),k=R,P=I-_[x]-C,$=I/2-_[x]/2+S,X=Dg(k,$,P),V=!c.arrow&&Ma(s)!=null&&$!==X&&i.reference[x]/2-($<k?R:C)-_[x]/2<0,G=V?$<k?$-k:$-P:0;return{[w]:p[w]+G,data:{[w]:X,centerOffset:$-X-G,...V&&{alignmentOffset:G}},reset:V}}}),bB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...b}=ss(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=is(s),v=cr(a),T=is(a)===a,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=p||(T||!_?[Ih(a)]:gB(a)),O=x!=="none";!p&&O&&D.push(...xB(a,_,x,j));const I=[a,...D],S=await gc(e,b),N=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&N.push(S[g]),f){const $=mB(s,o,j);N.push(S[$[0]],S[$[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every($=>$<=0)){var C,k;const $=(((C=i.flip)==null?void 0:C.index)||0)+1,X=I[$];if(X&&(!(f==="alignment"?v!==cr(X):!1)||R.every(L=>cr(L.placement)===v?L.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:X}};let V=(k=R.filter(G=>G.overflows[0]<=0).sort((G,L)=>G.overflows[1]-L.overflows[1])[0])==null?void 0:k.placement;if(!V)switch(w){case"bestFit":{var P;const G=(P=R.filter(L=>{if(O){const z=cr(L.placement);return z===v||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:P[0];G&&(V=G);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function CE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NE(t){return dB.some(e=>t[e]>=0)}const SB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ss(t,e);switch(r){case"referenceHidden":{const i=await gc(e,{...s,elementContext:"reference"}),o=CE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NE(o)}}}case"escaped":{const i=await gc(e,{...s,altBoundary:!0}),o=CE(i,n.floating);return{data:{escapedOffsets:o,escaped:NE(o)}}}default:return{}}}}},QN=new Set(["left","top"]);async function IB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=is(n),a=Ma(n),c=cr(n)==="y",d=QN.has(o)?-1:1,h=i&&c?-1:1,f=ss(e,t);let{mainAxis:p,crossAxis:w,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(w=a==="end"?x*-1:x),c?{x:w*h,y:p*d}:{x:p*d,y:w*h}}const CB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await IB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},NB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=ss(t,e),d={x:n,y:r},h=await gc(e,c),f=cr(is(s)),p=ew(f);let w=d[p],x=d[f];if(i){const b=p==="y"?"top":"left",g=p==="y"?"bottom":"right",v=w+h[b],T=w-h[g];w=Dg(v,w,T)}if(o){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=x+h[b],T=x-h[g];x=Dg(v,x,T)}const _=a.fn({...e,[p]:w,[f]:x});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[f]:o}}}}}},kB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ss(t,e),h={x:n,y:r},f=cr(s),p=ew(f);let w=h[p],x=h[f];const _=ss(a,e),b=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const T=p==="y"?"height":"width",j=i.reference[p]-i.floating[T]+b.mainAxis,D=i.reference[p]+i.reference[T]-b.mainAxis;w<j?w=j:w>D&&(w=D)}if(d){var g,v;const T=p==="y"?"width":"height",j=QN.has(is(s)),D=i.reference[f]-i.floating[T]+(j&&((g=o.offset)==null?void 0:g[f])||0)+(j?0:b.crossAxis),O=i.reference[f]+i.reference[T]+(j?0:((v=o.offset)==null?void 0:v[f])||0)-(j?b.crossAxis:0);x<D?x=D:x>O&&(x=O)}return{[p]:w,[f]:x}}}},AB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=ss(t,e),h=await gc(e,d),f=is(s),p=Ma(s),w=cr(s)==="y",{width:x,height:_}=i.floating;let b,g;f==="top"||f==="bottom"?(b=f,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,b=p==="end"?"top":"bottom");const v=_-h.top-h.bottom,T=x-h.left-h.right,j=Js(_-h[b],v),D=Js(x-h[g],T),O=!e.middlewareData.shift;let I=j,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),O&&!p){const R=mn(h.left,0),C=mn(h.right,0),k=mn(h.top,0),P=mn(h.bottom,0);w?S=x-2*(R!==0||C!==0?R+C:mn(h.left,h.right)):I=_-2*(k!==0||P!==0?k+P:mn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:I});const N=await o.getDimensions(a.floating);return x!==N.width||_!==N.height?{reset:{rects:!0}}:{}}}};function kf(){return typeof window<"u"}function La(t){return XN(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(t){var e;return(e=(XN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XN(t){return kf()?t instanceof Node||t instanceof xn(t).Node:!1}function Jn(t){return kf()?t instanceof Element||t instanceof xn(t).Element:!1}function br(t){return kf()?t instanceof HTMLElement||t instanceof xn(t).HTMLElement:!1}function kE(t){return!kf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}const RB=new Set(["inline","contents"]);function Gc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!RB.has(s)}const PB=new Set(["table","td","th"]);function DB(t){return PB.has(La(t))}const jB=[":popover-open",":modal"];function Af(t){return jB.some(e=>{try{return t.matches(e)}catch{return!1}})}const OB=["transform","translate","scale","rotate","perspective"],MB=["transform","translate","scale","rotate","perspective","filter"],LB=["paint","layout","strict","content"];function rw(t){const e=sw(),n=Jn(t)?Zn(t):t;return OB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||MB.some(r=>(n.willChange||"").includes(r))||LB.some(r=>(n.contain||"").includes(r))}function VB(t){let e=Zs(t);for(;br(e)&&!va(e);){if(rw(e))return e;if(Af(e))return null;e=Zs(e)}return null}function sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FB=new Set(["html","body","#document"]);function va(t){return FB.has(La(t))}function Zn(t){return xn(t).getComputedStyle(t)}function Rf(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zs(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kE(t)&&t.host||Cr(t);return kE(e)?e.host:e}function JN(t){const e=Zs(t);return va(e)?t.ownerDocument?t.ownerDocument.body:t.body:br(e)&&Gc(e)?e:JN(e)}function yc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=JN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xn(s);if(i){const a=Og(o);return e.concat(o,o.visualViewport||[],Gc(s)?s:[],a&&n?yc(a):[])}return e.concat(s,yc(s,[],n))}function Og(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZN(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sh(n)!==i||Sh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function iw(t){return Jn(t)?t:t.contextElement}function ta(t){const e=iw(t);if(!br(e))return xr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ZN(e);let o=(i?Sh(n.width):n.width)/r,a=(i?Sh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const UB=xr(0);function ek(t){const e=xn(t);return!sw()||!e.visualViewport?UB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xn(t)?!1:e}function Xi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=iw(t);let o=xr(1);e&&(r?Jn(r)&&(o=ta(r)):o=ta(t));const a=BB(i,n,r)?ek(i):xr(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=xn(i),w=r&&Jn(r)?xn(r):r;let x=p,_=Og(x);for(;_&&r&&w!==x;){const b=ta(_),g=_.getBoundingClientRect(),v=Zn(_),T=g.left+(_.clientLeft+parseFloat(v.paddingLeft))*b.x,j=g.top+(_.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,d*=b.y,h*=b.x,f*=b.y,c+=T,d+=j,x=xn(_),_=Og(x)}}return Ch({width:h,height:f,x:c,y:d})}function ow(t,e){const n=Rf(t).scrollLeft;return e?e.left+n:Xi(Cr(t)).left+n}function tk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:ow(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function $B(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Cr(r),a=e?Af(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=xr(1);const h=xr(0),f=br(r);if((f||!f&&!i)&&((La(r)!=="body"||Gc(o))&&(c=Rf(r)),br(r))){const w=Xi(r);d=ta(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const p=o&&!f&&!i?tk(o,c,!0):xr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function zB(t){return Array.from(t.getClientRects())}function WB(t){const e=Cr(t),n=Rf(t),r=t.ownerDocument.body,s=mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ow(t);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=mn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function HB(t,e){const n=xn(t),r=Cr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=sw();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const qB=new Set(["absolute","fixed"]);function GB(t,e){const n=Xi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=br(t)?ta(t):xr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function AE(t,e,n){let r;if(e==="viewport")r=HB(t,n);else if(e==="document")r=WB(Cr(t));else if(Jn(e))r=GB(e,n);else{const s=ek(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ch(r)}function nk(t,e){const n=Zs(t);return n===e||!Jn(n)||va(n)?!1:Zn(n).position==="fixed"||nk(n,e)}function KB(t,e){const n=e.get(t);if(n)return n;let r=yc(t,[],!1).filter(a=>Jn(a)&&La(a)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?Zs(t):t;for(;Jn(o)&&!va(o);){const a=Zn(o),c=rw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&qB.has(s.position)||Gc(o)&&!c&&nk(t,o))?r=r.filter(h=>h!==o):s=a,o=Zs(o)}return e.set(t,r),r}function YB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Af(e)?[]:KB(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=AE(e,h,s);return d.top=mn(f.top,d.top),d.right=Js(f.right,d.right),d.bottom=Js(f.bottom,d.bottom),d.left=mn(f.left,d.left),d},AE(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QB(t){const{width:e,height:n}=ZN(t);return{width:e,height:n}}function XB(t,e,n){const r=br(e),s=Cr(e),i=n==="fixed",o=Xi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=xr(0);function d(){c.x=ow(s)}if(r||!r&&!i)if((La(e)!=="body"||Gc(s))&&(a=Rf(e)),r){const w=Xi(e,!0,i,e);c.x=w.x+e.clientLeft,c.y=w.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?tk(s,a):xr(0),f=o.left+a.scrollLeft-c.x-h.x,p=o.top+a.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function Xp(t){return Zn(t).position==="static"}function RE(t,e){if(!br(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cr(t)===n&&(n=n.ownerDocument.body),n}function rk(t,e){const n=xn(t);if(Af(t))return n;if(!br(t)){let s=Zs(t);for(;s&&!va(s);){if(Jn(s)&&!Xp(s))return s;s=Zs(s)}return n}let r=RE(t,e);for(;r&&DB(r)&&Xp(r);)r=RE(r,e);return r&&va(r)&&Xp(r)&&!rw(r)?n:r||VB(t)||n}const JB=async function(t){const e=this.getOffsetParent||rk,n=this.getDimensions,r=await n(t.floating);return{reference:XB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZB(t){return Zn(t).direction==="rtl"}const e$={convertOffsetParentRelativeRectToViewportRelativeRect:$B,getDocumentElement:Cr,getClippingRect:YB,getOffsetParent:rk,getElementRects:JB,getClientRects:zB,getDimensions:QB,getScale:ta,isElement:Jn,isRTL:ZB};function sk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function t$(t,e){let n=null,r;const s=Cr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:w}=d;if(a||e(),!p||!w)return;const x=Zu(f),_=Zu(s.clientWidth-(h+p)),b=Zu(s.clientHeight-(f+w)),g=Zu(h),T={rootMargin:-x+"px "+-_+"px "+-b+"px "+-g+"px",threshold:mn(0,Js(1,c))||1};let j=!0;function D(O){const I=O[0].intersectionRatio;if(I!==c){if(!j)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!sk(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return o(!0),i}function n$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=iw(t),h=s||i?[...d?yc(d):[],...yc(e)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const f=d&&a?t$(d,n):null;let p=-1,w=null;o&&(w=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=w)==null||T.observe(e)})),n()}),d&&!c&&w.observe(d),w.observe(e));let x,_=c?Xi(t):null;c&&b();function b(){const g=Xi(t);_&&!sk(_,g)&&n(),_=g,x=requestAnimationFrame(b)}return n(),()=>{var g;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(g=w)==null||g.disconnect(),w=null,c&&cancelAnimationFrame(x)}}const r$=CB,s$=NB,i$=bB,o$=AB,a$=SB,PE=TB,l$=kB,c$=(t,e,n)=>{const r=new Map,s={platform:e$,...n},i={...s.platform,_c:r};return EB(t,e,{...s,platform:i})};var u$=typeof document<"u",d$=function(){},kd=u$?y.useLayoutEffect:d$;function Nh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Nh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ik(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DE(t,e){const n=ik(t);return Math.round(e*n)/n}function Jp(t){const e=y.useRef(t);return kd(()=>{e.current=t}),e}function h$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,w]=y.useState(r);Nh(p,r)||w(r);const[x,_]=y.useState(null),[b,g]=y.useState(null),v=y.useCallback(L=>{L!==O.current&&(O.current=L,_(L))},[]),T=y.useCallback(L=>{L!==I.current&&(I.current=L,g(L))},[]),j=i||x,D=o||b,O=y.useRef(null),I=y.useRef(null),S=y.useRef(h),N=c!=null,R=Jp(c),C=Jp(s),k=Jp(d),P=y.useCallback(()=>{if(!O.current||!I.current)return;const L={placement:e,strategy:n,middleware:p};C.current&&(L.platform=C.current),c$(O.current,I.current,L).then(z=>{const Y={...z,isPositioned:k.current!==!1};$.current&&!Nh(S.current,Y)&&(S.current=Y,ba.flushSync(()=>{f(Y)}))})},[p,e,n,C,k]);kd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const $=y.useRef(!1);kd(()=>($.current=!0,()=>{$.current=!1}),[]),kd(()=>{if(j&&(O.current=j),D&&(I.current=D),j&&D){if(R.current)return R.current(j,D,P);P()}},[j,D,P,R,N]);const X=y.useMemo(()=>({reference:O,floating:I,setReference:v,setFloating:T}),[v,T]),V=y.useMemo(()=>({reference:j,floating:D}),[j,D]),G=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!V.floating)return L;const z=DE(V.floating,h.x),Y=DE(V.floating,h.y);return a?{...L,transform:"translate("+z+"px, "+Y+"px)",...ik(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,a,V.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:P,refs:X,elements:V,floatingStyles:G}),[h,P,X,V,G])}const f$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PE({element:r.current,padding:s}).fn(n):{}:r?PE({element:r,padding:s}).fn(n):{}}}},p$=(t,e)=>({...r$(t),options:[t,e]}),m$=(t,e)=>({...s$(t),options:[t,e]}),g$=(t,e)=>({...l$(t),options:[t,e]}),y$=(t,e)=>({...i$(t),options:[t,e]}),v$=(t,e)=>({...o$(t),options:[t,e]}),w$=(t,e)=>({...a$(t),options:[t,e]}),x$=(t,e)=>({...f$(t),options:[t,e]});var _$="Arrow",ok=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ok.displayName=_$;var E$=ok;function ak(t){const[e,n]=y.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var aw="Popper",[lk,Pf]=li(aw),[T$,ck]=lk(aw),uk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return l.jsx(T$,{scope:e,anchor:r,onAnchorChange:s,children:n})};uk.displayName=aw;var dk="PopperAnchor",hk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ck(dk,n),o=y.useRef(null),a=$e(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(ge.div,{...s,ref:a})});hk.displayName=dk;var lw="PopperContent",[b$,S$]=lk(lw),fk=y.forwardRef((t,e)=>{var te,De,Ye,Ce,Ee,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:w="optimized",onPlaced:x,..._}=t,b=ck(lw,n),[g,v]=y.useState(null),T=$e(e,yt=>v(yt)),[j,D]=y.useState(null),O=ak(j),I=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,N=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},C=Array.isArray(d)?d:[d],k=C.length>0,P={padding:R,boundary:C.filter(C$),altBoundary:k},{refs:$,floatingStyles:X,placement:V,isPositioned:G,middlewareData:L}=h$({strategy:"fixed",placement:N,whileElementsMounted:(...yt)=>n$(...yt,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[p$({mainAxis:s+S,alignmentAxis:o}),c&&m$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?g$():void 0,...P}),c&&y$({...P}),v$({...P,apply:({elements:yt,rects:Ct,availableWidth:Ln,availableHeight:nr})=>{const{width:kr,height:Ua}=Ct.reference,Ar=yt.floating.style;Ar.setProperty("--radix-popper-available-width",`${Ln}px`),Ar.setProperty("--radix-popper-available-height",`${nr}px`),Ar.setProperty("--radix-popper-anchor-width",`${kr}px`),Ar.setProperty("--radix-popper-anchor-height",`${Ua}px`)}}),j&&x$({element:j,padding:a}),N$({arrowWidth:I,arrowHeight:S}),p&&w$({strategy:"referenceHidden",...P})]}),[z,Y]=gk(V),ie=Xs(x);Qt(()=>{G&&(ie==null||ie())},[G,ie]);const pe=(te=L.arrow)==null?void 0:te.x,Ie=(De=L.arrow)==null?void 0:De.y,Ke=((Ye=L.arrow)==null?void 0:Ye.centerOffset)!==0,[gt,it]=y.useState();return Qt(()=>{g&&it(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:G?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(Ce=L.transformOrigin)==null?void 0:Ce.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((be=L.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(b$,{scope:n,placedSide:z,onArrowChange:D,arrowX:pe,arrowY:Ie,shouldHideArrow:Ke,children:l.jsx(ge.div,{"data-side":z,"data-align":Y,..._,ref:T,style:{..._.style,animation:G?void 0:"none"}})})})});fk.displayName=lw;var pk="PopperArrow",I$={top:"bottom",right:"left",bottom:"top",left:"right"},mk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=S$(pk,r),o=I$[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(E$,{...s,ref:n,style:{...s.style,display:"block"}})})});mk.displayName=pk;function C$(t){return t!==null}var N$=t=>({name:"transformOrigin",options:t,fn(e){var b,g,v;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=gk(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,w=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",_="";return d==="bottom"?(x=o?f:`${p}px`,_=`${-c}px`):d==="top"?(x=o?f:`${p}px`,_=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,_=o?f:`${w}px`):d==="left"&&(x=`${r.floating.width+c}px`,_=o?f:`${w}px`),{data:{x,y:_}}}});function gk(t){const[e,n="center"]=t.split("-");return[e,n]}var yk=uk,cw=hk,vk=fk,wk=mk;function xk(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _k=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k$="VisuallyHidden",A$=y.forwardRef((t,e)=>l.jsx(ge.span,{...t,ref:e,style:{..._k,...t.style}}));A$.displayName=k$;var R$=[" ","Enter","ArrowUp","ArrowDown"],P$=[" ","Enter"],Ji="Select",[Df,jf,D$]=NN(Ji),[Va,z7]=li(Ji,[D$,Pf]),Of=Pf(),[j$,ci]=Va(Ji),[O$,M$]=Va(Ji),Ek=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:w,form:x}=t,_=Of(e),[b,g]=y.useState(null),[v,T]=y.useState(null),[j,D]=y.useState(!1),O=Jv(d),[I,S]=Yi({prop:r,defaultProp:s??!1,onChange:i,caller:Ji}),[N,R]=Yi({prop:o,defaultProp:a,onChange:c,caller:Ji}),C=y.useRef(null),k=b?x||!!b.closest("form"):!0,[P,$]=y.useState(new Set),X=Array.from(P).map(V=>V.props.value).join(";");return l.jsx(yk,{..._,children:l.jsxs(j$,{required:w,scope:e,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:T,valueNodeHasChildren:j,onValueNodeHasChildrenChange:D,contentId:Gr(),value:N,onValueChange:R,open:I,onOpenChange:S,dir:O,triggerPointerDownPosRef:C,disabled:p,children:[l.jsx(Df.Provider,{scope:e,children:l.jsx(O$,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(V=>{$(G=>new Set(G).add(V))},[]),onNativeOptionRemove:y.useCallback(V=>{$(G=>{const L=new Set(G);return L.delete(V),L})},[]),children:n})}),k?l.jsxs(qk,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:f,value:N,onChange:V=>R(V.target.value),disabled:p,form:x,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(P)]},X):null]})})};Ek.displayName=Ji;var Tk="SelectTrigger",bk=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Of(n),o=ci(Tk,n),a=o.disabled||r,c=$e(e,o.onTriggerChange),d=jf(n),h=y.useRef("touch"),[f,p,w]=Kk(_=>{const b=d().filter(T=>!T.disabled),g=b.find(T=>T.value===o.value),v=Yk(b,_,g);v!==void 0&&o.onValueChange(v.value)}),x=_=>{a||(o.onOpenChange(!0),w()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return l.jsx(cw,{asChild:!0,...i,children:l.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Gk(o.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&x(_)}),onPointerDown:fe(s.onPointerDown,_=>{h.current=_.pointerType;const b=_.target;b.hasPointerCapture(_.pointerId)&&b.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(x(_),_.preventDefault())}),onKeyDown:fe(s.onKeyDown,_=>{const b=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&p(_.key),!(b&&_.key===" ")&&R$.includes(_.key)&&(x(),_.preventDefault())})})})});bk.displayName=Tk;var Sk="SelectValue",Ik=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=ci(Sk,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=$e(e,c.onValueNodeChange);return Qt(()=>{d(h)},[d,h]),l.jsx(ge.span,{...a,ref:f,style:{pointerEvents:"none"},children:Gk(c.value)?l.jsx(l.Fragment,{children:o}):i})});Ik.displayName=Sk;var L$="SelectIcon",Ck=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(ge.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Ck.displayName=L$;var V$="SelectPortal",Nk=t=>l.jsx(Ef,{asChild:!0,...t});Nk.displayName=V$;var Zi="SelectContent",kk=y.forwardRef((t,e)=>{const n=ci(Zi,t.__scopeSelect),[r,s]=y.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ba.createPortal(l.jsx(Ak,{scope:t.__scopeSelect,children:l.jsx(Df.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(Rk,{...t,ref:e})});kk.displayName=Zi;var Un=10,[Ak,ui]=Va(Zi),F$="SelectContentImpl",U$=qi("SelectContent.RemoveScroll"),Rk=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:w,sticky:x,hideWhenDetached:_,avoidCollisions:b,...g}=t,v=ci(Zi,n),[T,j]=y.useState(null),[D,O]=y.useState(null),I=$e(e,te=>j(te)),[S,N]=y.useState(null),[R,C]=y.useState(null),k=jf(n),[P,$]=y.useState(!1),X=y.useRef(!1);y.useEffect(()=>{if(T)return qv(T)},[T]),Hv();const V=y.useCallback(te=>{const[De,...Ye]=k().map(be=>be.ref.current),[Ce]=Ye.slice(-1),Ee=document.activeElement;for(const be of te)if(be===Ee||(be==null||be.scrollIntoView({block:"nearest"}),be===De&&D&&(D.scrollTop=0),be===Ce&&D&&(D.scrollTop=D.scrollHeight),be==null||be.focus(),document.activeElement!==Ee))return},[k,D]),G=y.useCallback(()=>V([S,T]),[V,S,T]);y.useEffect(()=>{P&&G()},[P,G]);const{onOpenChange:L,triggerPointerDownPosRef:z}=v;y.useEffect(()=>{if(T){let te={x:0,y:0};const De=Ce=>{var Ee,be;te={x:Math.abs(Math.round(Ce.pageX)-(((Ee=z.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((be=z.current)==null?void 0:be.y)??0))}},Ye=Ce=>{te.x<=10&&te.y<=10?Ce.preventDefault():T.contains(Ce.target)||L(!1),document.removeEventListener("pointermove",De),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[T,L,z]),y.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[Y,ie]=Kk(te=>{const De=k().filter(Ee=>!Ee.disabled),Ye=De.find(Ee=>Ee.ref.current===document.activeElement),Ce=Yk(De,te,Ye);Ce&&setTimeout(()=>Ce.ref.current.focus())}),pe=y.useCallback((te,De,Ye)=>{const Ce=!X.current&&!Ye;(v.value!==void 0&&v.value===De||Ce)&&(N(te),Ce&&(X.current=!0))},[v.value]),Ie=y.useCallback(()=>T==null?void 0:T.focus(),[T]),Ke=y.useCallback((te,De,Ye)=>{const Ce=!X.current&&!Ye;(v.value!==void 0&&v.value===De||Ce)&&C(te)},[v.value]),gt=r==="popper"?Mg:Pk,it=gt===Mg?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:w,sticky:x,hideWhenDetached:_,avoidCollisions:b}:{};return l.jsx(Ak,{scope:n,content:T,viewport:D,onViewportChange:O,itemRefCallback:pe,selectedItem:S,onItemLeave:Ie,itemTextRefCallback:Ke,focusSelectedItem:G,selectedItemText:R,position:r,isPositioned:P,searchRef:Y,children:l.jsx(bf,{as:U$,allowPinchZoom:!0,children:l.jsx(_f,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:fe(s,te=>{var De;(De=v.trigger)==null||De.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(xf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(gt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...g,...it,onPlaced:()=>$(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,te=>{const De=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!De&&te.key.length===1&&ie(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ce=k().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ee=te.target,be=Ce.indexOf(Ee);Ce=Ce.slice(be+1)}setTimeout(()=>V(Ce)),te.preventDefault()}})})})})})})});Rk.displayName=F$;var B$="SelectItemAlignedPosition",Pk=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ci(Zi,n),o=ui(Zi,n),[a,c]=y.useState(null),[d,h]=y.useState(null),f=$e(e,I=>h(I)),p=jf(n),w=y.useRef(!1),x=y.useRef(!0),{viewport:_,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&_&&b&&g){const I=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=R.left-S.left,be=N.left-Ee,yt=I.left-be,Ct=I.width+yt,Ln=Math.max(Ct,S.width),nr=window.innerWidth-Un,kr=TE(be,[Un,Math.max(Un,nr-Ln)]);a.style.minWidth=Ct+"px",a.style.left=kr+"px"}else{const Ee=S.right-R.right,be=window.innerWidth-N.right-Ee,yt=window.innerWidth-I.right-be,Ct=I.width+yt,Ln=Math.max(Ct,S.width),nr=window.innerWidth-Un,kr=TE(be,[Un,Math.max(Un,nr-Ln)]);a.style.minWidth=Ct+"px",a.style.right=kr+"px"}const C=p(),k=window.innerHeight-Un*2,P=_.scrollHeight,$=window.getComputedStyle(d),X=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),G=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),z=X+V+P+L+G,Y=Math.min(b.offsetHeight*5,z),ie=window.getComputedStyle(_),pe=parseInt(ie.paddingTop,10),Ie=parseInt(ie.paddingBottom,10),Ke=I.top+I.height/2-Un,gt=k-Ke,it=b.offsetHeight/2,te=b.offsetTop+it,De=X+V+te,Ye=z-De;if(De<=Ke){const Ee=C.length>0&&b===C[C.length-1].ref.current;a.style.bottom="0px";const be=d.clientHeight-_.offsetTop-_.offsetHeight,yt=Math.max(gt,it+(Ee?Ie:0)+be+G),Ct=De+yt;a.style.height=Ct+"px"}else{const Ee=C.length>0&&b===C[0].ref.current;a.style.top="0px";const yt=Math.max(Ke,X+_.offsetTop+(Ee?pe:0)+it)+Ye;a.style.height=yt+"px",_.scrollTop=De-Ke+_.offsetTop}a.style.margin=`${Un}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[p,i.trigger,i.valueNode,a,d,_,b,g,i.dir,r]);Qt(()=>T(),[T]);const[j,D]=y.useState();Qt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=y.useCallback(I=>{I&&x.current===!0&&(T(),v==null||v(),x.current=!1)},[T,v]);return l.jsx(z$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(ge.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Pk.displayName=B$;var $$="SelectPopperPosition",Mg=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=t,o=Of(n);return l.jsx(vk,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mg.displayName=$$;var[z$,uw]=Va(Zi,{}),Lg="SelectViewport",Dk=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ui(Lg,n),o=uw(Lg,n),a=$e(e,i.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Df.Slot,{scope:n,children:l.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const w=Math.abs(c.current-h.scrollTop);if(w>0){const x=window.innerHeight-Un*2,_=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),g=Math.max(_,b);if(g<x){const v=g+w,T=Math.min(x,v),j=v-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Dk.displayName=Lg;var jk="SelectGroup",[W$,H$]=Va(jk),q$=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gr();return l.jsx(W$,{scope:n,id:s,children:l.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});q$.displayName=jk;var Ok="SelectLabel",Mk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=H$(Ok,n);return l.jsx(ge.div,{id:s.id,...r,ref:e})});Mk.displayName=Ok;var kh="SelectItem",[G$,Lk]=Va(kh),Vk=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ci(kh,n),c=ui(kh,n),d=a.value===r,[h,f]=y.useState(i??""),[p,w]=y.useState(!1),x=$e(e,v=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,v,r,s)}),_=Gr(),b=y.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(G$,{scope:n,value:r,disabled:s,textId:_,isSelected:d,onItemTextChange:y.useCallback(v=>{f(T=>T||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(Df.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(ge.div,{role:"option","aria-labelledby":_,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:fe(o.onFocus,()=>w(!0)),onBlur:fe(o.onBlur,()=>w(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:fe(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var T;b.current=v.pointerType,s?(T=c.onItemLeave)==null||T.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var T;v.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:fe(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(P$.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});Vk.displayName=kh;var El="SelectItemText",Fk=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ci(El,n),a=ui(El,n),c=Lk(El,n),d=M$(El,n),[h,f]=y.useState(null),p=$e(e,g=>f(g),c.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,c.value,c.disabled)}),w=h==null?void 0:h.textContent,x=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:_,onNativeOptionRemove:b}=d;return Qt(()=>(_(x),()=>b(x)),[_,b,x]),l.jsxs(l.Fragment,{children:[l.jsx(ge.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ba.createPortal(i.children,o.valueNode):null]})});Fk.displayName=El;var Uk="SelectItemIndicator",Bk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Lk(Uk,n).isSelected?l.jsx(ge.span,{"aria-hidden":!0,...r,ref:e}):null});Bk.displayName=Uk;var Vg="SelectScrollUpButton",$k=y.forwardRef((t,e)=>{const n=ui(Vg,t.__scopeSelect),r=uw(Vg,t.__scopeSelect),[s,i]=y.useState(!1),o=$e(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(Wk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});$k.displayName=Vg;var Fg="SelectScrollDownButton",zk=y.forwardRef((t,e)=>{const n=ui(Fg,t.__scopeSelect),r=uw(Fg,t.__scopeSelect),[s,i]=y.useState(!1),o=$e(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(Wk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});zk.displayName=Fg;var Wk=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ui("SelectScrollButton",n),o=y.useRef(null),a=jf(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Qt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),K$="SelectSeparator",Hk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ge.div,{"aria-hidden":!0,...r,ref:e})});Hk.displayName=K$;var Ug="SelectArrow",Y$=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Of(n),i=ci(Ug,n),o=ui(Ug,n);return i.open&&o.position==="popper"?l.jsx(wk,{...s,...r,ref:e}):null});Y$.displayName=Ug;var Q$="SelectBubbleInput",qk=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=$e(r,s),o=xk(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(ge.select,{...n,style:{..._k,...n.style},ref:i,defaultValue:e})});qk.displayName=Q$;function Gk(t){return t===""||t===void 0}function Kk(t){const e=Xs(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Yk(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=X$(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function X$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J$=Ek,Qk=bk,Z$=Ik,ez=Ck,tz=Nk,Xk=kk,nz=Dk,Jk=Mk,Zk=Vk,rz=Fk,sz=Bk,eA=$k,tA=zk,nA=Hk;const na=J$,ra=Z$,Pi=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Qk,{ref:r,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(ez,{asChild:!0,children:l.jsx(Bc,{className:"h-4 w-4 opacity-50"})})]}));Pi.displayName=Qk.displayName;const rA=y.forwardRef(({className:t,...e},n)=>l.jsx(eA,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx($v,{className:"h-4 w-4"})}));rA.displayName=eA.displayName;const sA=y.forwardRef(({className:t,...e},n)=>l.jsx(tA,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Bc,{className:"h-4 w-4"})}));sA.displayName=tA.displayName;const Di=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(tz,{children:l.jsxs(Xk,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(rA,{}),l.jsx(nz,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(sA,{})]})}));Di.displayName=Xk.displayName;const iz=y.forwardRef(({className:t,...e},n)=>l.jsx(Jk,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iz.displayName=Jk.displayName;const Qe=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Zk,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(sz,{children:l.jsx(Q9,{className:"h-4 w-4"})})}),l.jsx(rz,{children:e})]}));Qe.displayName=Zk.displayName;const oz=y.forwardRef(({className:t,...e},n)=>l.jsx(nA,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));oz.displayName=nA.displayName;var Mf="Switch",[az,W7]=li(Mf),[lz,cz]=az(Mf),iA=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,w]=y.useState(null),x=$e(e,T=>w(T)),_=y.useRef(!1),b=p?h||!!p.closest("form"):!0,[g,v]=Yi({prop:s,defaultProp:i??!1,onChange:d,caller:Mf});return l.jsxs(lz,{scope:n,checked:g,disabled:a,children:[l.jsx(ge.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":cA(g),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:x,onClick:fe(t.onClick,T=>{v(j=>!j),b&&(_.current=T.isPropagationStopped(),_.current||T.stopPropagation())})}),b&&l.jsx(lA,{control:p,bubbles:!_.current,name:r,value:c,checked:g,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});iA.displayName=Mf;var oA="SwitchThumb",aA=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=cz(oA,n);return l.jsx(ge.span,{"data-state":cA(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});aA.displayName=oA;var uz="SwitchBubbleInput",lA=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=$e(o,i),c=xk(n),d=ak(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&w){const x=new Event("click",{bubbles:r});w.call(h,n),h.dispatchEvent(x)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lA.displayName=uz;function cA(t){return t?"checked":"unchecked"}var uA=iA,dz=aA;const ji=y.forwardRef(({className:t,...e},n)=>l.jsx(uA,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(dz,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ji.displayName=uA.displayName;const Zp={},Tl={};function Ul(t,e){try{const r=(Zp[t]||(Zp[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Tl?Tl[r]:jE(r,r.split(":"))}catch{if(t in Tl)return Tl[t];const n=t==null?void 0:t.match(hz);return n?jE(t,n.slice(1)):NaN}}const hz=/([+-]\d\d):?(\d\d)?/;function jE(t,e){const n=+e[0],r=+(e[1]||0);return Tl[t]=n>0?n*60+r:n*60-r}class ur extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Ul(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),dA(this),Bg(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new ur(...n,e):new ur(Date.now(),e)}withTimeZone(e){return new ur(+this,e)}getTimezoneOffset(){return-Ul(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Bg(this),+this}[Symbol.for("constructDateFrom")](e){return new ur(+new Date(e),this.timeZone)}}const OE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!OE.test(t))return;const e=t.replace(OE,"$1UTC");ur.prototype[e]&&(t.startsWith("get")?ur.prototype[t]=function(){return this.internal[e]()}:(ur.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),fz(this),+this},ur.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Bg(this),+this}))});function Bg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function fz(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),dA(t)}function dA(t){const e=Ul(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const c=Ul(t.timeZone,t),h=-new Date(+t).getTimezoneOffset()-c,f=c!==e,p=h-a;if(f&&p){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p);const w=Ul(t.timeZone,t),x=c-w;x&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+x),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x))}}class zt extends ur{static tz(e,...n){return n.length?new zt(...n,e):new zt(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${pz(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new zt(+this,e)}[Symbol.for("constructDateFrom")](e){return new zt(+new Date(e),this.timeZone)}}function pz(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var ne;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ne||(ne={}));var Xe;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Xe||(Xe={}));var Hn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Hn||(Hn={}));var pn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(pn||(pn={}));const hA=6048e5,mz=864e5,ME=Symbol.for("constructDateFrom");function Et(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ME in t?t[ME](e):t instanceof Date?new t.constructor(e):new Date(e)}function Le(t,e){return Et(e||t,t)}function fA(t,e,n){const r=Le(t,n==null?void 0:n.in);return isNaN(e)?Et(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function pA(t,e,n){const r=Le(t,n==null?void 0:n.in);if(isNaN(e))return Et(t,NaN);if(!e)return r;const s=r.getDate(),i=Et(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let gz={};function Kc(){return gz}function wa(t,e){var a,c,d,h;const n=Kc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Le(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function vc(t,e){return wa(t,{...e,weekStartsOn:1})}function mA(t,e){const n=Le(t,e==null?void 0:e.in),r=n.getFullYear(),s=Et(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=vc(s),o=Et(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=vc(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function LE(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Fa(t,...e){const n=Et.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function wc(t,e){const n=Le(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function gA(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e),i=wc(r),o=wc(s),a=+i-LE(i),c=+o-LE(o);return Math.round((a-c)/mz)}function yz(t,e){const n=mA(t,e),r=Et(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),vc(r)}function vz(t,e,n){return fA(t,e*7,n)}function wz(t,e,n){return pA(t,e*12,n)}function xz(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=Le(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function _z(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=Le(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function Ez(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e);return+wc(r)==+wc(s)}function yA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tz(t){return!(!yA(t)&&typeof t!="number"||isNaN(+Le(t)))}function bz(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function Sz(t,e){const n=Le(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Iz(t,e){const[n,r]=Fa(t,e.start,e.end);return{start:n,end:r}}function Cz(t,e){const{start:n,end:r}=Iz(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(Et(n,o)),o.setMonth(o.getMonth()+a);return s?c.reverse():c}function Nz(t,e){const n=Le(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function kz(t,e){const n=Le(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function vA(t,e){const n=Le(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function wA(t,e){var a,c,d,h;const n=Kc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Le(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function Az(t,e){return wA(t,{...e,weekStartsOn:1})}const Rz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pz=(t,e,n)=>{let r;const s=Rz[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function em(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Dz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mz={date:em({formats:Dz,defaultWidth:"full"}),time:em({formats:jz,defaultWidth:"full"}),dateTime:em({formats:Oz,defaultWidth:"full"})},Lz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vz=(t,e,n,r)=>Lz[t];function cl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Fz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$z={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qz={ordinalNumber:Hz,era:cl({values:Fz,defaultWidth:"wide"}),quarter:cl({values:Uz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cl({values:Bz,defaultWidth:"wide"}),day:cl({values:$z,defaultWidth:"wide"}),dayPeriod:cl({values:zz,defaultWidth:"wide",formattingValues:Wz,defaultFormattingWidth:"wide"})};function ul(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Kz(a,f=>f.test(o)):Gz(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function Gz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Kz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Yz(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Qz=/^(\d+)(th|st|nd|rd)?/i,Xz=/\d+/i,Jz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zz={any:[/^b/i,/^(a|c)/i]},e8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t8={any:[/1/i,/2/i,/3/i,/4/i]},n8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},r8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},s8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},o8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l8={ordinalNumber:Yz({matchPattern:Qz,parsePattern:Xz,valueCallback:t=>parseInt(t,10)}),era:ul({matchPatterns:Jz,defaultMatchWidth:"wide",parsePatterns:Zz,defaultParseWidth:"any"}),quarter:ul({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ul({matchPatterns:n8,defaultMatchWidth:"wide",parsePatterns:r8,defaultParseWidth:"any"}),day:ul({matchPatterns:s8,defaultMatchWidth:"wide",parsePatterns:i8,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:o8,defaultMatchWidth:"any",parsePatterns:a8,defaultParseWidth:"any"})},dw={code:"en-US",formatDistance:Pz,formatLong:Mz,formatRelative:Vz,localize:qz,match:l8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c8(t,e){const n=Le(t,e==null?void 0:e.in);return gA(n,vA(n))+1}function xA(t,e){const n=Le(t,e==null?void 0:e.in),r=+vc(n)-+yz(n);return Math.round(r/hA)+1}function _A(t,e){var h,f,p,w;const n=Le(t,e==null?void 0:e.in),r=n.getFullYear(),s=Kc(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(p=s.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,o=Et((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=wa(o,e),c=Et((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=wa(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function u8(t,e){var a,c,d,h;const n=Kc(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=_A(t,e),i=Et((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),wa(i,e)}function EA(t,e){const n=Le(t,e==null?void 0:e.in),r=+wa(n,e)-+u8(n,e);return Math.round(r/hA)+1}function Oe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ms={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Oe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Oe(n+1,2)},d(t,e){return Oe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Oe(t.getHours()%12||12,e.length)},H(t,e){return Oe(t.getHours(),e.length)},m(t,e){return Oe(t.getMinutes(),e.length)},s(t,e){return Oe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Oe(s,e.length)}},_o={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ms.y(t,e)},Y:function(t,e,n,r){const s=_A(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Oe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Oe(i,e.length)},R:function(t,e){const n=mA(t);return Oe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Oe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Oe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Oe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ms.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Oe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=EA(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Oe(s,e.length)},I:function(t,e,n){const r=xA(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Oe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ms.d(t,e)},D:function(t,e,n){const r=c8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Oe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Oe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Oe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Oe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=_o.noon:r===0?s=_o.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=_o.evening:r>=12?s=_o.afternoon:r>=4?s=_o.morning:s=_o.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ms.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ms.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Oe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Oe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ms.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ms.s(t,e)},S:function(t,e){return ms.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return UE(r);case"XXXX":case"XX":return Ei(r);case"XXXXX":case"XXX":default:return Ei(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return UE(r);case"xxxx":case"xx":return Ei(r);case"xxxxx":case"xxx":default:return Ei(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FE(r,":");case"OOOO":default:return"GMT"+Ei(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FE(r,":");case"zzzz":default:return"GMT"+Ei(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Oe(r,e.length)},T:function(t,e,n){return Oe(+t,e.length)}};function FE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Oe(i,2)}function UE(t,e){return t%60===0?(t>0?"-":"+")+Oe(Math.abs(t)/60,2):Ei(t,e)}function Ei(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Oe(Math.trunc(r/60),2),i=Oe(r%60,2);return n+s+e+i}const BE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},d8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return BE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",BE(r,e)).replace("{{time}}",TA(s,e))},h8={p:TA,P:d8},f8=/^D+$/,p8=/^Y+$/,m8=["D","DD","YY","YYYY"];function g8(t){return f8.test(t)}function y8(t){return p8.test(t)}function v8(t,e,n){const r=w8(t,e,n);if(console.warn(r),m8.includes(t))throw new RangeError(r)}function w8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E8=/^'([^]*?)'?$/,T8=/''/g,b8=/[a-zA-Z]/;function hw(t,e,n){var h,f,p,w,x,_,b,g;const r=Kc(),s=(n==null?void 0:n.locale)??r.locale??dw,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(p=r.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((_=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,a=Le(t,n==null?void 0:n.in);if(!Tz(a))throw new RangeError("Invalid time value");let c=e.match(_8).map(v=>{const T=v[0];if(T==="p"||T==="P"){const j=h8[T];return j(v,s.formatLong)}return v}).join("").match(x8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const T=v[0];if(T==="'")return{isToken:!1,value:S8(v)};if(VE[T])return{isToken:!0,value:v};if(T.match(b8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const T=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&y8(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&g8(T))&&v8(T,e,String(t));const j=VE[T[0]];return j(a,T,s.localize,d)}).join("")}function S8(t){const e=t.match(E8);return e?e[1].replace(T8,"'"):t}function I8(t,e){const n=Le(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=Et(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function C8(t,e){return Le(t,e==null?void 0:e.in).getMonth()}function N8(t,e){return Le(t,e==null?void 0:e.in).getFullYear()}function k8(t,e){return+Le(t)>+Le(e)}function A8(t,e){return+Le(t)<+Le(e)}function R8(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function P8(t,e,n){const[r,s]=Fa(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function D8(t,e,n){const r=Le(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=Et(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=I8(o);return r.setMonth(e,Math.min(i,a)),r}function j8(t,e,n){const r=Le(t,n==null?void 0:n.in);return isNaN(+r)?Et(t,NaN):(r.setFullYear(e),r)}const $E=5,O8=4;function M8(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,$E*7-1);return e.getMonth(t)===e.getMonth(i)?$E:O8}function bA(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function L8(t,e){const n=bA(t,e),r=M8(t,e);return e.addDays(n,r*7-1)}class as{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?zt.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new zt(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):fA(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):pA(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):vz(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):wz(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):gA(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):bz(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Cz(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):L8(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):Az(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):Sz(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):wA(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):kz(r)},this.format=(r,s,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(r,s,this.options):hw(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):xA(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):C8(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):N8(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):EA(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):k8(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):A8(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):yA(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):Ez(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):R8(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):P8(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):xz(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):_z(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):D8(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):j8(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):bA(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):wc(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):vc(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):Nz(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):wa(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):vA(r)},this.options={locale:dw,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Nr=new as;class SA{constructor(e,n,r=Nr){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class V8{constructor(e,n){this.date=e,this.weeks=n}}class F8{constructor(e,n){this.days=n,this.weekNumber=e}}function Br(t,e,n=!1,r=Nr){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&s?a(s,e):!1}function IA(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function fw(t){return!!(t&&typeof t=="object"&&"from"in t)}function CA(t){return!!(t&&typeof t=="object"&&"after"in t)}function NA(t){return!!(t&&typeof t=="object"&&"before"in t)}function kA(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function AA(t,e){return Array.isArray(t)&&t.every(e.isDate)}function $r(t,e,n=Nr){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(t,a);if(AA(a,n))return a.includes(t);if(fw(a))return Br(a,t,!1,n);if(kA(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(IA(a)){const c=i(a.before,t),d=i(a.after,t),h=c>0,f=d<0;return o(a.before,a.after)?f&&h:h||f}return CA(a)?i(t,a.after)>0:NA(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function U8(t,e,n,r,s){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:c,broadcastCalendar:d,today:h}=e,{isSameDay:f,isSameMonth:p,startOfMonth:w,isBefore:x,endOfMonth:_,isAfter:b}=s,g=n&&w(n),v=r&&_(r),T={[Xe.focused]:[],[Xe.outside]:[],[Xe.disabled]:[],[Xe.hidden]:[],[Xe.today]:[]},j={};for(const D of t){const{date:O,displayMonth:I}=D,S=!!(I&&!p(O,I)),N=!!(g&&x(O,g)),R=!!(v&&b(O,v)),C=!!(i&&$r(O,i,s)),k=!!(o&&$r(O,o,s))||N||R||!d&&!c&&S||d&&c===!1&&S,P=f(O,h??s.today());S&&T.outside.push(D),C&&T.disabled.push(D),k&&T.hidden.push(D),P&&T.today.push(D),a&&Object.keys(a).forEach($=>{const X=a==null?void 0:a[$];X&&$r(O,X,s)&&(j[$]?j[$].push(D):j[$]=[D])})}return D=>{const O={[Xe.focused]:!1,[Xe.disabled]:!1,[Xe.hidden]:!1,[Xe.outside]:!1,[Xe.today]:!1},I={};for(const S in T){const N=T[S];O[S]=N.some(R=>R===D)}for(const S in j)I[S]=j[S].some(N=>N===D);return{...O,...I}}}function B8(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[Xe[i]]?s.push(e[Xe[i]]):e[Hn[i]]&&s.push(e[Hn[i]]),s),[e[ne.Day]])}function $8(t){return q.createElement("button",{...t})}function z8(t){return q.createElement("span",{...t})}function W8(t){const{size:e=24,orientation:n="left",className:r}=t;return q.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function H8(t){const{day:e,modifiers:n,...r}=t;return q.createElement("td",{...r})}function q8(t){const{day:e,modifiers:n,...r}=t,s=q.useRef(null);return q.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),q.createElement("button",{ref:s,...r})}function G8(t){const{options:e,className:n,components:r,classNames:s,...i}=t,o=[s[ne.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return q.createElement("span",{"data-disabled":i.disabled,className:s[ne.DropdownRoot]},q.createElement(r.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:d,disabled:h})=>q.createElement(r.Option,{key:c,value:c,disabled:h},d))),q.createElement("span",{className:s[ne.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,q.createElement(r.Chevron,{orientation:"down",size:18,className:s[ne.Chevron]})))}function K8(t){return q.createElement("div",{...t})}function Y8(t){return q.createElement("div",{...t})}function Q8(t){const{calendarMonth:e,displayIndex:n,...r}=t;return q.createElement("div",{...r},t.children)}function X8(t){const{calendarMonth:e,displayIndex:n,...r}=t;return q.createElement("div",{...r})}function J8(t){return q.createElement("table",{...t})}function Z8(t){return q.createElement("div",{...t})}const RA=y.createContext(void 0);function Yc(){const t=y.useContext(RA);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function eW(t){const{components:e}=Yc();return q.createElement(e.Dropdown,{...t})}function tW(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:d}}=Yc(),h=y.useCallback(p=>{s&&(n==null||n(p))},[s,n]),f=y.useCallback(p=>{r&&(e==null||e(p))},[r,e]);return q.createElement("nav",{...i},q.createElement(o.PreviousMonthButton,{type:"button",className:a[ne.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},q.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[ne.Chevron],orientation:"left"})),q.createElement(o.NextMonthButton,{type:"button",className:a[ne.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:h},q.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[ne.Chevron]})))}function nW(t){const{components:e}=Yc();return q.createElement(e.Button,{...t})}function rW(t){return q.createElement("option",{...t})}function sW(t){const{components:e}=Yc();return q.createElement(e.Button,{...t})}function iW(t){const{rootRef:e,...n}=t;return q.createElement("div",{...n,ref:e})}function oW(t){return q.createElement("select",{...t})}function aW(t){const{week:e,...n}=t;return q.createElement("tr",{...n})}function lW(t){return q.createElement("th",{...t})}function cW(t){return q.createElement("thead",{"aria-hidden":!0},q.createElement("tr",{...t}))}function uW(t){const{week:e,...n}=t;return q.createElement("th",{...n})}function dW(t){return q.createElement("th",{...t})}function hW(t){return q.createElement("tbody",{...t})}function fW(t){const{components:e}=Yc();return q.createElement(e.Dropdown,{...t})}const pW=Object.freeze(Object.defineProperty({__proto__:null,Button:$8,CaptionLabel:z8,Chevron:W8,Day:H8,DayButton:q8,Dropdown:G8,DropdownNav:K8,Footer:Y8,Month:Q8,MonthCaption:X8,MonthGrid:J8,Months:Z8,MonthsDropdown:eW,Nav:tW,NextMonthButton:nW,Option:rW,PreviousMonthButton:sW,Root:iW,Select:oW,Week:aW,WeekNumber:uW,WeekNumberHeader:dW,Weekday:lW,Weekdays:cW,Weeks:hW,YearsDropdown:fW},Symbol.toStringTag,{value:"Module"}));function mW(t){return{...pW,...t}}function gW(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function pw(){const t={};for(const e in ne)t[ne[e]]=`rdp-${ne[e]}`;for(const e in Xe)t[Xe[e]]=`rdp-${Xe[e]}`;for(const e in Hn)t[Hn[e]]=`rdp-${Hn[e]}`;for(const e in pn)t[pn[e]]=`rdp-${pn[e]}`;return t}function PA(t,e,n){return(n??new as(e)).format(t,"LLLL y")}const yW=PA;function vW(t,e,n){return(n??new as(e)).format(t,"d")}function wW(t,e=Nr){return e.format(t,"LLLL")}function xW(t,e=Nr){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function _W(){return""}function EW(t,e,n){return(n??new as(e)).format(t,"cccccc")}function DA(t,e=Nr){return e.format(t,"yyyy")}const TW=DA,bW=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:PA,formatDay:vW,formatMonthCaption:yW,formatMonthDropdown:wW,formatWeekNumber:xW,formatWeekNumberHeader:_W,formatWeekdayName:EW,formatYearCaption:TW,formatYearDropdown:DA},Symbol.toStringTag,{value:"Module"}));function SW(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...bW,...t}}function IW(t,e,n,r,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:d}=s;return c({start:o(t),end:a(t)}).map(p=>{const w=r.formatMonthDropdown(p,s),x=d(p),_=e&&p<i(e)||n&&p>i(n)||!1;return{value:x,label:w,disabled:_}})}function CW(t,e={},n={}){let r={...e==null?void 0:e[ne.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function NW(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function kW(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:c,isSameYear:d}=r,h=s(t),f=i(e),p=[];let w=h;for(;c(w,f)||d(w,f);)p.push(w),w=o(w,1);return p.map(x=>{const _=n.formatYearDropdown(x,r);return{value:a(x),label:_,disabled:!1}})}function jA(t,e,n){return(n??new as(e)).format(t,"LLLL y")}const AW=jA;function RW(t,e,n,r){let s=(r??new as(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function OA(t,e,n,r){let s=(r??new as(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const PW=OA;function DW(){return""}function jW(t){return"Choose the Month"}function OW(t){return"Go to the Next Month"}function MW(t){return"Go to the Previous Month"}function LW(t,e,n){return(n??new as(e)).format(t,"cccc")}function VW(t,e){return`Week ${t}`}function FW(t){return"Week Number"}function UW(t){return"Choose the Year"}const BW=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:AW,labelDay:PW,labelDayButton:OA,labelGrid:jA,labelGridcell:RW,labelMonthDropdown:jW,labelNav:DW,labelNext:OW,labelPrevious:MW,labelWeekNumber:VW,labelWeekNumberHeader:FW,labelWeekday:LW,labelYearDropdown:UW},Symbol.toStringTag,{value:"Module"})),Qc=t=>t instanceof HTMLElement?t:null,tm=t=>[...t.querySelectorAll("[data-animated-month]")??[]],$W=t=>Qc(t.querySelector("[data-animated-month]")),nm=t=>Qc(t.querySelector("[data-animated-caption]")),rm=t=>Qc(t.querySelector("[data-animated-weeks]")),zW=t=>Qc(t.querySelector("[data-animated-nav]")),WW=t=>Qc(t.querySelector("[data-animated-weekdays]"));function HW(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const o=y.useRef(null),a=y.useRef(r),c=y.useRef(!1);y.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const h=i.isSameMonth(r[0].date,d[0].date),f=i.isAfter(r[0].date,d[0].date),p=f?n[pn.caption_after_enter]:n[pn.caption_before_enter],w=f?n[pn.weeks_after_enter]:n[pn.weeks_before_enter],x=o.current,_=t.current.cloneNode(!0);if(_ instanceof HTMLElement?(tm(_).forEach(T=>{if(!(T instanceof HTMLElement))return;const j=$W(T);j&&T.contains(j)&&T.removeChild(j);const D=nm(T);D&&D.classList.remove(p);const O=rm(T);O&&O.classList.remove(w)}),o.current=_):o.current=null,c.current||h||s)return;const b=x instanceof HTMLElement?tm(x):[],g=tm(t.current);if(g&&g.every(v=>v instanceof HTMLElement)&&b&&b.every(v=>v instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const v=zW(t.current);v&&(v.style.zIndex="1"),g.forEach((T,j)=>{const D=b[j];if(!D)return;T.style.position="relative",T.style.overflow="hidden";const O=nm(T);O&&O.classList.add(p);const I=rm(T);I&&I.classList.add(w);const S=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),v&&(v.style.zIndex=""),O&&O.classList.remove(p),I&&I.classList.remove(w),T.style.position="",T.style.overflow="",T.contains(D)&&T.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const N=WW(D);N&&(N.style.opacity="0");const R=nm(D);R&&(R.classList.add(f?n[pn.caption_before_exit]:n[pn.caption_after_exit]),R.addEventListener("animationend",S));const C=rm(D);C&&C.classList.add(f?n[pn.weeks_before_exit]:n[pn.weeks_after_exit]),T.insertBefore(D,T.firstChild)})}})}function qW(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:w,endOfMonth:x,endOfWeek:_,isAfter:b,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:T}=r,j=c?g(s,r):o?v(s):T(s),D=c?p(i):o?w(x(i)):_(x(i)),O=h(D,j),I=f(i,s)+1,S=[];for(let C=0;C<=O;C++){const k=d(j,C);if(e&&b(k,e))break;S.push(k)}const R=(c?35:42)*I;if(a&&S.length<R){const C=R-S.length;for(let k=0;k<C;k++){const P=d(S[S.length-1],1);S.push(P)}}return S}function GW(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,o)=>[...i,...o.days],e);return[...n,...s]},e)}function KW(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let o=0;o<s;o++){const a=r.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function zE(t,e,n,r){const{month:s,defaultMonth:i,today:o=r.today(),numberOfMonths:a=1}=t;let c=s||i||o;const{differenceInCalendarMonths:d,addMonths:h,startOfMonth:f}=r;if(n&&d(n,c)<a-1){const p=-1*(a-1);c=h(n,p)}return e&&d(c,e)<0&&(c=e),f(c)}function YW(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:d,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:w}=r,x=t.reduce((_,b)=>{const g=n.broadcastCalendar?f(b,r):n.ISOWeek?p(b):w(b),v=n.broadcastCalendar?i(b):n.ISOWeek?o(a(b)):c(a(b)),T=e.filter(I=>I>=g&&I<=v),j=n.broadcastCalendar?35:42;if(n.fixedWeeks&&T.length<j){const I=e.filter(S=>{const N=j-T.length;return S>v&&S<=s(v,N)});T.push(...I)}const D=T.reduce((I,S)=>{const N=n.ISOWeek?d(S):h(S),R=I.find(k=>k.weekNumber===N),C=new SA(S,b,r);return R?R.days.push(C):I.push(new F8(N,[C])),I},[]),O=new V8(b,D);return _.push(O),_},[]);return n.reverseMonths?x.reverse():x}function QW(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:d,newDate:h,today:f}=e,{fromYear:p,toYear:w,fromMonth:x,toMonth:_}=t;!n&&x&&(n=x),!n&&p&&(n=e.newDate(p,0,1)),!r&&_&&(r=_),!r&&w&&(r=h(w,11,31));const b=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):p?n=h(p,0,1):!n&&b&&(n=s(c(t.today??f(),-100))),r?r=a(r):w?r=h(w,11,31):!r&&b&&(r=d(t.today??f())),[n&&i(n),r&&i(r)]}function XW(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i:1,h=o(t);if(!e)return a(h,d);if(!(c(e,t)<i))return a(h,d)}function JW(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=r,d=s?i??1:1,h=o(t);if(!e)return a(h,-d);if(!(c(h,e)<=0))return a(h,-d)}function ZW(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Lf(t,e){const[n,r]=y.useState(t);return[e===void 0?n:e,r]}function e7(t,e){const[n,r]=QW(t,e),{startOfMonth:s,endOfMonth:i}=e,o=zE(t,n,r,e),[a,c]=Lf(o,t.month?o:void 0);y.useEffect(()=>{const O=zE(t,n,r,e);c(O)},[t.timeZone]);const d=KW(a,r,t,e),h=qW(d,t.endMonth?i(t.endMonth):void 0,t,e),f=YW(d,h,t,e),p=ZW(f),w=GW(f),x=JW(a,n,t,e),_=XW(a,r,t,e),{disableNavigation:b,onMonthChange:g}=t,v=O=>p.some(I=>I.days.some(S=>S.isEqualTo(O))),T=O=>{if(b)return;let I=s(O);n&&I<s(n)&&(I=s(n)),r&&I>s(r)&&(I=s(r)),c(I),g==null||g(I)};return{months:f,weeks:p,days:w,navStart:n,navEnd:r,previousMonth:x,nextMonth:_,goToMonth:T,goToDay:O=>{v(O)||T(O.date)}}}var ir;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(ir||(ir={}));function WE(t){return!t[Xe.disabled]&&!t[Xe.hidden]&&!t[Xe.outside]}function t7(t,e,n,r){let s,i=-1;for(const o of t){const a=e(o);WE(a)&&(a[Xe.focused]&&i<ir.FocusedModifier?(s=o,i=ir.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<ir.LastFocused?(s=o,i=ir.LastFocused):n(o.date)&&i<ir.Selected?(s=o,i=ir.Selected):a[Xe.today]&&i<ir.Today&&(s=o,i=ir.Today))}return s||(s=t.find(o=>WE(e(o)))),s}function n7(t,e,n,r,s,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:d,addMonths:h,addWeeks:f,addYears:p,endOfBroadcastWeek:w,endOfISOWeek:x,endOfWeek:_,max:b,min:g,startOfBroadcastWeek:v,startOfISOWeek:T,startOfWeek:j}=o;let O={day:d,week:f,month:h,year:p,startOfWeek:I=>c?v(I,o):a?T(I):j(I),endOfWeek:I=>c?w(I):a?x(I):_(I)}[t](n,e==="after"?1:-1);return e==="before"&&r?O=b([r,O]):e==="after"&&s&&(O=g([s,O])),O}function MA(t,e,n,r,s,i,o,a=0){if(a>365)return;const c=n7(t,e,n.date,r,s,i,o),d=!!(i.disabled&&$r(c,i.disabled,o)),h=!!(i.hidden&&$r(c,i.hidden,o)),f=c,p=new SA(c,f,o);return!d&&!h?p:MA(t,e,p,r,s,i,o,a+1)}function r7(t,e,n,r,s){const{autoFocus:i}=t,[o,a]=y.useState(),c=t7(e.days,n,r||(()=>!1),o),[d,h]=y.useState(i?c:void 0);return{isFocusTarget:_=>!!(c!=null&&c.isEqualTo(_)),setFocused:h,focused:d,blur:()=>{a(d),h(void 0)},moveFocus:(_,b)=>{if(!d)return;const g=MA(_,b,d,e.navStart,e.navEnd,t,s);g&&(e.goToDay(g),h(g))}}}function s7(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=Lf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e,d=w=>(a==null?void 0:a.some(x=>c(x,w)))??!1,{min:h,max:f}=t;return{selected:a,select:(w,x,_)=>{let b=[...a??[]];if(d(w)){if((a==null?void 0:a.length)===h||r&&(a==null?void 0:a.length)===1)return;b=a==null?void 0:a.filter(g=>!c(g,w))}else(a==null?void 0:a.length)===f?b=[w]:b=[...b,w];return s||o(b),s==null||s(b,w,x,_),b},isSelected:d}}function i7(t,e,n=0,r=0,s=!1,i=Nr){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:d,isBefore:h}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)c(o,t)?s?f={from:o,to:void 0}:f=void 0:h(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))s?f={from:o,to:a}:f=void 0;else if(c(o,t))f={from:o,to:n>0?void 0:t};else if(c(a,t))f={from:t,to:n>0?void 0:t};else if(h(t,o))f={from:t,to:a};else if(d(t,o))f={from:o,to:t};else if(d(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const p=i.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:t,to:void 0}:n>1&&p<n&&(f={from:t,to:void 0})}return f}function o7(t,e,n=Nr){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function HE(t,e,n=Nr){return Br(t,e.from,!1,n)||Br(t,e.to,!1,n)||Br(e,t.from,!1,n)||Br(e,t.to,!1,n)}function a7(t,e,n=Nr){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Br(t,a,!1,n):AA(a,n)?a.some(c=>Br(t,c,!1,n)):fw(a)?a.from&&a.to?HE(t,{from:a.from,to:a.to},n):!1:kA(a)?o7(t,a.dayOfWeek,n):IA(a)?n.isAfter(a.before,a.after)?HE(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):$r(t.from,a,n)||$r(t.to,a,n):CA(a)||NA(a)?$r(t.from,a,n)||$r(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=c;d++){if(o.some(h=>h(a)))return!0;a=n.addDays(a,1)}}return!1}function l7(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:o}=t,[a,c]=Lf(s,o?s:void 0),d=o?s:a;return{selected:d,select:(p,w,x)=>{const{min:_,max:b}=t,g=p?i7(p,d,_,b,i,e):void 0;return r&&n&&(g!=null&&g.from)&&g.to&&a7({from:g.from,to:g.to},n,e)&&(g.from=p,g.to=void 0),o||c(g),o==null||o(g,p,w,x),g},isSelected:p=>d&&Br(d,p,!1,e)}}function c7(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=Lf(n,s?n:void 0),a=s?n:i,{isSameDay:c}=e;return{selected:a,select:(f,p,w)=>{let x=f;return!r&&a&&a&&c(f,a)&&(x=void 0),s||o(x),s==null||s(x,f,p,w),x},isSelected:f=>a?c(a,f):!1}}function u7(t,e){const n=c7(t,e),r=s7(t,e),s=l7(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function d7(t){var uo;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new zt(e.today,e.timeZone)),e.month&&(e.month=new zt(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new zt(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new zt(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new zt(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new zt(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(uo=e.selected)==null?void 0:uo.map(he=>new zt(he,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new zt(e.selected.from,e.timeZone):void 0,to:e.selected.to?new zt(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:o,classNames:a}=y.useMemo(()=>{const he={...dw,...e.locale};return{dateLib:new as({locale:he,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:mW(e.components),formatters:SW(e.formatters),labels:{...BW,...e.labels},locale:he,classNames:{...pw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:d,navLayout:h,numberOfMonths:f=1,onDayBlur:p,onDayClick:w,onDayFocus:x,onDayKeyDown:_,onDayMouseEnter:b,onDayMouseLeave:g,onNextClick:v,onPrevClick:T,showWeekNumber:j,styles:D}=e,{formatCaption:O,formatDay:I,formatMonthDropdown:S,formatWeekNumber:N,formatWeekNumberHeader:R,formatWeekdayName:C,formatYearDropdown:k}=r,P=e7(e,i),{days:$,months:X,navStart:V,navEnd:G,previousMonth:L,nextMonth:z,goToMonth:Y}=P,ie=U8($,e,V,G,i),{isSelected:pe,select:Ie,selected:Ke}=u7(e,i)??{},{blur:gt,focused:it,isFocusTarget:te,moveFocus:De,setFocused:Ye}=r7(e,P,ie,pe??(()=>!1),i),{labelDayButton:Ce,labelGridcell:Ee,labelGrid:be,labelMonthDropdown:yt,labelNav:Ct,labelPrevious:Ln,labelNext:nr,labelWeekday:kr,labelWeekNumber:Ua,labelWeekNumberHeader:Ar,labelYearDropdown:Ba}=s,Jc=y.useMemo(()=>NW(i,e.ISOWeek),[i,e.ISOWeek]),Zc=d!==void 0||w!==void 0,hi=y.useCallback(()=>{L&&(Y(L),T==null||T(L))},[L,Y,T]),fi=y.useCallback(()=>{z&&(Y(z),v==null||v(z))},[Y,z,v]),eu=y.useCallback((he,Ve)=>ye=>{ye.preventDefault(),ye.stopPropagation(),Ye(he),Ie==null||Ie(he.date,Ve,ye),w==null||w(he.date,Ve,ye)},[Ie,w,Ye]),Tt=y.useCallback((he,Ve)=>ye=>{Ye(he),x==null||x(he.date,Ve,ye)},[x,Ye]),Nt=y.useCallback((he,Ve)=>ye=>{gt(),p==null||p(he.date,Ve,ye)},[gt,p]),co=y.useCallback((he,Ve)=>ye=>{const bn={ArrowLeft:[ye.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ye.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ye.shiftKey?"year":"week","after"],ArrowUp:[ye.shiftKey?"year":"week","before"],PageUp:[ye.shiftKey?"year":"month","before"],PageDown:[ye.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(bn[ye.key]){ye.preventDefault(),ye.stopPropagation();const[Xt,Sn]=bn[ye.key];De(Xt,Sn)}_==null||_(he.date,Ve,ye)},[De,_,e.dir]),tu=y.useCallback((he,Ve)=>ye=>{b==null||b(he.date,Ve,ye)},[b]),nu=y.useCallback((he,Ve)=>ye=>{g==null||g(he.date,Ve,ye)},[g]),Ff=y.useCallback(he=>Ve=>{const ye=Number(Ve.target.value),bn=i.setMonth(i.startOfMonth(he),ye);Y(bn)},[i,Y]),pi=y.useCallback(he=>Ve=>{const ye=Number(Ve.target.value),bn=i.setYear(i.startOfMonth(he),ye);Y(bn)},[i,Y]),{className:ru,style:su}=y.useMemo(()=>({className:[a[ne.Root],e.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[ne.Root],...e.style}}),[a,e.className,e.style,D]),$a=gW(e),iu=y.useRef(null);HW(iu,!!e.animate,{classNames:a,months:X,focused:it,dateLib:i});const Uf={dayPickerProps:e,selected:Ke,select:Ie,isSelected:pe,months:X,nextMonth:z,previousMonth:L,goToMonth:Y,getModifiers:ie,components:n,classNames:a,styles:D,labels:s,formatters:r};return q.createElement(RA.Provider,{value:Uf},q.createElement(n.Root,{rootRef:e.animate?iu:void 0,className:ru,style:su,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...$a},q.createElement(n.Months,{className:a[ne.Months],style:D==null?void 0:D[ne.Months]},!e.hideNavigation&&!h&&q.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ne.Nav],style:D==null?void 0:D[ne.Nav],"aria-label":Ct(),onPreviousClick:hi,onNextClick:fi,previousMonth:L,nextMonth:z}),X.map((he,Ve)=>{const ye=IW(he.date,V,G,r,i),bn=kW(V,G,r,i);return q.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[ne.Month],style:D==null?void 0:D[ne.Month],key:Ve,displayIndex:Ve,calendarMonth:he},h==="around"&&!e.hideNavigation&&Ve===0&&q.createElement(n.PreviousMonthButton,{type:"button",className:a[ne.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":Ln(L),onClick:hi,"data-animated-button":e.animate?"true":void 0},q.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[ne.Chevron],orientation:e.dir==="rtl"?"right":"left"})),q.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[ne.MonthCaption],style:D==null?void 0:D[ne.MonthCaption],calendarMonth:he,displayIndex:Ve},c!=null&&c.startsWith("dropdown")?q.createElement(n.DropdownNav,{className:a[ne.Dropdowns],style:D==null?void 0:D[ne.Dropdowns]},c==="dropdown"||c==="dropdown-months"?q.createElement(n.MonthsDropdown,{className:a[ne.MonthsDropdown],"aria-label":yt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:Ff(he.date),options:ye,style:D==null?void 0:D[ne.Dropdown],value:i.getMonth(he.date)}):q.createElement("span",null,S(he.date,i)),c==="dropdown"||c==="dropdown-years"?q.createElement(n.YearsDropdown,{className:a[ne.YearsDropdown],"aria-label":Ba(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:pi(he.date),options:bn,style:D==null?void 0:D[ne.Dropdown],value:i.getYear(he.date)}):q.createElement("span",null,k(he.date,i)),q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(he.date,i.options,i))):q.createElement(n.CaptionLabel,{className:a[ne.CaptionLabel],role:"status","aria-live":"polite"},O(he.date,i.options,i))),h==="around"&&!e.hideNavigation&&Ve===f-1&&q.createElement(n.NextMonthButton,{type:"button",className:a[ne.NextMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":nr(z),onClick:fi,"data-animated-button":e.animate?"true":void 0},q.createElement(n.Chevron,{disabled:z?void 0:!0,className:a[ne.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ve===f-1&&h==="after"&&!e.hideNavigation&&q.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ne.Nav],style:D==null?void 0:D[ne.Nav],"aria-label":Ct(),onPreviousClick:hi,onNextClick:fi,previousMonth:L,nextMonth:z}),q.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":be(he.date,i.options,i)||void 0,className:a[ne.MonthGrid],style:D==null?void 0:D[ne.MonthGrid]},!e.hideWeekdays&&q.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[ne.Weekdays],style:D==null?void 0:D[ne.Weekdays]},j&&q.createElement(n.WeekNumberHeader,{"aria-label":Ar(i.options),className:a[ne.WeekNumberHeader],style:D==null?void 0:D[ne.WeekNumberHeader],scope:"col"},R()),Jc.map((Xt,Sn)=>q.createElement(n.Weekday,{"aria-label":kr(Xt,i.options,i),className:a[ne.Weekday],key:Sn,style:D==null?void 0:D[ne.Weekday],scope:"col"},C(Xt,i.options,i)))),q.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[ne.Weeks],style:D==null?void 0:D[ne.Weeks]},he.weeks.map((Xt,Sn)=>q.createElement(n.Week,{className:a[ne.Week],key:Xt.weekNumber,style:D==null?void 0:D[ne.Week],week:Xt},j&&q.createElement(n.WeekNumber,{week:Xt,style:D==null?void 0:D[ne.WeekNumber],"aria-label":Ua(Xt.weekNumber,{locale:o}),className:a[ne.WeekNumber],scope:"row",role:"rowheader"},N(Xt.weekNumber,i)),Xt.days.map(vt=>{const{date:Jt}=vt,Ae=ie(vt);if(Ae[Xe.focused]=!Ae.hidden&&!!(it!=null&&it.isEqualTo(vt)),Ae[Hn.selected]=(pe==null?void 0:pe(Jt))||Ae.selected,fw(Ke)){const{from:ho,to:Rr}=Ke;Ae[Hn.range_start]=!!(ho&&Rr&&i.isSameDay(Jt,ho)),Ae[Hn.range_end]=!!(ho&&Rr&&i.isSameDay(Jt,Rr)),Ae[Hn.range_middle]=Br(Ke,Jt,!0,i)}const mi=CW(Ae,D,e.modifiersStyles),ou=B8(Ae,a,e.modifiersClassNames),kt=!Zc&&!Ae.hidden?Ee(Jt,Ae,i.options,i):void 0;return q.createElement(n.Day,{key:`${i.format(Jt,"yyyy-MM-dd")}_${i.format(vt.displayMonth,"yyyy-MM")}`,day:vt,modifiers:Ae,className:ou.join(" "),style:mi,role:"gridcell","aria-selected":Ae.selected||void 0,"aria-label":kt,"data-day":i.format(Jt,"yyyy-MM-dd"),"data-month":vt.outside?i.format(Jt,"yyyy-MM"):void 0,"data-selected":Ae.selected||void 0,"data-disabled":Ae.disabled||void 0,"data-hidden":Ae.hidden||void 0,"data-outside":vt.outside||void 0,"data-focused":Ae.focused||void 0,"data-today":Ae.today||void 0},!Ae.hidden&&Zc?q.createElement(n.DayButton,{className:a[ne.DayButton],style:D==null?void 0:D[ne.DayButton],type:"button",day:vt,modifiers:Ae,disabled:Ae.disabled||void 0,tabIndex:te(vt)?0:-1,"aria-label":Ce(Jt,Ae,i.options,i),onClick:eu(vt,Ae),onBlur:Nt(vt,Ae),onFocus:Tt(vt,Ae),onKeyDown:co(vt,Ae),onMouseEnter:tu(vt,Ae),onMouseLeave:nu(vt,Ae)},I(Jt,i.options,i)):!Ae.hidden&&I(vt.date,i.options,i))}))))))})),e.footer&&q.createElement(n.Footer,{className:a[ne.Footer],style:D==null?void 0:D[ne.Footer],role:"status","aria-live":"polite"},e.footer)))}function LA({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:i,components:o,...a}){const c=pw();return l.jsx(d7,{showOutsideDays:n,className:J("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:J("w-fit",c.root),months:J("flex gap-4 flex-col md:flex-row relative",c.months),month:J("flex flex-col w-full gap-4",c.month),nav:J("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:J(Ig({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:J(Ig({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:J("flex items-center justify-center h-[--cell-size] w-full px-[--cell-size]",c.month_caption),dropdowns:J("w-full flex items-center text-sm font-medium justify-center h-[--cell-size] gap-1.5",c.dropdowns),dropdown_root:J("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:J("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:J("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:J("flex",c.weekdays),weekday:J("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:J("flex w-full mt-2",c.week),week_number_header:J("select-none w-[--cell-size]",c.week_number_header),week_number:J("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:J("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:J("rounded-l-md bg-accent",c.range_start),range_middle:J("rounded-none",c.range_middle),range_end:J("rounded-r-md bg-accent",c.range_end),today:J("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:J("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:J("text-muted-foreground opacity-50",c.disabled),hidden:J("invisible",c.hidden),...e},components:{Root:({className:d,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:J(d),...f}),Chevron:({className:d,orientation:h,...f})=>h==="left"?l.jsx(X9,{className:J("size-4",d),...f}):h==="right"?l.jsx(J9,{className:J("size-4",d),...f}):l.jsx(Bc,{className:J("size-4",d),...f}),DayButton:h7,WeekNumber:({children:d,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:d})}),...o},...a})}function h7({className:t,day:e,modifiers:n,...r}){const s=pw(),i=y.useRef(null);return y.useEffect(()=>{var o;n.focused&&((o=i.current)==null||o.focus())},[n.focused]),l.jsx(se,{ref:i,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:J("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square w-full min-w-[--cell-size] flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Vf="Popover",[VA,H7]=li(Vf,[Pf]),Xc=Pf(),[f7,di]=VA(Vf),FA=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Xc(e),c=y.useRef(null),[d,h]=y.useState(!1),[f,p]=Yi({prop:r,defaultProp:s??!1,onChange:i,caller:Vf});return l.jsx(yk,{...a,children:l.jsx(f7,{scope:e,contentId:Gr(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(w=>!w),[p]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};FA.displayName=Vf;var UA="PopoverAnchor",p7=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=di(UA,n),i=Xc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(cw,{...i,...r,ref:e})});p7.displayName=UA;var BA="PopoverTrigger",$A=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=di(BA,n),i=Xc(n),o=$e(e,s.triggerRef),a=l.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GA(s.open),...r,ref:o,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(cw,{asChild:!0,...i,children:a})});$A.displayName=BA;var mw="PopoverPortal",[m7,g7]=VA(mw,{forceMount:void 0}),zA=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=di(mw,e);return l.jsx(m7,{scope:e,forceMount:n,children:l.jsx(lo,{present:n||i.open,children:l.jsx(Ef,{asChild:!0,container:s,children:r})})})};zA.displayName=mw;var xa="PopoverContent",WA=y.forwardRef((t,e)=>{const n=g7(xa,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=di(xa,t.__scopePopover);return l.jsx(lo,{present:r||i.open,children:i.modal?l.jsx(v7,{...s,ref:e}):l.jsx(w7,{...s,ref:e})})});WA.displayName=xa;var y7=qi("PopoverContent.RemoveScroll"),v7=y.forwardRef((t,e)=>{const n=di(xa,t.__scopePopover),r=y.useRef(null),s=$e(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return qv(o)},[]),l.jsx(bf,{as:y7,allowPinchZoom:!0,children:l.jsx(HA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),w7=y.forwardRef((t,e)=>{const n=di(xa,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(HA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HA=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...f}=t,p=di(xa,n),w=Xc(n);return Hv(),l.jsx(_f,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(xf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(vk,{"data-state":GA(p.open),role:"dialog",id:p.contentId,...w,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qA="PopoverClose",x7=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=di(qA,n);return l.jsx(ge.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});x7.displayName=qA;var _7="PopoverArrow",E7=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xc(n);return l.jsx(wk,{...s,...r,ref:e})});E7.displayName=_7;function GA(t){return t?"open":"closed"}var T7=FA,b7=$A,S7=zA,KA=WA;const YA=T7,QA=b7,gw=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(S7,{children:l.jsx(KA,{ref:s,align:e,sideOffset:n,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));gw.displayName=KA.displayName;function I7({organization:t,isOpen:e,onClose:n,onSuccess:r}){var D,O,I,S,N,R,C;const[s,i]=y.useState(!1),[o,a]=y.useState(null),[c,d]=y.useState(),[h,f]=y.useState(),[p,w]=y.useState([]),[x,_]=y.useState({organizationId:t.id,title:"",description:"",fullDescription:"",category:"Workshop",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,registrationRequired:!1,eventbriteUrl:"",presaleEnabled:!1,series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),b=(k,P)=>{if(k.startsWith("price.")){const $=k.split(".")[1];_(X=>({...X,price:{...X.price,[$]:P}}))}else if(k.startsWith("series.")){const $=k.split(".")[1];_(X=>({...X,series:{...X.series,[$]:P}}))}else _($=>({...$,[k]:P}))},g=()=>{w(k=>[...k,{date:"",theme:"",description:""}])},v=(k,P,$)=>{w(X=>X.map((V,G)=>G===k?{...V,[P]:$}:V))},T=k=>{w(P=>P.filter(($,X)=>X!==k))},j=async k=>{k.preventDefault(),i(!0),a(null);try{if(!c)throw new Error("Please select an event date");const P={...x,date:c,endDate:h,recurringDates:x.isRecurring&&p.length>0?p:void 0},$=await Ki.create(P);r($),n(),_({organizationId:t.id,title:"",description:"",fullDescription:"",category:"Workshop",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,registrationRequired:!1,eventbriteUrl:"",presaleEnabled:!1,series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),d(void 0),f(void 0),w([])}catch(P){console.error("Failed to create event:",P),a(P instanceof Error?P.message:"Failed to create event")}finally{i(!1)}};return l.jsx(If,{open:e,onOpenChange:n,children:l.jsxs(zc,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Wc,{children:[l.jsx(Hc,{children:"Create New Event"}),l.jsxs(Cf,{children:["Create a new event for ",t.name,". Fill out the details below."]})]}),l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:o})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Q,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:x.title,onChange:k=>b("title",k.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"category",children:"Category *"}),l.jsxs(na,{value:x.category,onValueChange:k=>b("category",k),children:[l.jsx(Pi,{children:l.jsx(ra,{})}),l.jsxs(Di,{children:[l.jsx(Qe,{value:"Workshop",children:"Workshop"}),l.jsx(Qe,{value:"Figure Drawing",children:"Figure Drawing"}),l.jsx(Qe,{value:"Social",children:"Social"}),l.jsx(Qe,{value:"Exhibition",children:"Exhibition"}),l.jsx(Qe,{value:"Other",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"status",children:"Status"}),l.jsxs(na,{value:x.status,onValueChange:k=>b("status",k),children:[l.jsx(Pi,{children:l.jsx(ra,{})}),l.jsxs(Di,{children:[l.jsx(Qe,{value:"draft",children:"Draft"}),l.jsx(Qe,{value:"published",children:"Published"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"description",children:"Short Description *"}),l.jsx(Kr,{id:"description",value:x.description,onChange:k=>b("description",k.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Kr,{id:"fullDescription",value:x.fullDescription,onChange:k=>b("fullDescription",k.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{children:"Event Date *"}),l.jsxs(YA,{children:[l.jsx(QA,{asChild:!0,children:l.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Gt,{className:"mr-2 h-4 w-4"}),c?hw(c,"PPP"):"Pick a date"]})}),l.jsx(gw,{className:"w-auto p-0",children:l.jsx(LA,{mode:"single",selected:c,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:x.time,onChange:k=>b("time",k.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:x.duration,onChange:k=>b("duration",k.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:x.location,onChange:k=>b("location",k.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:x.address,onChange:k=>b("address",k.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Pricing"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Q,{children:"Price Type"}),l.jsxs(na,{value:(D=x.price)==null?void 0:D.type,onValueChange:k=>b("price.type",k),children:[l.jsx(Pi,{children:l.jsx(ra,{})}),l.jsxs(Di,{children:[l.jsx(Qe,{value:"free",children:"Free"}),l.jsx(Qe,{value:"paid",children:"Paid"}),l.jsx(Qe,{value:"donation",children:"Donation"})]})]})]}),((O=x.price)==null?void 0:O.type)==="paid"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((I=x.price)==null?void 0:I.amount)||"",onChange:k=>b("price.amount",parseFloat(k.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((S=x.price)==null?void 0:S.advancePrice)||"",onChange:k=>b("price.advancePrice",parseFloat(k.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:(N=x.price)==null?void 0:N.description,onChange:k=>b("price.description",k.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Registration"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{id:"registrationRequired",checked:x.registrationRequired,onCheckedChange:k=>b("registrationRequired",k)}),l.jsx(Q,{htmlFor:"registrationRequired",children:"Registration Required"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{id:"presaleEnabled",checked:x.presaleEnabled,onCheckedChange:k=>b("presaleEnabled",k)}),l.jsx(Q,{htmlFor:"presaleEnabled",children:"Enable Presale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:x.capacity||"",onChange:k=>b("capacity",parseInt(k.target.value)||void 0),placeholder:"Maximum attendees"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"eventbriteUrl",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbriteUrl",value:x.eventbriteUrl,onChange:k=>b("eventbriteUrl",k.target.value),placeholder:"https://eventbrite.com/..."})]})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:((R=x.series)==null?void 0:R.name)||"",onChange:k=>b("series.name",k.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Kr,{id:"seriesDescription",value:((C=x.series)==null?void 0:C.description)||"",onChange:k=>b("series.description",k.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{id:"isRecurring",checked:x.isRecurring,onCheckedChange:k=>{b("isRecurring",k),k||w([])}}),l.jsx(Q,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),x.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Q,{children:"Recurring Dates & Themes"}),l.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:g,children:[l.jsx(Wv,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),p.map((k,P)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:k.date,onChange:$=>v(P,"date",$.target.value)}),l.jsx(le,{placeholder:"Theme",value:k.theme,onChange:$=>v(P,"theme",$.target.value)}),l.jsx(le,{placeholder:"Description",value:k.description,onChange:$=>v(P,"description",$.target.value)})]}),l.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(P),children:l.jsx($c,{className:"h-4 w-4"})})]},P))]})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:x.imageUrl,onChange:k=>b("imageUrl",k.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:s,children:[s&&l.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})]})]})]})})}function C7({event:t,isOpen:e,onClose:n,onSuccess:r,onDelete:s}){var N,R,C,k,P,$,X;const[i,o]=y.useState(!1),[a,c]=y.useState(!1),[d,h]=y.useState(null),[f,p]=y.useState(),[w,x]=y.useState(),[_,b]=y.useState([]),[g,v]=y.useState({});y.useEffect(()=>{t&&(v({title:t.title,description:t.description,fullDescription:t.fullDescription,category:t.category,time:t.time,duration:t.duration,location:t.location,address:t.address,price:{...t.price},capacity:t.capacity,registrationRequired:t.registrationRequired,eventbriteUrl:t.eventbriteUrl,presaleEnabled:t.presaleEnabled,series:t.series?{...t.series}:void 0,isRecurring:t.isRecurring,imageUrl:t.imageUrl,status:t.status}),p(t.date instanceof Date?t.date:new Date(t.date)),x(t.endDate?t.endDate instanceof Date?t.endDate:new Date(t.endDate):void 0),b(t.recurringDates||[]))},[t]);const T=(V,G)=>{if(V.startsWith("price.")){const L=V.split(".")[1];v(z=>({...z,price:{...z.price,[L]:G}}))}else if(V.startsWith("series.")){const L=V.split(".")[1];v(z=>({...z,series:{...z.series,[L]:G}}))}else v(L=>({...L,[V]:G}))},j=()=>{b(V=>[...V,{date:"",theme:"",description:""}])},D=(V,G,L)=>{b(z=>z.map((Y,ie)=>ie===V?{...Y,[G]:L}:Y))},O=V=>{b(G=>G.filter((L,z)=>z!==V))},I=async V=>{V.preventDefault(),o(!0),h(null);try{if(!f)throw new Error("Please select an event date");const G={...g,date:f,endDate:w,recurringDates:g.isRecurring&&_.length>0?_:void 0},L=await Ki.update(t.id,G);r(L),n()}catch(G){console.error("Failed to update event:",G),h(G instanceof Error?G.message:"Failed to update event")}finally{o(!1)}},S=async()=>{if(!(!s||!window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`))){c(!0),h(null);try{await Ki.delete(t.id),s(t.id),n()}catch(G){console.error("Failed to delete event:",G),h(G instanceof Error?G.message:"Failed to delete event")}finally{c(!1)}}};return l.jsx(If,{open:e,onOpenChange:n,children:l.jsxs(zc,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Wc,{children:[l.jsx(Hc,{children:"Edit Event"}),l.jsxs(Cf,{children:['Update the details for "',t.title,'".']})]}),l.jsxs("form",{onSubmit:I,className:"space-y-6",children:[d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:l.jsx("p",{className:"text-sm font-medium",children:d})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Q,{htmlFor:"title",children:"Event Title *"}),l.jsx(le,{id:"title",value:g.title||"",onChange:V=>T("title",V.target.value),placeholder:"Enter event title",required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"category",children:"Category *"}),l.jsxs(na,{value:g.category,onValueChange:V=>T("category",V),children:[l.jsx(Pi,{children:l.jsx(ra,{})}),l.jsxs(Di,{children:[l.jsx(Qe,{value:"Workshop",children:"Workshop"}),l.jsx(Qe,{value:"Figure Drawing",children:"Figure Drawing"}),l.jsx(Qe,{value:"Social",children:"Social"}),l.jsx(Qe,{value:"Exhibition",children:"Exhibition"}),l.jsx(Qe,{value:"Other",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"status",children:"Status"}),l.jsxs(na,{value:g.status,onValueChange:V=>T("status",V),children:[l.jsx(Pi,{children:l.jsx(ra,{})}),l.jsxs(Di,{children:[l.jsx(Qe,{value:"draft",children:"Draft"}),l.jsx(Qe,{value:"published",children:"Published"}),l.jsx(Qe,{value:"cancelled",children:"Cancelled"}),l.jsx(Qe,{value:"completed",children:"Completed"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"description",children:"Short Description *"}),l.jsx(Kr,{id:"description",value:g.description||"",onChange:V=>T("description",V.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"fullDescription",children:"Full Description"}),l.jsx(Kr,{id:"fullDescription",value:g.fullDescription||"",onChange:V=>T("fullDescription",V.target.value),placeholder:"Detailed description of the event",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{children:"Event Date *"}),l.jsxs(YA,{children:[l.jsx(QA,{asChild:!0,children:l.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(Gt,{className:"mr-2 h-4 w-4"}),f?hw(f,"PPP"):"Pick a date"]})}),l.jsx(gw,{className:"w-auto p-0",children:l.jsx(LA,{mode:"single",selected:f,onSelect:p,initialFocus:!0})})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"time",children:"Time *"}),l.jsx(le,{id:"time",type:"time",value:g.time||"",onChange:V=>T("time",V.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"duration",children:"Duration"}),l.jsx(le,{id:"duration",value:g.duration||"",onChange:V=>T("duration",V.target.value),placeholder:"e.g., 2 hours"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"location",children:"Location *"}),l.jsx(le,{id:"location",value:g.location||"",onChange:V=>T("location",V.target.value),placeholder:"Venue name",required:!0})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"address",children:"Address *"}),l.jsx(le,{id:"address",value:g.address||"",onChange:V=>T("address",V.target.value),placeholder:"Full address",required:!0})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Pricing"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Q,{children:"Price Type"}),l.jsxs(na,{value:(N=g.price)==null?void 0:N.type,onValueChange:V=>T("price.type",V),children:[l.jsx(Pi,{children:l.jsx(ra,{})}),l.jsxs(Di,{children:[l.jsx(Qe,{value:"free",children:"Free"}),l.jsx(Qe,{value:"paid",children:"Paid"}),l.jsx(Qe,{value:"donation",children:"Donation"})]})]})]}),((R=g.price)==null?void 0:R.type)==="paid"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"amount",children:"Price Amount"}),l.jsx(le,{id:"amount",type:"number",step:"0.01",value:((C=g.price)==null?void 0:C.amount)||"",onChange:V=>T("price.amount",parseFloat(V.target.value)||void 0),placeholder:"20.00"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"advancePrice",children:"Advance Price"}),l.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((k=g.price)==null?void 0:k.advancePrice)||"",onChange:V=>T("price.advancePrice",parseFloat(V.target.value)||void 0),placeholder:"15.00"})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"priceDescription",children:"Price Description"}),l.jsx(le,{id:"priceDescription",value:((P=g.price)==null?void 0:P.description)||"",onChange:V=>T("price.description",V.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Registration"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{id:"registrationRequired",checked:g.registrationRequired||!1,onCheckedChange:V=>T("registrationRequired",V)}),l.jsx(Q,{htmlFor:"registrationRequired",children:"Registration Required"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{id:"presaleEnabled",checked:g.presaleEnabled||!1,onCheckedChange:V=>T("presaleEnabled",V)}),l.jsx(Q,{htmlFor:"presaleEnabled",children:"Enable Presale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"capacity",children:"Capacity"}),l.jsx(le,{id:"capacity",type:"number",value:g.capacity||"",onChange:V=>T("capacity",parseInt(V.target.value)||void 0),placeholder:"Maximum attendees"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"eventbriteUrl",children:"Eventbrite URL"}),l.jsx(le,{id:"eventbriteUrl",value:g.eventbriteUrl||"",onChange:V=>T("eventbriteUrl",V.target.value),placeholder:"https://eventbrite.com/..."})]})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Series (Optional)"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"seriesName",children:"Series Name"}),l.jsx(le,{id:"seriesName",value:(($=g.series)==null?void 0:$.name)||"",onChange:V=>T("series.name",V.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"seriesDescription",children:"Series Description"}),l.jsx(Kr,{id:"seriesDescription",value:((X=g.series)==null?void 0:X.description)||"",onChange:V=>T("series.description",V.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Recurring Event"})}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{id:"isRecurring",checked:g.isRecurring||!1,onCheckedChange:V=>{T("isRecurring",V),V||b([])}}),l.jsx(Q,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),g.isRecurring&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Q,{children:"Recurring Dates & Themes"}),l.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:j,children:[l.jsx(Wv,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),_.map((V,G)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:V.date,onChange:L=>D(G,"date",L.target.value)}),l.jsx(le,{placeholder:"Theme",value:V.theme,onChange:L=>D(G,"theme",L.target.value)}),l.jsx(le,{placeholder:"Description",value:V.description,onChange:L=>D(G,"description",L.target.value)})]}),l.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(G),children:l.jsx($c,{className:"h-4 w-4"})})]},G))]})]})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(le,{id:"imageUrl",value:g.imageUrl||"",onChange:V=>T("imageUrl",V.target.value),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsx("div",{children:s&&l.jsxs(se,{type:"button",variant:"destructive",onClick:S,disabled:a,children:[a&&l.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(a5,{className:"mr-2 h-4 w-4"}),"Delete Event"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),l.jsxs(se,{type:"submit",disabled:i,children:[i&&l.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})]})]})]})]})})}const XA=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:J("w-full caption-bottom text-sm",t),...e})}));XA.displayName="Table";const JA=y.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:J("[&_tr]:border-b",t),...e}));JA.displayName="TableHeader";const ZA=y.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:J("[&_tr:last-child]:border-0",t),...e}));ZA.displayName="TableBody";const N7=y.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));N7.displayName="TableFooter";const $g=y.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));$g.displayName="TableRow";const Co=y.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Co.displayName="TableHead";const No=y.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));No.displayName="TableCell";const k7=y.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:J("mt-4 text-sm text-muted-foreground",t),...e}));k7.displayName="TableCaption";function A7({event:t,isOpen:e,onClose:n}){const[r,s]=y.useState([]),[i,o]=y.useState({veryInterested:0,somewhatInterested:0,presaleRequests:0,totalRegistrations:0}),[a,c]=y.useState(0),[d,h]=y.useState(!1),[f,p]=y.useState(null),[w,x]=y.useState(0);y.useEffect(()=>{e&&_()},[e,t.id]),y.useEffect(()=>{const C=localStorage.getItem(`manual-sales-${t.id}`);C&&c(parseInt(C,10)||0)},[t.id]);const _=async()=>{h(!0),p(null);try{console.log("Loading registrations for event:",t.id);const C=await $C.getByEvent(t.id);console.log("Raw API Response:",JSON.stringify(C,null,2)),console.log("Response type:",typeof C),console.log("Response keys:",C?Object.keys(C):"none");let k=[];if(Array.isArray(C))console.log("Response is array, length:",C.length),k=C;else if(C&&Array.isArray(C.data))console.log("Response.data is array, length:",C.data.length),k=C.data;else if(C&&C.registrations&&Array.isArray(C.registrations))console.log("Response.registrations is array, length:",C.registrations.length),k=C.registrations;else if(C&&C.registrations&&typeof C.registrations=="object"){console.log("Converting registrations object to array"),console.log("Registrations object:",JSON.stringify(C.registrations,null,2)),console.log("Object keys:",Object.keys(C.registrations));const $=Object.values(C.registrations);console.log("Object values:",JSON.stringify($,null,2)),console.log("Values length:",$.length);const X=[];$.forEach(V=>{Array.isArray(V)&&X.push(...V)}),console.log("Flattened registrations:",X.length),k=X}else console.warn("No registrations found or unexpected format"),console.log("Response structure check:"),console.log("- response exists:",!!C),console.log("- response.registrations exists:",!!(C&&C.registrations)),console.log("- response.registrations type:",C&&C.registrations?typeof C.registrations:"none"),k=[];console.log("Final registration data:",k),console.log("Final data length:",k.length),console.log("Sample registration:",k[0]),console.log("All registrations mapped:",k.map(($,X)=>({index:X,id:$==null?void 0:$.id,name:$==null?void 0:$.name,type:$==null?void 0:$.registrationType}))),s(k);const P={veryInterested:k.filter($=>$.registrationType==="rsvp_yes").length,somewhatInterested:k.filter($=>$.registrationType==="rsvp_maybe").length,presaleRequests:k.filter($=>$.registrationType==="presale_request").length,totalRegistrations:k.length};o(P)}catch(C){console.error("Failed to load registrations:",C);let k="Failed to load registration data";C instanceof Error&&(k=C.message);const P=`${k} (Event: ${t.id}, Attempt: ${w+1})`;p(P),console.error("Registration Load Error Details:",{eventId:t.id,eventTitle:t.title,error:C,retryCount:w,timestamp:new Date().toISOString()})}finally{h(!1)}},b=()=>{x(C=>C+1),_()},g=C=>{const k=parseInt(C,10)||0;c(k),localStorage.setItem(`manual-sales-${t.id}`,k.toString())},v=()=>t.capacity?Math.max(0,t.capacity-i.totalRegistrations-a):null,T=()=>{const C=v();return C===null?null:C===0?{color:"destructive",text:"Full"}:C<=5?{color:"secondary",text:"Almost Full"}:{color:"default",text:"Available"}},j=C=>{switch(C){case"rsvp_yes":return l.jsx(l5,{className:"h-4 w-4 text-green-600"});case"rsvp_maybe":return l.jsx(c5,{className:"h-4 w-4 text-yellow-600"});case"presale_request":return l.jsx(s5,{className:"h-4 w-4 text-blue-600"});default:return l.jsx(Ni,{className:"h-4 w-4 text-gray-400"})}},D=C=>{switch(C){case"rsvp_yes":return"Very Interested";case"rsvp_maybe":return"Somewhat Interested";case"presale_request":return"Presale Request";default:return C}},O=C=>{switch(C){case"rsvp_yes":return l.jsx(jt,{className:"bg-green-600",children:"Very Interested"});case"rsvp_maybe":return l.jsx(jt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Somewhat Interested"});case"presale_request":return l.jsx(jt,{variant:"outline",className:"border-blue-500 text-blue-700",children:"Presale"});default:return l.jsx(jt,{variant:"outline",children:C})}},I=()=>{if(r.length===0)return;const k=[["Name","Email","Phone","Type","Notes","Registered At"],...r.map(V=>[V.name||"",V.email||"",V.phone||"",D(V.registrationType),V.notes||"",new Date(V.registeredAt||V.createdAt||"").toLocaleDateString()])].map(V=>V.map(G=>`"${G}"`).join(",")).join(`
`),P=new Blob([k],{type:"text/csv"}),$=URL.createObjectURL(P),X=document.createElement("a");X.href=$,X.download=`${t.title}-registrations.csv`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL($)},S=C=>{try{return new Date(C).toLocaleString()}catch{return C}},N=v(),R=T();return l.jsx(If,{open:e,onOpenChange:n,children:l.jsxs(zc,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Wc,{children:l.jsxs(Hc,{className:"flex items-center gap-2",children:[l.jsx(Ni,{className:"h-5 w-5"}),"Registration Management - ",t.title]})}),l.jsxs("div",{className:"space-y-6",children:[d&&l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(Qs,{className:"h-6 w-6 animate-spin mr-2"}),"Loading registrations..."]}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Z9,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Unable to Load Registration Data"}),l.jsx("p",{className:"text-sm text-red-700 mb-3",children:f}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(se,{size:"sm",variant:"outline",onClick:b,disabled:d,className:"text-red-700 border-red-300 hover:bg-red-100",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Qs,{className:"h-4 w-4 animate-spin mr-2"}),"Retrying..."]}):"Retry"}),l.jsx(se,{size:"sm",variant:"ghost",onClick:()=>p(null),className:"text-red-700 hover:bg-red-100",children:"Dismiss"})]})]})]})}),f&&l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsxs(et,{className:"text-lg flex items-center gap-2",children:[l.jsx(Gt,{className:"h-5 w-5"}),"Event Information"]})}),l.jsx(Ne,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Event:"})," ",t.title]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),t.capacity&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Capacity:"})," ",t.capacity]})]})})]}),!d&&!f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(xe,{children:l.jsxs(Ne,{className:"flex items-center gap-3 p-4",children:[l.jsx(LC,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Very Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.veryInterested})]})]})}),l.jsx(xe,{children:l.jsxs(Ne,{className:"flex items-center gap-3 p-4",children:[l.jsx(Gt,{className:"h-8 w-8 text-yellow-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Somewhat Interested"}),l.jsx("p",{className:"text-2xl font-bold",children:i.somewhatInterested})]})]})}),l.jsx(xe,{children:l.jsxs(Ne,{className:"flex items-center gap-3 p-4",children:[l.jsx(Gi,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presale Requests"}),l.jsx("p",{className:"text-2xl font-bold",children:i.presaleRequests})]})]})}),l.jsx(xe,{children:l.jsxs(Ne,{className:"flex items-center gap-3 p-4",children:[l.jsx(Ni,{className:"h-8 w-8 text-gray-700"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:i.totalRegistrations})]})]})})]}),t.capacity&&l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsx(et,{className:"text-lg",children:"Capacity Management"})}),l.jsx(Ne,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx(Q,{className:"text-sm text-gray-600",children:"Event Capacity"}),l.jsx("p",{className:"text-xl font-semibold",children:t.capacity})]}),l.jsxs("div",{children:[l.jsx(Q,{htmlFor:"manual-sales",className:"text-sm text-gray-600",children:"External Sales"}),l.jsx(le,{id:"manual-sales",type:"number",min:"0",value:a,onChange:C=>g(C.target.value),className:"mt-1",placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(Q,{className:"text-sm text-gray-600",children:"App Registrations"}),l.jsx("p",{className:"text-xl font-semibold",children:i.totalRegistrations})]}),l.jsxs("div",{children:[l.jsx(Q,{className:"text-sm text-gray-600",children:"Remaining"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[R&&l.jsx(jt,{variant:R.color,children:R.text}),l.jsx("span",{className:"text-xl font-semibold",children:N!==null?N:"Unlimited"})]})]})]})})]}),l.jsxs(xe,{children:[l.jsx(Ze,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(et,{className:"text-lg",children:"Registration Details"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:_,children:[l.jsx(e5,{className:"h-4 w-4 mr-2"}),"Refresh"]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:I,disabled:r.length===0,children:[l.jsx(t5,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),l.jsx(Ne,{children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ni,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-gray-500 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Registrations will appear here when people express interest or request presale info."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(XA,{children:[l.jsx(JA,{children:l.jsxs($g,{children:[l.jsx(Co,{children:"Type"}),l.jsx(Co,{children:"Name"}),l.jsx(Co,{children:"Contact"}),l.jsx(Co,{children:"Registered"}),l.jsx(Co,{children:"Notes"})]})}),l.jsx(ZA,{children:r.map((C,k)=>(console.log(`Rendering registration ${k}:`,C),console.log(`- ID: ${C==null?void 0:C.id}`),console.log(`- Name: ${C==null?void 0:C.name}`),console.log(`- Email: ${C==null?void 0:C.email}`),console.log(`- Type: ${C==null?void 0:C.registrationType}`),console.log(`- Created: ${C==null?void 0:C.createdAt}`),l.jsxs($g,{children:[l.jsx(No,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[j((C==null?void 0:C.registrationType)||""),O((C==null?void 0:C.registrationType)||"")]})}),l.jsx(No,{className:"font-medium",children:(C==null?void 0:C.name)||"No name provided"}),l.jsx(No,{children:l.jsxs("div",{className:"space-y-1",children:[(C==null?void 0:C.email)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Gi,{className:"h-3 w-3"}),l.jsx("a",{href:`mailto:${C.email}`,className:"text-blue-600 hover:underline",children:C.email})]}),(C==null?void 0:C.phone)&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(i5,{className:"h-3 w-3"}),l.jsx("a",{href:`tel:${C.phone}`,className:"text-blue-600 hover:underline",children:C.phone})]}),!(C!=null&&C.email)&&!(C!=null&&C.phone)&&l.jsx("span",{className:"text-gray-400 text-sm",children:"No contact info"})]})}),l.jsx(No,{className:"text-sm text-gray-600",children:S((C==null?void 0:C.registeredAt)||(C==null?void 0:C.createdAt)||"")}),l.jsx(No,{children:C!=null&&C.notes?l.jsxs("div",{className:"flex items-start gap-1",children:[l.jsx(r5,{className:"h-3 w-3 mt-0.5 text-gray-400"}),l.jsx("span",{className:"text-sm",children:C.notes})]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"No notes"})})]},(C==null?void 0:C.id)||`reg-${k}`)))})]})})})]})]})]})]})})}function R7(){const{orgSlug:t}=CD(),e=gS(),{organization:n,events:r,loading:s,error:i,updateOrganization:o,refreshEvents:a}=IN(t||""),[c,d]=y.useState(!1),[h,f]=y.useState(null),[p,w]=y.useState(!1),[x,_]=y.useState(null),[b,g]=y.useState(null),v=bh(),T=Xv("adminControls"),j=async N=>{d(!0),f(null);try{await o(N),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(R){console.error("Failed to save organization:",R);const C=R instanceof Error?R.message:"Unknown error occurred";f(`❌ Failed to save changes: ${C}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{d(!1)}},D=N=>{f("✅ Event created successfully!"),setTimeout(()=>f(null),4e3),a()},O=N=>{f("✅ Event updated successfully!"),setTimeout(()=>f(null),4e3),a(),_(null)},I=N=>{f("✅ Event deleted successfully!"),setTimeout(()=>f(null),4e3),a(),_(null)},S=N=>{g(N)};return T?s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Qs,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),l.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[l.jsx(Y9,{className:"h-4 w-4"}),"Back to Public Page"]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),v]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[l.jsx(n5,{className:"h-4 w-4"}),"Preview"]})]})]}),h&&l.jsx("div",{className:`mt-4 p-4 rounded-lg border ${h.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:l.jsx("p",{className:"text-sm font-medium",children:h})})]})}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(uB,{defaultValue:"organization",className:"flex gap-8",orientation:"vertical",children:[l.jsx("div",{className:"w-64 flex-shrink-0",children:l.jsxs(KN,{className:"flex flex-col h-fit w-full",children:[l.jsxs(Cd,{value:"organization",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(BC,{className:"h-4 w-4"}),"Organization"]}),l.jsxs(Cd,{value:"events",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(Gt,{className:"h-4 w-4"}),"Events"]}),l.jsxs(Cd,{value:"analytics",className:"flex items-center gap-2 w-full justify-start",children:[l.jsx(oE,{className:"h-4 w-4"}),"Analytics"]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(Nd,{value:"organization",children:l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsx(et,{children:"Organization Settings"}),l.jsx(Pn,{children:"Update your organization's information, branding, and contact details."})]}),l.jsx(Ne,{children:l.jsx(CN,{organization:n,onSave:j,onCancel:()=>{},isFullPage:!0,isSaving:c})})]})}),l.jsx(Nd,{value:"events",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),l.jsxs(se,{className:"flex items-center gap-2",onClick:()=>w(!0),children:[l.jsx(Wv,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?l.jsx(xe,{children:l.jsxs(Ne,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(Gt,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),l.jsx(se,{onClick:()=>w(!0),children:"Create Your First Event"})]})}):l.jsx("div",{className:"space-y-4",children:r.map(N=>l.jsx(xe,{children:l.jsx(Ne,{className:"p-6",children:l.jsx("div",{className:"flex flex-col",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(jt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:N.category}),l.jsx(jt,{variant:N.status==="published"?"default":"secondary",children:N.status}),l.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:N.title})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:N.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Gt,{className:"h-4 w-4 mr-2"}),N.date instanceof Date?N.date.toLocaleDateString():new Date(N.date).toLocaleDateString()," • ",N.time]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ya,{className:"h-4 w-4 mr-2"}),N.location]})]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",N.price.description]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>_(N),children:[l.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsxs(se,{variant:"outline",size:"sm",onClick:()=>S(N),children:[l.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]})})})},N.id))})]})}),l.jsx(Nd,{value:"analytics",children:l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsx(et,{children:"Analytics"}),l.jsx(Pn,{children:"Track your organization's performance and audience engagement."})]}),l.jsx(Ne,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(oE,{className:"h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 text-center",children:"Analytics and insights will be available soon."})]})})]})})]})]})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(I7,{organization:n,isOpen:p,onClose:()=>w(!1),onSuccess:D}),x&&l.jsx(C7,{event:x,isOpen:!!x,onClose:()=>_(null),onSuccess:O,onDelete:I}),b&&l.jsx(A7,{event:b,isOpen:!!b,onClose:()=>g(null)})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",v," environment."]}),l.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})})}const P7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEBUG_MODE:"true",VITE_ENVIRONMENT:"development",VITE_EXPERIMENTAL_FEATURES:"true",VITE_FIREBASE_API_KEY:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",VITE_FIREBASE_APP_ID:"1:267601188129:web:ce80873298d39444ac1a60",VITE_FIREBASE_AUTH_DOMAIN:"voxxy-presents.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://voxxy-presents-default-rtdb.firebaseio.com",VITE_FIREBASE_MEASUREMENT_ID:"G-Q74Z0C9R28",VITE_FIREBASE_MESSAGING_SENDER_ID:"267601188129",VITE_FIREBASE_PROJECT_ID:"voxxy-presents",VITE_FIREBASE_STORAGE_BUCKET:"voxxy-presents.firebasestorage.app"};console.log("Environment Variables Debug:");console.log("VITE_FIREBASE_API_KEY:","AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ");console.log("VITE_FIREBASE_PROJECT_ID:","voxxy-presents");console.log("All env vars:",P7);const D7=()=>{const t={apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",projectId:"voxxy-presents"};console.log("Firebase config being used:",t),Object.entries(t).forEach(([e,n])=>{!n||n==="undefined"?console.error(`❌ Missing environment variable for ${e}`):console.log(`✅ ${e}: ${n.substring(0,10)}...`)})};function j7(){const{user:t}=s9(),[e,n]=y.useState([]),[r,s]=y.useState(!1),[i,o]=y.useState([]);y.useEffect(()=>{D7()},[]);const a=async()=>{s(!0);try{const w=await _l("voxxy-presents-nyc");if(w){o(_=>[..._,`✅ Voxxy Presents NYC found: ${w.name}`]);const x=await Rg(w.id);n(x),o(_=>[..._,`✅ Found ${x.length} events for Voxxy Presents NYC`])}else o(x=>[...x,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(w){o(x=>[...x,`❌ Error testing Voxxy Presents NYC: ${w}`])}s(!1)},c=async()=>{s(!0);try{const w=await zU({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",bio:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(x=>[...x,`✅ Organization created with ID: ${w}`])}catch(w){o(x=>[...x,`❌ Error creating organization: ${w}`])}s(!1)},d=async()=>{s(!0);try{const w=await _l("brooklyn-hearts-club");return w?(o(x=>[...x,`✅ Organization found: ${w.name}`]),w):(o(x=>[...x,"❌ Organization not found"]),null)}catch(w){return o(x=>[...x,`❌ Error retrieving organization: ${w}`]),null}finally{s(!1)}},h=async()=>{s(!0);try{const w=await _l("brooklyn-hearts-club");if(!w){o(_=>[..._,"❌ Need to create organization first"]),s(!1);return}const x=await HU({organizationId:w.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",category:"Workshop",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(_=>[..._,`✅ Event created with ID: ${x}`])}catch(w){o(x=>[...x,`❌ Error creating event: ${w}`])}s(!1)},f=async()=>{s(!0);try{const w=await _l("brooklyn-hearts-club");if(!w){o(_=>[..._,"❌ Need to create organization first"]),s(!1);return}const x=await Rg(w.id);n(x),o(_=>[..._,`✅ Found ${x.length} events`])}catch(w){o(x=>[...x,`❌ Error retrieving events: ${w}`])}s(!1)},p=()=>{o([]),n([])};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(jt,{variant:"secondary",children:t.email}),l.jsx(se,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsxs(et,{className:"flex items-center gap-2",children:[l.jsx(aE,{className:"h-5 w-5"}),"Database Testing"]}),l.jsx(Pn,{children:"Test Firebase Firestore connection and basic operations"})]}),l.jsxs(Ne,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(se,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),l.jsx(se,{onClick:c,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),l.jsx(se,{onClick:d,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),l.jsx(se,{onClick:h,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),l.jsx(se,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),l.jsx(se,{onClick:p,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?l.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((w,x)=>l.jsx("div",{className:"mb-1",children:w},x))})]})]}),l.jsxs(xe,{children:[l.jsxs(Ze,{children:[l.jsxs(et,{className:"flex items-center gap-2",children:[l.jsx(Gt,{className:"h-5 w-5"}),"Events"]}),l.jsx(Pn,{children:"Events retrieved from database"})]}),l.jsx(Ne,{children:e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):l.jsx("div",{className:"space-y-4",children:e.map(w=>l.jsx("div",{className:"border rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:w.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsx("span",{children:w.date.toLocaleDateString()}),l.jsx("span",{children:w.time}),l.jsx(jt,{variant:"secondary",className:"text-xs",children:w.category})]})]}),l.jsx(jt,{variant:w.status==="published"?"default":"secondary",children:w.status})]})},w.id))})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[l.jsx(xe,{children:l.jsx(Ne,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ni,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),l.jsx(xe,{children:l.jsx(Ne,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Gt,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),l.jsx(xe,{children:l.jsx(Ne,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(aE,{className:"h-8 w-8 text-purple-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),l.jsx(xe,{children:l.jsx(Ne,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(BC,{className:"h-8 w-8 text-orange-600"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function O7(){return l.jsx(i9,{children:l.jsx(dj,{children:l.jsxs($D,{children:[l.jsx(Eo,{path:"/",element:l.jsx(u5,{})}),l.jsx(Eo,{path:"/brooklyn-hearts-club",element:l.jsx($U,{})}),l.jsx(Eo,{path:"/voxxy-presents-nyc",element:l.jsx(GU,{})}),l.jsx(Eo,{path:"/:orgSlug/admin",element:l.jsx(R7,{})}),l.jsx(Eo,{path:"/admin",element:l.jsx(j7,{})})]})})})}oS(document.getElementById("root")).render(l.jsx(y.StrictMode,{children:l.jsx(O7,{})}));
