var mR=Object.defineProperty;var gR=(t,e,n)=>e in t?mR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zw=(t,e,n)=>gR(t,typeof e!="symbol"?e+"":e,n);function yR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function zE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var WE={exports:{}},bh={},HE={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),vR=Symbol.for("react.portal"),wR=Symbol.for("react.fragment"),_R=Symbol.for("react.strict_mode"),xR=Symbol.for("react.profiler"),ER=Symbol.for("react.provider"),TR=Symbol.for("react.context"),SR=Symbol.for("react.forward_ref"),bR=Symbol.for("react.suspense"),IR=Symbol.for("react.memo"),CR=Symbol.for("react.lazy"),e_=Symbol.iterator;function AR(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var qE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GE=Object.assign,KE={};function ga(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||qE}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YE(){}YE.prototype=ga.prototype;function Ug(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||qE}var Bg=Ug.prototype=new YE;Bg.constructor=Ug;GE(Bg,ga.prototype);Bg.isPureReactComponent=!0;var t_=Array.isArray,QE=Object.prototype.hasOwnProperty,$g={current:null},XE={key:!0,ref:!0,__self:!0,__source:!0};function JE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)QE.call(e,r)&&!XE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:wc,type:t,key:i,ref:o,props:s,_owner:$g.current}}function kR(t,e){return{$$typeof:wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===wc}function NR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function Xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NR(""+t.key):e.toString(36)}function Qu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wc:case vR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xf(o,0):r,t_(s)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),Qu(s,e,n,"",function(d){return d})):s!=null&&(zg(s)&&(s=kR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(n_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xf(i,a);o+=Qu(i,e,n,l,s)}else if(l=AR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xf(i,a++),o+=Qu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],s=0;return Qu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Xu={transition:null},PR={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:$g};function ZE(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ga;me.Fragment=wR;me.Profiler=xR;me.PureComponent=Ug;me.StrictMode=_R;me.Suspense=bR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PR;me.act=ZE;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$g.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)QE.call(e,l)&&!XE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:wc,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:TR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ER,_context:t},t.Consumer=t};me.createElement=JE;me.createFactory=function(t){var e=JE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:SR,render:t}};me.isValidElement=zg;me.lazy=function(t){return{$$typeof:CR,_payload:{_status:-1,_result:t},_init:RR}};me.memo=function(t,e){return{$$typeof:IR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Xu.transition;Xu.transition={};try{t()}finally{Xu.transition=e}};me.unstable_act=ZE;me.useCallback=function(t,e){return Zt.current.useCallback(t,e)};me.useContext=function(t){return Zt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Zt.current.useEffect(t,e)};me.useId=function(){return Zt.current.useId()};me.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Zt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};me.useRef=function(t){return Zt.current.useRef(t)};me.useState=function(t){return Zt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Zt.current.useTransition()};me.version="18.3.1";HE.exports=me;var y=HE.exports;const q=zE(y),eT=yR({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=y,OR=Symbol.for("react.element"),jR=Symbol.for("react.fragment"),MR=Object.prototype.hasOwnProperty,LR=DR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function tT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MR.call(e,r)&&!VR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:OR,type:t,key:i,ref:o,props:s,_owner:LR.current}}bh.Fragment=jR;bh.jsx=tT;bh.jsxs=tT;WE.exports=bh;var c=WE.exports,nT={exports:{}},En={},rT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var Y=L.length;L.push($);e:for(;0<Y;){var ie=Y-1>>>1,pe=L[ie];if(0<s(pe,$))L[ie]=$,L[Y]=pe,Y=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],Y=L.pop();if(Y!==$){L[0]=Y;e:for(var ie=0,pe=L.length,Se=pe>>>1;ie<Se;){var Ke=2*(ie+1)-1,gt=L[Ke],rt=Ke+1,te=L[rt];if(0>s(gt,Y))rt<pe&&0>s(te,gt)?(L[ie]=te,L[rt]=Y,ie=rt):(L[ie]=gt,L[Ke]=Y,ie=Ke);else if(rt<pe&&0>s(te,Y))L[ie]=te,L[rt]=Y,ie=rt;else break e}}return $}function s(L,$){var Y=L.sortIndex-$.sortIndex;return Y!==0?Y:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,p=3,w=!1,_=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=L)r(d),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(d)}}function D(L){if(x=!1,T(L),!_)if(n(l)!==null)_=!0,F(P);else{var $=n(d);$!==null&&G(D,$.startTime-L)}}function P(L,$){_=!1,x&&(x=!1,g(b),b=-1),w=!0;var Y=p;try{for(T($),f=n(l);f!==null&&(!(f.expirationTime>$)||L&&!O());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var pe=ie(f.expirationTime<=$);$=t.unstable_now(),typeof pe=="function"?f.callback=pe:f===n(l)&&r(l),T($)}else r(l);f=n(l)}if(f!==null)var Se=!0;else{var Ke=n(d);Ke!==null&&G(D,Ke.startTime-$),Se=!1}return Se}finally{f=null,p=Y,w=!1}}var j=!1,I=null,b=-1,A=5,N=-1;function O(){return!(t.unstable_now()-N<A)}function k(){if(I!==null){var L=t.unstable_now();N=L;var $=!0;try{$=I(!0,L)}finally{$?R():(j=!1,I=null)}}else j=!1}var R;if(typeof v=="function")R=function(){v(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=k,R=function(){ee.postMessage(null)}}else R=function(){S(k,0)};function F(L){I=L,j||(j=!0,R())}function G(L,$){b=S(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,F(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var Y=p;p=$;try{return L()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=p;p=L;try{return $()}finally{p=Y}},t.unstable_scheduleCallback=function(L,$,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,L){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,L={id:h++,callback:$,priorityLevel:L,startTime:Y,expirationTime:pe,sortIndex:-1},Y>ie?(L.sortIndex=Y,e(d,L),n(l)===null&&L===n(d)&&(x?(g(b),b=-1):x=!0,G(D,Y-ie))):(L.sortIndex=pe,e(l,L),_||w||(_=!0,F(P))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var $=p;return function(){var Y=p;p=$;try{return L.apply(this,arguments)}finally{p=Y}}}})(sT);rT.exports=sT;var FR=rT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR=y,_n=FR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iT=new Set,Vl={};function Xi(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(Vl[t]=e,t=0;t<e.length;t++)iT.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nm=Object.prototype.hasOwnProperty,BR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},s_={};function $R(t){return nm.call(s_,t)?!0:nm.call(r_,t)?!1:BR.test(t)?s_[t]=!0:(r_[t]=!0,!1)}function zR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WR(t,e,n,r){if(e===null||typeof e>"u"||zR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wg=/[\-:]([a-z])/g;function Hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wg,Hg);jt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wg,Hg);jt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wg,Hg);jt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WR(e,n,s,r)&&(n=null),r||s===null?$R(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=UR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),So=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),oT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),Yg=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),lT=Symbol.for("react.offscreen"),i_=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Jf;function ol(t){if(Jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||""}return`
`+Jf+t}var Zf=!1;function ep(t,e){if(!t||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ol(t):""}function HR(t){switch(t.tag){case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return t=ep(t.type,!1),t;case 11:return t=ep(t.type.render,!1),t;case 1:return t=ep(t.type,!0),t;default:return""}}function om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bo:return"Fragment";case So:return"Portal";case rm:return"Profiler";case Gg:return"StrictMode";case sm:return"Suspense";case im:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aT:return(t.displayName||"Context")+".Consumer";case oT:return(t._context.displayName||"Context")+".Provider";case Kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yg:return e=t.displayName||null,e!==null?e:om(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return om(t(e))}catch{}}return null}function qR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return om(e);case 8:return e===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GR(t){var e=cT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=GR(t))}function uT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function am(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dT(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function lm(t,e){dT(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cm(t,e.type,n):e.hasOwnProperty("defaultValue")&&cm(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cm(t,e,n){(e!=="number"||Sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function Lo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(al(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function hT(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,pT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KR=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(t){KR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xl[e]=xl[t]})});function mT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xl.hasOwnProperty(t)&&xl[t]?(""+e).trim():e+"px"}function gT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var YR=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(t,e){if(e){if(YR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mm=null,Vo=null,Fo=null;function u_(t){if(t=Ec(t)){if(typeof mm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Nh(e),mm(t.stateNode,t.type,e))}}function yT(t){Vo?Fo?Fo.push(t):Fo=[t]:Vo=t}function vT(){if(Vo){var t=Vo,e=Fo;if(Fo=Vo=null,u_(t),e)for(t=0;t<e.length;t++)u_(e[t])}}function wT(t,e){return t(e)}function _T(){}var tp=!1;function xT(t,e,n){if(tp)return t(e,n);tp=!0;try{return wT(t,e,n)}finally{tp=!1,(Vo!==null||Fo!==null)&&(_T(),vT())}}function Ul(t,e){var n=t.stateNode;if(n===null)return null;var r=Nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var gm=!1;if(Yr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){gm=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{gm=!1}function QR(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var El=!1,bd=null,Id=!1,ym=null,XR={onError:function(t){El=!0,bd=t}};function JR(t,e,n,r,s,i,o,a,l){El=!1,bd=null,QR.apply(XR,arguments)}function ZR(t,e,n,r,s,i,o,a,l){if(JR.apply(this,arguments),El){if(El){var d=bd;El=!1,bd=null}else throw Error(z(198));Id||(Id=!0,ym=d)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ET(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d_(t){if(Ji(t)!==t)throw Error(z(188))}function eP(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d_(s),t;if(i===r)return d_(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function TT(t){return t=eP(t),t!==null?ST(t):null}function ST(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ST(t);if(e!==null)return e;t=t.sibling}return null}var bT=_n.unstable_scheduleCallback,h_=_n.unstable_cancelCallback,tP=_n.unstable_shouldYield,nP=_n.unstable_requestPaint,at=_n.unstable_now,rP=_n.unstable_getCurrentPriorityLevel,Xg=_n.unstable_ImmediatePriority,IT=_n.unstable_UserBlockingPriority,Cd=_n.unstable_NormalPriority,sP=_n.unstable_LowPriority,CT=_n.unstable_IdlePriority,Ih=null,dr=null;function iP(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Ih,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:lP,oP=Math.log,aP=Math.LN2;function lP(t){return t>>>=0,t===0?32:31-(oP(t)/aP|0)|0}var xu=64,Eu=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ll(a):(i&=o,i!==0&&(r=ll(i)))}else o=n&~s,o!==0?r=ll(o):i!==0&&(r=ll(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),s=1<<n,r|=t[n],e&=~s;return r}function cP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AT(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function dP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function kT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NT,Zg,RT,PT,DT,wm=!1,Tu=[],As=null,ks=null,Ns=null,Bl=new Map,$l=new Map,ws=[],hP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function Ya(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ec(e),e!==null&&Zg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fP(t,e,n,r,s){switch(e){case"focusin":return As=Ya(As,t,e,n,r,s),!0;case"dragenter":return ks=Ya(ks,t,e,n,r,s),!0;case"mouseover":return Ns=Ya(Ns,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Bl.set(i,Ya(Bl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$l.set(i,Ya($l.get(i)||null,t,e,n,r,s)),!0}return!1}function OT(t){var e=Ei(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=ET(n),e!==null){t.blockedOn=e,DT(t.priority,function(){RT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pm=r,n.target.dispatchEvent(r),pm=null}else return e=Ec(n),e!==null&&Zg(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){Ju(t)&&n.delete(e)}function pP(){wm=!1,As!==null&&Ju(As)&&(As=null),ks!==null&&Ju(ks)&&(ks=null),Ns!==null&&Ju(Ns)&&(Ns=null),Bl.forEach(p_),$l.forEach(p_)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,wm||(wm=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,pP)))}function zl(t){function e(s){return Qa(s,t)}if(0<Tu.length){Qa(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Qa(As,t),ks!==null&&Qa(ks,t),Ns!==null&&Qa(Ns,t),Bl.forEach(e),$l.forEach(e),n=0;n<ws.length;n++)r=ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ws.length&&(n=ws[0],n.blockedOn===null);)OT(n),n.blockedOn===null&&ws.shift()}var Uo=os.ReactCurrentBatchConfig,kd=!0;function mP(t,e,n,r){var s=Oe,i=Uo.transition;Uo.transition=null;try{Oe=1,ey(t,e,n,r)}finally{Oe=s,Uo.transition=i}}function gP(t,e,n,r){var s=Oe,i=Uo.transition;Uo.transition=null;try{Oe=4,ey(t,e,n,r)}finally{Oe=s,Uo.transition=i}}function ey(t,e,n,r){if(kd){var s=_m(t,e,n,r);if(s===null)hp(t,e,r,Nd,n),f_(t,r);else if(fP(s,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<hP.indexOf(t)){for(;s!==null;){var i=Ec(s);if(i!==null&&NT(i),i=_m(t,e,n,r),i===null&&hp(t,e,r,Nd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var Nd=null;function _m(t,e,n,r){if(Nd=null,t=Qg(r),t=Ei(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ET(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nd=t,null}function jT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rP()){case Xg:return 1;case IT:return 4;case Cd:case sP:return 16;case CT:return 536870912;default:return 16}default:return 16}}var bs=null,ty=null,Zu=null;function MT(){if(Zu)return Zu;var t,e=ty,n=e.length,r,s="value"in bs?bs.value:bs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zu=s.slice(t,1<r?1-r:void 0)}function ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function m_(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Su:m_,this.isPropagationStopped=m_,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=Tn(ya),xc=tt({},ya,{view:0,detail:0}),yP=Tn(xc),rp,sp,Xa,Ch=tt({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(rp=t.screenX-Xa.screenX,sp=t.screenY-Xa.screenY):sp=rp=0,Xa=t),rp)},movementY:function(t){return"movementY"in t?t.movementY:sp}}),g_=Tn(Ch),vP=tt({},Ch,{dataTransfer:0}),wP=Tn(vP),_P=tt({},xc,{relatedTarget:0}),ip=Tn(_P),xP=tt({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=Tn(xP),TP=tt({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SP=Tn(TP),bP=tt({},ya,{data:0}),y_=Tn(bP),IP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AP[t])?!!e[t]:!1}function ry(){return kP}var NP=tt({},xc,{key:function(t){if(t.key){var e=IP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(t){return t.type==="keypress"?ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RP=Tn(NP),PP=tt({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=Tn(PP),DP=tt({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),OP=Tn(DP),jP=tt({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),MP=Tn(jP),LP=tt({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=Tn(LP),FP=[9,13,27,32],sy=Yr&&"CompositionEvent"in window,Tl=null;Yr&&"documentMode"in document&&(Tl=document.documentMode);var UP=Yr&&"TextEvent"in window&&!Tl,LT=Yr&&(!sy||Tl&&8<Tl&&11>=Tl),w_=" ",__=!1;function VT(t,e){switch(t){case"keyup":return FP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function BP(t,e){switch(t){case"compositionend":return FT(e);case"keypress":return e.which!==32?null:(__=!0,w_);case"textInput":return t=e.data,t===w_&&__?null:t;default:return null}}function $P(t,e){if(Io)return t==="compositionend"||!sy&&VT(t,e)?(t=MT(),Zu=ty=bs=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LT&&e.locale!=="ko"?null:e.data;default:return null}}var zP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zP[t.type]:e==="textarea"}function UT(t,e,n,r){yT(r),e=Rd(e,"onChange"),0<e.length&&(n=new ny("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sl=null,Wl=null;function WP(t){XT(t,0)}function Ah(t){var e=ko(t);if(uT(e))return t}function HP(t,e){if(t==="change")return e}var BT=!1;if(Yr){var op;if(Yr){var ap="oninput"in document;if(!ap){var E_=document.createElement("div");E_.setAttribute("oninput","return;"),ap=typeof E_.oninput=="function"}op=ap}else op=!1;BT=op&&(!document.documentMode||9<document.documentMode)}function T_(){Sl&&(Sl.detachEvent("onpropertychange",$T),Wl=Sl=null)}function $T(t){if(t.propertyName==="value"&&Ah(Wl)){var e=[];UT(e,Wl,t,Qg(t)),xT(WP,e)}}function qP(t,e,n){t==="focusin"?(T_(),Sl=e,Wl=n,Sl.attachEvent("onpropertychange",$T)):t==="focusout"&&T_()}function GP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ah(Wl)}function KP(t,e){if(t==="click")return Ah(e)}function YP(t,e){if(t==="input"||t==="change")return Ah(e)}function QP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:QP;function Hl(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!nm.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b_(t,e){var n=S_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S_(n)}}function zT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WT(){for(var t=window,e=Sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sd(t.document)}return e}function iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XP(t){var e=WT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zT(n.ownerDocument.documentElement,n)){if(r!==null&&iy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=b_(n,i);var o=b_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JP=Yr&&"documentMode"in document&&11>=document.documentMode,Co=null,xm=null,bl=null,Em=!1;function I_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Em||Co==null||Co!==Sd(r)||(r=Co,"selectionStart"in r&&iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Hl(bl,r)||(bl=r,r=Rd(xm,"onSelect"),0<r.length&&(e=new ny("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Co)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},lp={},HT={};Yr&&(HT=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function kh(t){if(lp[t])return lp[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HT)return lp[t]=e[n];return t}var qT=kh("animationend"),GT=kh("animationiteration"),KT=kh("animationstart"),YT=kh("transitionend"),QT=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){QT.set(t,e),Xi(e,[t])}for(var cp=0;cp<C_.length;cp++){var up=C_[cp],ZP=up.toLowerCase(),e2=up[0].toUpperCase()+up.slice(1);Zs(ZP,"on"+e2)}Zs(qT,"onAnimationEnd");Zs(GT,"onAnimationIteration");Zs(KT,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(YT,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function A_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZR(r,e,void 0,t),t.currentTarget=null}function XT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;A_(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;A_(s,a,d),i=l}}}if(Id)throw t=ym,Id=!1,ym=null,t}function He(t,e){var n=e[Cm];n===void 0&&(n=e[Cm]=new Set);var r=t+"__bubble";n.has(r)||(JT(e,t,2,!1),n.add(r))}function dp(t,e,n){var r=0;e&&(r|=4),JT(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function ql(t){if(!t[Iu]){t[Iu]=!0,iT.forEach(function(n){n!=="selectionchange"&&(t2.has(n)||dp(n,!1,t),dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,dp("selectionchange",!1,e))}}function JT(t,e,n,r){switch(jT(e)){case 1:var s=mP;break;case 4:s=gP;break;default:s=ey}n=s.bind(null,e,n,t),s=void 0,!gm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}xT(function(){var d=i,h=Qg(n),f=[];e:{var p=QT.get(t);if(p!==void 0){var w=ny,_=t;switch(t){case"keypress":if(ed(n)===0)break e;case"keydown":case"keyup":w=RP;break;case"focusin":_="focus",w=ip;break;case"focusout":_="blur",w=ip;break;case"beforeblur":case"afterblur":w=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=OP;break;case qT:case GT:case KT:w=EP;break;case YT:w=MP;break;case"scroll":w=yP;break;case"wheel":w=VP;break;case"copy":case"cut":case"paste":w=SP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=v_}var x=(e&4)!==0,S=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var v=d,T;v!==null;){T=v;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,g!==null&&(D=Ul(v,g),D!=null&&x.push(Gl(v,D,T)))),S)break;v=v.return}0<x.length&&(p=new w(p,_,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==pm&&(_=n.relatedTarget||n.fromElement)&&(Ei(_)||_[Qr]))break e;if((w||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=d,_=_?Ei(_):null,_!==null&&(S=Ji(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=d),w!==_)){if(x=g_,D="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=v_,D="onPointerLeave",g="onPointerEnter",v="pointer"),S=w==null?p:ko(w),T=_==null?p:ko(_),p=new x(D,v+"leave",w,n,h),p.target=S,p.relatedTarget=T,D=null,Ei(h)===d&&(x=new x(g,v+"enter",_,n,h),x.target=T,x.relatedTarget=S,D=x),S=D,w&&_)t:{for(x=w,g=_,v=0,T=x;T;T=po(T))v++;for(T=0,D=g;D;D=po(D))T++;for(;0<v-T;)x=po(x),v--;for(;0<T-v;)g=po(g),T--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=po(x),g=po(g)}x=null}else x=null;w!==null&&k_(f,p,w,x,!1),_!==null&&S!==null&&k_(f,S,_,x,!0)}}e:{if(p=d?ko(d):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var P=HP;else if(x_(p))if(BT)P=YP;else{P=GP;var j=qP}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=KP);if(P&&(P=P(t,d))){UT(f,P,n,h);break e}j&&j(t,p,d),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&cm(p,"number",p.value)}switch(j=d?ko(d):window,t){case"focusin":(x_(j)||j.contentEditable==="true")&&(Co=j,xm=d,bl=null);break;case"focusout":bl=xm=Co=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,I_(f,n,h);break;case"selectionchange":if(JP)break;case"keydown":case"keyup":I_(f,n,h)}var I;if(sy)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Io?VT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(LT&&n.locale!=="ko"&&(Io||b!=="onCompositionStart"?b==="onCompositionEnd"&&Io&&(I=MT()):(bs=h,ty="value"in bs?bs.value:bs.textContent,Io=!0)),j=Rd(d,b),0<j.length&&(b=new y_(b,t,null,n,h),f.push({event:b,listeners:j}),I?b.data=I:(I=FT(n),I!==null&&(b.data=I)))),(I=UP?BP(t,n):$P(t,n))&&(d=Rd(d,"onBeforeInput"),0<d.length&&(h=new y_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}XT(f,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ul(t,n),i!=null&&r.unshift(Gl(t,i,s)),i=Ul(t,e),i!=null&&r.push(Gl(t,i,s))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Ul(n,i),l!=null&&o.unshift(Gl(n,l,a))):s||(l=Ul(n,i),l!=null&&o.push(Gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(n2,`
`).replace(r2,"")}function Cu(t,e,n){if(e=N_(e),N_(t)!==e&&n)throw Error(z(425))}function Pd(){}var Tm=null,Sm=null;function bm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(o2)}:Im;function o2(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zl(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),ar="__reactFiber$"+va,Kl="__reactProps$"+va,Qr="__reactContainer$"+va,Cm="__reactEvents$"+va,a2="__reactListeners$"+va,l2="__reactHandles$"+va;function Ei(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=P_(t);t!==null;){if(n=t[ar])return n;t=P_(t)}return e}t=n,n=t.parentNode}return null}function Ec(t){return t=t[ar]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Nh(t){return t[Kl]||null}var Am=[],No=-1;function ei(t){return{current:t}}function qe(t){0>No||(t.current=Am[No],Am[No]=null,No--)}function Be(t,e){No++,Am[No]=t.current,t.current=e}var Bs={},qt=ei(Bs),on=ei(!1),Di=Bs;function ea(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function Dd(){qe(on),qe(qt)}function D_(t,e,n){if(qt.current!==Bs)throw Error(z(168));Be(qt,e),Be(on,n)}function ZT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,qR(t)||"Unknown",s));return tt({},n,r)}function Od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Di=qt.current,Be(qt,t),Be(on,on.current),!0}function O_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=ZT(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,qe(on),qe(qt),Be(qt,t)):qe(on),Be(on,n)}var Mr=null,Rh=!1,pp=!1;function eS(t){Mr===null?Mr=[t]:Mr.push(t)}function c2(t){Rh=!0,eS(t)}function ti(){if(!pp&&Mr!==null){pp=!0;var t=0,e=Oe;try{var n=Mr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Rh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),bT(Xg,ti),s}finally{Oe=e,pp=!1}}return null}var Ro=[],Po=0,jd=null,Md=0,In=[],Cn=0,Oi=null,Lr=1,Vr="";function vi(t,e){Ro[Po++]=Md,Ro[Po++]=jd,jd=t,Md=e}function tS(t,e,n){In[Cn++]=Lr,In[Cn++]=Vr,In[Cn++]=Oi,Oi=t;var r=Lr;t=Vr;var s=32-Hn(r)-1;r&=~(1<<s),n+=1;var i=32-Hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Lr=1<<32-Hn(e)+s|n<<s|r,Vr=i+t}else Lr=1<<i|n<<s|r,Vr=t}function oy(t){t.return!==null&&(vi(t,1),tS(t,1,0))}function ay(t){for(;t===jd;)jd=Ro[--Po],Ro[Po]=null,Md=Ro[--Po],Ro[Po]=null;for(;t===Oi;)Oi=In[--Cn],In[Cn]=null,Vr=In[--Cn],In[Cn]=null,Lr=In[--Cn],In[Cn]=null}var yn=null,pn=null,Ge=!1,$n=null;function nS(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function j_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,pn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:Lr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,pn=null,!0):!1;default:return!1}}function km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nm(t){if(Ge){var e=pn;if(e){var n=e;if(!j_(t,e)){if(km(t))throw Error(z(418));e=Rs(n.nextSibling);var r=yn;e&&j_(t,e)?nS(r,n):(t.flags=t.flags&-4097|2,Ge=!1,yn=t)}}else{if(km(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ge=!1,yn=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Au(t){if(t!==yn)return!1;if(!Ge)return M_(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bm(t.type,t.memoizedProps)),e&&(e=pn)){if(km(t))throw rS(),Error(z(418));for(;e;)nS(t,e),e=Rs(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=yn?Rs(t.stateNode.nextSibling):null;return!0}function rS(){for(var t=pn;t;)t=Rs(t.nextSibling)}function ta(){pn=yn=null,Ge=!1}function ly(t){$n===null?$n=[t]:$n.push(t)}var u2=os.ReactCurrentBatchConfig;function Ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L_(t){var e=t._init;return e(t._payload)}function sS(t){function e(g,v){if(t){var T=g.deletions;T===null?(g.deletions=[v],g.flags|=16):T.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=js(g,v),g.index=0,g.sibling=null,g}function i(g,v,T){return g.index=T,t?(T=g.alternate,T!==null?(T=T.index,T<v?(g.flags|=2,v):T):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,T,D){return v===null||v.tag!==6?(v=xp(T,g.mode,D),v.return=g,v):(v=s(v,T),v.return=g,v)}function l(g,v,T,D){var P=T.type;return P===bo?h(g,v,T.props.children,D,T.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ys&&L_(P)===v.type)?(D=s(v,T.props),D.ref=Ja(g,v,T),D.return=g,D):(D=ad(T.type,T.key,T.props,null,g.mode,D),D.ref=Ja(g,v,T),D.return=g,D)}function d(g,v,T,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Ep(T,g.mode,D),v.return=g,v):(v=s(v,T.children||[]),v.return=g,v)}function h(g,v,T,D,P){return v===null||v.tag!==7?(v=Ai(T,g.mode,D,P),v.return=g,v):(v=s(v,T),v.return=g,v)}function f(g,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xp(""+v,g.mode,T),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vu:return T=ad(v.type,v.key,v.props,null,g.mode,T),T.ref=Ja(g,null,v),T.return=g,T;case So:return v=Ep(v,g.mode,T),v.return=g,v;case ys:var D=v._init;return f(g,D(v._payload),T)}if(al(v)||Ga(v))return v=Ai(v,g.mode,T,null),v.return=g,v;ku(g,v)}return null}function p(g,v,T,D){var P=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:a(g,v,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case vu:return T.key===P?l(g,v,T,D):null;case So:return T.key===P?d(g,v,T,D):null;case ys:return P=T._init,p(g,v,P(T._payload),D)}if(al(T)||Ga(T))return P!==null?null:h(g,v,T,D,null);ku(g,T)}return null}function w(g,v,T,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return g=g.get(T)||null,a(v,g,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case vu:return g=g.get(D.key===null?T:D.key)||null,l(v,g,D,P);case So:return g=g.get(D.key===null?T:D.key)||null,d(v,g,D,P);case ys:var j=D._init;return w(g,v,T,j(D._payload),P)}if(al(D)||Ga(D))return g=g.get(T)||null,h(v,g,D,P,null);ku(v,D)}return null}function _(g,v,T,D){for(var P=null,j=null,I=v,b=v=0,A=null;I!==null&&b<T.length;b++){I.index>b?(A=I,I=null):A=I.sibling;var N=p(g,I,T[b],D);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(g,I),v=i(N,v,b),j===null?P=N:j.sibling=N,j=N,I=A}if(b===T.length)return n(g,I),Ge&&vi(g,b),P;if(I===null){for(;b<T.length;b++)I=f(g,T[b],D),I!==null&&(v=i(I,v,b),j===null?P=I:j.sibling=I,j=I);return Ge&&vi(g,b),P}for(I=r(g,I);b<T.length;b++)A=w(I,g,b,T[b],D),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?b:A.key),v=i(A,v,b),j===null?P=A:j.sibling=A,j=A);return t&&I.forEach(function(O){return e(g,O)}),Ge&&vi(g,b),P}function x(g,v,T,D){var P=Ga(T);if(typeof P!="function")throw Error(z(150));if(T=P.call(T),T==null)throw Error(z(151));for(var j=P=null,I=v,b=v=0,A=null,N=T.next();I!==null&&!N.done;b++,N=T.next()){I.index>b?(A=I,I=null):A=I.sibling;var O=p(g,I,N.value,D);if(O===null){I===null&&(I=A);break}t&&I&&O.alternate===null&&e(g,I),v=i(O,v,b),j===null?P=O:j.sibling=O,j=O,I=A}if(N.done)return n(g,I),Ge&&vi(g,b),P;if(I===null){for(;!N.done;b++,N=T.next())N=f(g,N.value,D),N!==null&&(v=i(N,v,b),j===null?P=N:j.sibling=N,j=N);return Ge&&vi(g,b),P}for(I=r(g,I);!N.done;b++,N=T.next())N=w(I,g,b,N.value,D),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?b:N.key),v=i(N,v,b),j===null?P=N:j.sibling=N,j=N);return t&&I.forEach(function(k){return e(g,k)}),Ge&&vi(g,b),P}function S(g,v,T,D){if(typeof T=="object"&&T!==null&&T.type===bo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case vu:e:{for(var P=T.key,j=v;j!==null;){if(j.key===P){if(P=T.type,P===bo){if(j.tag===7){n(g,j.sibling),v=s(j,T.props.children),v.return=g,g=v;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ys&&L_(P)===j.type){n(g,j.sibling),v=s(j,T.props),v.ref=Ja(g,j,T),v.return=g,g=v;break e}n(g,j);break}else e(g,j);j=j.sibling}T.type===bo?(v=Ai(T.props.children,g.mode,D,T.key),v.return=g,g=v):(D=ad(T.type,T.key,T.props,null,g.mode,D),D.ref=Ja(g,v,T),D.return=g,g=D)}return o(g);case So:e:{for(j=T.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(g,v.sibling),v=s(v,T.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Ep(T,g.mode,D),v.return=g,g=v}return o(g);case ys:return j=T._init,S(g,v,j(T._payload),D)}if(al(T))return _(g,v,T,D);if(Ga(T))return x(g,v,T,D);ku(g,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,T),v.return=g,g=v):(n(g,v),v=xp(T,g.mode,D),v.return=g,g=v),o(g)):n(g,v)}return S}var na=sS(!0),iS=sS(!1),Ld=ei(null),Vd=null,Do=null,cy=null;function uy(){cy=Do=Vd=null}function dy(t){var e=Ld.current;qe(Ld),t._currentValue=e}function Rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Vd=t,cy=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(cy!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(Vd===null)throw Error(z(308));Do=t,Vd.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var Ti=null;function hy(t){Ti===null?Ti=[t]:Ti.push(t)}function oS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function fy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xr(t,n)}return s=r.interleaved,s===null?(e.next=e,hy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xr(t,n)}function td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}function V_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var s=t.updateQueue;vs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var p=a.lane,w=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(p=e,w=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(w,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,p=typeof _=="function"?_.call(w,f,p):_,p==null)break e;f=tt({},f,p);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=w,l=f):h=h.next=w,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=f}}function F_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Tc={},hr=ei(Tc),Yl=ei(Tc),Ql=ei(Tc);function Si(t){if(t===Tc)throw Error(z(174));return t}function py(t,e){switch(Be(Ql,e),Be(Yl,t),Be(hr,Tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dm(e,t)}qe(hr),Be(hr,e)}function ra(){qe(hr),qe(Yl),qe(Ql)}function lS(t){Si(Ql.current);var e=Si(hr.current),n=dm(e,t.type);e!==n&&(Be(Yl,t),Be(hr,n))}function my(t){Yl.current===t&&(qe(hr),qe(Yl))}var Je=ei(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mp=[];function gy(){for(var t=0;t<mp.length;t++)mp[t]._workInProgressVersionPrimary=null;mp.length=0}var nd=os.ReactCurrentDispatcher,gp=os.ReactCurrentBatchConfig,ji=0,Ze=null,wt=null,bt=null,Bd=!1,Il=!1,Xl=0,d2=0;function Ft(){throw Error(z(321))}function yy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function vy(t,e,n,r,s,i){if(ji=i,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nd.current=t===null||t.memoizedState===null?m2:g2,t=n(r,s),Il){i=0;do{if(Il=!1,Xl=0,25<=i)throw Error(z(301));i+=1,bt=wt=null,e.updateQueue=null,nd.current=y2,t=n(r,s)}while(Il)}if(nd.current=$d,e=wt!==null&&wt.next!==null,ji=0,bt=wt=Ze=null,Bd=!1,e)throw Error(z(300));return t}function wy(){var t=Xl!==0;return Xl=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ze.memoizedState=bt=t:bt=bt.next=t,bt}function jn(){if(wt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=bt===null?Ze.memoizedState:bt.next;if(e!==null)bt=e,wt=t;else{if(t===null)throw Error(z(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},bt===null?Ze.memoizedState=bt=t:bt=bt.next=t}return bt}function Jl(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=jn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((ji&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ze.lanes|=h,Mi|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,Kn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ze.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vp(t){var e=jn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kn(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cS(){}function uS(t,e){var n=Ze,r=jn(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,_y(fS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,hS.bind(null,n,r,s,e),void 0,null),It===null)throw Error(z(349));ji&30||dS(n,e,s)}return s}function dS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hS(t,e,n,r){e.value=n,e.getSnapshot=r,pS(e)&&mS(t)}function fS(t,e,n){return n(function(){pS(e)&&mS(t)})}function pS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function mS(t){var e=Xr(t,1);e!==null&&qn(e,t,1,-1)}function U_(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:t},e.queue=t,t=t.dispatch=p2.bind(null,Ze,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gS(){return jn().memoizedState}function rd(t,e,n,r){var s=sr();Ze.flags|=t,s.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function Ph(t,e,n,r){var s=jn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&yy(r,o.deps)){s.memoizedState=Zl(e,n,i,r);return}}Ze.flags|=t,s.memoizedState=Zl(1|e,n,i,r)}function B_(t,e){return rd(8390656,8,t,e)}function _y(t,e){return Ph(2048,8,t,e)}function yS(t,e){return Ph(4,2,t,e)}function vS(t,e){return Ph(4,4,t,e)}function wS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _S(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,wS.bind(null,e,t),n)}function xy(){}function xS(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ES(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TS(t,e,n){return ji&21?(Kn(n,e)||(n=AT(),Ze.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function h2(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=gp.transition;gp.transition={};try{t(!1),e()}finally{Oe=n,gp.transition=r}}function SS(){return jn().memoizedState}function f2(t,e,n){var r=Os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(t))IS(e,n);else if(n=oS(t,e,n,r),n!==null){var s=Jt();qn(n,t,r,s),CS(n,e,r)}}function p2(t,e,n){var r=Os(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(t))IS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Kn(a,o)){var l=e.interleaved;l===null?(s.next=s,hy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=oS(t,e,s,r),n!==null&&(s=Jt(),qn(n,t,r,s),CS(n,e,r))}}function bS(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function IS(t,e){Il=Bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}var $d={readContext:On,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},m2={readContext:On,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:B_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rd(4194308,4,wS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=f2.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:xy,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=U_(!1),e=t[0];return t=h2.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,s=sr();if(Ge){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),It===null)throw Error(z(349));ji&30||dS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,B_(fS.bind(null,r,i,t),[t]),r.flags|=2048,Zl(9,hS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sr(),e=It.identifierPrefix;if(Ge){var n=Vr,r=Lr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g2={readContext:On,useCallback:xS,useContext:On,useEffect:_y,useImperativeHandle:_S,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:ES,useReducer:yp,useRef:gS,useState:function(){return yp(Jl)},useDebugValue:xy,useDeferredValue:function(t){var e=jn();return TS(e,wt.memoizedState,t)},useTransition:function(){var t=yp(Jl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:cS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1},y2={readContext:On,useCallback:xS,useContext:On,useEffect:_y,useImperativeHandle:_S,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:ES,useReducer:vp,useRef:gS,useState:function(){return vp(Jl)},useDebugValue:xy,useDeferredValue:function(t){var e=jn();return wt===null?e.memoizedState=t:TS(e,wt.memoizedState,t)},useTransition:function(){var t=vp(Jl)[0],e=jn().memoizedState;return[t,e]},useMutableSource:cS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dh={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=Os(t),i=zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(qn(e,t,s,r),td(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=Os(t),i=zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(qn(e,t,s,r),td(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=Os(t),s=zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(qn(e,t,r,n),td(e,t,r))}};function $_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,r)||!Hl(s,i):!0}function AS(t,e,n){var r=!1,s=Bs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=an(e)?Di:qt.current,r=e.contextTypes,i=(r=r!=null)?ea(t,s):Bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dh.enqueueReplaceState(e,e.state,null)}function Dm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=an(e)?Di:qt.current,s.context=ea(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dh.enqueueReplaceState(s,s.state,null),Fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=HR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Om(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v2=typeof WeakMap=="function"?WeakMap:Map;function kS(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,Wm=r),Om(t,e)},n}function NS(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Om(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Om(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=P2.bind(null,t,e,n),e.then(t,t))}function H_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var w2=os.ReactCurrentOwner,sn=!1;function Xt(t,e,n,r){e.child=t===null?iS(e,null,n,r):na(e,t.child,n,r)}function G_(t,e,n,r,s){n=n.render;var i=e.ref;return Bo(e,s),r=vy(t,e,n,r,i,s),n=wy(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ge&&n&&oy(e),e.flags|=1,Xt(t,e,r,s),e.child)}function K_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ky(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RS(t,e,i,r,s)):(t=ad(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(o,r)&&t.ref===e.ref)return Jr(t,e,s)}return e.flags|=1,t=js(i,r),t.ref=e.ref,t.return=e,e.child=t}function RS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Hl(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Jr(t,e,s)}return jm(t,e,n,r,s)}function PS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(jo,dn),dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(jo,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(jo,dn),dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(jo,dn),dn|=r;return Xt(t,e,s,n),e.child}function DS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jm(t,e,n,r,s){var i=an(n)?Di:qt.current;return i=ea(e,i),Bo(e,s),n=vy(t,e,n,r,i,s),r=wy(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ge&&r&&oy(e),e.flags|=1,Xt(t,e,n,s),e.child)}function Y_(t,e,n,r,s){if(an(n)){var i=!0;Od(e)}else i=!1;if(Bo(e,s),e.stateNode===null)sd(t,e),AS(e,n,r),Dm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=On(d):(d=an(n)?Di:qt.current,d=ea(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&z_(e,o,r,d),vs=!1;var p=e.memoizedState;o.state=p,Fd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||on.current||vs?(typeof h=="function"&&(Pm(e,n,h,r),l=e.memoizedState),(a=vs||$_(e,n,a,r,p,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Un(e.type,a),o.props=d,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=an(n)?Di:qt.current,l=ea(e,l));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&z_(e,o,r,l),vs=!1,p=e.memoizedState,o.state=p,Fd(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||on.current||vs?(typeof w=="function"&&(Pm(e,n,w,r),_=e.memoizedState),(d=vs||$_(e,n,d,r,p,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Mm(t,e,n,r,i,s)}function Mm(t,e,n,r,s,i){DS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&O_(e,n,!1),Jr(t,e,i);r=e.stateNode,w2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,i),e.child=na(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&O_(e,n,!0),e.child}function OS(t){var e=t.stateNode;e.pendingContext?D_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D_(t,e.context,!1),py(t,e.containerInfo)}function Q_(t,e,n,r,s){return ta(),ly(s),e.flags|=256,Xt(t,e,n,r),e.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function Vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function jS(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Je,s&1),t===null)return Nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mh(o,r,0,null),t=Ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vm(n),e.memoizedState=Lm,t):Ey(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=js(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=js(a,i):(i=Ai(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Vm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Lm,r}return i=t.child,t=i.sibling,r=js(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ey(t,e){return e=Mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&ly(r),na(e,t.child,null,n),t=Ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wp(Error(z(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mh({mode:"visible",children:r.children},s,0,null),i=Ai(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=Vm(o),e.memoizedState=Lm,i);if(!(e.mode&1))return Nu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=wp(i,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xr(t,s),qn(r,t,s,-1))}return Ay(),r=wp(Error(z(421))),Nu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=D2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=Rs(s.nextSibling),yn=e,Ge=!0,$n=null,t!==null&&(In[Cn++]=Lr,In[Cn++]=Vr,In[Cn++]=Oi,Lr=t.id,Vr=t.overflow,Oi=e),e=Ey(e,r.children),e.flags|=4096,e)}function X_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rm(t.return,e,n)}function _p(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,n,e);else if(t.tag===19)X_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_p(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ud(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_p(e,!0,n,null,i);break;case"together":_p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=js(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=js(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x2(t,e,n){switch(e.tag){case 3:OS(e),ta();break;case 5:lS(e);break;case 1:an(e.type)&&Od(e);break;case 4:py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Ld,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?jS(t,e,n):(Be(Je,Je.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,PS(t,e,n)}return Jr(t,e,n)}var LS,Fm,VS,FS;LS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fm=function(){};VS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Si(hr.current);var i=null;switch(n){case"input":s=am(t,s),r=am(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=um(t,s),r=um(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pd)}hm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};FS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Za(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E2(t,e,n){var r=e.pendingProps;switch(ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return an(e.type)&&Dd(),Ut(e),null;case 3:return r=e.stateNode,ra(),qe(on),qe(qt),gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(Gm($n),$n=null))),Fm(t,e),Ut(e),null;case 5:my(e);var s=Si(Ql.current);if(n=e.type,t!==null&&e.stateNode!=null)VS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ut(e),null}if(t=Si(hr.current),Au(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[Kl]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<cl.length;s++)He(cl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":o_(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":l_(r,i),He("invalid",r)}hm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),s=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":wu(r),a_(r,i,!0);break;case"textarea":wu(r),c_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[Kl]=r,LS(t,e,!1,!1),e.stateNode=t;e:{switch(o=fm(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<cl.length;s++)He(cl[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":o_(t,r),s=am(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":l_(t,r),s=um(t,r),He("invalid",t);break;default:s=r}hm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fl(t,l):typeof l=="number"&&Fl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&qg(t,i,l,o))}switch(n){case"input":wu(t),a_(t,r,!1);break;case"textarea":wu(t),c_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Lo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)FS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Si(Ql.current),Si(hr.current),Au(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Ut(e),null;case 13:if(qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&pn!==null&&e.mode&1&&!(e.flags&128))rS(),ta(),e.flags|=98560,i=!1;else if(i=Au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[ar]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else $n!==null&&(Gm($n),$n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?_t===0&&(_t=3):Ay())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return ra(),Fm(t,e),t===null&&ql(e.stateNode.containerInfo),Ut(e),null;case 10:return dy(e.type._context),Ut(e),null;case 17:return an(e.type)&&Dd(),Ut(e),null;case 19:if(qe(Je),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Za(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,Za(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>ia&&(e.flags|=128,r=!0,Za(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Za(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Ut(e),null}else 2*at()-i.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,Za(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Cy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function T2(t,e){switch(ay(e),e.tag){case 1:return an(e.type)&&Dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),qe(on),qe(qt),gy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return my(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return ra(),null;case 10:return dy(e.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var Ru=!1,Wt=!1,S2=typeof WeakSet=="function"?WeakSet:Set,X=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Um(t,e,n){try{n()}catch(r){it(t,e,r)}}var J_=!1;function b2(t,e){if(Tm=kd,t=WT(),iy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var w;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(l=o),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sm={focusedElem:t,selectionRange:n},kd=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,S=_.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Un(e.type,x),S);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){it(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return _=J_,J_=!1,_}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Um(e,n,i)}s=s.next}while(s!==r)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function US(t){var e=t.alternate;e!==null&&(t.alternate=null,US(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[Kl],delete e[Cm],delete e[a2],delete e[l2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BS(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $m(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pd));else if(r!==4&&(t=t.child,t!==null))for($m(t,e,n),t=t.sibling;t!==null;)$m(t,e,n),t=t.sibling}function zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zm(t,e,n),t=t.sibling;t!==null;)zm(t,e,n),t=t.sibling}var Rt=null,Bn=!1;function ds(t,e,n){for(n=n.child;n!==null;)$S(t,e,n),n=n.sibling}function $S(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Ih,n)}catch{}switch(n.tag){case 5:Wt||Oo(n,e);case 6:var r=Rt,s=Bn;Rt=null,ds(t,e,n),Rt=r,Bn=s,Rt!==null&&(Bn?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Bn?(t=Rt,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),zl(t)):fp(Rt,n.stateNode));break;case 4:r=Rt,s=Bn,Rt=n.stateNode.containerInfo,Bn=!0,ds(t,e,n),Rt=r,Bn=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Um(n,e,o),s=s.next}while(s!==r)}ds(t,e,n);break;case 1:if(!Wt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ds(t,e,n),Wt=r):ds(t,e,n);break;default:ds(t,e,n)}}function ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S2),e.forEach(function(r){var s=O2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,Bn=!1;break e;case 3:Rt=a.stateNode.containerInfo,Bn=!0;break e;case 4:Rt=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(Rt===null)throw Error(z(160));$S(i,o,s),Rt=null,Bn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){it(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zS(e,t),e=e.sibling}function zS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),rr(t),r&4){try{Cl(3,t,t.return),Oh(3,t)}catch(x){it(t,t.return,x)}try{Cl(5,t,t.return)}catch(x){it(t,t.return,x)}}break;case 1:Vn(e,t),rr(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Vn(e,t),rr(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var s=t.stateNode;try{Fl(s,"")}catch(x){it(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dT(s,i),fm(a,o);var d=fm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?gT(s,f):h==="dangerouslySetInnerHTML"?pT(s,f):h==="children"?Fl(s,f):qg(s,h,f,d)}switch(a){case"input":lm(s,i);break;case"textarea":hT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Lo(s,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?Lo(s,!!i.multiple,i.defaultValue,!0):Lo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kl]=i}catch(x){it(t,t.return,x)}}break;case 6:if(Vn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){it(t,t.return,x)}}break;case 3:if(Vn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(e.containerInfo)}catch(x){it(t,t.return,x)}break;case 4:Vn(e,t),rr(t);break;case 13:Vn(e,t),rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(by=at())),r&4&&ex(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(d=Wt)||h,Vn(e,t),Wt=d):Vn(e,t),rr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(p=X,w=p.child,p.tag){case 0:case 11:case 14:case 15:Cl(4,p,p.return);break;case 1:Oo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){it(r,n,x)}}break;case 5:Oo(p,p.return);break;case 22:if(p.memoizedState!==null){nx(f);continue}}w!==null?(w.return=p,X=w):nx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mT("display",o))}catch(x){it(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){it(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vn(e,t),rr(t),r&4&&ex(t);break;case 21:break;default:Vn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fl(s,""),r.flags&=-33);var i=Z_(t);zm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z_(t);$m(t,a,o);break;default:throw Error(z(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function I2(t,e,n){X=t,WS(t)}function WS(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ru;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Ru;var d=Wt;if(Ru=o,(Wt=l)&&!d)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?rx(s):l!==null?(l.return=o,X=l):rx(s);for(;i!==null;)X=i,WS(i),i=i.sibling;X=s,Ru=a,Wt=d}tx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):tx(t)}}function tx(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&F_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Wt||e.flags&512&&Bm(e)}catch(p){it(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function nx(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function rx(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{Bm(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{Bm(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var C2=Math.ceil,zd=os.ReactCurrentDispatcher,Ty=os.ReactCurrentOwner,Pn=os.ReactCurrentBatchConfig,Ie=0,It=null,dt=null,Ot=0,dn=0,jo=ei(0),_t=0,ec=null,Mi=0,jh=0,Sy=0,Al=null,nn=null,by=0,ia=1/0,jr=null,Wd=!1,Wm=null,Ds=null,Pu=!1,Is=null,Hd=0,kl=0,Hm=null,id=-1,od=0;function Jt(){return Ie&6?at():id!==-1?id:id=at()}function Os(t){return t.mode&1?Ie&2&&Ot!==0?Ot&-Ot:u2.transition!==null?(od===0&&(od=AT()),od):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:jT(t.type)),t):1}function qn(t,e,n,r){if(50<kl)throw kl=0,Hm=null,Error(z(185));_c(t,n,r),(!(Ie&2)||t!==It)&&(t===It&&(!(Ie&2)&&(jh|=n),_t===4&&_s(t,Ot)),ln(t,r),n===1&&Ie===0&&!(e.mode&1)&&(ia=at()+500,Rh&&ti()))}function ln(t,e){var n=t.callbackNode;uP(t,e);var r=Ad(t,t===It?Ot:0);if(r===0)n!==null&&h_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h_(n),e===1)t.tag===0?c2(sx.bind(null,t)):eS(sx.bind(null,t)),i2(function(){!(Ie&6)&&ti()}),n=null;else{switch(kT(r)){case 1:n=Xg;break;case 4:n=IT;break;case 16:n=Cd;break;case 536870912:n=CT;break;default:n=Cd}n=JS(n,HS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HS(t,e){if(id=-1,od=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if($o()&&t.callbackNode!==n)return null;var r=Ad(t,t===It?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var s=Ie;Ie|=2;var i=GS();(It!==t||Ot!==e)&&(jr=null,ia=at()+500,Ci(t,e));do try{N2();break}catch(a){qS(t,a)}while(!0);uy(),zd.current=i,Ie=s,dt!==null?e=0:(It=null,Ot=0,e=_t)}if(e!==0){if(e===2&&(s=vm(t),s!==0&&(r=s,e=qm(t,s))),e===1)throw n=ec,Ci(t,0),_s(t,r),ln(t,at()),n;if(e===6)_s(t,r);else{if(s=t.current.alternate,!(r&30)&&!A2(s)&&(e=qd(t,r),e===2&&(i=vm(t),i!==0&&(r=i,e=qm(t,i))),e===1))throw n=ec,Ci(t,0),_s(t,r),ln(t,at()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:wi(t,nn,jr);break;case 3:if(_s(t,r),(r&130023424)===r&&(e=by+500-at(),10<e)){if(Ad(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Im(wi.bind(null,t,nn,jr),e);break}wi(t,nn,jr);break;case 4:if(_s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C2(r/1960))-r,10<r){t.timeoutHandle=Im(wi.bind(null,t,nn,jr),r);break}wi(t,nn,jr);break;case 5:wi(t,nn,jr);break;default:throw Error(z(329))}}}return ln(t,at()),t.callbackNode===n?HS.bind(null,t):null}function qm(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=qd(t,e),t!==2&&(e=nn,nn=n,e!==null&&Gm(e)),t}function Gm(t){nn===null?nn=t:nn.push.apply(nn,t)}function A2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e){for(e&=~Sy,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function sx(t){if(Ie&6)throw Error(z(327));$o();var e=Ad(t,0);if(!(e&1))return ln(t,at()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=vm(t);r!==0&&(e=r,n=qm(t,r))}if(n===1)throw n=ec,Ci(t,0),_s(t,e),ln(t,at()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wi(t,nn,jr),ln(t,at()),null}function Iy(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(ia=at()+500,Rh&&ti())}}function Li(t){Is!==null&&Is.tag===0&&!(Ie&6)&&$o();var e=Ie;Ie|=1;var n=Pn.transition,r=Oe;try{if(Pn.transition=null,Oe=1,t)return t()}finally{Oe=r,Pn.transition=n,Ie=e,!(Ie&6)&&ti()}}function Cy(){dn=jo.current,qe(jo)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s2(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dd();break;case 3:ra(),qe(on),qe(qt),gy();break;case 5:my(r);break;case 4:ra();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:dy(r.type._context);break;case 22:case 23:Cy()}n=n.return}if(It=t,dt=t=js(t.current,null),Ot=dn=e,_t=0,ec=null,Sy=jh=Mi=0,nn=Al=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ti=null}return t}function qS(t,e){do{var n=dt;try{if(uy(),nd.current=$d,Bd){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bd=!1}if(ji=0,bt=wt=Ze=null,Il=!1,Xl=0,Ty.current=null,n===null||n.return===null){_t=1,ec=e,dt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=H_(o);if(w!==null){w.flags&=-257,q_(w,o,a,i,e),w.mode&1&&W_(i,d,e),e=w,l=d;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){W_(i,d,e),Ay();break e}l=Error(z(426))}}else if(Ge&&a.mode&1){var S=H_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),q_(S,o,a,i,e),ly(sa(l,a));break e}}i=l=sa(l,a),_t!==4&&(_t=2),Al===null?Al=[i]:Al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=kS(i,l,e);V_(i,g);break e;case 1:a=l;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ds===null||!Ds.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=NS(i,a,e);V_(i,D);break e}}i=i.return}while(i!==null)}YS(n)}catch(P){e=P,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function GS(){var t=zd.current;return zd.current=$d,t===null?$d:t}function Ay(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(Mi&268435455)&&!(jh&268435455)||_s(It,Ot)}function qd(t,e){var n=Ie;Ie|=2;var r=GS();(It!==t||Ot!==e)&&(jr=null,Ci(t,e));do try{k2();break}catch(s){qS(t,s)}while(!0);if(uy(),Ie=n,zd.current=r,dt!==null)throw Error(z(261));return It=null,Ot=0,_t}function k2(){for(;dt!==null;)KS(dt)}function N2(){for(;dt!==null&&!tP();)KS(dt)}function KS(t){var e=XS(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?YS(t):dt=e,Ty.current=null}function YS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T2(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,dt=null;return}}else if(n=E2(n,e,dn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);_t===0&&(_t=5)}function wi(t,e,n){var r=Oe,s=Pn.transition;try{Pn.transition=null,Oe=1,R2(t,e,n,r)}finally{Pn.transition=s,Oe=r}return null}function R2(t,e,n,r){do $o();while(Is!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dP(t,i),t===It&&(dt=It=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,JS(Cd,function(){return $o(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pn.transition,Pn.transition=null;var o=Oe;Oe=1;var a=Ie;Ie|=4,Ty.current=null,b2(t,n),zS(n,t),XP(Sm),kd=!!Tm,Sm=Tm=null,t.current=n,I2(n),nP(),Ie=a,Oe=o,Pn.transition=i}else t.current=n;if(Pu&&(Pu=!1,Is=t,Hd=s),i=t.pendingLanes,i===0&&(Ds=null),iP(n.stateNode),ln(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wd)throw Wd=!1,t=Wm,Wm=null,t;return Hd&1&&t.tag!==0&&$o(),i=t.pendingLanes,i&1?t===Hm?kl++:(kl=0,Hm=t):kl=0,ti(),null}function $o(){if(Is!==null){var t=kT(Hd),e=Pn.transition,n=Oe;try{if(Pn.transition=null,Oe=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,Hd=0,Ie&6)throw Error(z(331));var s=Ie;for(Ie|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(X=d;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Cl(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var p=h.sibling,w=h.return;if(US(h),h===d){X=null;break}if(p!==null){p.return=w,X=p;break}X=w}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var v=t.current;for(X=v;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=v;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oh(9,a)}}catch(P){it(a,a.return,P)}if(a===o){X=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,X=D;break e}X=a.return}}if(Ie=s,ti(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Ih,t)}catch{}r=!0}return r}finally{Oe=n,Pn.transition=e}}return!1}function ix(t,e,n){e=sa(n,e),e=kS(t,e,1),t=Ps(t,e,1),e=Jt(),t!==null&&(_c(t,1,e),ln(t,e))}function it(t,e,n){if(t.tag===3)ix(t,t,n);else for(;e!==null;){if(e.tag===3){ix(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=sa(n,t),t=NS(e,t,1),e=Ps(e,t,1),t=Jt(),e!==null&&(_c(e,1,t),ln(e,t));break}}e=e.return}}function P2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ot&n)===n&&(_t===4||_t===3&&(Ot&130023424)===Ot&&500>at()-by?Ci(t,0):Sy|=n),ln(t,e)}function QS(t,e){e===0&&(t.mode&1?(e=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):e=1);var n=Jt();t=Xr(t,e),t!==null&&(_c(t,e,n),ln(t,n))}function D2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QS(t,n)}function O2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),QS(t,n)}var XS;XS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,x2(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Ge&&e.flags&1048576&&tS(e,Md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sd(t,e),t=e.pendingProps;var s=ea(e,qt.current);Bo(e,n),s=vy(null,e,r,t,s,n);var i=wy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,Od(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fy(e),s.updater=Dh,e.stateNode=s,s._reactInternals=e,Dm(e,r,t,n),e=Mm(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&oy(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=M2(r),t=Un(r,t),s){case 0:e=jm(null,e,r,t,n);break e;case 1:e=Y_(null,e,r,t,n);break e;case 11:e=G_(null,e,r,t,n);break e;case 14:e=K_(null,e,r,Un(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),jm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),Y_(t,e,r,s,n);case 3:e:{if(OS(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,aS(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sa(Error(z(423)),e),e=Q_(t,e,r,n,s);break e}else if(r!==s){s=sa(Error(z(424)),e),e=Q_(t,e,r,n,s);break e}else for(pn=Rs(e.stateNode.containerInfo.firstChild),yn=e,Ge=!0,$n=null,n=iS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===s){e=Jr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return lS(e),t===null&&Nm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,bm(r,s)?o=null:i!==null&&bm(r,i)&&(e.flags|=32),DS(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Nm(e),null;case 13:return jS(t,e,n);case 4:return py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),G_(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Ld,r._currentValue),r._currentValue=o,i!==null)if(Kn(i.value,o)){if(i.children===s.children&&!on.current){e=Jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Rm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=On(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=Un(r,e.pendingProps),s=Un(r.type,s),K_(t,e,r,s,n);case 15:return RS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),sd(t,e),e.tag=1,an(r)?(t=!0,Od(e)):t=!1,Bo(e,n),AS(e,r,s),Dm(e,r,s,n),Mm(null,e,r,!0,t,n);case 19:return MS(t,e,n);case 22:return PS(t,e,n)}throw Error(z(156,e.tag))};function JS(t,e){return bT(t,e)}function j2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new j2(t,e,n,r)}function ky(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M2(t){if(typeof t=="function")return ky(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kg)return 11;if(t===Yg)return 14}return 2}function js(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ad(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ky(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bo:return Ai(n.children,s,i,e);case Gg:o=8,s|=8;break;case rm:return t=Rn(12,n,e,s|2),t.elementType=rm,t.lanes=i,t;case sm:return t=Rn(13,n,e,s),t.elementType=sm,t.lanes=i,t;case im:return t=Rn(19,n,e,s),t.elementType=im,t.lanes=i,t;case lT:return Mh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oT:o=10;break e;case aT:o=9;break e;case Kg:o=11;break e;case Yg:o=14;break e;case ys:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ai(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Mh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=lT,t.lanes=n,t.stateNode={isHidden:!1},t}function xp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Ep(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ny(t,e,n,r,s,i,o,a,l){return t=new L2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fy(i),t}function V2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZS(t){if(!t)return Bs;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(an(n))return ZT(t,n,e)}return e}function eb(t,e,n,r,s,i,o,a,l){return t=Ny(n,r,!0,t,s,i,o,a,l),t.context=ZS(null),n=t.current,r=Jt(),s=Os(n),i=zr(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,_c(t,s,r),ln(t,r),t}function Lh(t,e,n,r){var s=e.current,i=Jt(),o=Os(s);return n=ZS(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(qn(t,s,o,i),td(t,s,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ox(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ry(t,e){ox(t,e),(t=t.alternate)&&ox(t,e)}function F2(){return null}var tb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Py(t){this._internalRoot=t}Vh.prototype.render=Py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Lh(t,e,null,null)};Vh.prototype.unmount=Py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){Lh(null,t,null,null)}),e[Qr]=null}};function Vh(t){this._internalRoot=t}Vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=PT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ws.length&&e!==0&&e<ws[n].priority;n++);ws.splice(n,0,t),n===0&&OT(t)}};function Dy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ax(){}function U2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Gd(o);i.call(d)}}var o=eb(e,r,t,0,null,!1,!1,"",ax);return t._reactRootContainer=o,t[Qr]=o.current,ql(t.nodeType===8?t.parentNode:t),Li(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Gd(l);a.call(d)}}var l=Ny(t,0,!1,null,null,!1,!1,"",ax);return t._reactRootContainer=l,t[Qr]=l.current,ql(t.nodeType===8?t.parentNode:t),Li(function(){Lh(e,l,n,r)}),l}function Uh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Gd(o);a.call(l)}}Lh(e,o,t,s)}else o=U2(n,e,t,s,r);return Gd(o)}NT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(Jg(e,n|1),ln(e,at()),!(Ie&6)&&(ia=at()+500,ti()))}break;case 13:Li(function(){var r=Xr(t,1);if(r!==null){var s=Jt();qn(r,t,1,s)}}),Ry(t,1)}};Zg=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=Jt();qn(e,t,134217728,n)}Ry(t,134217728)}};RT=function(t){if(t.tag===13){var e=Os(t),n=Xr(t,e);if(n!==null){var r=Jt();qn(n,t,e,r)}Ry(t,e)}};PT=function(){return Oe};DT=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};mm=function(t,e,n){switch(e){case"input":if(lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Nh(r);if(!s)throw Error(z(90));uT(r),lm(r,s)}}}break;case"textarea":hT(t,n);break;case"select":e=n.value,e!=null&&Lo(t,!!n.multiple,e,!1)}};wT=Iy;_T=Li;var B2={usingClientEntryPoint:!1,Events:[Ec,ko,Nh,yT,vT,Iy]},el={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TT(t),t===null?null:t.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||F2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Ih=Du.inject($2),dr=Du}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dy(e))throw Error(z(200));return V2(t,e,null,n)};En.createRoot=function(t,e){if(!Dy(t))throw Error(z(299));var n=!1,r="",s=tb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ny(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,ql(t.nodeType===8?t.parentNode:t),new Py(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=TT(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Li(t)};En.hydrate=function(t,e,n){if(!Fh(e))throw Error(z(200));return Uh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!Dy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eb(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,ql(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vh(e)};En.render=function(t,e,n){if(!Fh(e))throw Error(z(200));return Uh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(z(40));return t._reactRootContainer?(Li(function(){Uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};En.unstable_batchedUpdates=Iy;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Uh(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function nb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nb)}catch(t){console.error(t)}}nb(),nT.exports=En;var wa=nT.exports;const z2=zE(wa);var rb,lx=wa;rb=lx.createRoot,lx.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cx="popstate";function W2(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Km("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tc(s)}return q2(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H2(){return Math.random().toString(36).substring(2,10)}function ux(t,e){return{usr:t.state,key:t.key,idx:e}}function Km(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:n,key:e&&e.key||r||H2()}}function tc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function q2(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let S=h(),g=S==null?null:S-d;d=S,l&&l({action:a,location:x.location,delta:g})}function p(S,g){a="PUSH";let v=Km(x.location,S,g);d=h()+1;let T=ux(v,d),D=x.createHref(v);try{o.pushState(T,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(D)}i&&l&&l({action:a,location:x.location,delta:1})}function w(S,g){a="REPLACE";let v=Km(x.location,S,g);d=h();let T=ux(v,d),D=x.createHref(v);o.replaceState(T,"",D),i&&l&&l({action:a,location:x.location,delta:0})}function _(S){return G2(S)}let x={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(cx,f),l=S,()=>{s.removeEventListener(cx,f),l=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let g=_(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:w,go(S){return o.go(S)}};return x}function G2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function sb(t,e,n="/"){return K2(t,e,n,!1)}function K2(t,e,n,r){let s=typeof e=="string"?_a(e):e,i=Zr(s.pathname||"/",n);if(i==null)return null;let o=ib(t);Y2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=oD(i);a=sD(o[l],d,r)}return a}function ib(t,e=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let d=Wr([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(et(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ib(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:nD(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ob(i.path))s(i,o,l)}),e}function ob(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ob(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Y2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Q2=/^:[\w-]+$/,X2=3,J2=2,Z2=1,eD=10,tD=-2,dx=t=>t==="*";function nD(t,e){let n=t.split("/"),r=n.length;return n.some(dx)&&(r+=tD),e&&(r+=J2),n.filter(s=>!dx(s)).reduce((s,i)=>s+(Q2.test(i)?X2:i===""?Z2:eD),r)}function rD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sD(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Kd({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),p=l.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Kd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Wr([i,f.pathname]),pathnameBase:uD(Wr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Wr([i,f.pathnameBase]))}return o}function Kd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let _=a[p]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const w=a[p];return f&&!w?d[h]=void 0:d[h]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function iD(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:lD(n,e):e,search:dD(r),hash:hD(s)}}function lD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ab(t){let e=cD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function lb(t,e,n,r=!1){let s;typeof t=="string"?s=_a(t):(s={...t},et(!s.pathname||!s.pathname.includes("?"),Tp("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Tp("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Tp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=aD(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}var Wr=t=>t.join("/").replace(/\/\/+/g,"/"),uD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var cb=["POST","PUT","PATCH","DELETE"];new Set(cb);var pD=["GET",...cb];new Set(pD);var xa=y.createContext(null);xa.displayName="DataRouter";var Bh=y.createContext(null);Bh.displayName="DataRouterState";y.createContext(!1);var ub=y.createContext({isTransitioning:!1});ub.displayName="ViewTransition";var mD=y.createContext(new Map);mD.displayName="Fetchers";var gD=y.createContext(null);gD.displayName="Await";var br=y.createContext(null);br.displayName="Navigation";var Sc=y.createContext(null);Sc.displayName="Location";var Ir=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Oy=y.createContext(null);Oy.displayName="RouteError";function yD(t,{relative:e}={}){et(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(br),{hash:s,pathname:i,search:o}=Ic(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Wr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function bc(){return y.useContext(Sc)!=null}function Zi(){return et(bc(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Sc).location}var db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hb(t){y.useContext(br).static||y.useLayoutEffect(t)}function fb(){let{isDataRoute:t}=y.useContext(Ir);return t?RD():vD()}function vD(){et(bc(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(xa),{basename:e,navigator:n}=y.useContext(br),{matches:r}=y.useContext(Ir),{pathname:s}=Zi(),i=JSON.stringify(ab(r)),o=y.useRef(!1);return hb(()=>{o.current=!0}),y.useCallback((l,d={})=>{if(xr(o.current,db),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=lb(l,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}y.createContext(null);function wD(){let{matches:t}=y.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function Ic(t,{relative:e}={}){let{matches:n}=y.useContext(Ir),{pathname:r}=Zi(),s=JSON.stringify(ab(n));return y.useMemo(()=>lb(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function _D(t,e){return pb(t,e)}function pb(t,e,n,r){var g;et(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(br),{matches:i}=y.useContext(Ir),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";mb(l,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Zi(),p;if(e){let v=typeof e=="string"?_a(e):e;et(d==="/"||((g=v.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=f;let w=p.pathname||"/",_=w;if(d!=="/"){let v=d.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=sb(t,{pathname:_});xr(h||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),xr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=bD(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Wr([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Wr([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&S?y.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},S):S}function xD(){let t=ND(),e=fD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var ED=y.createElement(xD,null),TD=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?y.createElement(Ir.Provider,{value:this.props.routeContext},y.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SD({routeContext:t,match:e,children:n}){let r=y.useContext(xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Ir.Provider,{value:t},n)}function bD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);et(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let d=s[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=l),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,d,h)=>{let f,p=!1,w=null,_=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,w=d.route.errorElement||ED,o&&(a<0&&h===0?(mb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):a===h&&(p=!0,_=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),S=()=>{let g;return f?g=w:p?g=_:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=l,y.createElement(SD,{match:d,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(TD,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(t){let e=y.useContext(xa);return et(e,jy(t)),e}function CD(t){let e=y.useContext(Bh);return et(e,jy(t)),e}function AD(t){let e=y.useContext(Ir);return et(e,jy(t)),e}function My(t){let e=AD(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kD(){return My("useRouteId")}function ND(){var r;let t=y.useContext(Oy),e=CD("useRouteError"),n=My("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function RD(){let{router:t}=ID("useNavigate"),e=My("useNavigate"),n=y.useRef(!1);return hb(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{xr(n.current,db),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var hx={};function mb(t,e,n){!e&&!hx[t]&&(hx[t]=!0,xr(!1,n))}y.memo(PD);function PD({routes:t,future:e,state:n}){return pb(t,void 0,n,e)}function wo(t){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){et(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=_a(n));let{pathname:l="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,w=y.useMemo(()=>{let _=Zr(l,o);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:p},navigationType:r}},[o,l,d,h,f,p,r]);return xr(w!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(br.Provider,{value:a},y.createElement(Sc.Provider,{children:e,value:w}))}function OD({children:t,location:e}){return _D(Ym(t),e)}function Ym(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Ym(r.props.children,i));return}et(r.type===wo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ym(r.props.children,i)),n.push(o)}),n}var ld="get",cd="application/x-www-form-urlencoded";function $h(t){return t!=null&&typeof t.tagName=="string"}function jD(t){return $h(t)&&t.tagName.toLowerCase()==="button"}function MD(t){return $h(t)&&t.tagName.toLowerCase()==="form"}function LD(t){return $h(t)&&t.tagName.toLowerCase()==="input"}function VD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FD(t,e){return t.button===0&&(!e||e==="_self")&&!VD(t)}var Ou=null;function UD(){if(Ou===null)try{new FormData(document.createElement("form"),0),Ou=!1}catch{Ou=!0}return Ou}var BD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(t){return t!=null&&!BD.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):t}function $D(t,e){let n,r,s,i,o;if(MD(t)){let a=t.getAttribute("action");r=a?Zr(a,e):null,n=t.getAttribute("method")||ld,s=Sp(t.getAttribute("enctype"))||cd,i=new FormData(t)}else if(jD(t)||LD(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Zr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ld,s=Sp(t.getAttribute("formenctype"))||Sp(a.getAttribute("enctype"))||cd,i=new FormData(a,t),!UD()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if($h(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ld,r=null,s=cd,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ly(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Zr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function WD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qD(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await WD(i,n);return o.links?o.links():[]}return[]}));return QD(r.flat(1).filter(HD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fx(t,e,n,r,s,i){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var h;return n[d].pathname!==l.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,d)=>o(l,d)||a(l,d)):i==="data"?e.filter((l,d)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function GD(t,e,{includeHydrateFallback:n}={}){return KD(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function KD(t){return[...new Set(t)]}function YD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function QD(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(YD(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function gb(){let t=y.useContext(xa);return Ly(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XD(){let t=y.useContext(Bh);return Ly(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vy=y.createContext(void 0);Vy.displayName="FrameworkContext";function yb(){let t=y.useContext(Vy);return Ly(t,"You must render this element inside a <HydratedRouter> element"),t}function JD(t,e){let n=y.useContext(Vy),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=g=>{g.forEach(v=>{o(v.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),y.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let w=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:tl(a,w),onBlur:tl(l,_),onMouseEnter:tl(d,w),onMouseLeave:tl(h,_),onTouchStart:tl(f,w)}]:[!1,p,{}]}function tl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZD({page:t,...e}){let{router:n}=gb(),r=y.useMemo(()=>sb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(tO,{page:t,matches:r,...e}):null}function eO(t){let{manifest:e,routeModules:n}=yb(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return qD(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function tO({page:t,matches:e,...n}){let r=Zi(),{manifest:s,routeModules:i}=yb(),{basename:o}=gb(),{loaderData:a,matches:l}=XD(),d=y.useMemo(()=>fx(t,e,l,s,r,"data"),[t,e,l,s,r]),h=y.useMemo(()=>fx(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,x=!1;if(e.forEach(g=>{var T;let v=s.routes[g.route.id];!v||!v.hasLoader||(!d.some(D=>D.route.id===g.route.id)&&g.route.id in a&&((T=i[g.route.id])!=null&&T.shouldRevalidate)||v.hasClientLoader?x=!0:_.add(g.route.id))}),_.size===0)return[];let S=zD(t,o,"data");return x&&_.size>0&&S.searchParams.set("_routes",e.filter(g=>_.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[o,a,r,s,d,e,t,i]),p=y.useMemo(()=>GD(h,s),[h,s]),w=eO(h);return y.createElement(y.Fragment,null,f.map(_=>y.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>y.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),w.map(({key:_,link:x})=>y.createElement("link",{key:_,...x})))}function nO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vb&&(window.__reactRouterVersion="7.7.1")}catch{}function rO({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=W2({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(DD,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f,...p},w){let{basename:_}=y.useContext(br),x=typeof d=="string"&&wb.test(d),S,g=!1;if(typeof d=="string"&&x&&(S=d,vb))try{let A=new URL(window.location.href),N=d.startsWith("//")?new URL(A.protocol+d):new URL(d),O=Zr(N.pathname,_);N.origin===A.origin&&O!=null?d=O+N.search+N.hash:g=!0}catch{xr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=yD(d,{relative:s}),[T,D,P]=JD(r,p),j=aO(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function I(A){e&&e(A),A.defaultPrevented||j(A)}let b=y.createElement("a",{...p,...P,href:S||v,onClick:g||i?e:I,ref:nO(w,D),target:l,"data-discover":!x&&n==="render"?"true":void 0});return T&&!x?y.createElement(y.Fragment,null,b,y.createElement(ZD,{page:v})):b});nc.displayName="Link";var sO=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...d},h){let f=Ic(o,{relative:d.relative}),p=Zi(),w=y.useContext(Bh),{navigator:_,basename:x}=y.useContext(br),S=w!=null&&hO(f)&&a===!0,g=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,v=p.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(v=v.toLowerCase(),T=T?T.toLowerCase():null,g=g.toLowerCase()),T&&x&&(T=Zr(T,x)||T);const D=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let P=v===g||!s&&v.startsWith(g)&&v.charAt(D)==="/",j=T!=null&&(T===g||!s&&T.startsWith(g)&&T.charAt(g.length)==="/"),I={isActive:P,isPending:j,isTransitioning:S},b=P?e:void 0,A;typeof r=="function"?A=r(I):A=[r,P?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(I):i;return y.createElement(nc,{...d,"aria-current":b,className:A,ref:h,style:N,to:o,viewTransition:a},typeof l=="function"?l(I):l)});sO.displayName="NavLink";var iO=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=ld,action:a,onSubmit:l,relative:d,preventScrollReset:h,viewTransition:f,...p},w)=>{let _=uO(),x=dO(a,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&wb.test(a),v=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,P=(D==null?void 0:D.getAttribute("formmethod"))||o;_(D||T.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return y.createElement("form",{ref:w,method:S,action:x,onSubmit:r?l:v,...p,"data-discover":!g&&t==="render"?"true":void 0})});iO.displayName="Form";function oO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _b(t){let e=y.useContext(xa);return et(e,oO(t)),e}function aO(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=fb(),l=Zi(),d=Ic(t,{relative:i});return y.useCallback(h=>{if(FD(h,e)){h.preventDefault();let f=n!==void 0?n:tc(l)===tc(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,d,n,r,e,t,s,i,o])}var lO=0,cO=()=>`__${String(++lO)}__`;function uO(){let{router:t}=_b("useSubmit"),{basename:e}=y.useContext(br),n=kD();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:d}=$D(r,e);if(s.navigate===!1){let h=s.fetcherKey||cO();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function dO(t,{relative:e}={}){let{basename:n}=y.useContext(br),r=y.useContext(Ir);et(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ic(t||".",{relative:e})},o=Zi();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Wr([n,i.pathname])),tc(i)}function hO(t,{relative:e}={}){let n=y.useContext(ub);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_b("useViewTransitionState"),s=Ic(t,{relative:e});if(!n.isTransitioning)return!1;let i=Zr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Zr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kd(s.pathname,o)!=null||Kd(s.pathname,i)!=null}const fO=()=>{};var px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,w=d&63;l||(w=64,o||(p=64)),r.push(n[h],n[f],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new mO;const p=i<<2|a>>4;if(r.push(p),d!==64){const w=a<<4&240|d>>2;if(r.push(w),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gO=function(t){const e=xb(t);return Eb.encodeByteArray(e,!0)},Yd=function(t){return gO(t).replace(/\./g,"")},Tb=function(t){try{return Eb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=()=>yO().__FIREBASE_DEFAULTS__,wO=()=>{if(typeof process>"u"||typeof px>"u")return;const t=px.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tb(t[1]);return e&&JSON.parse(e)},zh=()=>{try{return fO()||vO()||wO()||_O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sb=t=>{var e,n;return(n=(e=zh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xO=t=>{const e=Sb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bb=()=>{var t;return(t=zh())==null?void 0:t.config},Ib=t=>{var e;return(e=zh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yd(JSON.stringify(n)),Yd(JSON.stringify(o)),""].join(".")}const Nl={};function SO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?t.emulator.push(e):t.prod.push(e);return t}function bO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mx=!1;function Ab(t,e){if(typeof window>"u"||typeof document>"u"||!Ea(window.location.host)||Nl[t]===e||Nl[t]||mx)return;Nl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=SO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,w){p.setAttribute("width","24"),p.setAttribute("id",w),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{mx=!0,o()},p}function h(p,w){p.setAttribute("id",w),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=bO(r),w=n("text"),_=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),g=n("preprendIcon"),v=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),h(S,x);const D=d();l(v,g),T.append(v,_,S,D),document.body.appendChild(T)}i?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function CO(){var e;const t=(e=zh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NO(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RO(){return!CO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nb(){try{return typeof indexedDB=="object"}catch{return!1}}function Rb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function PO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DO,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?OO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new er(s,a,r)}}function OO(t,e){return t.replace(jO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jO=/\{\$([^}]+)}/g;function MO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gx(i)&&gx(o)){if(!$s(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LO(t,e){const n=new VO(t,e);return n.subscribe.bind(n)}class VO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bp),s.error===void 0&&(s.error=bp),s.complete===void 0&&(s.complete=bp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1e3,BO=2,$O=4*60*60*1e3,zO=.5;function yx(t,e=UO,n=BO){const r=e*Math.pow(n,t),s=Math.round(zO*r*(Math.random()-.5)*2);return Math.min($O,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qO(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HO(t){return t===_i?void 0:t}function qO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const KO={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},YO=ve.INFO,QO={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},XO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wh{constructor(e){this.name=e,this._logLevel=YO,this._logHandler=XO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const JO=(t,e)=>e.some(n=>t instanceof n);let vx,wx;function ZO(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ej(){return wx||(wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Qm=new WeakMap,Db=new WeakMap,Ip=new WeakMap,Fy=new WeakMap;function tj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function nj(t){if(Qm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qm.set(t,e)}let Xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Db.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rj(t){Xm=t(Xm)}function sj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cp(this),e,...n);return Db.set(r,e.sort?e.sort():[e]),Ms(r)}:ej().includes(t)?function(...e){return t.apply(Cp(this),e),Ms(Pb.get(this))}:function(...e){return Ms(t.apply(Cp(this),e))}}function ij(t){return typeof t=="function"?sj(t):(t instanceof IDBTransaction&&nj(t),JO(t,ZO())?new Proxy(t,Xm):t)}function Ms(t){if(t instanceof IDBRequest)return tj(t);if(Ip.has(t))return Ip.get(t);const e=ij(t);return e!==t&&(Ip.set(t,e),Fy.set(e,t)),e}const Cp=t=>Fy.get(t);function Ob(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const oj=["get","getKey","getAll","getAllKeys","count"],aj=["put","add","delete","clear"],Ap=new Map;function _x(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Ap.set(e,i),i}rj(t=>({...t,get:(e,n,r)=>_x(e,n)||t.get(e,n,r),has:(e,n)=>!!_x(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",xx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Wh("@firebase/app"),uj="@firebase/app-compat",dj="@firebase/analytics-compat",hj="@firebase/analytics",fj="@firebase/app-check-compat",pj="@firebase/app-check",mj="@firebase/auth",gj="@firebase/auth-compat",yj="@firebase/database",vj="@firebase/data-connect",wj="@firebase/database-compat",_j="@firebase/functions",xj="@firebase/functions-compat",Ej="@firebase/installations",Tj="@firebase/installations-compat",Sj="@firebase/messaging",bj="@firebase/messaging-compat",Ij="@firebase/performance",Cj="@firebase/performance-compat",Aj="@firebase/remote-config",kj="@firebase/remote-config-compat",Nj="@firebase/storage",Rj="@firebase/storage-compat",Pj="@firebase/firestore",Dj="@firebase/ai",Oj="@firebase/firestore-compat",jj="firebase",Mj="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",Lj={[Jm]:"fire-core",[uj]:"fire-core-compat",[hj]:"fire-analytics",[dj]:"fire-analytics-compat",[pj]:"fire-app-check",[fj]:"fire-app-check-compat",[mj]:"fire-auth",[gj]:"fire-auth-compat",[yj]:"fire-rtdb",[vj]:"fire-data-connect",[wj]:"fire-rtdb-compat",[_j]:"fire-fn",[xj]:"fire-fn-compat",[Ej]:"fire-iid",[Tj]:"fire-iid-compat",[Sj]:"fire-fcm",[bj]:"fire-fcm-compat",[Ij]:"fire-perf",[Cj]:"fire-perf-compat",[Aj]:"fire-rc",[kj]:"fire-rc-compat",[Nj]:"fire-gcs",[Rj]:"fire-gcs-compat",[Pj]:"fire-fst",[Oj]:"fire-fst-compat",[Dj]:"fire-vertex","fire-js":"fire-js",[jj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,Vj=new Map,eg=new Map;function Ex(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){const e=t.name;if(eg.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,t);for(const n of Qd.values())Ex(n,t);for(const n of Vj.values())Ex(n,t);return!0}function to(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new eo("app","Firebase",Fj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=Mj;function jb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=bb()),!n)throw Ls.create("no-options");const i=Qd.get(s);if(i){if($s(n,i.options)&&$s(r,i.config))return i;throw Ls.create("duplicate-app",{appName:s})}const o=new GO(s);for(const l of eg.values())o.addComponent(l);const a=new Uj(n,r,o);return Qd.set(s,a),a}function Uy(t=Zm){const e=Qd.get(t);if(!e&&t===Zm&&bb())return jb();if(!e)throw Ls.create("no-app",{appName:t});return e}function Dn(t,e,n){let r=Lj[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}Er(new Yn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="firebase-heartbeat-database",$j=1,rc="firebase-heartbeat-store";let kp=null;function Mb(){return kp||(kp=Ob(Bj,$j,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),kp}async function zj(t){try{const n=(await Mb()).transaction(rc),r=await n.objectStore(rc).get(Lb(t));return await n.done,r}catch(e){if(e instanceof er)es.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function Tx(t,e){try{const r=(await Mb()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,Lb(t)),await r.done}catch(n){if(n instanceof er)es.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function Lb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=1024,Hj=30;class qj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Hj){const o=Yj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sx(),{heartbeatsToSend:r,unsentEntries:s}=Gj(this._heartbeatsCache.heartbeats),i=Yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return es.warn(n),""}}}function Sx(){return new Date().toISOString().substring(0,10)}function Gj(t,e=Wj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),bx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nb()?Rb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bx(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}function Yj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){Er(new Yn("platform-logger",e=>new lj(e),"PRIVATE")),Er(new Yn("heartbeat",e=>new qj(e),"PRIVATE")),Dn(Jm,xx,t),Dn(Jm,xx,"esm2020"),Dn("fire-js","")}Qj("");function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xj=Vb,Fb=new eo("auth","Firebase",Vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Wh("@firebase/auth");function Jj(t,...e){Xd.logLevel<=ve.WARN&&Xd.warn(`Auth (${Ta}): ${t}`,...e)}function ud(t,...e){Xd.logLevel<=ve.ERROR&&Xd.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw By(t,...e)}function fr(t,...e){return By(t,...e)}function Ub(t,e,n){const r={...Xj(),[e]:n};return new eo("auth","Firebase",r).create(e,{appName:t.name})}function Hr(t){return Ub(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function By(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Fb.create(t,...e)}function oe(t,e,...n){if(!t)throw By(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ud(e),new Error(e)}function ts(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Zj(){return Ix()==="http:"||Ix()==="https:"}function Ix(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zj()||kb()||"connection"in navigator)?navigator.onLine:!0}function tM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=IO()||kO()}get(){return eM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sM=new Ac(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ri(t,e,n,r,s={}){return $b(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return AO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ea(t.emulatorConfig.host)&&(d.credentials="include"),Bb.fetch()(await zb(t,t.config.apiHost,n,a),d)})}async function $b(t,e,n){t._canInitEmulator=!1;const r={...nM,...e};try{const s=new oM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ju(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ub(t,h,d);Qn(t,h)}}catch(s){if(s instanceof er)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function kc(t,e,n,r,s={}){const i=await ri(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function zb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?$y(t.config,s):`${t.config.apiScheme}://${s}`;return rM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function iM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),sM.get())})}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(t,e,r);return s.customData._tokenResponse=n,s}function Cx(t){return t!==void 0&&t.enterprise!==void 0}class aM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lM(t,e){return ri(t,"GET","/v2/recaptchaConfig",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function Jd(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uM(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=zy(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rl(Np(s.auth_time)),issuedAtTime:Rl(Np(s.iat)),expirationTime:Rl(Np(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const s=Tb(n);return s?JSON.parse(s):(ud("Failed to decode base64 JWT payload"),null)}catch(s){return ud("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ax(t){const e=zy(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&dM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await sc(t,Jd(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Wb(s.providerUserInfo):[],o=pM(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ng(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function fM(t){const e=mt(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Wb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e){const n=await $b(t,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await zb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ea(t.emulatorConfig.host)&&(l.credentials="include"),Bb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gM(t,e){return ri(t,"POST","/v2/accounts:revokeToken",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ax(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=Ax(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await mM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new zo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new hM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ng(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uM(this,e)}reload(){return fM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await sc(this,cM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:w,providerData:_,stsTokenManager:x}=n;oe(f&&x,e,"internal-error");const S=zo.fromJSON(this.name,x);oe(typeof f=="string",e,"internal-error"),hs(r,e.name),hs(s,e.name),oe(typeof p=="boolean",e,"internal-error"),oe(typeof w=="boolean",e,"internal-error"),hs(i,e.name),hs(o,e.name),hs(a,e.name),hs(l,e.name),hs(d,e.name),hs(h,e.name);const g=new zn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:h});return _&&Array.isArray(_)&&(g.providerData=_.map(v=>({...v}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){const s=new zo;s.updateFromServerResponse(n);const i=new zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Wb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new zo;a.updateFromIdToken(r);const l=new zn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ng(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Map;function Ur(t){ts(t instanceof Function,"Expected a class definition");let e=kx.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hb.type="NONE";const Nx=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=dd(this.userKey,s.apiKey,i),this.fullPersistenceKey=dd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jd(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wo(Ur(Nx),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ur(Nx);const o=dd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await Jd(e,{idToken:h}).catch(()=>{});if(!p)break;f=await zn._fromGetAccountInfoResponse(e,p,h)}else f=zn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if(Jb(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||Kb(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qb(t=Gt()){return/firefox\//i.test(t)}function Gb(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kb(t=Gt()){return/crios\//i.test(t)}function Yb(t=Gt()){return/iemobile/i.test(t)}function Qb(t=Gt()){return/android/i.test(t)}function Xb(t=Gt()){return/blackberry/i.test(t)}function Jb(t=Gt()){return/webos/i.test(t)}function Wy(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yM(t=Gt()){var e;return Wy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function vM(){return NO()&&document.documentMode===10}function Zb(t=Gt()){return Wy(t)||Qb(t)||Jb(t)||Xb(t)||/windows phone/i.test(t)||Yb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e=[]){let n;switch(t){case"Browser":n=Rx(Gt());break;case"Worker":n=`${Rx(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e={}){return ri(t,"GET","/v2/passwordPolicy",ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=6;class EM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Px(this),this.idTokenSubscription=new Px(this),this.beforeStateQueue=new wM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jd(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Hr(this));const n=e?mt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _M(this),n=new EM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Jj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function no(t){return mt(t)}class Px{constructor(e){this.auth=e,this.observer=null,this.addObserver=LO(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SM(t){Hh=t}function tI(t){return Hh.loadJS(t)}function bM(){return Hh.recaptchaEnterpriseScript}function IM(){return Hh.gapiScript}function CM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AM{constructor(){this.enterprise=new kM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NM="recaptcha-enterprise",nI="NO_RECAPTCHA";class RM{constructor(e){this.type=NM,this.auth=no(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{lM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new aM(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Cx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(nI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AM().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Cx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bM();l.length!==0&&(l+=a),tI(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Dx(t,e,n,r=!1,s=!1){const i=new RM(t);let o;if(s)o=nI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function rg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Dx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Dx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e){const n=to(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if($s(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function DM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OM(t,e,n){const r=no(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=rI(e),{host:o,port:a}=jM(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe($s(d,r.config.emulator)&&$s(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ea(o)?(Cb(`${i}//${o}${l}`),Ab("Auth",!0)):MM()}function rI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jM(t){const e=rI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ox(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ox(o)}}}function Ox(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function LM(t,e){return ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function UM(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends Hy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,n,"signInWithPassword",VM);case"emailLink":return FM(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,r,"signUpPassword",LM);case"emailLink":return UM(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="http://localhost";class Vi extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Vi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:BM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zM(t){const e=ul(dl(t)).link,n=e?ul(dl(e)).deep_link_id:null,r=ul(dl(t)).deep_link_id;return(r?ul(dl(r)).link:null)||r||n||e||t}class qy{constructor(e){const n=ul(dl(e)),r=n.apiKey??null,s=n.oobCode??null,i=$M(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zM(e);try{return new qy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,n){return ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qy.parseLink(n);return oe(r,"argument-error"),ic._fromEmailAndCode(e,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends sI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Nc{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Nc{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Nc{constructor(){super("twitter.com")}static credential(e,n){return Vi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){return kc(t,"POST","/v1/accounts:signUp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zn._fromIdTokenResponse(e,r,s),o=jx(r);return new Fi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jx(r);return new Fi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends er{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new eh(e,n,r,s)}}function iI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(t,i,e,r):i})}async function HM(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(Hr(r));const s="reauthenticate";try{const i=await sc(t,iI(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=zy(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Fi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t,e,n=!1){if(kn(t.app))return Promise.reject(Hr(t));const r="signIn",s=await iI(t,r,e),i=await Fi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function GM(t,e){return oI(no(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t){const e=no(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KM(t,e,n){if(kn(t.app))return Promise.reject(Hr(t));const r=no(t),o=await rg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&aI(t),l}),a=await Fi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function YM(t,e,n){return kn(t.app)?Promise.reject(Hr(t)):GM(mt(t),Sa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aI(t),r})}function QM(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function XM(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function JM(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function ZM(t){return mt(t).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=1e3,t4=10;class cI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);vM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,t4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const n4=cI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uI.type="SESSION";const dI=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await r4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Gy("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function i4(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function o4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l4(){return hI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebaseLocalStorageDb",c4=1,nh="firebaseLocalStorage",pI="fbase_key";class Rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(t,e){return t.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function u4(){const t=indexedDB.deleteDatabase(fI);return new Rc(t).toPromise()}function sg(){const t=indexedDB.open(fI,c4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nh,{keyPath:pI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await u4(),e(await sg()))})})}async function Mx(t,e,n){const r=Gh(t,!0).put({[pI]:e,value:n});return new Rc(r).toPromise()}async function d4(t,e){const n=Gh(t,!1).get(e),r=await new Rc(n).toPromise();return r===void 0?null:r.value}function Lx(t,e){const n=Gh(t,!0).delete(e);return new Rc(n).toPromise()}const h4=800,f4=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(l4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await o4(),!this.activeServiceWorker)return;this.sender=new s4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await Mx(e,th,"1"),await Lx(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gh(s,!1).getAll();return new Rc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const p4=mI;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){return e?Ur(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g4(t){return oI(t.auth,new Ky(t),t.bypassAuthState)}function y4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),qM(n,new Ky(t),t.bypassAuthState)}async function v4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),HM(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g4;case"linkViaPopup":case"linkViaRedirect":return v4;case"reauthViaPopup":case"reauthViaRedirect":return y4;default:Qn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Ac(2e3,1e4);class Mo extends gI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w4.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="pendingRedirect",hd=new Map;class x4 extends gI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hd.get(this.auth._key());if(!e){try{const r=await E4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E4(t,e){const n=b4(e),r=S4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function T4(t,e){hd.set(t._key(),e)}function S4(t){return Ur(t._redirectPersistence)}function b4(t){return dd(_4,t.config.apiKey,t.name)}async function I4(t,e,n=!1){if(kn(t.app))return Promise.reject(Hr(t));const r=no(t),s=m4(r,e),o=await new x4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=10*60*1e3;class A4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vx(e))}saveEventToCache(e){this.cachedEventUids.add(Vx(e)),this.lastProcessedEventTime=Date.now()}}function Vx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P4=/^https?/;async function D4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N4(t);for(const n of e)try{if(O4(n))return}catch{}Qn(t,"unauthorized-domain")}function O4(t){const e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P4.test(n))return!1;if(R4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new Ac(3e4,6e4);function Fx(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M4(t){return new Promise((e,n)=>{var s,i,o;function r(){Fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fx(),n(fr(t,"network-request-failed"))},timeout:j4.get()})}if((i=(s=pr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=pr().gapi)!=null&&o.load)r();else{const a=CM("iframefcb");return pr()[a]=()=>{gapi.load?r():n(fr(t,"network-request-failed"))},tI(`${IM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fd=null,e})}let fd=null;function L4(t){return fd=fd||M4(t),fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Ac(5e3,15e3),F4="__/auth/iframe",U4="emulator/auth/iframe",B4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z4(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$y(e,U4):`https://${t.config.authDomain}/${F4}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},s=$4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cc(r).slice(1)}`}async function W4(t){const e=await L4(t),n=pr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:z4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},V4.get());function l(){pr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q4=500,G4=600,K4="_blank",Y4="http://localhost";class Ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q4(t,e,n,r=q4,s=G4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...H4,width:r.toString(),height:s.toString(),top:i,left:o},d=Gt().toLowerCase();n&&(a=Kb(d)?K4:n),qb(d)&&(e=e||Y4,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[w,_])=>`${p}${w}=${_},`,"");if(yM(d)&&a!=="_self")return X4(e||"",a),new Ux(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new Ux(f)}function X4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="__/auth/handler",Z4="emulator/auth/handler",eL=encodeURIComponent("fac");async function Bx(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:s};if(e instanceof sI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Nc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${eL}=${encodeURIComponent(l)}`:"";return`${tL(t)}?${Cc(a).slice(1)}${d}`}function tL({config:t}){return t.emulator?$y(t,Z4):`https://${t.authDomain}/${J4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class nL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=I4,this._overrideRedirectResult=T4}async _openPopup(e,n,r,s){var o;ts((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Bx(e,n,r,tg(),s);return Q4(e,i,Gy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Bx(e,n,r,tg(),s);return i4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ts(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await W4(e),r=new A4(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Rp];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zb()||Gb()||Wy()}}const rL=nL;var $x="@firebase/auth",zx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oL(t){Er(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eI(t)},d=new TM(r,s,i,l);return DM(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new Yn("auth-internal",e=>{const n=no(e.getProvider("auth").getImmediate());return(r=>new sL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn($x,zx,iL(t)),Dn($x,zx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=5*60,lL=Ib("authIdTokenMaxAge")||aL;let Wx=null;const cL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lL)return;const s=n==null?void 0:n.token;Wx!==s&&(Wx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uL(t=Uy()){const e=to(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PM(t,{popupRedirectResolver:rL,persistence:[p4,n4,dI]}),r=Ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=cL(i.toString());XM(n,o,()=>o(n.currentUser)),QM(n,a=>o(a))}}const s=Sb("auth");return s&&OM(n,`http://${s}`),n}function dL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",dL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oL("Browser");var hL="firebase",fL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(hL,fL,"app");var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,vI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function A(){}A.prototype=b.prototype,I.D=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(N,O,k){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return b.prototype[O].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,A){A||(A=0);var N=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)N[O]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(O=0;16>O;++O)N[O]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],O=I.g[2];var k=I.g[3],R=b+(k^A&(O^k))+N[0]+3614090360&4294967295;b=A+(R<<7&4294967295|R>>>25),R=k+(O^b&(A^O))+N[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(A^k&(b^A))+N[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=A+(b^O&(k^b))+N[3]+3250441966&4294967295,A=O+(R<<22&4294967295|R>>>10),R=b+(k^A&(O^k))+N[4]+4118548399&4294967295,b=A+(R<<7&4294967295|R>>>25),R=k+(O^b&(A^O))+N[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(A^k&(b^A))+N[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=A+(b^O&(k^b))+N[7]+4249261313&4294967295,A=O+(R<<22&4294967295|R>>>10),R=b+(k^A&(O^k))+N[8]+1770035416&4294967295,b=A+(R<<7&4294967295|R>>>25),R=k+(O^b&(A^O))+N[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(A^k&(b^A))+N[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=A+(b^O&(k^b))+N[11]+2304563134&4294967295,A=O+(R<<22&4294967295|R>>>10),R=b+(k^A&(O^k))+N[12]+1804603682&4294967295,b=A+(R<<7&4294967295|R>>>25),R=k+(O^b&(A^O))+N[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(A^k&(b^A))+N[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=A+(b^O&(k^b))+N[15]+1236535329&4294967295,A=O+(R<<22&4294967295|R>>>10),R=b+(O^k&(A^O))+N[1]+4129170786&4294967295,b=A+(R<<5&4294967295|R>>>27),R=k+(A^O&(b^A))+N[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^A&(k^b))+N[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=A+(k^b&(O^k))+N[0]+3921069994&4294967295,A=O+(R<<20&4294967295|R>>>12),R=b+(O^k&(A^O))+N[5]+3593408605&4294967295,b=A+(R<<5&4294967295|R>>>27),R=k+(A^O&(b^A))+N[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^A&(k^b))+N[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=A+(k^b&(O^k))+N[4]+3889429448&4294967295,A=O+(R<<20&4294967295|R>>>12),R=b+(O^k&(A^O))+N[9]+568446438&4294967295,b=A+(R<<5&4294967295|R>>>27),R=k+(A^O&(b^A))+N[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^A&(k^b))+N[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=A+(k^b&(O^k))+N[8]+1163531501&4294967295,A=O+(R<<20&4294967295|R>>>12),R=b+(O^k&(A^O))+N[13]+2850285829&4294967295,b=A+(R<<5&4294967295|R>>>27),R=k+(A^O&(b^A))+N[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^A&(k^b))+N[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=A+(k^b&(O^k))+N[12]+2368359562&4294967295,A=O+(R<<20&4294967295|R>>>12),R=b+(A^O^k)+N[5]+4294588738&4294967295,b=A+(R<<4&4294967295|R>>>28),R=k+(b^A^O)+N[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^A)+N[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=A+(O^k^b)+N[14]+4259657740&4294967295,A=O+(R<<23&4294967295|R>>>9),R=b+(A^O^k)+N[1]+2763975236&4294967295,b=A+(R<<4&4294967295|R>>>28),R=k+(b^A^O)+N[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^A)+N[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=A+(O^k^b)+N[10]+3200236656&4294967295,A=O+(R<<23&4294967295|R>>>9),R=b+(A^O^k)+N[13]+681279174&4294967295,b=A+(R<<4&4294967295|R>>>28),R=k+(b^A^O)+N[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^A)+N[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=A+(O^k^b)+N[6]+76029189&4294967295,A=O+(R<<23&4294967295|R>>>9),R=b+(A^O^k)+N[9]+3654602809&4294967295,b=A+(R<<4&4294967295|R>>>28),R=k+(b^A^O)+N[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^A)+N[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=A+(O^k^b)+N[2]+3299628645&4294967295,A=O+(R<<23&4294967295|R>>>9),R=b+(O^(A|~k))+N[0]+4096336452&4294967295,b=A+(R<<6&4294967295|R>>>26),R=k+(A^(b|~O))+N[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~A))+N[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=A+(k^(O|~b))+N[5]+4237533241&4294967295,A=O+(R<<21&4294967295|R>>>11),R=b+(O^(A|~k))+N[12]+1700485571&4294967295,b=A+(R<<6&4294967295|R>>>26),R=k+(A^(b|~O))+N[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~A))+N[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=A+(k^(O|~b))+N[1]+2240044497&4294967295,A=O+(R<<21&4294967295|R>>>11),R=b+(O^(A|~k))+N[8]+1873313359&4294967295,b=A+(R<<6&4294967295|R>>>26),R=k+(A^(b|~O))+N[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~A))+N[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=A+(k^(O|~b))+N[13]+1309151649&4294967295,A=O+(R<<21&4294967295|R>>>11),R=b+(O^(A|~k))+N[4]+4149444226&4294967295,b=A+(R<<6&4294967295|R>>>26),R=k+(A^(b|~O))+N[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~A))+N[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=A+(k^(O|~b))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var A=b-this.blockSize,N=this.B,O=this.h,k=0;k<b;){if(O==0)for(;k<=A;)s(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<b;)if(N[O++]=I.charCodeAt(k++),O==this.blockSize){s(this,N),O=0;break}}else for(;k<b;)if(N[O++]=I[k++],O==this.blockSize){s(this,N),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var A=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=A&255,A/=256;for(this.u(I),I=Array(16),b=A=0;4>b;++b)for(var N=0;32>N;N+=8)I[A++]=this.g[b]>>>N&255;return I};function i(I,b){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function o(I,b){this.h=b;for(var A=[],N=!0,O=I.length-1;0<=O;O--){var k=I[O]|0;N&&k==b||(A[O]=k,N=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?i(I,function(b){return new o([b|0],0>b?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return S(d(-I));for(var b=[],A=1,N=0;I>=A;N++)b[N]=I/A|0,A*=4294967296;return new o(b,0)}function h(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return S(h(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(b,8)),N=f,O=0;O<I.length;O+=8){var k=Math.min(8,I.length-O),R=parseInt(I.substring(O,O+k),b);8>k?(k=d(Math.pow(b,k)),N=N.j(k).add(d(R))):(N=N.j(A),N=N.add(d(R)))}return N}var f=l(0),p=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();for(var I=0,b=1,A=0;A<this.g.length;A++){var N=this.i(A);I+=(0<=N?N:4294967296+N)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(x(this))return"-"+S(this).toString(I);for(var b=d(Math.pow(I,6)),A=this,N="";;){var O=D(A,b).g;A=g(A,O.j(b));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=O,_(A))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=g(this,I),x(I)?-1:_(I)?0:1};function S(I){for(var b=I.g.length,A=[],N=0;N<b;N++)A[N]=~I.g[N];return new o(A,~I.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],N=0,O=0;O<=b;O++){var k=N+(this.i(O)&65535)+(I.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);N=R>>>16,k&=65535,R&=65535,A[O]=R<<16|k}return new o(A,A[A.length-1]&-2147483648?-1:0)};function g(I,b){return I.add(S(b))}t.j=function(I){if(_(this)||_(I))return f;if(x(this))return x(I)?S(this).j(S(I)):S(S(this).j(I));if(x(I))return S(this.j(S(I)));if(0>this.l(w)&&0>I.l(w))return d(this.m()*I.m());for(var b=this.g.length+I.g.length,A=[],N=0;N<2*b;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<I.g.length;O++){var k=this.i(N)>>>16,R=this.i(N)&65535,H=I.i(O)>>>16,ee=I.i(O)&65535;A[2*N+2*O]+=R*ee,v(A,2*N+2*O),A[2*N+2*O+1]+=k*ee,v(A,2*N+2*O+1),A[2*N+2*O+1]+=R*H,v(A,2*N+2*O+1),A[2*N+2*O+2]+=k*H,v(A,2*N+2*O+2)}for(N=0;N<b;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=b;N<2*b;N++)A[N]=0;return new o(A,0)};function v(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function T(I,b){this.g=I,this.h=b}function D(I,b){if(_(b))throw Error("division by zero");if(_(I))return new T(f,f);if(x(I))return b=D(S(I),b),new T(S(b.g),S(b.h));if(x(b))return b=D(I,S(b)),new T(S(b.g),b.h);if(30<I.g.length){if(x(I)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var A=p,N=b;0>=N.l(I);)A=P(A),N=P(N);var O=j(A,1),k=j(N,1);for(N=j(N,2),A=j(A,2);!_(N);){var R=k.add(N);0>=R.l(I)&&(O=O.add(A),k=R),N=j(N,1),A=j(A,1)}return b=g(I,O.j(b)),new T(O,b)}for(O=f;0<=I.l(b);){for(A=Math.max(1,Math.floor(I.m()/b.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=d(A),R=k.j(b);x(R)||0<R.l(I);)A-=N,k=d(A),R=k.j(b);_(k)&&(k=p),O=O.add(k),I=g(I,R)}return new T(O,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],N=0;N<b;N++)A[N]=this.i(N)&I.i(N);return new o(A,this.h&I.h)},t.or=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],N=0;N<b;N++)A[N]=this.i(N)|I.i(N);return new o(A,this.h|I.h)},t.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],N=0;N<b;N++)A[N]=this.i(N)^I.i(N);return new o(A,this.h^I.h)};function P(I){for(var b=I.g.length+1,A=[],N=0;N<b;N++)A[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(A,I.h)}function j(I,b){var A=b>>5;b%=32;for(var N=I.g.length-A,O=[],k=0;k<N;k++)O[k]=0<b?I.i(k+A)>>>b|I.i(k+A+1)<<32-b:I.i(k+A);return new o(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Vs=o}).apply(typeof Hx<"u"?Hx:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wI,hl,_I,pd,ig,xI,EI,TI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,E){return u==Array.prototype||u==Object.prototype||(u[m]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var E=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var M=u[C];if(!(M in E))break e;E=E[M]}u=u[u.length-1],C=E[u],m=m(C),m!=C&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var E=0,C=!1,M={next:function(){if(!C&&E<u.length){var V=E++;return{value:m(V,u[V]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,E){return u.call.apply(u.bind,arguments)}function f(u,m,E){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function p(u,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function w(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function _(u,m){function E(){}E.prototype=m.prototype,u.aa=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(C,M,V){for(var W=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)W[Le-2]=arguments[Le];return m.prototype[M].apply(C,W)}}function x(u){const m=u.length;if(0<m){const E=Array(m);for(let C=0;C<m;C++)E[C]=u[C];return E}return[]}function S(u,m){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(l(C)){const M=u.length||0,V=C.length||0;u.length=M+V;for(let W=0;W<V;W++)u[M+W]=C[W]}else u.push(C)}}class g{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function D(u){return D[" "](u),u}D[" "]=function(){};var P=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function j(u,m,E){for(const C in u)m.call(E,u[C],C,u)}function I(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function b(u){const m={};for(const E in u)m[E]=u[E];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let E,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(E in C)u[E]=C[E];for(let V=0;V<A.length;V++)E=A[V],Object.prototype.hasOwnProperty.call(C,E)&&(u[E]=C[E])}}function O(u){var m=1;u=u.split(":");const E=[];for(;0<m&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function k(u){a.setTimeout(()=>{throw u},0)}function R(){var u=$;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,E){const C=ee.get();C.set(m,E),this.h?this.h.next=C:this.g=C,this.h=C}}var ee=new g(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let G,L=!1,$=new H,Y=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(ie)}};var ie=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(E){k(E)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}L=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return u}();function gt(u,m){if(Se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(P){e:{try{D(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&gt.aa.h.call(this)}}_(gt,Se);var rt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Ye(u,m,E,C,M){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!C,this.ha=M,this.key=++Ne,this.da=this.fa=!1}function be(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xe(u){this.src=u,this.g={},this.h=0}xe.prototype.add=function(u,m,E,C,M){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var W=yt(u,m,C,M);return-1<W?(m=u[W],E||(m.fa=!1)):(m=new Ye(m,this.src,V,!!C,M),m.fa=E,u.push(m)),m};function Ee(u,m){var E=m.type;if(E in u.g){var C=u.g[E],M=Array.prototype.indexOf.call(C,m,void 0),V;(V=0<=M)&&Array.prototype.splice.call(C,M,1),V&&(be(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function yt(u,m,E,C){for(var M=0;M<u.length;++M){var V=u[M];if(!V.da&&V.listener==m&&V.capture==!!E&&V.ha==C)return M}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),Mn={};function nr(u,m,E,C,M){if(Array.isArray(m)){for(var V=0;V<m.length;V++)nr(u,m[V],E,C,M);return null}return E=Qc(E),u&&u[te]?u.K(m,E,d(C)?!!C.capture:!1,M):kr(u,m,E,!1,C,M)}function kr(u,m,E,C,M,V){if(!m)throw Error("Invalid event type");var W=d(M)?!!M.capture:!!M,Le=di(u);if(Le||(u[Ct]=Le=new xe(u)),E=Le.add(m,E,C,W,V),E.proxy)return E;if(C=ja(),E.proxy=C,C.src=u,C.listener=E,u.addEventListener)Ke||(M=W),M===void 0&&(M=!1),u.addEventListener(m.toString(),C,M);else if(u.attachEvent)u.attachEvent(Kc(m.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ja(){function u(E){return m.call(u.src,u.listener,E)}const m=Yc;return u}function Nr(u,m,E,C,M){if(Array.isArray(m))for(var V=0;V<m.length;V++)Nr(u,m[V],E,C,M);else C=d(C)?!!C.capture:!!C,E=Qc(E),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],E=yt(V,E,C,M),-1<E&&(be(V[E]),Array.prototype.splice.call(V,E,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=di(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,E,C,M)),(E=-1<u?m[u]:null)&&Ma(E))}function Ma(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])Ee(m.i,u);else{var E=u.type,C=u.proxy;m.removeEventListener?m.removeEventListener(E,C,u.capture):m.detachEvent?m.detachEvent(Kc(E),C):m.addListener&&m.removeListener&&m.removeListener(C),(E=di(m))?(Ee(E,u),E.h==0&&(E.src=null,m[Ct]=null)):be(u)}}}function Kc(u){return u in Mn?Mn[u]:Mn[u]="on"+u}function Yc(u,m){if(u.da)u=!0;else{m=new gt(m,this);var E=u.listener,C=u.ha||u.src;u.fa&&Ma(u),u=E.call(C,m)}return u}function di(u){return u=u[Ct],u instanceof xe?u:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qc(u){return typeof u=="function"?u:(u[hi]||(u[hi]=function(m){return u.handleEvent(m)}),u[hi])}function Tt(){pe.call(this),this.i=new xe(this),this.M=this,this.F=null}_(Tt,pe),Tt.prototype[te]=!0,Tt.prototype.removeEventListener=function(u,m,E,C){Nr(this,u,m,E,C)};function At(u,m){var E,C=u.F;if(C)for(E=[];C;C=C.F)E.push(C);if(u=u.M,C=m.type||m,typeof m=="string")m=new Se(m,u);else if(m instanceof Se)m.target=m.target||u;else{var M=m;m=new Se(C,u),N(m,M)}if(M=!0,E)for(var V=E.length-1;0<=V;V--){var W=m.g=E[V];M=oo(W,C,!0,m)&&M}if(W=m.g=u,M=oo(W,C,!0,m)&&M,M=oo(W,C,!1,m)&&M,E)for(V=0;V<E.length;V++)W=m.g=E[V],M=oo(W,C,!1,m)&&M}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var E=u.g[m],C=0;C<E.length;C++)be(E[C]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,E,C){return this.i.add(String(u),m,!1,E,C)},Tt.prototype.L=function(u,m,E,C){return this.i.add(String(u),m,!0,E,C)};function oo(u,m,E,C){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,V=0;V<m.length;++V){var W=m[V];if(W&&!W.da&&W.capture==E){var Le=W.listener,Nt=W.ha||W.src;W.fa&&Ee(u.i,W),M=Le.call(Nt,C)!==!1&&M}}return M&&!C.defaultPrevented}function Xc(u,m,E){if(typeof u=="function")E&&(u=p(u,E));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Jc(u){u.g=Xc(()=>{u.g=null,u.i&&(u.i=!1,Jc(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lf extends pe{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(u){pe.call(this),this.h=u,this.g={}}_(fi,pe);var Zc=[];function eu(u){j(u.g,function(m,E){this.g.hasOwnProperty(E)&&Ma(m)},u),u.g={}}fi.prototype.N=function(){fi.aa.N.call(this),eu(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var La=a.JSON.stringify,tu=a.JSON.parse,Vf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function he(u){return u.h||(u.h=u.i())}function Me(){}var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sn(){Se.call(this,"d")}_(Sn,Se);function Yt(){Se.call(this,"c")}_(Yt,Se);var bn={},vt=null;function Qt(){return vt=vt||new Tt}bn.La="serverreachability";function Ce(u){Se.call(this,bn.La,u)}_(Ce,Se);function pi(u){const m=Qt();At(m,new Ce(m))}bn.STAT_EVENT="statevent";function nu(u,m){Se.call(this,bn.STAT_EVENT,u),this.stat=m}_(nu,Se);function kt(u){const m=Qt();At(m,new nu(m,u))}bn.Ma="timingevent";function lo(u,m){Se.call(this,bn.Ma,u),this.size=m}_(lo,Se);function Rr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function qN(u,m,E,C,M,V){u.info(function(){if(u.g)if(V)for(var W="",Le=V.split("&"),Nt=0;Nt<Le.length;Nt++){var Ae=Le[Nt].split("=");if(1<Ae.length){var Lt=Ae[0];Ae=Ae[1];var Vt=Lt.split("_");W=2<=Vt.length&&Vt[1]=="type"?W+(Lt+"="+Ae+"&"):W+(Lt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+m+`
`+E+`
`+W})}function GN(u,m,E,C,M,V,W){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+m+`
`+E+`
`+V+" "+W})}function co(u,m,E,C){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+YN(u,E)+(C?" "+C:"")})}function KN(u,m){u.info(function(){return"TIMEOUT: "+m})}Va.prototype.info=function(){};function YN(u,m){if(!u.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var C=E[u];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return La(E)}catch{return m}}var ru={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ff;function su(){}_(su,ao),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},Ff=new su;function ls(u,m,E,C){this.j=u,this.i=m,this.l=E,this.R=C||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mw}function mw(){this.i=null,this.g="",this.h=!1}var gw={},Uf={};function Bf(u,m,E){u.L=1,u.v=lu(Pr(m)),u.m=E,u.P=!0,yw(u,null)}function yw(u,m){u.F=Date.now(),iu(u),u.A=Pr(u.v);var E=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),Rw(E.i,"t",C),u.C=0,E=u.j.J,u.h=new mw,u.g=Yw(u.j,E?m:null,!u.m),0<u.O&&(u.M=new Lf(p(u.Y,u,u.g),u.O)),m=u.U,E=u.g,C=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Zc[0]=M.toString()),M=Zc);for(var V=0;V<M.length;V++){var W=nr(E,M[V],C||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pi(),qN(u.i,u.u,u.A,u.l,u.R,u.m)}ls.prototype.ca=function(u){u=u.target;const m=this.M;m&&Dr(u)==3?m.j():this.Y(u)},ls.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Dr(this.g);var m=this.g.Ba();const fo=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Vw(this.g)))){this.J||Vt!=4||m==7||(m==8||0>=fo?pi(3):pi(2)),$f(this);var E=this.g.Z();this.X=E;t:if(vw(this)){var C=Vw(this.g);u="";var M=C.length,V=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Fa(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(C[m],{stream:!(V&&m==M-1)});C.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=E==200,GN(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Nt=this.g;if((Le=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Le)){var Ae=Le;break t}}Ae=null}if(E=Ae)co(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,E);else{this.o=!1,this.s=3,kt(12),mi(this),Fa(this);break e}}if(this.P){E=!0;let Ln;for(;!this.J&&this.C<W.length;)if(Ln=QN(this,W),Ln==Uf){Vt==4&&(this.s=4,kt(14),E=!1),co(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==gw){this.s=4,kt(15),co(this.i,this.l,W,"[Invalid Chunk]"),E=!1;break}else co(this.i,this.l,Ln,null),zf(this,Ln);if(vw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||W.length!=0||this.h.h||(this.s=1,kt(16),E=!1),this.o=this.o&&E,!E)co(this.i,this.l,W,"[Invalid Chunked Response]"),mi(this),Fa(this);else if(0<W.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yf(Lt),Lt.M=!0,kt(11))}}else co(this.i,this.l,W,null),zf(this,W);Vt==4&&mi(this),this.o&&!this.J&&(Vt==4?Hw(this.j,this):(this.o=!1,iu(this)))}else fR(this.g),E==400&&0<W.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),mi(this),Fa(this)}}}catch{}finally{}};function vw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function QN(u,m){var E=u.C,C=m.indexOf(`
`,E);return C==-1?Uf:(E=Number(m.substring(E,C)),isNaN(E)?gw:(C+=1,C+E>m.length?Uf:(m=m.slice(C,C+E),u.C=C+E,m)))}ls.prototype.cancel=function(){this.J=!0,mi(this)};function iu(u){u.S=Date.now()+u.I,ww(u,u.I)}function ww(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rr(p(u.ba,u),m)}function $f(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ls.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(KN(this.i,this.A),this.L!=2&&(pi(),kt(17)),mi(this),this.s=2,Fa(this)):ww(this,this.S-u)};function Fa(u){u.j.G==0||u.J||Hw(u.j,u)}function mi(u){$f(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,eu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function zf(u,m){try{var E=u.j;if(E.G!=0&&(E.g==u||Wf(E.h,u))){if(!u.K&&Wf(E.h,u)&&E.G==3){try{var C=E.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)pu(E),hu(E);else break e;Kf(E),kt(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=Rr(p(E.Za,E),6e3));if(1>=Ew(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else yi(E,11)}else if((u.K||E.g==u)&&pu(E),!v(m))for(M=E.Da.g.parse(m),m=0;m<M.length;m++){let Ae=M[m];if(E.T=Ae[0],Ae=Ae[1],E.G==2)if(Ae[0]=="c"){E.K=Ae[1],E.ia=Ae[2];const Lt=Ae[3];Lt!=null&&(E.la=Lt,E.j.info("VER="+E.la));const Vt=Ae[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const fo=Ae[5];fo!=null&&typeof fo=="number"&&0<fo&&(C=1.5*fo,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Ln=u.g;if(Ln){const gu=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var V=C.h;V.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Hf(V,V.h),V.h=null))}if(C.D){const Qf=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(C.ya=Qf,ze(C.I,C.D,Qf))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var W=u;if(C.qa=Kw(C,C.J?C.ia:null,C.W),W.K){Tw(C.h,W);var Le=W,Nt=C.L;Nt&&(Le.I=Nt),Le.B&&($f(Le),iu(Le)),C.g=W}else zw(C);0<E.i.length&&fu(E)}else Ae[0]!="stop"&&Ae[0]!="close"||yi(E,7);else E.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?yi(E,7):Gf(E):Ae[0]!="noop"&&E.l&&E.l.ta(Ae),E.v=0)}}pi(4)}catch{}}var XN=class{constructor(u,m){this.g=u,this.map=m}};function _w(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ew(u){return u.h?1:u.g?u.g.size:0}function Wf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Hf(u,m){u.g?u.g.add(m):u.h=m}function Tw(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_w.prototype.cancel=function(){if(this.i=Sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.D);return m}return x(u.i)}function JN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],E=u.length,C=0;C<E;C++)m.push(u[C]);return m}m=[],E=0;for(C in u)m[E++]=u[C];return m}function ZN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var E=0;E<u;E++)m.push(E);return m}m=[],E=0;for(const C in u)m[E++]=C;return m}}}function bw(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var E=ZN(u),C=JN(u),M=C.length,V=0;V<M;V++)m.call(void 0,C[V],E&&E[V],u)}var Iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eR(u,m){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var C=u[E].indexOf("="),M=null;if(0<=C){var V=u[E].substring(0,C);M=u[E].substring(C+1)}else V=u[E];m(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,ou(this,u.j),this.o=u.o,this.g=u.g,au(this,u.s),this.l=u.l;var m=u.i,E=new $a;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Cw(this,E),this.m=u.m}else u&&(m=String(u).match(Iw))?(this.h=!1,ou(this,m[1]||"",!0),this.o=Ua(m[2]||""),this.g=Ua(m[3]||"",!0),au(this,m[4]),this.l=Ua(m[5]||"",!0),Cw(this,m[6]||"",!0),this.m=Ua(m[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ba(m,Aw,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ba(m,Aw,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Ba(E,E.charAt(0)=="/"?rR:nR,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Ba(E,iR)),u.join("")};function Pr(u){return new gi(u)}function ou(u,m,E){u.j=E?Ua(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function au(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Cw(u,m,E){m instanceof $a?(u.i=m,oR(u.i,u.h)):(E||(m=Ba(m,sR)),u.i=new $a(m,u.h))}function ze(u,m,E){u.i.set(m,E)}function lu(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ua(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ba(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,tR),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aw=/[#\/\?@]/g,nR=/[#\?:]/g,rR=/[#\?]/g,sR=/[#\?@]/g,iR=/#/g;function $a(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cs(u){u.g||(u.g=new Map,u.h=0,u.i&&eR(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=$a.prototype,t.add=function(u,m){cs(this),this.i=null,u=uo(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function kw(u,m){cs(u),m=uo(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nw(u,m){return cs(u),m=uo(u,m),u.g.has(m)}t.forEach=function(u,m){cs(this),this.g.forEach(function(E,C){E.forEach(function(M){u.call(m,M,C,this)},this)},this)},t.na=function(){cs(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let C=0;C<m.length;C++){const M=u[C];for(let V=0;V<M.length;V++)E.push(m[C])}return E},t.V=function(u){cs(this);let m=[];if(typeof u=="string")Nw(this,u)&&(m=m.concat(this.g.get(uo(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)m=m.concat(u[E])}return m},t.set=function(u,m){return cs(this),this.i=null,u=uo(this,u),Nw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Rw(u,m,E){kw(u,m),0<E.length&&(u.i=null,u.g.set(uo(u,m),x(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var C=m[E];const V=encodeURIComponent(String(C)),W=this.V(C);for(C=0;C<W.length;C++){var M=V;W[C]!==""&&(M+="="+encodeURIComponent(String(W[C]))),u.push(M)}}return this.i=u.join("&")};function uo(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oR(u,m){m&&!u.j&&(cs(u),u.i=null,u.g.forEach(function(E,C){var M=C.toLowerCase();C!=M&&(kw(this,C),Rw(this,M,E))},u)),u.j=m}function aR(u,m){const E=new Va;if(a.Image){const C=new Image;C.onload=w(us,E,"TestLoadImage: loaded",!0,m,C),C.onerror=w(us,E,"TestLoadImage: error",!1,m,C),C.onabort=w(us,E,"TestLoadImage: abort",!1,m,C),C.ontimeout=w(us,E,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else m(!1)}function lR(u,m){const E=new Va,C=new AbortController,M=setTimeout(()=>{C.abort(),us(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:C.signal}).then(V=>{clearTimeout(M),V.ok?us(E,"TestPingServer: ok",!0,m):us(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),us(E,"TestPingServer: error",!1,m)})}function us(u,m,E,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(E)}catch{}}function cR(){this.g=new Vf}function uR(u,m,E){const C=E||"";try{bw(u,function(M,V){let W=M;d(M)&&(W=La(M)),m.push(C+V+"="+encodeURIComponent(W))})}catch(M){throw m.push(C+"type="+encodeURIComponent("_badmap")),M}}function cu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(cu,ao),cu.prototype.g=function(){return new uu(this.l,this.j)},cu.prototype.i=function(u){return function(){return u}}({});function uu(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(uu,Tt),t=uu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?za(this):Wa(this),this.readyState==3&&Pw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,za(this))},t.Qa=function(u){this.g&&(this.response=u,za(this))},t.ga=function(){this.g&&za(this)};function za(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wa(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function Wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dw(u){let m="";return j(u,function(E,C){m+=C,m+=":",m+=E,m+=`\r
`}),m}function qf(u,m,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Dw(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):ze(u,m,E))}function st(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(st,Tt);var dR=/^https?$/i,hR=["POST","PUT"];t=st.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ff.g(),this.v=this.o?he(this.o):he(Ff),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){Ow(this,V);return}if(u=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)E.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())E.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hR,m,void 0))||C||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of E)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lw(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Ow(this,V)}};function Ow(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,jw(u),du(u)}function jw(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),du(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),du(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mw(this):this.bb())},t.bb=function(){Mw(this)};function Mw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Dr(u)!=4||u.Z()!=2)){if(u.u&&Dr(u)==4)Xc(u.Ea,0,u);else if(At(u,"readystatechange"),Dr(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var C;if(C=W===0){var M=String(u.D).match(Iw)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!dR.test(M?M.toLowerCase():"")}E=C}if(E)At(u,"complete"),At(u,"success");else{u.m=6;try{var V=2<Dr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",jw(u)}}finally{du(u)}}}}function du(u,m){if(u.g){Lw(u);const E=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||At(u,"ready");try{E.onreadystatechange=C}catch{}}}function Lw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Dr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),tu(m)}};function Vw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fR(u){const m={};u=(u.g&&2<=Dr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(v(u[C]))continue;var E=O(u[C]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const V=m[M]||[];m[M]=V,V.push(E)}I(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function Fw(u){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,u),this.cb=Ha("retryDelaySeedMs",1e4,u),this.Wa=Ha("forwardChannelMaxRetries",2,u),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _w(u&&u.concurrentRequestLimit),this.Da=new cR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fw.prototype,t.la=8,t.G=1,t.connect=function(u,m,E,C){kt(0),this.W=u,this.H=m||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Kw(this,null,this.W),fu(this)};function Gf(u){if(Uw(u),u.G==3){var m=u.U++,E=Pr(u.I);if(ze(E,"SID",u.K),ze(E,"RID",m),ze(E,"TYPE","terminate"),qa(u,E),m=new ls(u,u.j,m),m.L=2,m.v=lu(Pr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=Yw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),iu(m)}Gw(u)}function hu(u){u.g&&(Yf(u),u.g.cancel(),u.g=null)}function Uw(u){hu(u),u.u&&(a.clearTimeout(u.u),u.u=null),pu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fu(u){if(!xw(u.h)&&!u.s){u.s=!0;var m=u.Ga;G||Y(),L||(G(),L=!0),$.add(m,u),u.B=0}}function pR(u,m){return Ew(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rr(p(u.Ga,u,m),qw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new ls(this,this.j,u);let V=this.o;if(this.S&&(V?(V=b(V),N(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=$w(this,M,m),E=Pr(this.I),ze(E,"RID",u),ze(E,"CVER",22),this.D&&ze(E,"X-HTTP-Session-Id",this.D),qa(this,E),V&&(this.O?m="headers="+encodeURIComponent(String(Dw(V)))+"&"+m:this.m&&qf(E,this.m,V)),Hf(this.h,M),this.Ua&&ze(E,"TYPE","init"),this.P?(ze(E,"$req",m),ze(E,"SID","null"),M.T=!0,Bf(M,E,null)):Bf(M,E,m),this.G=2}}else this.G==3&&(u?Bw(this,u):this.i.length==0||xw(this.h)||Bw(this))};function Bw(u,m){var E;m?E=m.l:E=u.U++;const C=Pr(u.I);ze(C,"SID",u.K),ze(C,"RID",E),ze(C,"AID",u.T),qa(u,C),u.m&&u.o&&qf(C,u.m,u.o),E=new ls(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),m&&(u.i=m.D.concat(u.i)),m=$w(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hf(u.h,E),Bf(E,C,m)}function qa(u,m){u.H&&j(u.H,function(E,C){ze(m,C,E)}),u.l&&bw({},function(E,C){ze(m,C,E)})}function $w(u,m,E){E=Math.min(u.i.length,E);var C=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let V=-1;for(;;){const W=["count="+E];V==-1?0<E?(V=M[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Le=!0;for(let Nt=0;Nt<E;Nt++){let Ae=M[Nt].g;const Lt=M[Nt].map;if(Ae-=V,0>Ae)V=Math.max(0,M[Nt].g-100),Le=!1;else try{uR(Lt,W,"req"+Ae+"_")}catch{C&&C(Lt)}}if(Le){C=W.join("&");break e}}}return u=u.i.splice(0,E),m.D=u,C}function zw(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;G||Y(),L||(G(),L=!0),$.add(m,u),u.v=0}}function Kf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rr(p(u.Fa,u),qw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ww(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rr(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),hu(this),Ww(this))};function Yf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Ww(u){u.g=new ls(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Pr(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),qa(u,m),u.m&&u.o&&qf(m,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=lu(Pr(m)),E.m=null,E.P=!0,yw(E,u)}t.Za=function(){this.C!=null&&(this.C=null,hu(this),Kf(this),kt(19))};function pu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Hw(u,m){var E=null;if(u.g==m){pu(u),Yf(u),u.g=null;var C=2}else if(Wf(u.h,m))E=m.D,Tw(u.h,m),C=1;else return;if(u.G!=0){if(m.o)if(C==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;C=Qt(),At(C,new lo(C,E)),fu(u)}else zw(u);else if(M=m.s,M==3||M==0&&0<m.X||!(C==1&&pR(u,m)||C==2&&Kf(u)))switch(E&&0<E.length&&(m=u.h,m.i=m.i.concat(E)),M){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function qw(u,m){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var E=p(u.fb,u),C=u.Xa;const M=!C;C=new gi(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ou(C,"https"),lu(C),M?aR(C.toString(),E):lR(C.toString(),E)}else kt(2);u.G=0,u.l&&u.l.sa(m),Gw(u),Uw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Gw(u){if(u.G=0,u.ka=[],u.l){const m=Sw(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function Kw(u,m,E){var C=E instanceof gi?Pr(E):new gi(E);if(C.g!="")m&&(C.g=m+"."+C.g),au(C,C.s);else{var M=a.location;C=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var V=new gi(null);C&&ou(V,C),m&&(V.g=m),M&&au(V,M),E&&(V.l=E),C=V}return E=u.D,m=u.ya,E&&m&&ze(C,E,m),ze(C,"VER",u.la),qa(u,C),C}function Yw(u,m,E){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new st(new cu({eb:E})):new st(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qw(){}t=Qw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mu(){}mu.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Tt.call(this),this.g=new Fw(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ho(this)}_(un,Tt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Gf(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=La(u),u=E);m.i.push(new XN(m.Ya++,u)),m.G==3&&fu(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,un.aa.N.call(this)};function Xw(u){Sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}_(Xw,Sn);function Jw(){Yt.call(this),this.status=1}_(Jw,Yt);function ho(u){this.g=u}_(ho,Qw),ho.prototype.ua=function(){At(this.g,"a")},ho.prototype.ta=function(u){At(this.g,new Xw(u))},ho.prototype.sa=function(u){At(this.g,new Jw)},ho.prototype.ra=function(){At(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,TI=function(){return new mu},EI=function(){return Qt()},xI=bn,ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ru.NO_ERROR=0,ru.TIMEOUT=8,ru.HTTP_ERROR=6,pd=ru,pw.COMPLETE="complete",_I=pw,Me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,hl=Me,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,wI=st}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",Gx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Wh("@firebase/firestore");function _o(){return Ui.logLevel}function Q(t,...e){if(Ui.logLevel<=ve.DEBUG){const n=e.map(Yy);Ui.debug(`Firestore (${ba}): ${t}`,...n)}}function ns(t,...e){if(Ui.logLevel<=ve.ERROR){const n=e.map(Yy);Ui.error(`Firestore (${ba}): ${t}`,...n)}}function oa(t,...e){if(Ui.logLevel<=ve.WARN){const n=e.map(Yy);Ui.warn(`Firestore (${ba}): ${t}`,...n)}}function Yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SI(t,r,n)}function SI(t,e,n){let r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||SI(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class mL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gL{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new bI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class yL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=_L(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function og(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Pp(s)===Pp(i)?we(s,i):Pp(s)?1:-1}return we(t.length,e.length)}const xL=55296,EL=57343;function Pp(t){const e=t.charCodeAt(0);return e>=xL&&e<=EL}function aa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=or.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),s=or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?or.extractNumericId(e).compare(or.extractNumericId(n)):og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class Ue extends or{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const TL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends or{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return TL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yx}static keyField(){return new Dt([Yx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ue.fromString(e))}static fromName(e){return new re(Ue.fromString(e).popFirst(5))}static empty(){return new re(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SL(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qx(t){if(!re.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xx(t){if(re.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pc(t,e){if(!CI(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=-62135596800,Zx=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zx);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jx)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zx}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:ft("string",ke._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ke(0,0))}static max(){return new ce(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=-1;function bL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Ws(s,re.empty(),e)}function IL(t){return new Ws(t.readTime,t.key,oc)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(ce.min(),re.empty(),oc)}static max(){return new Ws(ce.max(),re.empty(),oc)}}function CL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==AL)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function NL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function Qh(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function RL(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="";function PL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e0(e)),e=DL(t.get(n),e);return e0(e)}function DL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case AI:n+="";break;default:n+=i}}return n}function e0(t){return t+AI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(e){return new n0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class n0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new xt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NI("Invalid base64 string: "+i):i}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const OL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=OL.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="server_timestamp",PI="__type__",DI="__previous_value__",OI="__local_write_time__";function Jy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PI])==null?void 0:r.stringValue)===RI}function Xh(t){const e=t.mapValue.fields[DI];return Jy(e)?Xh(e):e}function ac(t){const e=Hs(t.mapValue.fields[OI].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const sh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="__type__",ML="__max__",Vu={mapValue:{}},MI="__vector__",ih="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jy(t)?4:VL(t)?9007199254740991:LL(t)?10:11:ae(28295,{value:t})}function Tr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hs(s.timestampValue),a=Hs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ot(s.doubleValue),a=ot(i.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(t0(o)!==t0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tr(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function cc(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function la(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ot(i.integerValue||i.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return r0(t.timestampValue,e.timestampValue);case 4:return r0(ac(t),ac(e));case 5:return og(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=we(a[d],l[d]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(ot(i.latitude),ot(o.latitude));return a!==0?a:we(ot(i.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,w,_,x;const a=i.fields||{},l=o.fields||{},d=(p=a[ih])==null?void 0:p.arrayValue,h=(w=l[ih])==null?void 0:w.arrayValue,f=we(((_=d==null?void 0:d.values)==null?void 0:_.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:s0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vu.mapValue&&o===Vu.mapValue)return 0;if(i===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=og(l[f],h[f]);if(p!==0)return p;const w=la(a[l[f]],d[h[f]]);if(w!==0)return w}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function r0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Hs(t),r=Hs(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function s0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=la(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function ca(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ag(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ag(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function md(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(t);return e?16+md(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+md(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return si(r.fields,(i,o)=>{s+=i.length+md(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function i0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lg(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function o0(t){return!!t&&"nullValue"in t}function a0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gd(t){return!!t&&"mapValue"in t}function LL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jI])==null?void 0:r.stringValue)===MI}function Pl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(t.arrayValue.values[n]);return e}return{...t}}function VL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ML}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Pl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rn(Pl(this.value))}}function LI(t){const e=[];return si(t.fields,(n,r)=>{const s=new Dt([n]);if(gd(r)){const i=LI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,ce.min(),ce.min(),ce.min(),rn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,ce.min(),ce.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,ce.min(),ce.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function l0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=la(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function c0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function FL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{}class ht extends VI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BL(e,n,r):n==="array-contains"?new WL(e,r):n==="in"?new HL(e,r):n==="not-in"?new qL(e,r):n==="array-contains-any"?new GL(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $L(e,r):new zL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(la(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(la(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends VI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return FI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FI(t){return t.op==="and"}function UI(t){return UL(t)&&FI(t)}function UL(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function cg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+ca(t.value);if(UI(t))return t.filters.map(e=>cg(e)).join(",");{const e=t.filters.map(n=>cg(n)).join(",");return`${t.op}(${e})`}}function BI(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&BI(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function $I(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${ca(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map($I).join(" ,")+"}"}(t):"Filter"}class BL extends ht{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class $L extends ht{constructor(e,n){super(e,"in",n),this.keys=zI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zL extends ht{constructor(e,n){super(e,"not-in",n),this.keys=zI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class WL extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zy(n)&&cc(n.arrayValue,this.value)}}class HL extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}}class qL extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cc(this.value.arrayValue,n)}}class GL extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function u0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new KL(t,e,n,r,s,i,o)}function ev(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.Te=n}return e.Te}function tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c0(t.startAt,e.startAt)&&c0(t.endAt,e.endAt)}function ug(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YL(t,e,n,r,s,i,o,a){return new Aa(t,e,n,r,s,i,o,a)}function nv(t){return new Aa(t)}function d0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WI(t){return t.collectionGroup!==null}function Dl(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new uc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new uc(Dt.keyField(),r))}return e.Ie}function mr(t){const e=ue(t);return e.Ee||(e.Ee=QL(e,Dl(t))),e.Ee}function QL(t,e){if(t.limitType==="F")return u0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new uc(s.field,i)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return u0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dg(t,e){const n=t.filters.concat([e]);return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ah(t,e,n){return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jh(t,e){return tv(mr(t),mr(e))&&t.limitType===e.limitType}function HI(t){return`${ev(mr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$I(s)).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ca(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ca(s)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Zh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Dl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=l0(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Dl(r),s)||r.endAt&&!function(o,a,l){const d=l0(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Dl(r),s))}(t,e)}function XL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qI(t){return(e,n)=>{let r=!1;for(const s of Dl(t)){const i=JL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function JL(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?la(l,d):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new nt(re.comparator);function rs(){return ZL}const GI=new nt(re.comparator);function fl(...t){let e=GI;for(const n of t)e=e.insert(n.key,n);return e}function KI(t){let e=GI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return Ol()}function YI(){return Ol()}function Ol(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const eV=new nt(re.comparator),tV=new xt(re.comparator);function _e(...t){let e=tV;for(const n of t)e=e.add(n);return e}const nV=new xt(we);function rV(){return nV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function QI(t){return{integerValue:""+t}}function sV(t,e){return RL(e)?QI(e):rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function iV(t,e,n){return t instanceof lh?function(s,i){const o={fields:{[PI]:{stringValue:RI},[OI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jy(i)&&(i=Xh(i)),i&&(o.fields[DI]=i),{mapValue:o}}(n,e):t instanceof dc?JI(t,e):t instanceof hc?ZI(t,e):function(s,i){const o=XI(s,i),a=h0(o)+h0(s.Ae);return lg(o)&&lg(s.Ae)?QI(a):rv(s.serializer,a)}(t,e)}function oV(t,e,n){return t instanceof dc?JI(t,e):t instanceof hc?ZI(t,e):n}function XI(t,e){return t instanceof ch?function(r){return lg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lh extends ef{}class dc extends ef{constructor(e){super(),this.elements=e}}function JI(t,e){const n=e1(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class hc extends ef{constructor(e){super(),this.elements=e}}function ZI(t,e){let n=e1(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class ch extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h0(t){return ot(t.integerValue||t.doubleValue)}function e1(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof dc&&s instanceof dc||r instanceof hc&&s instanceof hc?aa(r.elements,s.elements,Tr):r instanceof ch&&s instanceof ch?Tr(r.Ae,s.Ae):r instanceof lh&&s instanceof lh}(t.transform,e.transform)}class lV{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tf{}function t1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r1(t.key,gr.none()):new Dc(t.key,t.data,gr.none());{const n=t.data,r=rn.empty();let s=new xt(Dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ii(t.key,r,new mn(s.toArray()),gr.none())}}function cV(t,e,n){t instanceof Dc?function(s,i,o){const a=s.value.clone(),l=p0(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(s,i,o){if(!yd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=p0(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(n1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Dc?function(i,o,a,l){if(!yd(i.precondition,o))return a;const d=i.value.clone(),h=m0(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(i,o,a,l){if(!yd(i.precondition,o))return a;const d=m0(i.fieldTransforms,l,o),h=o.data;return h.setAll(n1(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return yd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XI(r.transform,s||null);i!=null&&(n===null&&(n=rn.empty()),n.set(r.field,i))}return n||null}function f0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&aa(r,s,(i,o)=>aV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ii extends tf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function n1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p0(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,oV(o,a,n[s]))}return r}function m0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,iV(i,o,e))}return r}class r1 extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dV extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&cV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=t1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>f0(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>f0(n,r))}}class sv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return eV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new sv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Te;function mV(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function s1(t){if(t===void 0)return ns("GRPC error has no .code"),U.UNKNOWN;switch(t){case ut.OK:return U.OK;case ut.CANCELLED:return U.CANCELLED;case ut.UNKNOWN:return U.UNKNOWN;case ut.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ut.INTERNAL:return U.INTERNAL;case ut.UNAVAILABLE:return U.UNAVAILABLE;case ut.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ut.NOT_FOUND:return U.NOT_FOUND;case ut.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ut.ABORTED:return U.ABORTED;case ut.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ut.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(Te=ut||(ut={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Vs([4294967295,4294967295],0);function g0(t){const e=gV().encode(t),n=new vI;return n.update(e),new Uint8Array(n.digest())}function y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([s,i],0)]}class iv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Vs.fromNumber(r)));return s.compare(yV)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g0(e),[r,s]=y0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new iv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=g0(e),[r,s]=y0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(ce.min(),s,new nt(we),rs(),_e())}}class Oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class i1{constructor(e,n){this.targetId=e,this.Ce=n}}class o1{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v0{constructor(){this.ve=0,this.Fe=w0(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=w0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vV{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.Je=Fu(),this.He=Fu(),this.Ye=new nt(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(ug(i))if(r===0){const o=new re(i.path);this.et(n,o,Ht.newNoDocument(o,ce.min()))}else Pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof NI)return oa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new iv(o,s,i)}catch(l){return oa(l instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&ug(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=_e();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new nf(e,n,this.Ye,this.je,r);return this.je=rs(),this.Je=Fu(),this.He=Fu(),this.Ye=new nt(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fu(){return new nt(re.comparator)}function w0(){return new nt(re.comparator)}const wV={asc:"ASCENDING",desc:"DESCENDING"},_V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xV={and:"AND",or:"OR"};class EV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hg(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TV(t,e){return uh(t,e.toTimestamp())}function yr(t){return Pe(!!t,49232),ce.fromTimestamp(function(n){const r=Hs(n);return new ke(r.seconds,r.nanos)}(t))}function ov(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function l1(t){const e=Ue.fromString(t);return Pe(f1(e),10190,{key:e.toString()}),e}function pg(t,e){return ov(t.databaseId,e.path)}function Dp(t,e){const n=l1(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(u1(n))}function c1(t,e){return ov(t.databaseId,e)}function SV(t){const e=l1(t);return e.length===4?Ue.emptyPath():u1(e)}function mg(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u1(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _0(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function bV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ae(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Pe(h===void 0||typeof h=="string",58123),Mt.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:s1(d.code);return new K(h,d.message||"")}(o);n=new o1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dp(t,r.document.name),i=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):ce.min(),a=new rn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new vd(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dp(t,r.document),i=r.readTime?yr(r.readTime):ce.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new vd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dp(t,r.document),i=r.removedTargetIds||[];n=new vd([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new pV(s,i),a=r.targetId;n=new i1(a,o)}}return n}function IV(t,e){let n;if(e instanceof Dc)n={update:_0(t,e.key,e.value)};else if(e instanceof r1)n={delete:pg(t,e.key)};else if(e instanceof ii)n={update:_0(t,e.key,e.data),updateMask:jV(e.fieldMask)};else{if(!(e instanceof dV))return ae(16599,{Vt:e.type});n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ch)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:TV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function CV(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?yr(s.updateTime):yr(i);return o.isEqual(ce.min())&&(o=yr(i)),new lV(o,s.transformResults||[])}(n,e))):[]}function AV(t,e){return{documents:[c1(t,e.path)]}}function kV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=c1(t,s);const i=function(d){if(d.length!==0)return h1(Xn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Eo(p.field),direction:PV(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function NV(t){let e=SV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=d1(f);return p instanceof Xn&&UI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new uc(To(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Qh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,w=f.values||[];return new oh(w,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,w=f.values||[];return new oh(w,p)}(n.endAt)),YL(e,s,o,i,a,"F",l,d)}function RV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=To(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=To(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=To(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=To(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(To(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>d1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function PV(t){return wV[t]}function DV(t){return _V[t]}function OV(t){return xV[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function To(t){return Dt.fromServerFormat(t.fieldPath)}function h1(t){return t instanceof ht?function(n){if(n.op==="=="){if(a0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:DV(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>h1(s));return r.length===1?r[0]:{compositeFilter:{op:OV(n.op),filters:r}}}(t):ae(54877,{filter:t})}function jV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.yt=e}}function LV(t){const e=NV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Cn=new FV}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ws.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class FV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(p1,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ua(0)}static cr(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="LruGarbageCollector",UV=1048576;function T0([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class BV{constructor(e){this.Ir=e,this.buffer=new xt(T0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();T0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $V{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(E0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ca(n)?Q(E0,"Ignoring IndexedDB error during garbage collection: ",n):await Ia(n)}await this.Vr(3e5)})}}class zV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Yh.ce);const r=new BV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(x0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),_o()<=ve.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function WV(t,e){return new zV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jl(r.mutation,s,mn.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=bi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=fl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=rs();const o=Ol(),a=function(){return Ol()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ii)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),jl(h.mutation,d,h.mutation.getFieldMask(),ke.now())):o.set(d.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new qV(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ol();let s=new nt((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||mn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||_e()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=YI();h.forEach(p=>{if(!i.has(p)){const w=t1(n.get(p),r.get(p));w!==null&&f.set(p,w),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(bi());let a=oc,l=i;return o.next(d=>B.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,_e())).next(h=>({batchId:a,changes:KI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=fl();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const d=function(f,p){return new Aa(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=fl();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&jl(h.mutation,d,mn.empty(),ke.now()),Zh(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:LV(s.bundledQuery),readTime:yr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.overlays=new nt(re.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=bi(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=bi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=bi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fV(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.Qr=new xt(St.$r),this.Ur=new xt(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new Ue([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new Ue([])),r=new St(n,e),s=new St(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(St.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Xy:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(we);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new St(new re(i),0);let a=new xt(we);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.ri=e,this.docs=function(){return new nt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rs();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||CL(IL(h),r)<=0||(s.has(h.key)||Zh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZV(this)}getSize(e){return B.resolve(this.size)}}class ZV extends HV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.persistence=e,this.si=new ro(n=>ev(n),tv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new av,this.targetCount=0,this.ai=ua.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new QV,this.referenceDelegate=e(this),this.Pi=new eF(this),this.indexManager=new VV,this.remoteDocumentCache=function(s){return new JV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new MV(n),this.Ii=new KV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new tF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tF extends kL{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Ri=new av,this.Vi=null}static mi(e){return new lv(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=re.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.pi=new ro(r=>PL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=WV(this,n)}static mi(e,n){return new dh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=md(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RO()?8:NL(Gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new nF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(_o()<=ve.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(_o()<=ve.DEBUG&&Q("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(_o()<=ve.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):B.resolve())}ys(e,n){if(d0(n))return B.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ah(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,ah(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return d0(n)||s.isEqual(ce.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(_o()<=ve.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xo(n)),this.vs(e,o,n,bL(s,oc)).next(a=>a))})}Ds(e,n){let r=new xt(qI(e));return n.forEach((s,i)=>{Zh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return _o()<=ve.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LocalStore",sF=3e8;class iF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new nt(we),this.xs=new ro(i=>ev(i),tv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oF(t,e,n,r){return new iF(t,e,n,r)}async function g1(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=_e();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function aF(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,p=f.keys();let w=B.resolve();return p.forEach(_=>{w=w.next(()=>h.getEntry(l,_)).next(x=>{const S=d.docVersions.get(_);Pe(S!==null,48541),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function y1(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lF(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let w=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(Mt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(f,w),function(x,S,g){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=sF?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,w,h)&&a.push(n.Pi.updateTargetData(i,w))});let l=rs(),d=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(cF(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(ce.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function cF(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rs();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(uv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function uF(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dF(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gg(t,e,n){const r=ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ca(o))throw o;Q(uv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function S0(t,e,n){const r=ue(t);let s=ce.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=ue(l),p=f.xs.get(h);return p!==void 0?B.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:_e())).next(a=>(hF(r,XL(e),a),{documents:a,Qs:i})))}function hF(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class b0{constructor(){this.activeTargetIds=rV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fF{constructor(){this.Mo=new b0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class C0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(I0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(I0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function yg(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",mF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=yg(),a=this.zo(e,n.toUriEncodedString());Q(Op,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=Ea(d);return this.Jo(e,a,l,r,h).then(f=>(Q(Op,`Received RPC '${e}' ${o}: `,f),f),f=>{throw oa(Op,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=mF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class vF extends gF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=yg();return new Promise((a,l)=>{const d=new wI;d.setWithCredentials(!0),d.listenOnce(_I.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case pd.NO_ERROR:const f=d.getResponseJson();Q(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case pd.TIMEOUT:Q(Bt,`RPC '${e}' ${o} timed out`),l(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const p=d.getStatus();if(Q(Bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w==null?void 0:w.error;if(_&&_.status&&_.message){const x=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(_.status);l(new K(x,_.message))}else l(new K(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new K(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Q(Bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Q(Bt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=yg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TI(),a=EI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Q(Bt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let p=!1,w=!1;const _=new yF({Yo:S=>{w?Q(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(Q(Bt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Q(Bt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),x=(S,g,v)=>{S.listen(g,T=>{try{v(T)}catch(D){setTimeout(()=>{throw D},0)}})};return x(f,hl.EventType.OPEN,()=>{w||(Q(Bt,`RPC '${e}' stream ${s} transport opened.`),_.o_())}),x(f,hl.EventType.CLOSE,()=>{w||(w=!0,Q(Bt,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(f))}),x(f,hl.EventType.ERROR,S=>{w||(w=!0,oa(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),_.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),x(f,hl.EventType.MESSAGE,S=>{var g;if(!w){const v=S.data[0];Pe(!!v,16349);const T=v,D=(T==null?void 0:T.error)||((g=T[0])==null?void 0:g.error);if(D){Q(Bt,`RPC '${e}' stream ${s} received error:`,D);const P=D.status;let j=function(A){const N=ut[A];if(N!==void 0)return s1(N)}(P),I=D.message;j===void 0&&(j=U.INTERNAL,I="Unknown error status: "+P+" with message "+D.message),w=!0,_.a_(new K(j,I)),f.close()}else Q(Bt,`RPC '${e}' stream ${s} received:`,v),_.u_(v)}}),x(a,xI.STAT_EVENT,S=>{S.stat===ig.PROXY?Q(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===ig.NOPROXY&&Q(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return new EV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="PersistentStream";class w1{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(A0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wF extends w1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bV(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?yr(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ug(l)?{documents:AV(i,l)}:{query:kV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=a1(i,o.resumeToken);const d=hg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=uh(i,o.snapshotVersion.toTimestamp());const d=hg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=RV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.q_(n)}}class _F extends w1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CV(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{}class EF extends xF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,fg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,fg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="RemoteStore";class SF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{so(this)&&(Q(Bi,"Restarting streams for network reachability change."),await async function(l){const d=ue(l);d.Ea.add(4),await jc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await sf(d)}(this))})}),this.Ra=new TF(r,s)}}async function sf(t){if(so(t))for(const e of t.da)await e(!0)}async function jc(t){for(const e of t.da)await e(!1)}function _1(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pv(n)?fv(n):ka(n).O_()&&hv(n,e))}function dv(t,e){const n=ue(t),r=ka(n);n.Ia.delete(e),r.O_()&&x1(n,e),n.Ia.size===0&&(r.O_()?r.L_():so(n)&&n.Ra.set("Unknown"))}function hv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).Y_(e)}function x1(t,e){t.Va.Ue(e),ka(t).Z_(e)}function fv(t){t.Va=new vV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.Ra.ua()}function pv(t){return so(t)&&!ka(t).x_()&&t.Ia.size>0}function so(t){return ue(t).Ea.size===0}function E1(t){t.Va=void 0}async function bF(t){t.Ra.set("Online")}async function IF(t){t.Ia.forEach((e,n)=>{hv(t,e)})}async function CF(t,e){E1(t),pv(t)?(t.Ra.ha(e),fv(t)):t.Ra.set("Unknown")}async function AF(t,e,n){if(t.Ra.set("Online"),e instanceof o1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Q(Bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof vd?t.Va.Ze(e):e instanceof i1?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await y1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),x1(i,l);const f=new Cs(h.target,l,d,h.sequenceNumber);hv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Bi,"Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Ca(e))throw e;t.Ea.add(1),await jc(t),t.Ra.set("Offline"),n||(n=()=>y1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Bi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sf(t)})}function T1(t,e){return e().catch(n=>hh(t,n,e))}async function of(t){const e=ue(t),n=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xy;for(;kF(e);)try{const s=await uF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,NF(e,s)}catch(s){await hh(e,s)}S1(e)&&b1(e)}function kF(t){return so(t)&&t.Ta.length<10}function NF(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function S1(t){return so(t)&&!Ks(t).x_()&&t.Ta.length>0}function b1(t){Ks(t).start()}async function RF(t){Ks(t).ra()}async function PF(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function DF(t,e,n){const r=t.Ta.shift(),s=sv.from(r,e,n);await T1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await of(t)}async function OF(t,e){e&&Ks(t).X_&&await async function(r,s){if(function(o){return mV(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Ks(r).B_(),await T1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await of(r)}}(t,e),S1(t)&&b1(t)}async function k0(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(Bi,"RemoteStore received new credentials");const r=so(n);n.Ea.add(3),await jc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sf(n)}async function jF(t,e){const n=ue(t);e?(n.Ea.delete(2),await sf(n)):e||(n.Ea.add(2),await jc(n),n.Ra.set("Unknown"))}function ka(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new wF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:bF.bind(null,t),t_:IF.bind(null,t),r_:CF.bind(null,t),H_:AF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),pv(t)?fv(t):t.Ra.set("Unknown")):(await t.ma.stop(),E1(t))})),t.ma}function Ks(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new _F(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:RF.bind(null,t),r_:OF.bind(null,t),ta:PF.bind(null,t),na:DF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await of(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Bi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new mv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(t,e){if(ns("AsyncQueue",`${e}: ${t}`),Ca(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=fl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.ga=new nt(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class da{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new da(e,n,qo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class LF{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=R0(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function R0(){return new ro(t=>HI(t),Jh)}async function I1(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new MF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=gv(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&yv(n)}async function C1(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VF(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&yv(n)}function FF(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function yv(t){t.Ca.forEach(e=>{e.next()})}var vg,P0;(P0=vg||(vg={})).Ma="default",P0.Cache="cache";class A1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class UF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=qI(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new N0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),w=Zh(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;p&&w?p.data.isEqual(w.data)?_!==x&&(r.track({type:3,doc:w}),S=!0):this.su(p,w)||(r.track({type:2,doc:w}),S=!0,(l&&this.eu(w,l)>0||d&&this.eu(w,d)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),S=!0):p&&!w&&(r.track({type:1,doc:p}),S=!0,(l||d)&&(a=!0)),S&&(w?(o=o.add(w),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(w,_){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:S})}};return x(w)-x(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new da(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new N1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new k1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return da.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vv="SyncEngine";class BF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $F{constructor(e){this.key=e,this.hu=!1}}class zF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ro(a=>HI(a),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new nt(re.comparator),this.Au=new Map,this.Ru=new av,this.Vu={},this.mu=new Map,this.fu=ua.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WF(t,e,n=!0){const r=M1(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await R1(r,e,n,!0),s}async function HF(t,e){const n=M1(t);await R1(n,e,!0,!1)}async function R1(t,e,n,r){const s=await dF(t.localStore,mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await qF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_1(t.remoteStore,s),a}async function qF(t,e,n,r,s){t.pu=(f,p,w)=>async function(x,S,g,v){let T=S.view.ru(g);T.Cs&&(T=await S0(x.localStore,S.query,!1).then(({documents:I})=>S.view.ru(I,T)));const D=v&&v.targetChanges.get(S.targetId),P=v&&v.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(T,x.isPrimaryClient,D,P);return O0(x,S.targetId,j.au),j.snapshot}(t,f,p,w);const i=await S0(t.localStore,e,!0),o=new UF(e,i.Qs),a=o.ru(i.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);O0(t,n,d.au);const h=new BF(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function GF(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Jh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&dv(r.remoteStore,s.targetId),wg(r,s.targetId)}).catch(Ia)):(wg(r,s.targetId),await gg(r.localStore,s.targetId,!0))}async function KF(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dv(n.remoteStore,r.targetId))}async function YF(t,e,n){const r=n6(t);try{const s=await function(o,a){const l=ue(o),d=ke.now(),h=a.reduce((w,_)=>w.add(_.key),_e());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=rs(),x=_e();return l.Ns.getEntries(w,h).next(S=>{_=S,_.forEach((g,v)=>{v.isValidDocument()||(x=x.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,_)).next(S=>{f=S;const g=[];for(const v of a){const T=uV(v,f.get(v.key).overlayedDocument);T!=null&&g.push(new ii(v.key,T,LI(T.value.mapValue),gr.exists(!0)))}return l.mutationQueue.addMutationBatch(w,d,g,a)}).next(S=>{p=S;const g=S.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(w,S.batchId,g)})}).then(()=>({batchId:p.batchId,changes:KI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new nt(we)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Mc(r,s.changes),await of(r.remoteStore)}catch(s){const i=gv(s,"Failed to persist write");n.reject(i)}}async function P1(t,e){const n=ue(t);try{const r=await lF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Pe(o.hu,14607):s.removedDocuments.size>0&&(Pe(o.hu,42227),o.hu=!1))}),await Mc(n,r,e)}catch(r){await Ia(r)}}function D0(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&yv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QF(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new nt(re.comparator);o=o.insert(i,Ht.newNoDocument(i,ce.min()));const a=_e().add(i),l=new nf(ce.min(),new Map,new nt(we),o,a);await P1(r,l),r.du=r.du.remove(i),r.Au.delete(e),wv(r)}else await gg(r.localStore,e,!1).then(()=>wg(r,e,n)).catch(Ia)}async function XF(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await aF(n.localStore,e);O1(n,r,null),D1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,s)}catch(s){await Ia(s)}}async function JF(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(Pe(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);O1(r,e,n),D1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,s)}catch(s){await Ia(s)}}function D1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function O1(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||j1(t,r)})}function j1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),wv(t))}function O0(t,e,n){for(const r of n)r instanceof k1?(t.Ru.addReference(r.key,e),ZF(t,r)):r instanceof N1?(Q(vv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||j1(t,r.key)):ae(19791,{wu:r})}function ZF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(vv,"New document in limbo: "+n),t.Eu.add(r),wv(t))}function wv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new $F(n)),t.du=t.du.insert(n,r),_1(t.remoteStore,new Cs(mr(nv(n.path)),r,"TargetPurposeLimboResolution",Yh.ce))}}async function Mc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=cv.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=ue(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.Es,w=>h.persistence.referenceDelegate.addReference(f,p.targetId,w)).next(()=>B.forEach(p.ds,w=>h.persistence.referenceDelegate.removeReference(f,p.targetId,w)))))}catch(f){if(!Ca(f))throw f;Q(uv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const w=h.Ms.get(p),_=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(p,x)}}}(r.localStore,i))}async function e6(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(vv,"User change. New user:",e.toKey());const r=await g1(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r.Ls)}}function t6(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function M1(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QF.bind(null,e),e.Pu.H_=VF.bind(null,e.eventManager),e.Pu.yu=FF.bind(null,e.eventManager),e}function n6(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JF.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oF(this.persistence,new rF,e.initialUser,this.serializer)}Cu(e){return new m1(lv.mi,this.serializer)}Du(e){return new fF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class r6 extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pe(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $V(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new m1(r=>dh.mi(r,n),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e6.bind(null,this.syncEngine),await jF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LF}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),r=function(i){return new vF(i)}(e.databaseInfo);return function(i,o,a,l){return new EF(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new SF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D0(this.syncEngine,n,0),function(){return C0.v()?new C0:new pF}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new zF(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Q(Bi,"RemoteStore shutting down."),i.Ea.add(5),await jc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class s6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=Qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(Ys,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(Ys,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await g1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i6(t);Q(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>k0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>k0(e.remoteStore,s)),t._onlineComponents=e}async function i6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(Ys,"Using user provided OfflineComponentProvider");try{await Mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await Mp(t,new fh)}}else Q(Ys,"Using default OfflineComponentProvider"),await Mp(t,new r6(void 0));return t._offlineComponents}async function V1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(Ys,"Using user provided OnlineComponentProvider"),await j0(t,t._uninitializedComponentsProvider._online)):(Q(Ys,"Using default OnlineComponentProvider"),await j0(t,new _g))),t._onlineComponents}function o6(t){return V1(t).then(e=>e.syncEngine)}async function F1(t){const e=await V1(t),n=e.eventManager;return n.onListen=WF.bind(null,e.syncEngine),n.onUnlisten=GF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KF.bind(null,e.syncEngine),n}function a6(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new L1({next:p=>{h.Nu(),o.enqueueAndForget(()=>C1(i,f));const w=p.docs.has(a);!w&&p.fromCache?d.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&l&&l.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new A1(nv(a.path),h,{includeMetadataChanges:!0,qa:!0});return I1(i,f)}(await F1(t),t.asyncQueue,e,n,r)),r.promise}function l6(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new L1({next:p=>{h.Nu(),o.enqueueAndForget(()=>C1(i,f)),p.fromCache&&l.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new A1(a,h,{includeMetadataChanges:!0,qa:!0});return I1(i,f)}(await F1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firestore.googleapis.com",L0=!0;class V0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=L0}else this.host=e.host,this.ssl=e.ssl??L0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UV)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pL;switch(r.type){case"firstParty":return new vL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M0.get(n);r&&(Q("ComponentProvider","Removing Datastore"),M0.delete(n),r.terminate())}(this),Promise.resolve()}}function c6(t,e,n,r={}){var d;t=zs(t,af);const s=Ea(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Cb(`https://${a}`),Ab("Firestore",!0)),i.host!==B1&&i.host!==a&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!$s(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zt.MOCK_USER;else{h=TO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(p)}t._authCredentials=new mL(new bI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pc(n,pt._jsonSchema))return new pt(e,r||null,new re(Ue.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ft("string",pt._jsonSchemaVersion),referencePath:ft("string")};class Fs extends oi{constructor(e,n,r){super(e,n,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new re(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function lf(t,e,...n){if(t=mt(t),II("collection","path",e),t instanceof af){const r=Ue.fromString(e,...n);return Xx(r),new Fs(t,null,r)}{if(!(t instanceof pt||t instanceof Fs))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Xx(r),new Fs(t.firestore,null,r)}}function $1(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Qy.newId()),II("doc","path",e),t instanceof af){const r=Ue.fromString(e,...n);return Qx(r),new pt(t,null,new re(r))}{if(!(t instanceof pt||t instanceof Fs))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Qx(r),new pt(t.firestore,t instanceof Fs?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="AsyncQueue";class U0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v1(this,"async_queue_retry"),this._c=()=>{const r=jp();r&&Q(F0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;Q(F0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",B0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=mv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lc extends af{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new U0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function u6(t,e){const n=typeof t=="object"?t:Uy(),r=typeof t=="string"?t:sh,s=to(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xO("firestore");i&&c6(s,...i)}return s}function _v(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d6(t),t._firestoreClient}function d6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new jL(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,U1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new s6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Mt.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:ft("string",Nn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:ft("string",vr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wr(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:ft("string",wr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^__.*__$/;class f6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class z1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class Ev{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ev({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(W1(this.Ac)&&h6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}Cc(e,n,r,s=!1){return new Ev({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tv(t){const e=t._freezeSettings(),n=rf(t._databaseId);return new p6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m6(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Sv("Data must be an object, but it was:",o,r);const a=H1(r,o);let l,d;if(i.merge)l=new mn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=xg(e,f,n);if(!o.contains(p))throw new K(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);G1(h,p)||h.push(p)}l=new mn(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new f6(new rn(a),l,d)}class uf extends xv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function g6(t,e,n,r){const s=t.Cc(1,e,n);Sv("Data must be an object, but it was:",s,r);const i=[],o=rn.empty();si(r,(l,d)=>{const h=bv(e,l,n);d=mt(d);const f=s.yc(h);if(d instanceof uf)i.push(h);else{const p=Vc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new mn(i);return new z1(o,a,s.fieldTransforms)}function y6(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[xg(e,r,n)],l=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(xg(e,i[p])),l.push(i[p+1]);const d=[],h=rn.empty();for(let p=a.length-1;p>=0;--p)if(!G1(d,a[p])){const w=a[p];let _=l[p];_=mt(_);const x=o.yc(w);if(_ instanceof uf)d.push(w);else{const S=Vc(_,x);S!=null&&(d.push(w),h.set(w,S))}}const f=new mn(d);return new z1(h,f,o.fieldTransforms)}function v6(t,e,n,r=!1){return Vc(n,t.Cc(r?4:3,e))}function Vc(t,e){if(q1(t=mt(t)))return Sv("Unsupported field value:",e,t),H1(t,e);if(t instanceof xv)return function(r,s){if(!W1(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Vc(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:uh(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(s.serializer,i)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:a1(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ov(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wr)return function(o,a){return{mapValue:{fields:{[jI]:{stringValue:MI},[ih]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return rv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Kh(r)}`)}(t,e)}function H1(t,e){const n={};return kI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,s)=>{const i=Vc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function q1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof vr||t instanceof Nn||t instanceof pt||t instanceof xv||t instanceof wr)}function Sv(t,e,n){if(!q1(n)||!CI(n)){const r=Kh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xg(t,e,n){if((e=mt(e))instanceof cf)return e._internalPath;if(typeof e=="string")return bv(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const w6=new RegExp("[~\\*/\\[\\]]");function bv(t,e,n){if(e.search(w6)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K(U.INVALID_ARGUMENT,a+t+l)}function G1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _6 extends K1{data(){return super.data()}}function df(t,e){return typeof e=="string"?bv(t,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class Cv extends Iv{}function Y1(t,e,...n){let r=[];e instanceof Iv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Av).length,a=i.filter(l=>l instanceof hf).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class hf extends Cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hf(e,n,r)}_apply(e){const n=this._parse(e);return X1(e._query,n),new oi(e.firestore,e.converter,dg(e._query,n))}_parse(e){const n=Tv(e.firestore);return function(i,o,a,l,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){z0(f,h);const _=[];for(const x of f)_.push($0(l,i,x));p={arrayValue:{values:_}}}else p=$0(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||z0(f,h),p=v6(a,o,f,h==="in"||h==="not-in");return ht.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Q1(t,e,n){const r=e,s=df("where",t);return hf._create(s,r,n)}class Av extends Iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Av(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)X1(o,l),o=dg(o,l)}(e._query,n),new oi(e.firestore,e.converter,dg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kv extends Cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uc(i,o)}(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Aa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function E6(t,e="asc"){const n=e,r=df("orderBy",t);return kv._create(r,n)}class Nv extends Cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nv(e,n,r)}_apply(e){return new oi(e.firestore,e.converter,ah(e._query,this._limit,this._limitType))}}function T6(t){return Nv._create("limit",t,"F")}function $0(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WI(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!re.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return i0(t,new re(r))}if(n instanceof pt)return i0(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function z0(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X1(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class S6{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ih].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ot(o.doubleValue));return new wr(n)}convertGeoPoint(e){return new vr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Pe(f1(r),9688,{name:e});const s=new lc(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||ns(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends K1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ki._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:ft("string",ki._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class wd extends ki{data(e={}){return super.data(e)}}class Go{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ml(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wd(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new wd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ml(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new wd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ml(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:I6(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){t=zs(t,pt);const e=zs(t.firestore,Lc);return a6(_v(e),t._key).then(n=>k6(e,t,n))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:ft("string",Go._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class J1 extends S6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function Z1(t){t=zs(t,oi);const e=zs(t.firestore,Lc),n=_v(e),r=new J1(e);return x6(t._query),l6(n,t._query).then(s=>new Go(e,r,t,s))}function A6(t,e,n,...r){t=zs(t,pt);const s=zs(t.firestore,Lc),i=Tv(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof cf?y6(i,"updateDoc",t._key,e,n,r):g6(i,"updateDoc",t._key,e),tC(s,[o.toMutation(t._key,gr.exists(!0))])}function eC(t,e){const n=zs(t.firestore,Lc),r=$1(t),s=b6(t.converter,e);return tC(n,[m6(Tv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function tC(t,e){return function(r,s){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>YF(await o6(r),s,i)),i.promise}(_v(t),e)}function k6(t,e,n){const r=n.docs.get(e._key),s=new J1(t);return new ki(t,s,e._key,r,new ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ba=s})(Ta),Er(new Yn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Lc(new gL(r.getProvider("auth-internal")),new wL(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dn(qx,Gx,e),Dn(qx,Gx,"esm2020")})();const nC="@firebase/installations",Rv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e4,sC=`w:${Rv}`,iC="FIS_v2",N6="https://firebaseinstallations.googleapis.com/v1",R6=60*60*1e3,P6="installations",D6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$i=new eo(P6,D6,O6);function oC(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC({projectId:t}){return`${N6}/projects/${t}/installations`}function lC(t){return{token:t.token,requestStatus:2,expiresIn:M6(t.expiresIn),creationTime:Date.now()}}async function cC(t,e){const r=(await e.json()).error;return $i.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j6(t,{refreshToken:e}){const n=uC(t);return n.append("Authorization",L6(e)),n}async function dC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function M6(t){return Number(t.replace("s","000"))}function L6(t){return`${iC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aC(t),s=uC(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:iC,appId:t.appId,sdkVersion:sC},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dC(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:lC(d.authToken)}}else throw await cC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=/^[cdef][\w-]{21}$/,Eg="";function B6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$6(t);return U6.test(n)?n:Eg}catch{return Eg}}function $6(t){return F6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Map;function pC(t,e){const n=ff(t);mC(n,e),z6(n,e)}function mC(t,e){const n=fC.get(t);if(n)for(const r of n)r(e)}function z6(t,e){const n=W6();n&&n.postMessage({key:t,fid:e}),H6()}let Ii=null;function W6(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=t=>{mC(t.data.key,t.data.fid)}),Ii}function H6(){fC.size===0&&Ii&&(Ii.close(),Ii=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="firebase-installations-database",G6=1,zi="firebase-installations-store";let Lp=null;function Pv(){return Lp||(Lp=Ob(q6,G6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zi)}}})),Lp}async function mh(t,e){const n=ff(t),s=(await Pv()).transaction(zi,"readwrite"),i=s.objectStore(zi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&pC(t,e.fid),e}async function gC(t){const e=ff(t),r=(await Pv()).transaction(zi,"readwrite");await r.objectStore(zi).delete(e),await r.done}async function pf(t,e){const n=ff(t),s=(await Pv()).transaction(zi,"readwrite"),i=s.objectStore(zi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&pC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dv(t){let e;const n=await pf(t.appConfig,r=>{const s=K6(r),i=Y6(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Eg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function K6(t){const e=t||{fid:B6(),registrationStatus:0};return yC(e)}function Y6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject($i.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Q6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X6(t)}:{installationEntry:e}}async function Q6(t,e){try{const n=await V6(t,e);return mh(t.appConfig,n)}catch(n){throw oC(n)&&n.customData.serverCode===409?await gC(t.appConfig):await mh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X6(t){let e=await W0(t.appConfig);for(;e.registrationStatus===1;)await hC(100),e=await W0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Dv(t);return r||n}return e}function W0(t){return pf(t,e=>{if(!e)throw $i.create("installation-not-found");return yC(e)})}function yC(t){return J6(t)?{fid:t.fid,registrationStatus:0}:t}function J6(t){return t.registrationStatus===1&&t.registrationTime+rC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6({appConfig:t,heartbeatServiceProvider:e},n){const r=e3(t,n),s=j6(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:sC,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dC(()=>fetch(r,a));if(l.ok){const d=await l.json();return lC(d)}else throw await cC("Generate Auth Token",l)}function e3(t,{fid:e}){return`${aC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(t,e=!1){let n;const r=await pf(t.appConfig,i=>{if(!vC(i))throw $i.create("not-registered");const o=i.authToken;if(!e&&r3(o))return i;if(o.requestStatus===1)return n=t3(t,e),i;{if(!navigator.onLine)throw $i.create("app-offline");const a=i3(i);return n=n3(t,a),a}});return n?await n:r.authToken}async function t3(t,e){let n=await H0(t.appConfig);for(;n.authToken.requestStatus===1;)await hC(100),n=await H0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ov(t,e):r}function H0(t){return pf(t,e=>{if(!vC(e))throw $i.create("not-registered");const n=e.authToken;return o3(n)?{...e,authToken:{requestStatus:0}}:e})}async function n3(t,e){try{const n=await Z6(t,e),r={...e,authToken:n};return await mh(t.appConfig,r),n}catch(n){if(oC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await mh(t.appConfig,r)}throw n}}function vC(t){return t!==void 0&&t.registrationStatus===2}function r3(t){return t.requestStatus===2&&!s3(t)}function s3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+R6}function i3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function o3(t){return t.requestStatus===1&&t.requestTime+rC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Dv(e);return r?r.catch(console.error):Ov(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e=!1){const n=t;return await c3(n),(await Ov(n,e)).token}async function c3(t){const{registrationPromise:e}=await Dv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){if(!t||!t.options)throw Vp("App Configuration");if(!t.name)throw Vp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vp(t){return $i.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="installations",d3="installations-internal",h3=t=>{const e=t.getProvider("app").getImmediate(),n=u3(e),r=to(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f3=t=>{const e=t.getProvider("app").getImmediate(),n=to(e,wC).getImmediate();return{getId:()=>a3(n),getToken:s=>l3(n,s)}};function p3(){Er(new Yn(wC,h3,"PUBLIC")),Er(new Yn(d3,f3,"PRIVATE"))}p3();Dn(nC,Rv);Dn(nC,Rv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",m3="firebase_id",g3="origin",y3=60*1e3,v3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new eo("analytics","Analytics",w3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){if(!t.startsWith(jv)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return cn.warn(e.message),""}return t}function _C(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function x3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function E3(t,e){const n=x3("firebase-js-sdk-policy",{createScriptURL:_3}),r=document.createElement("script"),s=`${jv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function T3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function S3(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await _C(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){cn.error(a)}t("config",s,i)}async function b3(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await _C(n);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){cn.error(i)}}function I3(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await b3(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await S3(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){cn.error(a)}}return s}function C3(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=I3(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function A3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=30,N3=1e3;class R3{constructor(e={},n=N3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xC=new R3;function P3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function D3(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:P3(n)},s=v3.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function O3(t,e=xC,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw vn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new L3;return setTimeout(async()=>{a.abort()},y3),EC({appId:r,apiKey:s,measurementId:i},o,a,e)}async function EC(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=xC){var a;const{appId:i,measurementId:o}=t;try{await j3(r,e)}catch(l){if(o)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await D3(t);return s.deleteThrottleMetadata(i),l}catch(l){const d=l;if(!M3(d)){if(s.deleteThrottleMetadata(i),o)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?yx(n,s.intervalMillis,k3):yx(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),cn.debug(`Calling attemptFetch again in ${h} millis`),EC(t,f,r,s)}}function j3(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function M3(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class L3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function V3(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(){if(Nb())try{await Rb()}catch(t){return cn.warn(vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return cn.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U3(t,e,n,r,s,i,o){const a=O3(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>cn.error(p)),e.push(a);const l=F3().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,l]);A3(i)||E3(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[g3]="firebase",f.update=!0,h!=null&&(f[m3]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.app=e}_delete(){return delete Ml[this.app.options.appId],Promise.resolve()}}let Ml={},q0=[];const G0={};let Fp="dataLayer",$3="gtag",K0,TC,Y0=!1;function z3(){const t=[];if(kb()&&t.push("This is a browser extension environment."),PO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});cn.warn(n.message)}}function W3(t,e,n){z3();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Ml[r]!=null)throw vn.create("already-exists",{id:r});if(!Y0){T3(Fp);const{wrappedGtag:i,gtagCore:o}=C3(Ml,q0,G0,Fp,$3);TC=i,K0=o,Y0=!0}return Ml[r]=U3(t,q0,G0,e,K0,Fp,n),new B3(t)}function H3(t=Uy()){t=mt(t);const e=to(t,gh);return e.isInitialized()?e.getImmediate():q3(t)}function q3(t,e={}){const n=to(t,gh);if(n.isInitialized()){const s=n.getImmediate();if($s(e,n.getOptions()))return s;throw vn.create("already-initialized")}return n.initialize({options:e})}function G3(t,e,n,r){t=mt(t),V3(TC,Ml[t.app.options.appId],e,n,r).catch(s=>cn.error(s))}const Q0="@firebase/analytics",X0="0.10.18";function K3(){Er(new Yn(gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return W3(r,s,n)},"PUBLIC")),Er(new Yn("analytics-internal",t,"PRIVATE")),Dn(Q0,X0),Dn(Q0,X0,"esm2020");function t(e){try{const n=e.getProvider(gh).getImmediate();return{logEvent:(r,s,i)=>G3(n,r,s,i)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}K3();const Y3={apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"},Mv=jb(Y3),Bu=uL(Mv),Fc=u6(Mv);typeof window<"u"&&H3(Mv);const SC=y.createContext(void 0),Q3=()=>{const t=y.useContext(SC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},X3=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>JM(Bu,h=>{n(h),s(!1)}),[]);const l={user:e,login:async(d,h)=>{await YM(Bu,d,h)},register:async(d,h)=>{await KM(Bu,d,h)},logout:async()=>{await ZM(Bu)},loading:r};return c.jsx(SC.Provider,{value:l,children:!r&&t})};function J0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=J0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():J0(t[s],null)}}}}function $e(...t){return y.useCallback(bC(...t),t)}function Wi(t){const e=Z3(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(tU);if(l){const d=l.props.children,h=a.map(f=>f===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return c.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var J3=Wi("Slot");function Z3(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=rU(s),a=nU(i,s.props);return s.type!==y.Fragment&&(a.ref=r?bC(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eU=Symbol("radix.slottable");function tU(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eU}function nU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function rU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function IC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=IC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=IC(t))&&(r&&(r+=" "),r+=e);return r}const Z0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eE=CC,Lv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return eE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=Z0(h)||Z0(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...w}=h;return Object.entries(w).every(_=>{let[x,S]=_;return Array.isArray(S)?S.includes({...i,...a}[x]):{...i,...a}[x]===S})?[...d,f,p]:d},[]);return eE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Vv="-",sU=t=>{const e=oU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Vv);return a[0]===""&&a.length!==1&&a.shift(),AC(a,e)||iU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},AC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?AC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Vv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},tE=/^\[(.+)\]$/,iU=t=>{if(tE.test(t)){const e=tE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return lU(Object.entries(t.classGroups),n).forEach(([i,o])=>{Tg(o,r,i,e)}),r},Tg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:nE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(aU(s)){Tg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Tg(o,nE(e,i),n,r)})})},nE=(t,e)=>{let n=t;return e.split(Vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aU=t=>t.isThemeGetter,lU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,cU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},kC="!",uU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let S=0;S<a.length;S++){let g=a[S];if(d===0){if(g===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(h,S)),h=S+i;continue}if(g==="/"){f=S;continue}}g==="["?d++:g==="]"&&d--}const p=l.length===0?a:a.substring(h),w=p.startsWith(kC),_=w?p.substring(1):p,x=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},dU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},hU=t=>({cache:cU(t.cacheSize),parseClassName:uU(t),...sU(t)}),fU=/\s+/,pU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(fU);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:w}=n(d);let _=!!w,x=r(_?p.substring(0,w):p);if(!x){if(!_){a=d+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=d+(a.length>0?" "+a:a);continue}_=!1}const S=dU(h).join(":"),g=f?S+kC:S,v=g+x;if(i.includes(v))continue;i.push(v);const T=s(x,_);for(let D=0;D<T.length;++D){const P=T[D];i.push(g+P)}a=d+(a.length>0?" "+a:a)}return a};function mU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NC(e))&&(r&&(r+=" "),r+=n);return r}const NC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NC(t[r]))&&(n&&(n+=" "),n+=e);return n};function gU(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=hU(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=pU(l,n);return s(l,h),h}return function(){return i(mU.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RC=/^\[(?:([a-z-]+):)?(.+)\]$/i,yU=/^\d+\/\d+$/,vU=new Set(["px","full","screen"]),wU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_U=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=t=>Ko(t)||vU.has(t)||yU.test(t),fs=t=>Na(t,"length",RU),Ko=t=>!!t&&!Number.isNaN(Number(t)),Up=t=>Na(t,"number",Ko),nl=t=>!!t&&Number.isInteger(Number(t)),SU=t=>t.endsWith("%")&&Ko(t.slice(0,-1)),de=t=>RC.test(t),ps=t=>wU.test(t),bU=new Set(["length","size","percentage"]),IU=t=>Na(t,bU,PC),CU=t=>Na(t,"position",PC),AU=new Set(["image","url"]),kU=t=>Na(t,AU,DU),NU=t=>Na(t,"",PU),rl=()=>!0,Na=(t,e,n)=>{const r=RC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},RU=t=>_U.test(t)&&!xU.test(t),PC=()=>!1,PU=t=>EU.test(t),DU=t=>TU.test(t),OU=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),d=We("grayscale"),h=We("hueRotate"),f=We("invert"),p=We("gap"),w=We("gradientColorStops"),_=We("gradientColorStopPositions"),x=We("inset"),S=We("margin"),g=We("opacity"),v=We("padding"),T=We("saturate"),D=We("scale"),P=We("sepia"),j=We("skew"),I=We("space"),b=We("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",de,e],k=()=>[de,e],R=()=>["",Or,fs],H=()=>["auto",Ko,de],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",de],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Ko,de];return{cacheSize:500,separator:":",theme:{colors:[rl],spacing:[Or,fs],blur:["none","",ps,de],brightness:ie(),borderColor:[t],borderRadius:["none","","full",ps,de],borderSpacing:k(),borderWidth:R(),contrast:ie(),grayscale:$(),hueRotate:ie(),invert:$(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[SU,fs],inset:O(),margin:O(),opacity:ie(),padding:k(),saturate:ie(),scale:ie(),sepia:$(),skew:ie(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),de]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nl,de]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",nl,de]}],"grid-cols":[{"grid-cols":[rl]}],"col-start-end":[{col:["auto",{span:["full",nl,de]},de]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[rl]}],"row-start-end":[{row:["auto",{span:[nl,de]},de]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Ko,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Or,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Or,fs]}],"underline-offset":[{"underline-offset":["auto",Or,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),CU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Or,de]}],"outline-w":[{outline:[Or,fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Or,fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ps,NU]}],"shadow-color":[{shadow:[rl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ps,de]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[nl,de]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Or,fs,Up]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jU=gU(OU);function Z(...t){return jU(CC(t))}const Sg=Lv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?J3:"button";return c.jsx(o,{className:Z(Sg({variant:e,size:n,className:t})),ref:i,...s})});se.displayName="Button";const Re=y.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Z("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Re.displayName="Card";const lt=y.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Z("flex flex-col space-y-1.5 p-6",t),...e}));lt.displayName="CardHeader";const ct=y.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Z("text-2xl font-semibold leading-none tracking-tight",t),...e}));ct.displayName="CardTitle";const gn=y.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Z("text-sm text-muted-foreground",t),...e}));gn.displayName="CardDescription";const Ve=y.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Z("p-6 pt-0",t),...e}));Ve.displayName="CardContent";const MU=y.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Z("flex items-center p-6 pt-0",t),...e}));MU.displayName="CardFooter";const LU=Lv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gn({className:t,variant:e,...n}){return c.jsx("div",{className:Z(LU({variant:e}),t),...n})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...FU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DC("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(UU,{ref:i,iconNode:e,className:DC(`lucide-${VU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Fe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Fe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Fe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function YU(){return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50",children:[c.jsx("section",{className:"relative py-20 px-4",children:c.jsxs("div",{className:"container mx-auto max-w-6xl text-center",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(Gn,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm font-medium",children:[c.jsx(GU,{className:"h-4 w-4 mr-2"}),"Connecting Communities Through Events"]})}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 tracking-tight",children:["Welcome to"," ",c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Voxxy Presents"})]}),c.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"We simplify recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[c.jsxs(se,{size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-lg px-8 py-6",children:["Get Started",c.jsx($u,{className:"ml-2 h-5 w-5"})]}),c.jsx(se,{variant:"outline",size:"lg",className:"text-lg px-8 py-6",asChild:!0,children:c.jsxs(nc,{to:"/brooklyn-hearts-club",children:["View Live Example",c.jsx($u,{className:"ml-2 h-5 w-5"})]})})]})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage your community events"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From event creation to community management, we've got you covered"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx(Re,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:c.jsxs(lt,{children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(xn,{className:"h-6 w-6 text-purple-600"})}),c.jsx(ct,{className:"text-xl",children:"Custom Event Pages"}),c.jsx(gn,{className:"text-gray-600",children:"Beautiful, responsive pages for each of your events with all the details your community needs"})]})}),c.jsx(Re,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:c.jsxs(lt,{children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(yh,{className:"h-6 w-6 text-purple-600"})}),c.jsx(ct,{className:"text-xl",children:"Automated Waitlists"}),c.jsx(gn,{className:"text-gray-600",children:"Never worry about capacity again. Automated waitlist management keeps everything organized"})]})}),c.jsx(Re,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:c.jsxs(lt,{children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:c.jsx(pc,{className:"h-6 w-6 text-purple-600"})}),c.jsx(ct,{className:"text-xl",children:"Community Messaging"}),c.jsx(gn,{className:"text-gray-600",children:"Keep your community engaged with seamless messaging and updates about upcoming events"})]})})]})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"See it in action"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Check out Brooklyn Hearts Club - a real community using Voxxy Presents"})]}),c.jsx(Re,{className:"max-w-4xl mx-auto border-0 shadow-xl overflow-hidden",children:c.jsx(Ve,{className:"p-8",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[c.jsxs("div",{children:[c.jsx(Gn,{className:"bg-purple-100 text-purple-800 mb-4",children:"Live Example"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brooklyn Hearts Club"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"An art club for adults that welcomes everyone. They use Voxxy Presents to manage their workshops, figure drawing sessions, and community events with ease."}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:c.jsx(se,{className:"bg-purple-600 hover:bg-purple-700",asChild:!0,children:c.jsxs(nc,{to:"/brooklyn-hearts-club",children:["Visit Brooklyn Hearts Club",c.jsx($u,{className:"ml-2 h-4 w-4"})]})})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-indigo-100 rounded-lg p-8 text-center",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),c.jsx("p",{className:"text-gray-700 font-medium",children:'"Voxxy Presents has made managing our recurring events so much easier. Our community loves the clean, organized event pages."'}),c.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"- Brooklyn Hearts Club"})]})]})})})]})}),c.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-indigo-600",children:c.jsxs("div",{className:"container mx-auto max-w-4xl px-4 text-center",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to bring your community together?"}),c.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Join communities around the world who trust Voxxy Presents to manage their events"}),c.jsxs(se,{size:"lg",variant:"secondary",className:"text-lg px-8 py-6",children:["Start Building Your Community",c.jsx($u,{className:"ml-2 h-5 w-5"})]})]})}),c.jsx("footer",{className:"bg-gray-900 text-white py-12",children:c.jsxs("div",{className:"container mx-auto max-w-6xl px-4",children:[c.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h3",{className:"text-2xl font-bold text-purple-400 mb-4",children:"voxxypresents"}),c.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Simplifying recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),c.jsxs("ul",{className:"space-y-2 text-gray-300",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Examples"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),c.jsxs("ul",{className:"space-y-2 text-gray-300",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Status"})})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:c.jsx("p",{className:"text-gray-400",children:"© 2024 Voxxy. All rights reserved."})})]})})]})}const QU="http://localhost:3001/api";class _d extends Error{constructor(n,r){super(n);Zw(this,"status");this.status=r,this.name="ApiError"}}async function An(t,e){const n=`${QU}${t}`;try{const r=await fetch(n,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e}),s=await r.json();if(!r.ok)throw new _d(s.message||"API request failed",r.status);return s}catch(r){throw r instanceof _d?r:new _d("Network error",0)}}const Ig={async getBySlug(t){return An(`/organizations/${t}`)},async create(t){return An("/organizations",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return An(`/organizations/${t}`,{method:"PUT",body:JSON.stringify(e)})}},Hi={async getById(t){return An(`/events/${t}`)},async getByOrganization(t){return An(`/events?organization=${t}`)},async getAll(){return An("/events")},async create(t){return An("/events",{method:"POST",body:JSON.stringify(t)})},async update(t,e){return An(`/events/${t}`,{method:"PUT",body:JSON.stringify(e)})},async delete(t){return An(`/events/${t}`,{method:"DELETE"})}},XU={async create(t){return An("/registrations",{method:"POST",body:JSON.stringify(t)})},async getByEvent(t){return An(`/registrations/event/${t}`)},async markEmailSent(t){return An(`/registrations/${t}/email-sent`,{method:"PATCH"})}};function JU(){const[t,e]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState(!0),[o,a]=y.useState(null);y.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0),a(null);const h=await Ig.getBySlug("brooklyn-hearts-club");e(h);const f=await Hi.getByOrganization(h.id);r(f)}catch(h){console.error("Error loading Brooklyn Hearts Club data:",h),a(h instanceof Error?h.message:"Failed to load data")}finally{i(!1)}};return{organization:t,events:n,loading:s,error:o,refreshEvents:async()=>{if(t)try{const h=await Hi.getByOrganization(t.id);r(h)}catch(h){console.error("Error refreshing events:",h)}},reload:l}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ZU(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ai(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const d=f=>{var g;const{scope:p,children:w,..._}=f,x=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,S=y.useMemo(()=>_,Object.values(_));return c.jsx(x.Provider,{value:S,children:w})};d.displayName=i+"Provider";function h(f,p){var x;const w=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=y.useContext(w);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,e5(s,...e)]}function e5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Kt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},t5=eT[" useId ".trim().toString()]||(()=>{}),n5=0;function Gr(t){const[e,n]=y.useState(t5());return Kt(()=>{n(r=>r??String(n5++))},[t]),e?`radix-${e}`:""}var r5=eT[" useInsertionEffect ".trim().toString()]||Kt;function qi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=s5({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const p=i5(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,d]}function s5({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return r5(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function i5(t){return typeof t=="function"}var o5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=o5.reduce((t,e)=>{const n=Wi(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function a5(t,e){t&&wa.flushSync(()=>t.dispatchEvent(e))}function Qs(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function l5(t,e=globalThis==null?void 0:globalThis.document){const n=Qs(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var c5="DismissableLayer",Cg="dismissableLayer.update",u5="dismissableLayer.pointerDownOutside",d5="dismissableLayer.focusOutside",oE,VC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=y.useContext(VC),[h,f]=y.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=y.useState({}),_=$e(e,I=>f(I)),x=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(S),v=h?x.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,D=v>=g,P=p5(I=>{const b=I.target,A=[...d.branches].some(N=>N.contains(b));!D||A||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),j=m5(I=>{const b=I.target;[...d.branches].some(N=>N.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return l5(I=>{v===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(oE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),aE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=oE)}},[h,p,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),aE())},[h,d]),y.useEffect(()=>{const I=()=>w({});return document.addEventListener(Cg,I),()=>document.removeEventListener(Cg,I)},[]),c.jsx(ge.div,{...l,ref:_,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,j.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,P.onPointerDownCapture)})});gf.displayName=c5;var h5="DismissableLayerBranch",f5=y.forwardRef((t,e)=>{const n=y.useContext(VC),r=y.useRef(null),s=$e(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ge.div,{...t,ref:s})});f5.displayName=h5;function p5(t,e=globalThis==null?void 0:globalThis.document){const n=Qs(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){FC(u5,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function m5(t,e=globalThis==null?void 0:globalThis.document){const n=Qs(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&FC(d5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function aE(){const t=new CustomEvent(Cg);document.dispatchEvent(t)}function FC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?a5(s,i):s.dispatchEvent(i)}var Bp="focusScope.autoFocusOnMount",$p="focusScope.autoFocusOnUnmount",lE={bubbles:!1,cancelable:!0},g5="FocusScope",yf=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),d=Qs(s),h=Qs(i),f=y.useRef(null),p=$e(e,x=>l(x)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let x=function(T){if(w.paused||!a)return;const D=T.target;a.contains(D)?f.current=D:gs(f.current,{select:!0})},S=function(T){if(w.paused||!a)return;const D=T.relatedTarget;D!==null&&(a.contains(D)||gs(f.current,{select:!0}))},g=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&gs(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),v.disconnect()}}},[r,a,w.paused]),y.useEffect(()=>{if(a){uE.add(w);const x=document.activeElement;if(!a.contains(x)){const g=new CustomEvent(Bp,lE);a.addEventListener(Bp,d),a.dispatchEvent(g),g.defaultPrevented||(y5(E5(UC(a)),{select:!0}),document.activeElement===x&&gs(a))}return()=>{a.removeEventListener(Bp,d),setTimeout(()=>{const g=new CustomEvent($p,lE);a.addEventListener($p,h),a.dispatchEvent(g),g.defaultPrevented||gs(x??document.body,{select:!0}),a.removeEventListener($p,h),uE.remove(w)},0)}}},[a,d,h,w]);const _=y.useCallback(x=>{if(!n&&!r||w.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(S&&g){const v=x.currentTarget,[T,D]=v5(v);T&&D?!x.shiftKey&&g===D?(x.preventDefault(),n&&gs(T,{select:!0})):x.shiftKey&&g===T&&(x.preventDefault(),n&&gs(D,{select:!0})):g===v&&x.preventDefault()}},[n,r,w.paused]);return c.jsx(ge.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});yf.displayName=g5;function y5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gs(r,{select:e}),document.activeElement!==n)return}function v5(t){const e=UC(t),n=cE(e,t),r=cE(e.reverse(),t);return[n,r]}function UC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cE(t,e){for(const n of t)if(!w5(n,{upTo:e}))return n}function w5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _5(t){return t instanceof HTMLInputElement&&"select"in t}function gs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_5(t)&&e&&t.select()}}var uE=x5();function x5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=dE(t,e),t.unshift(e)},remove(e){var n;t=dE(t,e),(n=t[0])==null||n.resume()}}}function dE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function E5(t){return t.filter(e=>e.tagName!=="A")}var T5="Portal",vf=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Kt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?z2.createPortal(c.jsx(ge.div,{...r,ref:e}),o):null});vf.displayName=T5;function S5(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var io=t=>{const{present:e,children:n}=t,r=b5(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=$e(r.ref,I5(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};io.displayName="Presence";function b5(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=S5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=zu(r.current);i.current=a==="mounted"?d:"none"},[a]),Kt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,w=zu(d);t?l("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=w=>{const x=zu(r.current).includes(w.animationName);if(w.target===e&&x&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=w=>{w.target===e&&(i.current=zu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function zu(t){return(t==null?void 0:t.animationName)||"none"}function I5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zp=0;function Bv(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hE()),document.body.insertAdjacentElement("beforeend",t[1]??hE()),zp++,()=>{zp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zp--}},[])}function hE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function BC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function C5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var xd="right-scroll-bar-position",Ed="width-before-scroll-bar",A5="with-scroll-bars-hidden",k5="--removed-body-scroll-bar-size";function Wp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function N5(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var R5=typeof window<"u"?y.useLayoutEffect:y.useEffect,fE=new WeakMap;function P5(t,e){var n=N5(null,function(r){return t.forEach(function(s){return Wp(s,r)})});return R5(function(){var r=fE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wp(a,null)}),i.forEach(function(a){s.has(a)||Wp(a,o)})}fE.set(n,t)},[t]),n}function D5(t){return t}function O5(t,e){e===void 0&&(e=D5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function j5(t){t===void 0&&(t={});var e=O5(null);return e.options=lr({async:!0,ssr:!1},t),e}var $C=function(t){var e=t.sideCar,n=BC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,lr({},n))};$C.isSideCarExport=!0;function M5(t,e){return t.useMedium(e),$C}var zC=j5(),Hp=function(){},wf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Hp,onWheelCapture:Hp,onTouchMoveCapture:Hp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,w=t.noRelative,_=t.noIsolation,x=t.inert,S=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,T=t.gapMode,D=BC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,j=P5([n,e]),I=lr(lr({},D),s);return y.createElement(y.Fragment,null,h&&y.createElement(P,{sideCar:zC,removeScrollBar:d,shards:f,noRelative:w,noIsolation:_,inert:x,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),lr(lr({},I),{ref:j})):y.createElement(v,lr({},I,{className:l,ref:j}),a))});wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wf.classNames={fullWidth:Ed,zeroRight:xd};var L5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=L5();return e&&t.setAttribute("nonce",e),t}function F5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function U5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=V5())&&(F5(e,n),U5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$5=function(){var t=B5();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},WC=function(){var t=$5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},z5={left:0,top:0,right:0,gap:0},qp=function(t){return parseInt(t||"",10)||0},W5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[qp(n),qp(r),qp(s)]},H5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return z5;var e=W5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},q5=WC(),Yo="data-scroll-locked",G5=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(A5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xd," .").concat(xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(k5,": ").concat(a,`px;
  }
`)},pE=function(){var t=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(t)?t:0},K5=function(){y.useEffect(function(){return document.body.setAttribute(Yo,(pE()+1).toString()),function(){var t=pE()-1;t<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,t.toString())}},[])},Y5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;K5();var i=y.useMemo(function(){return H5(s)},[s]);return y.createElement(q5,{styles:G5(i,!e,s,n?"":"!important")})},Ag=!1;if(typeof window<"u")try{var Wu=Object.defineProperty({},"passive",{get:function(){return Ag=!0,!0}});window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Ag=!1}var mo=Ag?{passive:!1}:!1,Q5=function(t){return t.tagName==="TEXTAREA"},HC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Q5(t)&&n[e]==="visible")},X5=function(t){return HC(t,"overflowY")},J5=function(t){return HC(t,"overflowX")},mE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qC(t,r);if(s){var i=GC(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Z5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},e9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qC=function(t,e){return t==="v"?X5(e):J5(e)},GC=function(t,e){return t==="v"?Z5(e):e9(e)},t9=function(t,e){return t==="h"&&e==="rtl"?-1:1},n9=function(t,e,n,r,s){var i=t9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var w=GC(t,a),_=w[0],x=w[1],S=w[2],g=x-S-i*_;(_||g)&&qC(t,a)&&(f+=g,p+=_);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Hu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gE=function(t){return[t.deltaX,t.deltaY]},yE=function(t){return t&&"current"in t?t.current:t},r9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i9=0,go=[];function o9(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(i9++)[0],i=y.useState(WC)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=C5([t.lockRef.current],(t.shards||[]).map(yE),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Hu(x),v=n.current,T="deltaX"in x?x.deltaX:v[0]-g[0],D="deltaY"in x?x.deltaY:v[1]-g[1],P,j=x.target,I=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in x&&I==="h"&&j.type==="range")return!1;var b=mE(I,j);if(!b)return!0;if(b?P=I:(P=I==="v"?"h":"v",b=mE(I,j)),!b)return!1;if(!r.current&&"changedTouches"in x&&(T||D)&&(r.current=P),!P)return!0;var A=r.current||P;return n9(A,S,x,A==="h"?T:D)},[]),l=y.useCallback(function(x){var S=x;if(!(!go.length||go[go.length-1]!==i)){var g="deltaY"in S?gE(S):Hu(S),v=e.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&r9(P.delta,g)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(yE).filter(Boolean).filter(function(P){return P.contains(S.target)}),D=T.length>0?a(S,T[0]):!o.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),d=y.useCallback(function(x,S,g,v){var T={name:x,delta:S,target:g,should:v,shadowParent:a9(g)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(D){return D!==T})},1)},[]),h=y.useCallback(function(x){n.current=Hu(x),r.current=void 0},[]),f=y.useCallback(function(x){d(x.type,gE(x),x.target,a(x,t.lockRef.current))},[]),p=y.useCallback(function(x){d(x.type,Hu(x),x.target,a(x,t.lockRef.current))},[]);y.useEffect(function(){return go.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,mo),document.addEventListener("touchmove",l,mo),document.addEventListener("touchstart",h,mo),function(){go=go.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,mo),document.removeEventListener("touchmove",l,mo),document.removeEventListener("touchstart",h,mo)}},[]);var w=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(i,{styles:s9(s)}):null,w?y.createElement(Y5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function a9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const l9=M5(zC,o9);var _f=y.forwardRef(function(t,e){return y.createElement(wf,lr({},t,{ref:e,sideCar:l9}))});_f.classNames=wf.classNames;var c9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yo=new WeakMap,qu=new WeakMap,Gu={},Gp=0,KC=function(t){return t&&(t.host||KC(t.parentNode))},u9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=KC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},d9=function(t,e,n,r){var s=u9(e,Array.isArray(t)?t:[t]);Gu[n]||(Gu[n]=new WeakMap);var i=Gu[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var w=p.getAttribute(r),_=w!==null&&w!=="false",x=(yo.get(p)||0)+1,S=(i.get(p)||0)+1;yo.set(p,x),i.set(p,S),o.push(p),x===1&&_&&qu.set(p,!0),S===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return h(e),a.clear(),Gp++,function(){o.forEach(function(f){var p=yo.get(f)-1,w=i.get(f)-1;yo.set(f,p),i.set(f,w),p||(qu.has(f)||f.removeAttribute(r),qu.delete(f)),w||f.removeAttribute(n)}),Gp--,Gp||(yo=new WeakMap,yo=new WeakMap,qu=new WeakMap,Gu={})}},$v=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=c9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),d9(r,s,n,"aria-hidden")):function(){return null}},xf="Dialog",[YC,E7]=ai(xf),[h9,tr]=YC(xf),QC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[d,h]=qi({prop:r,defaultProp:s??!1,onChange:i,caller:xf});return c.jsx(h9,{scope:e,triggerRef:a,contentRef:l,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};QC.displayName=xf;var XC="DialogTrigger",f9=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(XC,n),i=$e(e,s.triggerRef);return c.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hv(s.open),...r,ref:i,onClick:fe(t.onClick,s.onOpenToggle)})});f9.displayName=XC;var zv="DialogPortal",[p9,JC]=YC(zv,{forceMount:void 0}),ZC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=tr(zv,e);return c.jsx(p9,{scope:e,forceMount:n,children:y.Children.map(r,o=>c.jsx(io,{present:n||i.open,children:c.jsx(vf,{asChild:!0,container:s,children:o})}))})};ZC.displayName=zv;var vh="DialogOverlay",eA=y.forwardRef((t,e)=>{const n=JC(vh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(vh,t.__scopeDialog);return i.modal?c.jsx(io,{present:r||i.open,children:c.jsx(g9,{...s,ref:e})}):null});eA.displayName=vh;var m9=Wi("DialogOverlay.RemoveScroll"),g9=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(vh,n);return c.jsx(_f,{as:m9,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ge.div,{"data-state":Hv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Gi="DialogContent",tA=y.forwardRef((t,e)=>{const n=JC(Gi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Gi,t.__scopeDialog);return c.jsx(io,{present:r||i.open,children:i.modal?c.jsx(y9,{...s,ref:e}):c.jsx(v9,{...s,ref:e})})});tA.displayName=Gi;var y9=y.forwardRef((t,e)=>{const n=tr(Gi,t.__scopeDialog),r=y.useRef(null),s=$e(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return $v(i)},[]),c.jsx(nA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),v9=y.forwardRef((t,e)=>{const n=tr(Gi,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return c.jsx(nA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nA=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=tr(Gi,n),l=y.useRef(null),d=$e(e,l);return Bv(),c.jsxs(c.Fragment,{children:[c.jsx(yf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(gf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Hv(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(w9,{titleId:a.titleId}),c.jsx(x9,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Wv="DialogTitle",rA=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Wv,n);return c.jsx(ge.h2,{id:s.titleId,...r,ref:e})});rA.displayName=Wv;var sA="DialogDescription",iA=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(sA,n);return c.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});iA.displayName=sA;var oA="DialogClose",aA=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(oA,n);return c.jsx(ge.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});aA.displayName=oA;function Hv(t){return t?"open":"closed"}var lA="DialogTitleWarning",[T7,cA]=ZU(lA,{contentName:Gi,titleName:Wv,docsSlug:"dialog"}),w9=({titleId:t})=>{const e=cA(lA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},_9="DialogDescriptionWarning",x9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cA(_9).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},E9=QC,T9=ZC,uA=eA,dA=tA,hA=rA,fA=iA,S9=aA;const qv=E9,b9=T9,pA=y.forwardRef(({className:t,...e},n)=>c.jsx(uA,{ref:n,className:Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pA.displayName=uA.displayName;const Ef=y.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(b9,{children:[c.jsx(pA,{}),c.jsxs(dA,{ref:r,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(S9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Bc,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ef.displayName=dA.displayName;const Tf=({className:t,...e})=>c.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Tf.displayName="DialogHeader";const Sf=y.forwardRef(({className:t,...e},n)=>c.jsx(hA,{ref:n,className:Z("text-lg font-semibold leading-none tracking-tight",t),...e}));Sf.displayName=hA.displayName;const bf=y.forwardRef(({className:t,...e},n)=>c.jsx(fA,{ref:n,className:Z("text-sm text-muted-foreground",t),...e}));bf.displayName=fA.displayName;const le=y.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));le.displayName="Input";var I9="Label",mA=y.forwardRef((t,e)=>c.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mA.displayName=I9;var gA=mA;const C9=Lv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=y.forwardRef(({className:t,...e},n)=>c.jsx(gA,{ref:n,className:Z(C9(),t),...e}));J.displayName=gA.displayName;const Kr=y.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Kr.displayName="Textarea";function yA({event:t}){const[e,n]=y.useState(!1),[r,s]=y.useState("rsvp"),[i,o]=y.useState({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:""}),[a,l]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState(null),w=()=>t.eventbriteUrl?"eventbrite":t.presaleEnabled?"presale":t.registrationRequired||t.price.type==="free"?"rsvp":null,_=g=>{s(g),n(!0),h(!1),p(null),o({name:"",email:"",phone:"",rsvpType:"rsvp_yes",notes:""})},x=async g=>{g.preventDefault(),l(!0),p(null);try{let v;r==="presale"?v="presale_request":v=i.rsvpType,await XU.create({eventId:t.id,name:i.name,email:i.email||void 0,phone:i.phone||void 0,registrationType:v,notes:i.notes||void 0}),h(!0),setTimeout(()=>{n(!1),h(!1)},2e3)}catch(v){console.error("Error submitting registration:",v),v instanceof _d?p(v.message):p("Failed to submit registration. Please try again.")}finally{l(!1)}},S=w();return S?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[S==="eventbrite"&&c.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>window.open(t.eventbriteUrl,"_blank"),children:["Get Tickets",c.jsx(mf,{className:"ml-2 h-4 w-4"})]}),S==="presale"&&c.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>_("presale"),children:["Presale",c.jsx(fc,{className:"ml-2 h-4 w-4"})]}),S==="rsvp"&&c.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>_("rsvp"),children:["RSVP",c.jsx(xn,{className:"ml-2 h-4 w-4"})]})]}),c.jsx(qv,{open:e,onOpenChange:n,children:c.jsxs(Ef,{className:"sm:max-w-md",children:[c.jsxs(Tf,{children:[c.jsx(Sf,{className:"flex items-center gap-2",children:r==="presale"?c.jsxs(c.Fragment,{children:[c.jsx(fc,{className:"h-5 w-5 text-purple-600"}),"Request Presale Information"]}):c.jsxs(c.Fragment,{children:[c.jsx(xn,{className:"h-5 w-5 text-purple-600"}),"RSVP for Event"]})}),c.jsx(bf,{children:r==="presale"?c.jsxs(c.Fragment,{children:["Get notified when tickets become available for ",c.jsx("strong",{children:t.title})]}):c.jsxs(c.Fragment,{children:["Let us know if you're planning to attend ",c.jsx("strong",{children:t.title})]})})]}),d?c.jsxs("div",{className:"text-center py-6",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(HU,{className:"h-8 w-8 text-green-600"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r==="presale"?"Request Sent!":"RSVP Submitted!"}),c.jsx("p",{className:"text-gray-600",children:r==="presale"?"The organizer will contact you when tickets are available.":"Thanks for letting us know! See you at the event."})]}):c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(J,{htmlFor:"name",children:"Name *"}),c.jsx(le,{id:"name",type:"text",placeholder:"Your name",value:i.name,onChange:g=>o(v=>({...v,name:g.target.value})),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(J,{htmlFor:"email",children:["Email ",r==="presale"?"*":"(optional)"]}),c.jsx(le,{id:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:g=>o(v=>({...v,email:g.target.value})),required:r==="presale"})]}),r==="rsvp"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(J,{children:"Will you attend?"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_yes"?"default":"outline",size:"sm",onClick:()=>o(g=>({...g,rsvpType:"rsvp_yes"})),children:"Yes"}),c.jsx(se,{type:"button",variant:i.rsvpType==="rsvp_maybe"?"default":"outline",size:"sm",onClick:()=>o(g=>({...g,rsvpType:"rsvp_maybe"})),children:"Maybe"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(J,{htmlFor:"notes",children:"Notes (optional)"}),c.jsx(Kr,{id:"notes",placeholder:"Any additional information...",value:i.notes,onChange:g=>o(v=>({...v,notes:g.target.value})),rows:2})]}),f&&c.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(se,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),c.jsx(se,{type:"submit",disabled:a||!i.name||r==="presale"&&!i.email,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:a?"Submitting...":r==="presale"?"Send Request":"Submit RSVP"})]})]})]})})]}):null}function A9(){const{organization:t,events:e,loading:n,error:r}=JU(),[s,i]=y.useState([]),o=a=>{i(l=>l.includes(a)?l.filter(d=>d!==a):[...l,a])};return n?c.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ha,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),c.jsx("p",{className:"text-gray-600",children:"Loading Brooklyn Hearts Club..."})]})}):r?c.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",r]}),c.jsx(se,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):t?c.jsxs("div",{className:"min-h-screen bg-white",children:[c.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[c.jsx("img",{src:"/brooklyn-hearts-club-banner.svg?height=320&width=1200",alt:"Art Club Header",className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/30"}),c.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:c.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[c.jsx("img",{src:"/brooklyn-hearts-club-logo.svg?height=80&width=80",alt:"Brooklyn Hearts club Logo",width:80,height:80,className:"rounded-full border-4 border-white"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-bold",children:t.name}),c.jsx("p",{className:"text-lg text-gray-200",children:t.description})]})]})})]}),c.jsx("section",{className:"py-12 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",t.name]}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.bio})]})})}),c.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[c.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),e.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):c.jsx("div",{className:"space-y-6",children:e.map(a=>c.jsx(Re,{className:"hover:shadow-lg transition-shadow duration-300",children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[c.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Gn,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:a.category}),a.isRecurring&&c.jsxs(Gn,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(MC,{className:"h-3 w-3"}),"Recurring"]}),c.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.series&&c.jsx("div",{className:"mb-2",children:c.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",a.series.name]})}),c.jsx("p",{className:"text-gray-600 mb-3",children:a.description}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"h-4 w-4 mr-2"}),new Date(a.date).toLocaleDateString()," • ",a.time]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(pc,{className:"h-4 w-4 mr-2"}),a.location]})]}),c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",a.price.description]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[c.jsx(yA,{event:a}),c.jsxs(se,{variant:"outline",onClick:()=>o(a.id),className:"flex items-center gap-2",children:["Details",s.includes(a.id)?c.jsx(Fv,{className:"h-4 w-4"}):c.jsx(Uc,{className:"h-4 w-4"})]})]})]}),s.includes(a.id)&&c.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[a.series&&c.jsxs("div",{children:[c.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",a.series.name]}),c.jsx("p",{className:"text-gray-600 text-sm",children:a.series.description})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),c.jsx("p",{className:"text-gray-600 text-sm mb-3",children:a.fullDescription}),c.jsx("div",{className:"text-sm text-gray-600",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Address:"})," ",a.address]})})]}),a.isRecurring&&a.recurringDates&&c.jsxs("div",{children:[c.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),c.jsx("div",{className:"space-y-2",children:a.recurringDates.map((l,d)=>c.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[c.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:l.date}),c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium text-gray-900",children:[l.theme,":"]}),c.jsx("span",{className:"text-gray-600 ml-1",children:l.description})]})]},d))})]})]})]})})},a.id))})]})}),c.jsx("section",{id:"about",className:"py-20",children:c.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[c.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",t.name]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsx("div",{children:c.jsx("img",{src:"/brooklyn-hearts-club-about-images-1.svg?height=400&width=600",alt:"Art Club Members",width:600,height:400,className:"rounded-lg shadow-lg"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Founded in 2018 by a group of passionate local artists, Brooklyn Hearts club began as a small gathering in a converted warehouse space. What started as weekly sketch sessions has grown into a thriving community of over 200 members from all walks of life."}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our club welcomes artists of all skill levels, from complete beginners picking up a brush for the first time to seasoned professionals looking to connect with fellow creatives. We offer a diverse range of activities including workshops, exhibitions, collaborative projects, and social events."}),c.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),c.jsxs("ul",{className:"space-y-2 text-gray-700",children:[c.jsxs("li",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Weekly open studio sessions with shared materials"]}),c.jsxs("li",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Monthly workshops led by professional artists"]}),c.jsxs("li",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Quarterly exhibitions showcasing member artwork"]}),c.jsxs("li",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Access to professional-grade equipment and studio space"]}),c.jsxs("li",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),"Networking opportunities with local galleries and art organizations"]})]}),c.jsxs("div",{className:"pt-6",children:[c.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",children:c.jsx(jC,{className:"h-6 w-6"})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Bluesky",children:c.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.015.27-.031.402-.05-.132.019-.266.035-.402.05-2.67-.296-5.568.628-6.383 3.364C.378 17.804 0 22.764 0 23.452c0 .688.139 1.86.902 2.203.659.299 1.664.621 4.3-1.239C7.954 22.474 10.913 18.535 12 16.421c1.087 2.114 4.046 6.053 6.798 7.995 2.636 1.86 3.641 1.538 4.3 1.239.763-.343.902-1.515.902-2.203 0-.688-.378-5.648-.624-6.477-.815-2.736-3.713-3.66-6.383-3.364-.136.015-.27-.031-.402.05.132-.019.266.035.402-.50 2.67.296 5.568-.628 6.383-3.364.246-.829.624-5.789.624-6.479 0-.688-.139-1.86-.902-2.203-.659-.299-1.664-.621-4.3 1.239C16.046 4.747 13.087 8.686 12 10.8z"})})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"LinkTree",children:c.jsx(mf,{className:"h-6 w-6"})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",children:c.jsx(xn,{className:"h-6 w-6"})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",children:c.jsx(OC,{className:"h-6 w-6"})})]})]})]})]})]})}),c.jsx("footer",{className:"bg-gray-900 text-white py-8",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),c.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),c.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[c.jsxs("div",{className:"group relative",children:[c.jsx(pc,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),c.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"123 Art Street, Creative District"})]}),c.jsxs("div",{className:"group relative",children:[c.jsx(fc,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),c.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"team@heyvoxxy"})]}),c.jsxs("div",{className:"group relative",children:[c.jsx("svg",{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),c.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Connect on LinkedIn"})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:c.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):c.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:c.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}const vA=lf(Fc,"organizations"),wA=lf(Fc,"events");lf(Fc,"registrations");lf(Fc,"users");const k9=async t=>(await eC(vA,{...t,createdAt:ke.now(),updatedAt:ke.now()})).id,gl=async t=>{const e=Y1(vA,Q1("slug","==",t),T6(1)),n=await Z1(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null},N9=async(t,e)=>{const n=$1(Fc,"organizations",t),r={...e,updatedAt:ke.now()};await A6(n,r);const s=await C6(n);if(s.exists()){const i=s.data();return{id:s.id,...i,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()}}throw new Error("Failed to retrieve updated organization")},R9=async t=>(await eC(wA,{...t,date:ke.fromDate(t.date),endDate:t.endDate?ke.fromDate(t.endDate):null,createdAt:ke.now(),updatedAt:ke.now()})).id,kg=async t=>{const e=Y1(wA,Q1("organizationId","==",t),E6("date","desc"));return(await Z1(e)).docs.map(r=>{var i;const s=r.data();return{id:r.id,...s,date:s.date.toDate(),endDate:(i=s.endDate)==null?void 0:i.toDate(),createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()}})};function Ku(){return{apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",databaseURL:"https://voxxy-presents-default-rtdb.firebaseio.com",projectId:"voxxy-presents",storageBucket:"voxxy-presents.firebasestorage.app",messagingSenderId:"267601188129",appId:"1:267601188129:web:ce80873298d39444ac1a60",measurementId:"G-Q74Z0C9R28"}}const _A={development:{name:"development",dataSource:"firebase",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}},staging:{name:"staging",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-staging.run.app/api",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!1,dataSyncFromProduction:!0}},production:{name:"production",dataSource:"api",apiBaseUrl:"https://voxxy-presents-api-dlr7d5geuq-uc.a.run.app/api",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!1,experimentalFeatures:!1,dataSyncFromProduction:!1}},sandbox:{name:"sandbox",dataSource:"firebase",firebaseConfig:Ku(),features:{adminControls:!0,debugMode:!0,experimentalFeatures:!0,dataSyncFromProduction:!1}}};function wh(){const t="development";if(_A[t])return t;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"development":e.includes("staging")||e.includes("dev")?"staging":e.includes("sandbox")||e.includes("experimental")?"sandbox":"production"}function Gv(){const t=wh();return _A[t]}function Kv(t){return Gv().features[t]}function vE(){return Gv().dataSource}function wE(){return Gv().apiBaseUrl}function xA(t){const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState(!0),[a,l]=y.useState(null),d=y.useCallback(async()=>{try{o(!0),l(null);const p=wh(),w=vE(),_=wE();if(console.log(`Loading data for ${t} in ${p} environment using ${w}`),w==="firebase"){console.log("Using Firebase directly");const x=await gl(t);if(!x)throw new Error(`Organization '${t}' not found in ${p} environment`);n(x);const S=await kg(x.id);s(S)}else if(w==="api"&&_){console.log(`Using API: ${_}`);const x=await Ig.getBySlug(t);n(x);const S=await Hi.getByOrganization(x.id);s(S)}else throw new Error(`Invalid data source configuration for ${p} environment`)}catch(p){console.error(`Error loading ${t} data:`,p),l(p instanceof Error?p.message:"Failed to load data")}finally{o(!1)}},[t]);return y.useEffect(()=>{t&&d()},[t,d]),{organization:e,events:r,loading:i,error:a,refreshEvents:async()=>{if(e)try{const p=await Hi.getByOrganization(e.id);s(p)}catch(p){console.error("Error refreshing events:",p)}},updateOrganization:async p=>{if(e)try{const w=wh(),_=vE(),x=wE();if(console.log(`Updating organization in ${w} environment using ${_}`),_==="firebase"){console.log("Updating organization via Firebase (development/sandbox)");const S=await N9(e.id,p);n(S),console.log(`✅ Organization updated successfully in Firebase (${w})`)}else if(_==="api"&&x){console.log(`Updating organization via API: ${x}`);const S=await Ig.update(e.id,p);n(S)}else throw new Error(`Invalid update configuration for ${w} environment`)}catch(w){throw console.error("Error updating organization:",w),w}},reload:d}}function EA({organization:t,onSave:e,onCancel:n,isFullPage:r=!1,isSaving:s=!1}){const[i,o]=y.useState({name:t.name,description:t.description,bio:t.bio,contactEmail:t.contactEmail,logoUrl:t.logoUrl||"",bannerUrl:t.bannerUrl||"",socialLinks:{instagram:t.socialLinks.instagram||"",website:t.socialLinks.website||"",eventbrite:t.socialLinks.eventbrite||"",venmo:t.socialLinks.venmo||""},settings:{defaultLocation:t.settings.defaultLocation,defaultAddress:t.settings.defaultAddress,theme:{primaryColor:t.settings.theme.primaryColor,backgroundColor:t.settings.theme.backgroundColor}}}),[a,l]=y.useState(!1),d=s||a,h=(_,x)=>{o(S=>({...S,[_]:x}))},f=(_,x,S)=>{o(g=>({...g,[_]:{...g[_],[x]:S}}))},p=(_,x)=>{o(S=>({...S,settings:{...S.settings,theme:{...S.settings.theme,[_]:x}}}))},w=async _=>{_.preventDefault(),s||l(!0);try{await e(i)}catch(x){console.error("Failed to save organization:",x)}finally{s||l(!1)}};return c.jsxs("div",{className:r?"":"p-6",children:[!r&&c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Organization"}),c.jsx("p",{className:"text-gray-600",children:"Update your organization's details and settings"})]}),c.jsxs(se,{onClick:n,variant:"outline",size:"sm",children:[c.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),c.jsxs("form",{onSubmit:w,className:"space-y-6",children:[c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Basic Information"}),c.jsx(gn,{children:"Core details about your organization"})]}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"name",children:"Organization Name"}),c.jsx(le,{id:"name",value:i.name,onChange:_=>h("name",_.target.value),placeholder:"Organization Name"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"contactEmail",children:"Contact Email"}),c.jsx(le,{id:"contactEmail",type:"email",value:i.contactEmail,onChange:_=>h("contactEmail",_.target.value),placeholder:"contact@organization.com"})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"description",children:"Short Description"}),c.jsx(le,{id:"description",value:i.description,onChange:_=>h("description",_.target.value),placeholder:"Brief description for headers and previews"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"bio",children:"Full Bio"}),c.jsx(Kr,{id:"bio",value:i.bio,onChange:_=>h("bio",_.target.value),placeholder:"Detailed description about your organization",rows:4})]})]})]}),c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Media & Branding"}),c.jsx(gn,{children:"Images and visual identity for your organization"})]}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"logoUrl",children:"Logo URL"}),c.jsx(le,{id:"logoUrl",value:i.logoUrl,onChange:_=>h("logoUrl",_.target.value),placeholder:"https://example.com/logo.png"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"bannerUrl",children:"Banner Image URL"}),c.jsx(le,{id:"bannerUrl",value:i.bannerUrl,onChange:_=>h("bannerUrl",_.target.value),placeholder:"https://example.com/banner.jpg"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"primaryColor",children:"Primary Color"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(le,{id:"primaryColor",value:i.settings.theme.primaryColor,onChange:_=>p("primaryColor",_.target.value),placeholder:"#8b5cf6"}),c.jsx("input",{type:"color",value:i.settings.theme.primaryColor,onChange:_=>p("primaryColor",_.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"backgroundColor",children:"Background Color"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(le,{id:"backgroundColor",value:i.settings.theme.backgroundColor,onChange:_=>p("backgroundColor",_.target.value),placeholder:"#ffffff"}),c.jsx("input",{type:"color",value:i.settings.theme.backgroundColor,onChange:_=>p("backgroundColor",_.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"})]})]})]})]})]}),c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Default Location"}),c.jsx(gn,{children:"Default venue information for events"})]}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"defaultLocation",children:"Venue Name"}),c.jsx(le,{id:"defaultLocation",value:i.settings.defaultLocation,onChange:_=>f("settings","defaultLocation",_.target.value),placeholder:"Venue Name"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"defaultAddress",children:"Address"}),c.jsx(le,{id:"defaultAddress",value:i.settings.defaultAddress,onChange:_=>f("settings","defaultAddress",_.target.value),placeholder:"123 Main St, City, State 12345"})]})]})]}),c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Social Media & Links"}),c.jsx(gn,{children:"Connect your social media accounts and external links"})]}),c.jsx(Ve,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"instagram",children:"Instagram Handle"}),c.jsx(le,{id:"instagram",value:i.socialLinks.instagram,onChange:_=>f("socialLinks","instagram",_.target.value),placeholder:"@yourhandle"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"website",children:"Website URL"}),c.jsx(le,{id:"website",value:i.socialLinks.website,onChange:_=>f("socialLinks","website",_.target.value),placeholder:"https://yourwebsite.com"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"eventbrite",children:"Eventbrite URL"}),c.jsx(le,{id:"eventbrite",value:i.socialLinks.eventbrite,onChange:_=>f("socialLinks","eventbrite",_.target.value),placeholder:"https://eventbrite.com/your-profile"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"venmo",children:"Venmo Handle"}),c.jsx(le,{id:"venmo",value:i.socialLinks.venmo,onChange:_=>f("socialLinks","venmo",_.target.value),placeholder:"@yourvenmo"})]})]})})]}),!r&&c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),c.jsxs(se,{type:"submit",disabled:d,children:[c.jsx(iE,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})]}),r&&c.jsx("div",{className:"sticky bottom-6 flex justify-center",children:c.jsxs(se,{type:"submit",disabled:d,className:"shadow-lg",size:"lg",children:[c.jsx(iE,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})})]})]})}function P9({organizationSlug:t,bannerImage:e,logoImage:n,aboutImage:r,showAdminControls:s=!1,customContent:i}){const{organization:o,events:a,loading:l,error:d,updateOrganization:h}=xA(t),[f,p]=y.useState([]),[w,_]=y.useState(!1),x=g=>{p(v=>v.includes(g)?v.filter(T=>T!==g):[...v,g])},S=async g=>{try{await h(g),_(!1)}catch(v){console.error("Failed to save organization:",v)}};return l?c.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ha,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),c.jsxs("p",{className:"text-gray-600",children:["Loading ",t,"..."]})]})}):d?c.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading data: ",d]}),c.jsx(se,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):o?c.jsxs("div",{className:"min-h-screen bg-white",children:[s&&Kv("adminControls")&&c.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[c.jsx(nc,{to:`/${t}/admin`,children:c.jsxs(se,{className:"bg-purple-600 hover:bg-purple-700 text-white",size:"sm",children:[c.jsx(bg,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),w?c.jsxs(se,{onClick:()=>_(!1),variant:"outline",size:"sm",children:[c.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Cancel"]}):c.jsxs(se,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[c.jsx(bg,{className:"h-4 w-4 mr-2"}),"Quick Edit"]})]}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:c.jsx(EA,{organization:o,onSave:S,onCancel:()=>_(!1)})})}),c.jsxs("section",{id:"home",className:"relative h-80 overflow-hidden",children:[c.jsx("img",{src:e||o.bannerUrl||"/placeholder.jpg",alt:`${o.name} Header`,className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/30"}),c.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:c.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[c.jsx("img",{src:n||o.logoUrl||"/placeholder-logo.png",alt:`${o.name} Logo`,width:80,height:80,className:"rounded-full border-4 border-white"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-bold",children:o.name}),c.jsx("p",{className:"text-lg text-gray-200",children:o.description})]})]})})]}),c.jsx("section",{className:"py-12 bg-white",children:c.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:["Welcome to ",o.name]}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:o.bio})]})})}),c.jsx("section",{id:"events",className:"py-16 bg-gray-50",children:c.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[c.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-10",children:"Upcoming Events"}),a.filter(g=>g.status==="published").length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-600",children:"No upcoming events at the moment. Check back soon!"})}):c.jsx("div",{className:"space-y-6",children:a.filter(g=>g.status==="published").map(g=>c.jsx(Re,{className:"hover:shadow-lg transition-shadow duration-300",children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[c.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Gn,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:g.category}),g.isRecurring&&c.jsxs(Gn,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(MC,{className:"h-3 w-3"}),"Recurring"]}),c.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:g.title})]}),g.series&&c.jsx("div",{className:"mb-2",children:c.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["Part of: ",g.series.name]})}),c.jsx("p",{className:"text-gray-600 mb-3",children:g.description}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-600 mb-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"h-4 w-4 mr-2"}),g.date instanceof Date?g.date.toLocaleDateString():new Date(g.date).toLocaleDateString()," • ",g.time]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(pc,{className:"h-4 w-4 mr-2"}),g.location]})]}),c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Price: ",g.price.description]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:ml-6",children:[c.jsx(yA,{event:{...g,date:g.date instanceof Date?g.date.toISOString():g.date,createdAt:g.createdAt instanceof Date?g.createdAt.toISOString():g.createdAt,updatedAt:g.updatedAt instanceof Date?g.updatedAt.toISOString():g.updatedAt}}),c.jsxs(se,{variant:"outline",onClick:()=>x(g.id),className:"flex items-center gap-2",children:["Details",f.includes(g.id)?c.jsx(Fv,{className:"h-4 w-4"}):c.jsx(Uc,{className:"h-4 w-4"})]})]})]}),f.includes(g.id)&&c.jsxs("div",{className:"border-t pt-4 mt-4 space-y-4",children:[g.series&&c.jsxs("div",{children:[c.jsxs("h5",{className:"font-semibold text-gray-900 mb-2",children:["About ",g.series.name]}),c.jsx("p",{className:"text-gray-600 text-sm",children:g.series.description})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Event Details"}),c.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.fullDescription}),c.jsx("div",{className:"text-sm text-gray-600",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Address:"})," ",g.address]})})]}),g.isRecurring&&g.recurringDates&&c.jsxs("div",{children:[c.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming Dates & Themes"}),c.jsx("div",{className:"space-y-2",children:g.recurringDates.map((v,T)=>c.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[c.jsx("span",{className:"font-medium text-purple-600 min-w-[2rem]",children:v.date}),c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium text-gray-900",children:[v.theme,":"]}),c.jsx("span",{className:"text-gray-600 ml-1",children:v.description})]})]},T))})]})]})]})})},g.id))})]})}),c.jsx("section",{id:"about",className:"py-20",children:c.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[c.jsxs("h3",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:["About ",o.name]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsx("div",{children:c.jsx("img",{src:r||"/placeholder.jpg",alt:`${o.name} About`,width:600,height:400,className:"rounded-lg shadow-lg"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h4",{className:"text-2xl font-semibold text-gray-900",children:"Our Story"}),c.jsx("div",{className:"text-gray-700 leading-relaxed space-y-4",children:i!=null&&i.story?c.jsx("div",{dangerouslySetInnerHTML:{__html:i.story}}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[o.name," is a vibrant community dedicated to bringing people together through shared experiences and creativity."]}),c.jsx("p",{children:"Our mission is to create meaningful connections and foster a sense of belonging in our local community."})]})}),(i==null?void 0:i.offerings)&&c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:"text-2xl font-semibold text-gray-900 pt-4",children:"What We Offer"}),c.jsx("ul",{className:"space-y-2 text-gray-700",children:i.offerings.map((g,v)=>c.jsxs("li",{className:"flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mr-3"}),g]},v))})]}),c.jsxs("div",{className:"pt-6",children:[c.jsx("h4",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Connect With Us"}),c.jsxs("div",{className:"flex items-center gap-4",children:[o.socialLinks.instagram&&c.jsx("a",{href:`https://instagram.com/${o.socialLinks.instagram.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:c.jsx(jC,{className:"h-6 w-6"})}),o.socialLinks.website&&c.jsx("a",{href:o.socialLinks.website,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Website",target:"_blank",rel:"noopener noreferrer",children:c.jsx(mf,{className:"h-6 w-6"})}),o.socialLinks.eventbrite&&c.jsx("a",{href:o.socialLinks.eventbrite,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Eventbrite",target:"_blank",rel:"noopener noreferrer",children:c.jsx(xn,{className:"h-6 w-6"})}),o.socialLinks.venmo&&c.jsx("a",{href:`https://venmo.com/${o.socialLinks.venmo.replace("@","")}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Venmo",target:"_blank",rel:"noopener noreferrer",children:c.jsx(OC,{className:"h-6 w-6"})}),c.jsx("a",{href:`mailto:${o.contactEmail}`,className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Email",children:c.jsx(fc,{className:"h-6 w-6"})})]})]})]})]})]})}),c.jsx("footer",{className:"bg-gray-900 text-white py-8",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Proudly presented by"}),c.jsx("h5",{className:"text-2xl font-bold text-purple-400",children:"voxxypresents"})]}),c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("p",{className:"text-gray-300 mb-4",children:"Voxxy Presents simplifies recurring club events with custom pages, automated waitlists, and seamless messaging that keeps your community connected and your calendar full."}),c.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-400",children:[c.jsxs("div",{className:"group relative",children:[c.jsx(pc,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),c.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.settings.defaultAddress})]}),c.jsxs("div",{className:"group relative",children:[c.jsx(fc,{className:"h-5 w-5 hover:text-purple-400 transition-colors cursor-pointer"}),c.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:o.contactEmail})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-6 pt-6",children:c.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Voxxy AI, Inc. All rights reserved."})})]})})]}):c.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:c.jsx("p",{className:"text-gray-600",children:"Organization not found"})})}function D9(){const t={story:`
      <p>
        Voxxy Presents NYC emerged from the underground music scene in 2023, born out of a desire to create 
        authentic connections between emerging artists and passionate music lovers. What started as pop-up shows 
        in unconventional Brooklyn venues has evolved into a curated collective that champions the raw, 
        unfiltered creativity of New York's underground scene.
      </p>
      <p>
        We believe that the most powerful art happens in intimate spaces where barriers between performer and 
        audience dissolve. Our events aren't just concerts—they're communal experiences that celebrate the 
        beautiful chaos of creative expression in all its forms.
      </p>
    `,offerings:["Intimate showcases featuring 3-5 carefully curated underground artists","Monthly open mic nights for emerging talent to connect and grow","Pop-up events in unique Brooklyn venues and unconventional spaces","Artist development workshops and networking opportunities","Collaborative projects between musicians, visual artists, and performers","Community-driven events that prioritize authentic artistic expression"]};return c.jsx(P9,{organizationSlug:"voxxy-presents-nyc",bannerImage:"/placeholder.jpg",logoImage:"/placeholder-logo.png",aboutImage:"/placeholder.jpg",showAdminControls:Kv("adminControls"),customContent:t})}function TA(t){const e=t+"CollectionProvider",[n,r]=ai(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:g}=x,v=q.useRef(null),T=q.useRef(new Map).current;return c.jsx(s,{scope:S,itemMap:T,collectionRef:v,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=Wi(a),d=q.forwardRef((x,S)=>{const{scope:g,children:v}=x,T=i(a,g),D=$e(S,T.collectionRef);return c.jsx(l,{ref:D,children:v})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Wi(h),w=q.forwardRef((x,S)=>{const{scope:g,children:v,...T}=x,D=q.useRef(null),P=$e(S,D),j=i(h,g);return q.useEffect(()=>(j.itemMap.set(D,{ref:D,...T}),()=>void j.itemMap.delete(D))),c.jsx(p,{[f]:"",ref:P,children:v})});w.displayName=h;function _(x){const S=i(t+"CollectionConsumer",x);return q.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((j,I)=>T.indexOf(j.ref.current)-T.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},_,r]}var O9=y.createContext(void 0);function Yv(t){const e=y.useContext(O9);return t||e||"ltr"}var Kp="rovingFocusGroup.onEntryFocus",j9={bubbles:!1,cancelable:!0},$c="RovingFocusGroup",[Ng,SA,M9]=TA($c),[L9,bA]=ai($c,[M9]),[V9,F9]=L9($c),IA=y.forwardRef((t,e)=>c.jsx(Ng.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Ng.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(U9,{...t,ref:e})})}));IA.displayName=$c;var U9=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=y.useRef(null),w=$e(e,p),_=Yv(i),[x,S]=qi({prop:o,defaultProp:a??null,onChange:l,caller:$c}),[g,v]=y.useState(!1),T=Qs(d),D=SA(n),P=y.useRef(!1),[j,I]=y.useState(0);return y.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(Kp,T),()=>b.removeEventListener(Kp,T)},[T]),c.jsx(V9,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:x,onItemFocus:y.useCallback(b=>S(b),[S]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>I(b=>b-1),[]),children:c.jsx(ge.div,{tabIndex:g||j===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{P.current=!0}),onFocus:fe(t.onFocus,b=>{const A=!P.current;if(b.target===b.currentTarget&&A&&!g){const N=new CustomEvent(Kp,j9);if(b.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=D().filter(F=>F.focusable),k=O.find(F=>F.active),R=O.find(F=>F.id===x),ee=[k,R,...O].filter(Boolean).map(F=>F.ref.current);kA(ee,h)}}P.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),CA="RovingFocusGroupItem",AA=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Gr(),d=i||l,h=F9(CA,n),f=h.currentTabStopId===d,p=SA(n),{onFocusableItemAdd:w,onFocusableItemRemove:_,currentTabStopId:x}=h;return y.useEffect(()=>{if(r)return w(),()=>_()},[r,w,_]),c.jsx(Ng.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:c.jsx(ge.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:fe(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:fe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:fe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const g=z9(S,h.orientation,h.dir);if(g!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=p().filter(D=>D.focusable).map(D=>D.ref.current);if(g==="last")T.reverse();else if(g==="prev"||g==="next"){g==="prev"&&T.reverse();const D=T.indexOf(S.currentTarget);T=h.loop?W9(T,D+1):T.slice(D+1)}setTimeout(()=>kA(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});AA.displayName=CA;var B9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function z9(t,e,n){const r=$9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return B9[r]}function kA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function W9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var H9=IA,q9=AA,If="Tabs",[G9,S7]=ai(If,[bA]),NA=bA(),[K9,Qv]=G9(If),RA=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...d}=t,h=Yv(a),[f,p]=qi({prop:r,onChange:s,defaultProp:i??"",caller:If});return c.jsx(K9,{scope:n,baseId:Gr(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:l,children:c.jsx(ge.div,{dir:h,"data-orientation":o,...d,ref:e})})});RA.displayName=If;var PA="TabsList",DA=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Qv(PA,n),o=NA(n);return c.jsx(H9,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});DA.displayName=PA;var OA="TabsTrigger",jA=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Qv(OA,n),a=NA(n),l=VA(o.baseId,r),d=FA(o.baseId,r),h=r===o.value;return c.jsx(q9,{asChild:!0,...a,focusable:!s,active:h,children:c.jsx(ge.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:fe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});jA.displayName=OA;var MA="TabsContent",LA=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Qv(MA,n),l=VA(a.baseId,r),d=FA(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(io,{present:s||h,children:({present:p})=>c.jsx(ge.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});LA.displayName=MA;function VA(t,e){return`${t}-trigger-${e}`}function FA(t,e){return`${t}-content-${e}`}var Y9=RA,UA=DA,BA=jA,$A=LA;const Q9=Y9,zA=y.forwardRef(({className:t,...e},n)=>c.jsx(UA,{ref:n,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));zA.displayName=UA.displayName;const yl=y.forwardRef(({className:t,...e},n)=>c.jsx(BA,{ref:n,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yl.displayName=BA.displayName;const vl=y.forwardRef(({className:t,...e},n)=>c.jsx($A,{ref:n,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vl.displayName=$A.displayName;function _E(t,[e,n]){return Math.min(n,Math.max(e,t))}const X9=["top","right","bottom","left"],Xs=Math.min,fn=Math.max,_h=Math.round,Yu=Math.floor,_r=t=>({x:t,y:t}),J9={left:"right",right:"left",bottom:"top",top:"bottom"},Z9={start:"end",end:"start"};function Rg(t,e,n){return fn(t,Xs(e,n))}function ss(t,e){return typeof t=="function"?t(e):t}function is(t){return t.split("-")[0]}function Ra(t){return t.split("-")[1]}function Xv(t){return t==="x"?"y":"x"}function Jv(t){return t==="y"?"height":"width"}const eB=new Set(["top","bottom"]);function cr(t){return eB.has(is(t))?"y":"x"}function Zv(t){return Xv(cr(t))}function tB(t,e,n){n===void 0&&(n=!1);const r=Ra(t),s=Zv(t),i=Jv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xh(o)),[o,xh(o)]}function nB(t){const e=xh(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>Z9[e])}const xE=["left","right"],EE=["right","left"],rB=["top","bottom"],sB=["bottom","top"];function iB(t,e,n){switch(t){case"top":case"bottom":return n?e?EE:xE:e?xE:EE;case"left":case"right":return e?rB:sB;default:return[]}}function oB(t,e,n,r){const s=Ra(t);let i=iB(is(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pg)))),i}function xh(t){return t.replace(/left|right|bottom|top/g,e=>J9[e])}function aB(t){return{top:0,right:0,bottom:0,left:0,...t}}function WA(t){return typeof t!="number"?aB(t):{top:t,right:t,bottom:t,left:t}}function Eh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function TE(t,e,n){let{reference:r,floating:s}=t;const i=cr(e),o=Zv(e),a=Jv(o),l=is(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let w;switch(l){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-s.width,y:f};break;default:w={x:r.x,y:r.y}}switch(Ra(e)){case"start":w[o]-=p*(n&&d?-1:1);break;case"end":w[o]+=p*(n&&d?-1:1);break}return w}const lB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=TE(d,r,l),p=r,w={},_=0;for(let x=0;x<a.length;x++){const{name:S,fn:g}=a[x],{x:v,y:T,data:D,reset:P}=await g({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,f=T??f,w={...w,[S]:{...w[S],...D}},P&&_<=50&&(_++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:h,y:f}=TE(d,p,l)),x=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:w}};async function mc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:w=0}=ss(e,t),_=WA(w),S=a[p?f==="floating"?"reference":"floating":f],g=Eh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},P=Eh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(g.top-P.top+_.top)/D.y,bottom:(P.bottom-g.bottom+_.bottom)/D.y,left:(g.left-P.left+_.left)/D.x,right:(P.right-g.right+_.right)/D.x}}const cB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=ss(t,e)||{};if(d==null)return{};const f=WA(h),p={x:n,y:r},w=Zv(s),_=Jv(w),x=await o.getDimensions(d),S=w==="y",g=S?"top":"left",v=S?"bottom":"right",T=S?"clientHeight":"clientWidth",D=i.reference[_]+i.reference[w]-p[w]-i.floating[_],P=p[w]-i.reference[w],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=j?j[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(j)))&&(I=a.floating[T]||i.floating[_]);const b=D/2-P/2,A=I/2-x[_]/2-1,N=Xs(f[g],A),O=Xs(f[v],A),k=N,R=I-x[_]-O,H=I/2-x[_]/2+b,ee=Rg(k,H,R),F=!l.arrow&&Ra(s)!=null&&H!==ee&&i.reference[_]/2-(H<k?N:O)-x[_]/2<0,G=F?H<k?H-k:H-R:0;return{[w]:p[w]+G,data:{[w]:ee,centerOffset:H-ee-G,...F&&{alignmentOffset:G}},reset:F}}}),uB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...S}=ss(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=is(s),v=cr(a),T=is(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(d.floating)),P=p||(T||!x?[xh(a)]:nB(a)),j=_!=="none";!p&&j&&P.push(...oB(a,x,_,D));const I=[a,...P],b=await mc(e,S),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(b[g]),f){const H=tB(s,o,D);A.push(b[H[0]],b[H[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(H=>H<=0)){var O,k;const H=(((O=i.flip)==null?void 0:O.index)||0)+1,ee=I[H];if(ee&&(!(f==="alignment"?v!==cr(ee):!1)||N.every(L=>cr(L.placement)===v?L.overflows[0]>0:!0)))return{data:{index:H,overflows:N},reset:{placement:ee}};let F=(k=N.filter(G=>G.overflows[0]<=0).sort((G,L)=>G.overflows[1]-L.overflows[1])[0])==null?void 0:k.placement;if(!F)switch(w){case"bestFit":{var R;const G=(R=N.filter(L=>{if(j){const $=cr(L.placement);return $===v||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:R[0];G&&(F=G);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function SE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bE(t){return X9.some(e=>t[e]>=0)}const dB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ss(t,e);switch(r){case"referenceHidden":{const i=await mc(e,{...s,elementContext:"reference"}),o=SE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bE(o)}}}case"escaped":{const i=await mc(e,{...s,altBoundary:!0}),o=SE(i,n.floating);return{data:{escapedOffsets:o,escaped:bE(o)}}}default:return{}}}}},HA=new Set(["left","top"]);async function hB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=is(n),a=Ra(n),l=cr(n)==="y",d=HA.has(o)?-1:1,h=i&&l?-1:1,f=ss(e,t);let{mainAxis:p,crossAxis:w,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(w=a==="end"?_*-1:_),l?{x:w*h,y:p*d}:{x:p*d,y:w*h}}const fB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await hB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},pB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:g,y:v}=S;return{x:g,y:v}}},...l}=ss(t,e),d={x:n,y:r},h=await mc(e,l),f=cr(is(s)),p=Xv(f);let w=d[p],_=d[f];if(i){const S=p==="y"?"top":"left",g=p==="y"?"bottom":"right",v=w+h[S],T=w-h[g];w=Rg(v,w,T)}if(o){const S=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=_+h[S],T=_-h[g];_=Rg(v,_,T)}const x=a.fn({...e,[p]:w,[f]:_});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[f]:o}}}}}},mB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=ss(t,e),h={x:n,y:r},f=cr(s),p=Xv(f);let w=h[p],_=h[f];const x=ss(a,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const T=p==="y"?"height":"width",D=i.reference[p]-i.floating[T]+S.mainAxis,P=i.reference[p]+i.reference[T]-S.mainAxis;w<D?w=D:w>P&&(w=P)}if(d){var g,v;const T=p==="y"?"width":"height",D=HA.has(is(s)),P=i.reference[f]-i.floating[T]+(D&&((g=o.offset)==null?void 0:g[f])||0)+(D?0:S.crossAxis),j=i.reference[f]+i.reference[T]+(D?0:((v=o.offset)==null?void 0:v[f])||0)-(D?S.crossAxis:0);_<P?_=P:_>j&&(_=j)}return{[p]:w,[f]:_}}}},gB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=ss(t,e),h=await mc(e,d),f=is(s),p=Ra(s),w=cr(s)==="y",{width:_,height:x}=i.floating;let S,g;f==="top"||f==="bottom"?(S=f,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,S=p==="end"?"top":"bottom");const v=x-h.top-h.bottom,T=_-h.left-h.right,D=Xs(x-h[S],v),P=Xs(_-h[g],T),j=!e.middlewareData.shift;let I=D,b=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),j&&!p){const N=fn(h.left,0),O=fn(h.right,0),k=fn(h.top,0),R=fn(h.bottom,0);w?b=_-2*(N!==0||O!==0?N+O:fn(h.left,h.right)):I=x-2*(k!==0||R!==0?k+R:fn(h.top,h.bottom))}await l({...e,availableWidth:b,availableHeight:I});const A=await o.getDimensions(a.floating);return _!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Cf(){return typeof window<"u"}function Pa(t){return qA(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(t){var e;return(e=(qA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qA(t){return Cf()?t instanceof Node||t instanceof wn(t).Node:!1}function Jn(t){return Cf()?t instanceof Element||t instanceof wn(t).Element:!1}function Sr(t){return Cf()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function IE(t){return!Cf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}const yB=new Set(["inline","contents"]);function zc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!yB.has(s)}const vB=new Set(["table","td","th"]);function wB(t){return vB.has(Pa(t))}const _B=[":popover-open",":modal"];function Af(t){return _B.some(e=>{try{return t.matches(e)}catch{return!1}})}const xB=["transform","translate","scale","rotate","perspective"],EB=["transform","translate","scale","rotate","perspective","filter"],TB=["paint","layout","strict","content"];function ew(t){const e=tw(),n=Jn(t)?Zn(t):t;return xB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||EB.some(r=>(n.willChange||"").includes(r))||TB.some(r=>(n.contain||"").includes(r))}function SB(t){let e=Js(t);for(;Sr(e)&&!fa(e);){if(ew(e))return e;if(Af(e))return null;e=Js(e)}return null}function tw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bB=new Set(["html","body","#document"]);function fa(t){return bB.has(Pa(t))}function Zn(t){return wn(t).getComputedStyle(t)}function kf(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Js(t){if(Pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||IE(t)&&t.host||Cr(t);return IE(e)?e.host:e}function GA(t){const e=Js(t);return fa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sr(e)&&zc(e)?e:GA(e)}function gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=GA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=wn(s);if(i){const a=Dg(o);return e.concat(o,o.visualViewport||[],zc(s)?s:[],a&&n?gc(a):[])}return e.concat(s,gc(s,[],n))}function Dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KA(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Sr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=_h(n)!==i||_h(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function nw(t){return Jn(t)?t:t.contextElement}function Qo(t){const e=nw(t);if(!Sr(e))return _r(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=KA(e);let o=(i?_h(n.width):n.width)/r,a=(i?_h(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const IB=_r(0);function YA(t){const e=wn(t);return!tw()||!e.visualViewport?IB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=nw(t);let o=_r(1);e&&(r?Jn(r)&&(o=Qo(r)):o=Qo(t));const a=CB(i,n,r)?YA(i):_r(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=wn(i),w=r&&Jn(r)?wn(r):r;let _=p,x=Dg(_);for(;x&&r&&w!==_;){const S=Qo(x),g=x.getBoundingClientRect(),v=Zn(x),T=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*S.x,D=g.top+(x.clientTop+parseFloat(v.paddingTop))*S.y;l*=S.x,d*=S.y,h*=S.x,f*=S.y,l+=T,d+=D,_=wn(x),x=Dg(_)}}return Eh({width:h,height:f,x:l,y:d})}function rw(t,e){const n=kf(t).scrollLeft;return e?e.left+n:Ki(Cr(t)).left+n}function QA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:rw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function AB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Cr(r),a=e?Af(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=_r(1);const h=_r(0),f=Sr(r);if((f||!f&&!i)&&((Pa(r)!=="body"||zc(o))&&(l=kf(r)),Sr(r))){const w=Ki(r);d=Qo(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const p=o&&!f&&!i?QA(o,l,!0):_r(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-l.scrollTop*d.y+h.y+p.y}}function kB(t){return Array.from(t.getClientRects())}function NB(t){const e=Cr(t),n=kf(t),r=t.ownerDocument.body,s=fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rw(t);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function RB(t,e){const n=wn(t),r=Cr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=tw();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const PB=new Set(["absolute","fixed"]);function DB(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Sr(t)?Qo(t):_r(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function CE(t,e,n){let r;if(e==="viewport")r=RB(t,n);else if(e==="document")r=NB(Cr(t));else if(Jn(e))r=DB(e,n);else{const s=YA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Eh(r)}function XA(t,e){const n=Js(t);return n===e||!Jn(n)||fa(n)?!1:Zn(n).position==="fixed"||XA(n,e)}function OB(t,e){const n=e.get(t);if(n)return n;let r=gc(t,[],!1).filter(a=>Jn(a)&&Pa(a)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?Js(t):t;for(;Jn(o)&&!fa(o);){const a=Zn(o),l=ew(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&PB.has(s.position)||zc(o)&&!l&&XA(t,o))?r=r.filter(h=>h!==o):s=a,o=Js(o)}return e.set(t,r),r}function jB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Af(e)?[]:OB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=CE(e,h,s);return d.top=fn(f.top,d.top),d.right=Xs(f.right,d.right),d.bottom=Xs(f.bottom,d.bottom),d.left=fn(f.left,d.left),d},CE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function MB(t){const{width:e,height:n}=KA(t);return{width:e,height:n}}function LB(t,e,n){const r=Sr(e),s=Cr(e),i=n==="fixed",o=Ki(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=_r(0);function d(){l.x=rw(s)}if(r||!r&&!i)if((Pa(e)!=="body"||zc(s))&&(a=kf(e)),r){const w=Ki(e,!0,i,e);l.x=w.x+e.clientLeft,l.y=w.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?QA(s,a):_r(0),f=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function Yp(t){return Zn(t).position==="static"}function AE(t,e){if(!Sr(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cr(t)===n&&(n=n.ownerDocument.body),n}function JA(t,e){const n=wn(t);if(Af(t))return n;if(!Sr(t)){let s=Js(t);for(;s&&!fa(s);){if(Jn(s)&&!Yp(s))return s;s=Js(s)}return n}let r=AE(t,e);for(;r&&wB(r)&&Yp(r);)r=AE(r,e);return r&&fa(r)&&Yp(r)&&!ew(r)?n:r||SB(t)||n}const VB=async function(t){const e=this.getOffsetParent||JA,n=this.getDimensions,r=await n(t.floating);return{reference:LB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FB(t){return Zn(t).direction==="rtl"}const UB={convertOffsetParentRelativeRectToViewportRelativeRect:AB,getDocumentElement:Cr,getClippingRect:jB,getOffsetParent:JA,getElementRects:VB,getClientRects:kB,getDimensions:MB,getScale:Qo,isElement:Jn,isRTL:FB};function ZA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BB(t,e){let n=null,r;const s=Cr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:w}=d;if(a||e(),!p||!w)return;const _=Yu(f),x=Yu(s.clientWidth-(h+p)),S=Yu(s.clientHeight-(f+w)),g=Yu(h),T={rootMargin:-_+"px "+-x+"px "+-S+"px "+-g+"px",threshold:fn(0,Xs(1,l))||1};let D=!0;function P(j){const I=j[0].intersectionRatio;if(I!==l){if(!D)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!ZA(d,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(P,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,T)}n.observe(t)}return o(!0),i}function $B(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=nw(t),h=s||i?[...d?gc(d):[],...gc(e)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const f=d&&a?BB(d,n):null;let p=-1,w=null;o&&(w=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=w)==null||T.observe(e)})),n()}),d&&!l&&w.observe(d),w.observe(e));let _,x=l?Ki(t):null;l&&S();function S(){const g=Ki(t);x&&!ZA(x,g)&&n(),x=g,_=requestAnimationFrame(S)}return n(),()=>{var g;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(g=w)==null||g.disconnect(),w=null,l&&cancelAnimationFrame(_)}}const zB=fB,WB=pB,HB=uB,qB=gB,GB=dB,kE=cB,KB=mB,YB=(t,e,n)=>{const r=new Map,s={platform:UB,...n},i={...s.platform,_c:r};return lB(t,e,{...s,platform:i})};var QB=typeof document<"u",XB=function(){},Td=QB?y.useLayoutEffect:XB;function Th(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Th(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Th(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ek(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NE(t,e){const n=ek(t);return Math.round(e*n)/n}function Qp(t){const e=y.useRef(t);return Td(()=>{e.current=t}),e}function JB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,w]=y.useState(r);Th(p,r)||w(r);const[_,x]=y.useState(null),[S,g]=y.useState(null),v=y.useCallback(L=>{L!==j.current&&(j.current=L,x(L))},[]),T=y.useCallback(L=>{L!==I.current&&(I.current=L,g(L))},[]),D=i||_,P=o||S,j=y.useRef(null),I=y.useRef(null),b=y.useRef(h),A=l!=null,N=Qp(l),O=Qp(s),k=Qp(d),R=y.useCallback(()=>{if(!j.current||!I.current)return;const L={placement:e,strategy:n,middleware:p};O.current&&(L.platform=O.current),YB(j.current,I.current,L).then($=>{const Y={...$,isPositioned:k.current!==!1};H.current&&!Th(b.current,Y)&&(b.current=Y,wa.flushSync(()=>{f(Y)}))})},[p,e,n,O,k]);Td(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const H=y.useRef(!1);Td(()=>(H.current=!0,()=>{H.current=!1}),[]),Td(()=>{if(D&&(j.current=D),P&&(I.current=P),D&&P){if(N.current)return N.current(D,P,R);R()}},[D,P,R,N,A]);const ee=y.useMemo(()=>({reference:j,floating:I,setReference:v,setFloating:T}),[v,T]),F=y.useMemo(()=>({reference:D,floating:P}),[D,P]),G=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!F.floating)return L;const $=NE(F.floating,h.x),Y=NE(F.floating,h.y);return a?{...L,transform:"translate("+$+"px, "+Y+"px)",...ek(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Y}},[n,a,F.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:R,refs:ee,elements:F,floatingStyles:G}),[h,R,ee,F,G])}const ZB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kE({element:r.current,padding:s}).fn(n):{}:r?kE({element:r,padding:s}).fn(n):{}}}},e$=(t,e)=>({...zB(t),options:[t,e]}),t$=(t,e)=>({...WB(t),options:[t,e]}),n$=(t,e)=>({...KB(t),options:[t,e]}),r$=(t,e)=>({...HB(t),options:[t,e]}),s$=(t,e)=>({...qB(t),options:[t,e]}),i$=(t,e)=>({...GB(t),options:[t,e]}),o$=(t,e)=>({...ZB(t),options:[t,e]});var a$="Arrow",tk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});tk.displayName=a$;var l$=tk;function nk(t){const[e,n]=y.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sw="Popper",[rk,Nf]=ai(sw),[c$,sk]=rk(sw),ik=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return c.jsx(c$,{scope:e,anchor:r,onAnchorChange:s,children:n})};ik.displayName=sw;var ok="PopperAnchor",ak=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=sk(ok,n),o=y.useRef(null),a=$e(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ge.div,{...s,ref:a})});ak.displayName=ok;var iw="PopperContent",[u$,d$]=rk(iw),lk=y.forwardRef((t,e)=>{var te,Ne,Ye,be,xe,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:w="optimized",onPlaced:_,...x}=t,S=sk(iw,n),[g,v]=y.useState(null),T=$e(e,yt=>v(yt)),[D,P]=y.useState(null),j=nk(D),I=(j==null?void 0:j.width)??0,b=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(d)?d:[d],k=O.length>0,R={padding:N,boundary:O.filter(f$),altBoundary:k},{refs:H,floatingStyles:ee,placement:F,isPositioned:G,middlewareData:L}=JB({strategy:"fixed",placement:A,whileElementsMounted:(...yt)=>$B(...yt,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[e$({mainAxis:s+b,alignmentAxis:o}),l&&t$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?n$():void 0,...R}),l&&r$({...R}),s$({...R,apply:({elements:yt,rects:Ct,availableWidth:Mn,availableHeight:nr})=>{const{width:kr,height:ja}=Ct.reference,Nr=yt.floating.style;Nr.setProperty("--radix-popper-available-width",`${Mn}px`),Nr.setProperty("--radix-popper-available-height",`${nr}px`),Nr.setProperty("--radix-popper-anchor-width",`${kr}px`),Nr.setProperty("--radix-popper-anchor-height",`${ja}px`)}}),D&&o$({element:D,padding:a}),p$({arrowWidth:I,arrowHeight:b}),p&&i$({strategy:"referenceHidden",...R})]}),[$,Y]=dk(F),ie=Qs(_);Kt(()=>{G&&(ie==null||ie())},[G,ie]);const pe=(te=L.arrow)==null?void 0:te.x,Se=(Ne=L.arrow)==null?void 0:Ne.y,Ke=((Ye=L.arrow)==null?void 0:Ye.centerOffset)!==0,[gt,rt]=y.useState();return Kt(()=>{g&&rt(window.getComputedStyle(g).zIndex)},[g]),c.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:G?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(be=L.transformOrigin)==null?void 0:be.x,(xe=L.transformOrigin)==null?void 0:xe.y].join(" "),...((Ee=L.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(u$,{scope:n,placedSide:$,onArrowChange:P,arrowX:pe,arrowY:Se,shouldHideArrow:Ke,children:c.jsx(ge.div,{"data-side":$,"data-align":Y,...x,ref:T,style:{...x.style,animation:G?void 0:"none"}})})})});lk.displayName=iw;var ck="PopperArrow",h$={top:"bottom",right:"left",bottom:"top",left:"right"},uk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=d$(ck,r),o=h$[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(l$,{...s,ref:n,style:{...s.style,display:"block"}})})});uk.displayName=ck;function f$(t){return t!==null}var p$=t=>({name:"transformOrigin",options:t,fn(e){var S,g,v;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=dk(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,w=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let _="",x="";return d==="bottom"?(_=o?f:`${p}px`,x=`${-l}px`):d==="top"?(_=o?f:`${p}px`,x=`${r.floating.height+l}px`):d==="right"?(_=`${-l}px`,x=o?f:`${w}px`):d==="left"&&(_=`${r.floating.width+l}px`,x=o?f:`${w}px`),{data:{x:_,y:x}}}});function dk(t){const[e,n="center"]=t.split("-");return[e,n]}var hk=ik,ow=ak,fk=lk,pk=uk;function mk(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),m$="VisuallyHidden",g$=y.forwardRef((t,e)=>c.jsx(ge.span,{...t,ref:e,style:{...gk,...t.style}}));g$.displayName=m$;var y$=[" ","Enter","ArrowUp","ArrowDown"],v$=[" ","Enter"],Yi="Select",[Rf,Pf,w$]=TA(Yi),[Da,b7]=ai(Yi,[w$,Nf]),Df=Nf(),[_$,li]=Da(Yi),[x$,E$]=Da(Yi),yk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:p,required:w,form:_}=t,x=Df(e),[S,g]=y.useState(null),[v,T]=y.useState(null),[D,P]=y.useState(!1),j=Yv(d),[I,b]=qi({prop:r,defaultProp:s??!1,onChange:i,caller:Yi}),[A,N]=qi({prop:o,defaultProp:a,onChange:l,caller:Yi}),O=y.useRef(null),k=S?_||!!S.closest("form"):!0,[R,H]=y.useState(new Set),ee=Array.from(R).map(F=>F.props.value).join(";");return c.jsx(hk,{...x,children:c.jsxs(_$,{required:w,scope:e,trigger:S,onTriggerChange:g,valueNode:v,onValueNodeChange:T,valueNodeHasChildren:D,onValueNodeHasChildrenChange:P,contentId:Gr(),value:A,onValueChange:N,open:I,onOpenChange:b,dir:j,triggerPointerDownPosRef:O,disabled:p,children:[c.jsx(Rf.Provider,{scope:e,children:c.jsx(x$,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(F=>{H(G=>new Set(G).add(F))},[]),onNativeOptionRemove:y.useCallback(F=>{H(G=>{const L=new Set(G);return L.delete(F),L})},[]),children:n})}),k?c.jsxs(Bk,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:F=>N(F.target.value),disabled:p,form:_,children:[A===void 0?c.jsx("option",{value:""}):null,Array.from(R)]},ee):null]})})};yk.displayName=Yi;var vk="SelectTrigger",wk=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Df(n),o=li(vk,n),a=o.disabled||r,l=$e(e,o.onTriggerChange),d=Pf(n),h=y.useRef("touch"),[f,p,w]=zk(x=>{const S=d().filter(T=>!T.disabled),g=S.find(T=>T.value===o.value),v=Wk(S,x,g);v!==void 0&&o.onValueChange(v.value)}),_=x=>{a||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return c.jsx(ow,{asChild:!0,...i,children:c.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$k(o.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&_(x)}),onPointerDown:fe(s.onPointerDown,x=>{h.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(_(x),x.preventDefault())}),onKeyDown:fe(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&y$.includes(x.key)&&(_(),x.preventDefault())})})})});wk.displayName=vk;var _k="SelectValue",xk=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=li(_k,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=$e(e,l.onValueNodeChange);return Kt(()=>{d(h)},[d,h]),c.jsx(ge.span,{...a,ref:f,style:{pointerEvents:"none"},children:$k(l.value)?c.jsx(c.Fragment,{children:o}):i})});xk.displayName=_k;var T$="SelectIcon",Ek=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(ge.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Ek.displayName=T$;var S$="SelectPortal",Tk=t=>c.jsx(vf,{asChild:!0,...t});Tk.displayName=S$;var Qi="SelectContent",Sk=y.forwardRef((t,e)=>{const n=li(Qi,t.__scopeSelect),[r,s]=y.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?wa.createPortal(c.jsx(bk,{scope:t.__scopeSelect,children:c.jsx(Rf.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(Ik,{...t,ref:e})});Sk.displayName=Qi;var Fn=10,[bk,ci]=Da(Qi),b$="SelectContentImpl",I$=Wi("SelectContent.RemoveScroll"),Ik=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:w,sticky:_,hideWhenDetached:x,avoidCollisions:S,...g}=t,v=li(Qi,n),[T,D]=y.useState(null),[P,j]=y.useState(null),I=$e(e,te=>D(te)),[b,A]=y.useState(null),[N,O]=y.useState(null),k=Pf(n),[R,H]=y.useState(!1),ee=y.useRef(!1);y.useEffect(()=>{if(T)return $v(T)},[T]),Bv();const F=y.useCallback(te=>{const[Ne,...Ye]=k().map(Ee=>Ee.ref.current),[be]=Ye.slice(-1),xe=document.activeElement;for(const Ee of te)if(Ee===xe||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===Ne&&P&&(P.scrollTop=0),Ee===be&&P&&(P.scrollTop=P.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==xe))return},[k,P]),G=y.useCallback(()=>F([b,T]),[F,b,T]);y.useEffect(()=>{R&&G()},[R,G]);const{onOpenChange:L,triggerPointerDownPosRef:$}=v;y.useEffect(()=>{if(T){let te={x:0,y:0};const Ne=be=>{var xe,Ee;te={x:Math.abs(Math.round(be.pageX)-(((xe=$.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Ee=$.current)==null?void 0:Ee.y)??0))}},Ye=be=>{te.x<=10&&te.y<=10?be.preventDefault():T.contains(be.target)||L(!1),document.removeEventListener("pointermove",Ne),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[T,L,$]),y.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[Y,ie]=zk(te=>{const Ne=k().filter(xe=>!xe.disabled),Ye=Ne.find(xe=>xe.ref.current===document.activeElement),be=Wk(Ne,te,Ye);be&&setTimeout(()=>be.ref.current.focus())}),pe=y.useCallback((te,Ne,Ye)=>{const be=!ee.current&&!Ye;(v.value!==void 0&&v.value===Ne||be)&&(A(te),be&&(ee.current=!0))},[v.value]),Se=y.useCallback(()=>T==null?void 0:T.focus(),[T]),Ke=y.useCallback((te,Ne,Ye)=>{const be=!ee.current&&!Ye;(v.value!==void 0&&v.value===Ne||be)&&O(te)},[v.value]),gt=r==="popper"?Og:Ck,rt=gt===Og?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:w,sticky:_,hideWhenDetached:x,avoidCollisions:S}:{};return c.jsx(bk,{scope:n,content:T,viewport:P,onViewportChange:j,itemRefCallback:pe,selectedItem:b,onItemLeave:Se,itemTextRefCallback:Ke,focusSelectedItem:G,selectedItemText:N,position:r,isPositioned:R,searchRef:Y,children:c.jsx(_f,{as:I$,allowPinchZoom:!0,children:c.jsx(yf,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:fe(s,te=>{var Ne;(Ne=v.trigger)==null||Ne.focus({preventScroll:!0}),te.preventDefault()}),children:c.jsx(gf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(gt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...g,...rt,onPlaced:()=>H(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,te=>{const Ne=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Ne&&te.key.length===1&&ie(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let be=k().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const xe=te.target,Ee=be.indexOf(xe);be=be.slice(Ee+1)}setTimeout(()=>F(be)),te.preventDefault()}})})})})})})});Ik.displayName=b$;var C$="SelectItemAlignedPosition",Ck=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=li(Qi,n),o=ci(Qi,n),[a,l]=y.useState(null),[d,h]=y.useState(null),f=$e(e,I=>h(I)),p=Pf(n),w=y.useRef(!1),_=y.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:g,focusSelectedItem:v}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&x&&S&&g){const I=i.trigger.getBoundingClientRect(),b=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=g.getBoundingClientRect();if(i.dir!=="rtl"){const xe=N.left-b.left,Ee=A.left-xe,yt=I.left-Ee,Ct=I.width+yt,Mn=Math.max(Ct,b.width),nr=window.innerWidth-Fn,kr=_E(Ee,[Fn,Math.max(Fn,nr-Mn)]);a.style.minWidth=Ct+"px",a.style.left=kr+"px"}else{const xe=b.right-N.right,Ee=window.innerWidth-A.right-xe,yt=window.innerWidth-I.right-Ee,Ct=I.width+yt,Mn=Math.max(Ct,b.width),nr=window.innerWidth-Fn,kr=_E(Ee,[Fn,Math.max(Fn,nr-Mn)]);a.style.minWidth=Ct+"px",a.style.right=kr+"px"}const O=p(),k=window.innerHeight-Fn*2,R=x.scrollHeight,H=window.getComputedStyle(d),ee=parseInt(H.borderTopWidth,10),F=parseInt(H.paddingTop,10),G=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),$=ee+F+R+L+G,Y=Math.min(S.offsetHeight*5,$),ie=window.getComputedStyle(x),pe=parseInt(ie.paddingTop,10),Se=parseInt(ie.paddingBottom,10),Ke=I.top+I.height/2-Fn,gt=k-Ke,rt=S.offsetHeight/2,te=S.offsetTop+rt,Ne=ee+F+te,Ye=$-Ne;if(Ne<=Ke){const xe=O.length>0&&S===O[O.length-1].ref.current;a.style.bottom="0px";const Ee=d.clientHeight-x.offsetTop-x.offsetHeight,yt=Math.max(gt,rt+(xe?Se:0)+Ee+G),Ct=Ne+yt;a.style.height=Ct+"px"}else{const xe=O.length>0&&S===O[0].ref.current;a.style.top="0px";const yt=Math.max(Ke,ee+x.offsetTop+(xe?pe:0)+rt)+Ye;a.style.height=yt+"px",x.scrollTop=Ne-Ke+x.offsetTop}a.style.margin=`${Fn}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[p,i.trigger,i.valueNode,a,d,x,S,g,i.dir,r]);Kt(()=>T(),[T]);const[D,P]=y.useState();Kt(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const j=y.useCallback(I=>{I&&_.current===!0&&(T(),v==null||v(),_.current=!1)},[T,v]);return c.jsx(k$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:j,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:c.jsx(ge.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ck.displayName=C$;var A$="SelectPopperPosition",Og=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Fn,...i}=t,o=Df(n);return c.jsx(fk,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Og.displayName=A$;var[k$,aw]=Da(Qi,{}),jg="SelectViewport",Ak=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ci(jg,n),o=aw(jg,n),a=$e(e,i.onViewportChange),l=y.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Rf.Slot,{scope:n,children:c.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const w=Math.abs(l.current-h.scrollTop);if(w>0){const _=window.innerHeight-Fn*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),g=Math.max(x,S);if(g<_){const v=g+w,T=Math.min(_,v),D=v-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=D>0?D:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});Ak.displayName=jg;var kk="SelectGroup",[N$,R$]=Da(kk),P$=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gr();return c.jsx(N$,{scope:n,id:s,children:c.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});P$.displayName=kk;var Nk="SelectLabel",Rk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=R$(Nk,n);return c.jsx(ge.div,{id:s.id,...r,ref:e})});Rk.displayName=Nk;var Sh="SelectItem",[D$,Pk]=Da(Sh),Dk=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=li(Sh,n),l=ci(Sh,n),d=a.value===r,[h,f]=y.useState(i??""),[p,w]=y.useState(!1),_=$e(e,v=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,v,r,s)}),x=Gr(),S=y.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(D$,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:y.useCallback(v=>{f(T=>T||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(Rf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(ge.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:fe(o.onFocus,()=>w(!0)),onBlur:fe(o.onBlur,()=>w(!1)),onClick:fe(o.onClick,()=>{S.current!=="mouse"&&g()}),onPointerUp:fe(o.onPointerUp,()=>{S.current==="mouse"&&g()}),onPointerDown:fe(o.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var T;S.current=v.pointerType,s?(T=l.onItemLeave)==null||T.call(l):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var T;v.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:fe(o.onKeyDown,v=>{var D;((D=l.searchRef)==null?void 0:D.current)!==""&&v.key===" "||(v$.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});Dk.displayName=Sh;var wl="SelectItemText",Ok=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=li(wl,n),a=ci(wl,n),l=Pk(wl,n),d=E$(wl,n),[h,f]=y.useState(null),p=$e(e,g=>f(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),w=h==null?void 0:h.textContent,_=y.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:w},l.value),[l.disabled,l.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=d;return Kt(()=>(x(_),()=>S(_)),[x,S,_]),c.jsxs(c.Fragment,{children:[c.jsx(ge.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wa.createPortal(i.children,o.valueNode):null]})});Ok.displayName=wl;var jk="SelectItemIndicator",Mk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Pk(jk,n).isSelected?c.jsx(ge.span,{"aria-hidden":!0,...r,ref:e}):null});Mk.displayName=jk;var Mg="SelectScrollUpButton",Lk=y.forwardRef((t,e)=>{const n=ci(Mg,t.__scopeSelect),r=aw(Mg,t.__scopeSelect),[s,i]=y.useState(!1),o=$e(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(Fk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Lk.displayName=Mg;var Lg="SelectScrollDownButton",Vk=y.forwardRef((t,e)=>{const n=ci(Lg,t.__scopeSelect),r=aw(Lg,t.__scopeSelect),[s,i]=y.useState(!1),o=$e(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(Fk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Vk.displayName=Lg;var Fk=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ci("SelectScrollButton",n),o=y.useRef(null),a=Pf(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Kt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),O$="SelectSeparator",Uk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(ge.div,{"aria-hidden":!0,...r,ref:e})});Uk.displayName=O$;var Vg="SelectArrow",j$=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Df(n),i=li(Vg,n),o=ci(Vg,n);return i.open&&o.position==="popper"?c.jsx(pk,{...s,...r,ref:e}):null});j$.displayName=Vg;var M$="SelectBubbleInput",Bk=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=$e(r,s),o=mk(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(ge.select,{...n,style:{...gk,...n.style},ref:i,defaultValue:e})});Bk.displayName=M$;function $k(t){return t===""||t===void 0}function zk(t){const e=Qs(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Wk(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=L$(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function L$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var V$=yk,Hk=wk,F$=xk,U$=Ek,B$=Tk,qk=Sk,$$=Ak,Gk=Rk,Kk=Dk,z$=Ok,W$=Mk,Yk=Lk,Qk=Vk,Xk=Uk;const Xo=V$,Jo=F$,Ni=y.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Hk,{ref:r,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(U$,{asChild:!0,children:c.jsx(Uc,{className:"h-4 w-4 opacity-50"})})]}));Ni.displayName=Hk.displayName;const Jk=y.forwardRef(({className:t,...e},n)=>c.jsx(Yk,{ref:n,className:Z("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Fv,{className:"h-4 w-4"})}));Jk.displayName=Yk.displayName;const Zk=y.forwardRef(({className:t,...e},n)=>c.jsx(Qk,{ref:n,className:Z("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Uc,{className:"h-4 w-4"})}));Zk.displayName=Qk.displayName;const Ri=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(B$,{children:c.jsxs(qk,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(Jk,{}),c.jsx($$,{className:Z("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(Zk,{})]})}));Ri.displayName=qk.displayName;const H$=y.forwardRef(({className:t,...e},n)=>c.jsx(Gk,{ref:n,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));H$.displayName=Gk.displayName;const Qe=y.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Kk,{ref:r,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(W$,{children:c.jsx($U,{className:"h-4 w-4"})})}),c.jsx(z$,{children:e})]}));Qe.displayName=Kk.displayName;const q$=y.forwardRef(({className:t,...e},n)=>c.jsx(Xk,{ref:n,className:Z("-mx-1 my-1 h-px bg-muted",t),...e}));q$.displayName=Xk.displayName;var Of="Switch",[G$,I7]=ai(Of),[K$,Y$]=G$(Of),eN=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:d,form:h,...f}=t,[p,w]=y.useState(null),_=$e(e,T=>w(T)),x=y.useRef(!1),S=p?h||!!p.closest("form"):!0,[g,v]=qi({prop:s,defaultProp:i??!1,onChange:d,caller:Of});return c.jsxs(K$,{scope:n,checked:g,disabled:a,children:[c.jsx(ge.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":sN(g),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:_,onClick:fe(t.onClick,T=>{v(D=>!D),S&&(x.current=T.isPropagationStopped(),x.current||T.stopPropagation())})}),S&&c.jsx(rN,{control:p,bubbles:!x.current,name:r,value:l,checked:g,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});eN.displayName=Of;var tN="SwitchThumb",nN=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Y$(tN,n);return c.jsx(ge.span,{"data-state":sN(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});nN.displayName=tN;var Q$="SwitchBubbleInput",rN=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=$e(o,i),l=mk(n),d=nk(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&w){const _=new Event("click",{bubbles:r});w.call(h,n),h.dispatchEvent(_)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rN.displayName=Q$;function sN(t){return t?"checked":"unchecked"}var iN=eN,X$=nN;const Pi=y.forwardRef(({className:t,...e},n)=>c.jsx(iN,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(X$,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pi.displayName=iN.displayName;const Xp={},_l={};function Ll(t,e){try{const r=(Xp[t]||(Xp[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in _l?_l[r]:RE(r,r.split(":"))}catch{if(t in _l)return _l[t];const n=t==null?void 0:t.match(J$);return n?RE(t,n.slice(1)):NaN}}const J$=/([+-]\d\d):?(\d\d)?/;function RE(t,e){const n=+e[0],r=+(e[1]||0);return _l[t]=n>0?n*60+r:n*60-r}class ur extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Ll(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),oN(this),Fg(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new ur(...n,e):new ur(Date.now(),e)}withTimeZone(e){return new ur(+this,e)}getTimezoneOffset(){return-Ll(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Fg(this),+this}[Symbol.for("constructDateFrom")](e){return new ur(+new Date(e),this.timeZone)}}const PE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!PE.test(t))return;const e=t.replace(PE,"$1UTC");ur.prototype[e]&&(t.startsWith("get")?ur.prototype[t]=function(){return this.internal[e]()}:(ur.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),Z$(this),+this},ur.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Fg(this),+this}))});function Fg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function Z$(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),oN(t)}function oN(t){const e=Ll(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=r-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const l=Ll(t.timeZone,t),h=-new Date(+t).getTimezoneOffset()-l,f=l!==e,p=h-a;if(f&&p){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p);const w=Ll(t.timeZone,t),_=l-w;_&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+_))}}class $t extends ur{static tz(e,...n){return n.length?new $t(...n,e):new $t(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${ez(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new $t(+this,e)}[Symbol.for("constructDateFrom")](e){return new $t(+new Date(e),this.timeZone)}}function ez(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}var ne;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ne||(ne={}));var Xe;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Xe||(Xe={}));var Wn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Wn||(Wn={}));var hn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(hn||(hn={}));const aN=6048e5,tz=864e5,DE=Symbol.for("constructDateFrom");function Et(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DE in t?t[DE](e):t instanceof Date?new t.constructor(e):new Date(e)}function je(t,e){return Et(e||t,t)}function lN(t,e,n){const r=je(t,n==null?void 0:n.in);return isNaN(e)?Et(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function cN(t,e,n){const r=je(t,n==null?void 0:n.in);if(isNaN(e))return Et(t,NaN);if(!e)return r;const s=r.getDate(),i=Et(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let nz={};function Wc(){return nz}function pa(t,e){var a,l,d,h;const n=Wc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=je(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function yc(t,e){return pa(t,{...e,weekStartsOn:1})}function uN(t,e){const n=je(t,e==null?void 0:e.in),r=n.getFullYear(),s=Et(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=yc(s),o=Et(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=yc(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function OE(t){const e=je(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Oa(t,...e){const n=Et.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function vc(t,e){const n=je(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function dN(t,e,n){const[r,s]=Oa(n==null?void 0:n.in,t,e),i=vc(r),o=vc(s),a=+i-OE(i),l=+o-OE(o);return Math.round((a-l)/tz)}function rz(t,e){const n=uN(t,e),r=Et(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),yc(r)}function sz(t,e,n){return lN(t,e*7,n)}function iz(t,e,n){return cN(t,e*12,n)}function oz(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=je(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function az(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Et.bind(null,s));const i=je(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),Et(r,n||NaN)}function lz(t,e,n){const[r,s]=Oa(n==null?void 0:n.in,t,e);return+vc(r)==+vc(s)}function hN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cz(t){return!(!hN(t)&&typeof t!="number"||isNaN(+je(t)))}function uz(t,e,n){const[r,s]=Oa(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function dz(t,e){const n=je(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function hz(t,e){const[n,r]=Oa(t,e.start,e.end);return{start:n,end:r}}function fz(t,e){const{start:n,end:r}=hz(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=i;)l.push(Et(n,o)),o.setMonth(o.getMonth()+a);return s?l.reverse():l}function pz(t,e){const n=je(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function mz(t,e){const n=je(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function fN(t,e){const n=je(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pN(t,e){var a,l,d,h;const n=Wc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=je(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function gz(t,e){return pN(t,{...e,weekStartsOn:1})}const yz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vz=(t,e,n)=>{let r;const s=yz[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_z={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ez={date:Jp({formats:wz,defaultWidth:"full"}),time:Jp({formats:_z,defaultWidth:"full"}),dateTime:Jp({formats:xz,defaultWidth:"full"})},Tz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sz=(t,e,n,r)=>Tz[t];function sl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const bz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Az={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pz={ordinalNumber:Rz,era:sl({values:bz,defaultWidth:"wide"}),quarter:sl({values:Iz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:sl({values:Cz,defaultWidth:"wide"}),day:sl({values:Az,defaultWidth:"wide"}),dayPeriod:sl({values:kz,defaultWidth:"wide",formattingValues:Nz,defaultFormattingWidth:"wide"})};function il(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Oz(a,f=>f.test(o)):Dz(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function Dz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Oz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jz(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Mz=/^(\d+)(th|st|nd|rd)?/i,Lz=/\d+/i,Vz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fz={any:[/^b/i,/^(a|c)/i]},Uz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bz={any:[/1/i,/2/i,/3/i,/4/i]},$z={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kz={ordinalNumber:jz({matchPattern:Mz,parsePattern:Lz,valueCallback:t=>parseInt(t,10)}),era:il({matchPatterns:Vz,defaultMatchWidth:"wide",parsePatterns:Fz,defaultParseWidth:"any"}),quarter:il({matchPatterns:Uz,defaultMatchWidth:"wide",parsePatterns:Bz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:il({matchPatterns:$z,defaultMatchWidth:"wide",parsePatterns:zz,defaultParseWidth:"any"}),day:il({matchPatterns:Wz,defaultMatchWidth:"wide",parsePatterns:Hz,defaultParseWidth:"any"}),dayPeriod:il({matchPatterns:qz,defaultMatchWidth:"any",parsePatterns:Gz,defaultParseWidth:"any"})},lw={code:"en-US",formatDistance:vz,formatLong:Ez,formatRelative:Sz,localize:Pz,match:Kz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yz(t,e){const n=je(t,e==null?void 0:e.in);return dN(n,fN(n))+1}function mN(t,e){const n=je(t,e==null?void 0:e.in),r=+yc(n)-+rz(n);return Math.round(r/aN)+1}function gN(t,e){var h,f,p,w;const n=je(t,e==null?void 0:e.in),r=n.getFullYear(),s=Wc(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(p=s.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,o=Et((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=pa(o,e),l=Et((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const d=pa(l,e);return+n>=+a?r+1:+n>=+d?r:r-1}function Qz(t,e){var a,l,d,h;const n=Wc(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=gN(t,e),i=Et((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),pa(i,e)}function yN(t,e){const n=je(t,e==null?void 0:e.in),r=+pa(n,e)-+Qz(n,e);return Math.round(r/aN)+1}function De(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ms={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return De(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):De(n+1,2)},d(t,e){return De(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return De(t.getHours()%12||12,e.length)},H(t,e){return De(t.getHours(),e.length)},m(t,e){return De(t.getMinutes(),e.length)},s(t,e){return De(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return De(s,e.length)}},vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ms.y(t,e)},Y:function(t,e,n,r){const s=gN(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return De(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):De(i,e.length)},R:function(t,e){const n=uN(t);return De(n,e.length)},u:function(t,e){const n=t.getFullYear();return De(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return De(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return De(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ms.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return De(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=yN(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):De(s,e.length)},I:function(t,e,n){const r=mN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):De(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ms.d(t,e)},D:function(t,e,n){const r=Yz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):De(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return De(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return De(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return De(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=vo.noon:r===0?s=vo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=vo.evening:r>=12?s=vo.afternoon:r>=4?s=vo.morning:s=vo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ms.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ms.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):De(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):De(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ms.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ms.s(t,e)},S:function(t,e){return ms.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LE(r);case"XXXX":case"XX":return xi(r);case"XXXXX":case"XXX":default:return xi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LE(r);case"xxxx":case"xx":return xi(r);case"xxxxx":case"xxx":default:return xi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ME(r,":");case"OOOO":default:return"GMT"+xi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ME(r,":");case"zzzz":default:return"GMT"+xi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return De(r,e.length)},T:function(t,e,n){return De(+t,e.length)}};function ME(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+De(i,2)}function LE(t,e){return t%60===0?(t>0?"-":"+")+De(Math.abs(t)/60,2):xi(t,e)}function xi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=De(Math.trunc(r/60),2),i=De(r%60,2);return n+s+e+i}const VE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Xz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return VE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",VE(r,e)).replace("{{time}}",vN(s,e))},Jz={p:vN,P:Xz},Zz=/^D+$/,eW=/^Y+$/,tW=["D","DD","YY","YYYY"];function nW(t){return Zz.test(t)}function rW(t){return eW.test(t)}function sW(t,e,n){const r=iW(t,e,n);if(console.warn(r),tW.includes(t))throw new RangeError(r)}function iW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lW=/^'([^]*?)'?$/,cW=/''/g,uW=/[a-zA-Z]/;function cw(t,e,n){var h,f,p,w,_,x,S,g;const r=Wc(),s=(n==null?void 0:n.locale)??r.locale??lw,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(p=r.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((g=(S=r.locale)==null?void 0:S.options)==null?void 0:g.weekStartsOn)??0,a=je(t,n==null?void 0:n.in);if(!cz(a))throw new RangeError("Invalid time value");let l=e.match(aW).map(v=>{const T=v[0];if(T==="p"||T==="P"){const D=Jz[T];return D(v,s.formatLong)}return v}).join("").match(oW).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const T=v[0];if(T==="'")return{isToken:!1,value:dW(v)};if(jE[T])return{isToken:!0,value:v};if(T.match(uW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const T=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rW(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nW(T))&&sW(T,e,String(t));const D=jE[T[0]];return D(a,T,s.localize,d)}).join("")}function dW(t){const e=t.match(lW);return e?e[1].replace(cW,"'"):t}function hW(t,e){const n=je(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=Et(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function fW(t,e){return je(t,e==null?void 0:e.in).getMonth()}function pW(t,e){return je(t,e==null?void 0:e.in).getFullYear()}function mW(t,e){return+je(t)>+je(e)}function gW(t,e){return+je(t)<+je(e)}function yW(t,e,n){const[r,s]=Oa(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function vW(t,e,n){const[r,s]=Oa(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function wW(t,e,n){const r=je(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=Et(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=hW(o);return r.setMonth(e,Math.min(i,a)),r}function _W(t,e,n){const r=je(t,n==null?void 0:n.in);return isNaN(+r)?Et(t,NaN):(r.setFullYear(e),r)}const FE=5,xW=4;function EW(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),i=e.addDays(s,FE*7-1);return e.getMonth(t)===e.getMonth(i)?FE:xW}function wN(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function TW(t,e){const n=wN(t,e),r=EW(t,e);return e.addDays(n,r*7-1)}class as{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?$t.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new $t(r,s,i,this.options.timeZone):new Date(r,s,i)},this.addDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,s):lN(r,s)},this.addMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,s):cN(r,s)},this.addWeeks=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,s):sz(r,s)},this.addYears=(r,s)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,s):iz(r,s)},this.differenceInCalendarDays=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):dN(r,s)},this.differenceInCalendarMonths=(r,s)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):uz(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):fz(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):TW(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):gz(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):dz(r)},this.endOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,s):pN(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):mz(r)},this.format=(r,s,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(r,s,this.options):cw(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):mN(r)},this.getMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):fW(r,this.options)},this.getYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):pW(r,this.options)},this.getWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):yN(r,this.options)},this.isAfter=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,s):mW(r,s)},this.isBefore=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,s):gW(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):hN(r)},this.isSameDay=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,s):lz(r,s)},this.isSameMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,s):yW(r,s)},this.isSameYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,s):vW(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):oz(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):az(r)},this.setMonth=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,s):wW(r,s)},this.setYear=(r,s)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,s):_W(r,s)},this.startOfBroadcastWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):wN(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):vc(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):yc(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):pz(r)},this.startOfWeek=(r,s)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):pa(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):fN(r)},this.options={locale:lw,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Ar=new as;class _N{constructor(e,n,r=Ar){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class SW{constructor(e,n){this.date=e,this.weeks=n}}class bW{constructor(e,n){this.days=n,this.weekNumber=e}}function Br(t,e,n=!1,r=Ar){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&s?a(s,e):!1}function xN(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function uw(t){return!!(t&&typeof t=="object"&&"from"in t)}function EN(t){return!!(t&&typeof t=="object"&&"after"in t)}function TN(t){return!!(t&&typeof t=="object"&&"before"in t)}function SN(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function bN(t,e){return Array.isArray(t)&&t.every(e.isDate)}function $r(t,e,n=Ar){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return s(t,a);if(bN(a,n))return a.includes(t);if(uw(a))return Br(a,t,!1,n);if(SN(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(xN(a)){const l=i(a.before,t),d=i(a.after,t),h=l>0,f=d<0;return o(a.before,a.after)?f&&h:h||f}return EN(a)?i(t,a.after)>0:TN(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function IW(t,e,n,r,s){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:l,broadcastCalendar:d,today:h}=e,{isSameDay:f,isSameMonth:p,startOfMonth:w,isBefore:_,endOfMonth:x,isAfter:S}=s,g=n&&w(n),v=r&&x(r),T={[Xe.focused]:[],[Xe.outside]:[],[Xe.disabled]:[],[Xe.hidden]:[],[Xe.today]:[]},D={};for(const P of t){const{date:j,displayMonth:I}=P,b=!!(I&&!p(j,I)),A=!!(g&&_(j,g)),N=!!(v&&S(j,v)),O=!!(i&&$r(j,i,s)),k=!!(o&&$r(j,o,s))||A||N||!d&&!l&&b||d&&l===!1&&b,R=f(j,h??s.today());b&&T.outside.push(P),O&&T.disabled.push(P),k&&T.hidden.push(P),R&&T.today.push(P),a&&Object.keys(a).forEach(H=>{const ee=a==null?void 0:a[H];ee&&$r(j,ee,s)&&(D[H]?D[H].push(P):D[H]=[P])})}return P=>{const j={[Xe.focused]:!1,[Xe.disabled]:!1,[Xe.hidden]:!1,[Xe.outside]:!1,[Xe.today]:!1},I={};for(const b in T){const A=T[b];j[b]=A.some(N=>N===P)}for(const b in D)I[b]=D[b].some(A=>A===P);return{...j,...I}}}function CW(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(n[i]?s.push(n[i]):e[Xe[i]]?s.push(e[Xe[i]]):e[Wn[i]]&&s.push(e[Wn[i]]),s),[e[ne.Day]])}function AW(t){return q.createElement("button",{...t})}function kW(t){return q.createElement("span",{...t})}function NW(t){const{size:e=24,orientation:n="left",className:r}=t;return q.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function RW(t){const{day:e,modifiers:n,...r}=t;return q.createElement("td",{...r})}function PW(t){const{day:e,modifiers:n,...r}=t,s=q.useRef(null);return q.useEffect(()=>{var i;n.focused&&((i=s.current)==null||i.focus())},[n.focused]),q.createElement("button",{ref:s,...r})}function DW(t){const{options:e,className:n,components:r,classNames:s,...i}=t,o=[s[ne.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:l})=>l===i.value);return q.createElement("span",{"data-disabled":i.disabled,className:s[ne.DropdownRoot]},q.createElement(r.Select,{className:o,...i},e==null?void 0:e.map(({value:l,label:d,disabled:h})=>q.createElement(r.Option,{key:l,value:l,disabled:h},d))),q.createElement("span",{className:s[ne.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,q.createElement(r.Chevron,{orientation:"down",size:18,className:s[ne.Chevron]})))}function OW(t){return q.createElement("div",{...t})}function jW(t){return q.createElement("div",{...t})}function MW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return q.createElement("div",{...r},t.children)}function LW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return q.createElement("div",{...r})}function VW(t){return q.createElement("table",{...t})}function FW(t){return q.createElement("div",{...t})}const IN=y.createContext(void 0);function Hc(){const t=y.useContext(IN);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function UW(t){const{components:e}=Hc();return q.createElement(e.Dropdown,{...t})}function BW(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:d}}=Hc(),h=y.useCallback(p=>{s&&(n==null||n(p))},[s,n]),f=y.useCallback(p=>{r&&(e==null||e(p))},[r,e]);return q.createElement("nav",{...i},q.createElement(o.PreviousMonthButton,{type:"button",className:a[ne.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:f},q.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[ne.Chevron],orientation:"left"})),q.createElement(o.NextMonthButton,{type:"button",className:a[ne.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:h},q.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[ne.Chevron]})))}function $W(t){const{components:e}=Hc();return q.createElement(e.Button,{...t})}function zW(t){return q.createElement("option",{...t})}function WW(t){const{components:e}=Hc();return q.createElement(e.Button,{...t})}function HW(t){const{rootRef:e,...n}=t;return q.createElement("div",{...n,ref:e})}function qW(t){return q.createElement("select",{...t})}function GW(t){const{week:e,...n}=t;return q.createElement("tr",{...n})}function KW(t){return q.createElement("th",{...t})}function YW(t){return q.createElement("thead",{"aria-hidden":!0},q.createElement("tr",{...t}))}function QW(t){const{week:e,...n}=t;return q.createElement("th",{...n})}function XW(t){return q.createElement("th",{...t})}function JW(t){return q.createElement("tbody",{...t})}function ZW(t){const{components:e}=Hc();return q.createElement(e.Dropdown,{...t})}const e8=Object.freeze(Object.defineProperty({__proto__:null,Button:AW,CaptionLabel:kW,Chevron:NW,Day:RW,DayButton:PW,Dropdown:DW,DropdownNav:OW,Footer:jW,Month:MW,MonthCaption:LW,MonthGrid:VW,Months:FW,MonthsDropdown:UW,Nav:BW,NextMonthButton:$W,Option:zW,PreviousMonthButton:WW,Root:HW,Select:qW,Week:GW,WeekNumber:QW,WeekNumberHeader:XW,Weekday:KW,Weekdays:YW,Weeks:JW,YearsDropdown:ZW},Symbol.toStringTag,{value:"Module"}));function t8(t){return{...e8,...t}}function n8(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function dw(){const t={};for(const e in ne)t[ne[e]]=`rdp-${ne[e]}`;for(const e in Xe)t[Xe[e]]=`rdp-${Xe[e]}`;for(const e in Wn)t[Wn[e]]=`rdp-${Wn[e]}`;for(const e in hn)t[hn[e]]=`rdp-${hn[e]}`;return t}function CN(t,e,n){return(n??new as(e)).format(t,"LLLL y")}const r8=CN;function s8(t,e,n){return(n??new as(e)).format(t,"d")}function i8(t,e=Ar){return e.format(t,"LLLL")}function o8(t,e=Ar){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function a8(){return""}function l8(t,e,n){return(n??new as(e)).format(t,"cccccc")}function AN(t,e=Ar){return e.format(t,"yyyy")}const c8=AN,u8=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:CN,formatDay:s8,formatMonthCaption:r8,formatMonthDropdown:i8,formatWeekNumber:o8,formatWeekNumberHeader:a8,formatWeekdayName:l8,formatYearCaption:c8,formatYearDropdown:AN},Symbol.toStringTag,{value:"Module"}));function d8(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...u8,...t}}function h8(t,e,n,r,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:d}=s;return l({start:o(t),end:a(t)}).map(p=>{const w=r.formatMonthDropdown(p,s),_=d(p),x=e&&p<i(e)||n&&p>i(n)||!1;return{value:_,label:w,disabled:x}})}function f8(t,e={},n={}){let r={...e==null?void 0:e[ne.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function p8(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function m8(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:l,isSameYear:d}=r,h=s(t),f=i(e),p=[];let w=h;for(;l(w,f)||d(w,f);)p.push(w),w=o(w,1);return p.map(_=>{const x=n.formatYearDropdown(_,r);return{value:a(_),label:x,disabled:!1}})}function kN(t,e,n){return(n??new as(e)).format(t,"LLLL y")}const g8=kN;function y8(t,e,n,r){let s=(r??new as(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function NN(t,e,n,r){let s=(r??new as(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const v8=NN;function w8(){return""}function _8(t){return"Choose the Month"}function x8(t){return"Go to the Next Month"}function E8(t){return"Go to the Previous Month"}function T8(t,e,n){return(n??new as(e)).format(t,"cccc")}function S8(t,e){return`Week ${t}`}function b8(t){return"Week Number"}function I8(t){return"Choose the Year"}const C8=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:g8,labelDay:v8,labelDayButton:NN,labelGrid:kN,labelGridcell:y8,labelMonthDropdown:_8,labelNav:w8,labelNext:x8,labelPrevious:E8,labelWeekNumber:S8,labelWeekNumberHeader:b8,labelWeekday:T8,labelYearDropdown:I8},Symbol.toStringTag,{value:"Module"})),qc=t=>t instanceof HTMLElement?t:null,Zp=t=>[...t.querySelectorAll("[data-animated-month]")??[]],A8=t=>qc(t.querySelector("[data-animated-month]")),em=t=>qc(t.querySelector("[data-animated-caption]")),tm=t=>qc(t.querySelector("[data-animated-weeks]")),k8=t=>qc(t.querySelector("[data-animated-nav]")),N8=t=>qc(t.querySelector("[data-animated-weekdays]"));function R8(t,e,{classNames:n,months:r,focused:s,dateLib:i}){const o=y.useRef(null),a=y.useRef(r),l=y.useRef(!1);y.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const h=i.isSameMonth(r[0].date,d[0].date),f=i.isAfter(r[0].date,d[0].date),p=f?n[hn.caption_after_enter]:n[hn.caption_before_enter],w=f?n[hn.weeks_after_enter]:n[hn.weeks_before_enter],_=o.current,x=t.current.cloneNode(!0);if(x instanceof HTMLElement?(Zp(x).forEach(T=>{if(!(T instanceof HTMLElement))return;const D=A8(T);D&&T.contains(D)&&T.removeChild(D);const P=em(T);P&&P.classList.remove(p);const j=tm(T);j&&j.classList.remove(w)}),o.current=x):o.current=null,l.current||h||s)return;const S=_ instanceof HTMLElement?Zp(_):[],g=Zp(t.current);if(g&&g.every(v=>v instanceof HTMLElement)&&S&&S.every(v=>v instanceof HTMLElement)){l.current=!0,t.current.style.isolation="isolate";const v=k8(t.current);v&&(v.style.zIndex="1"),g.forEach((T,D)=>{const P=S[D];if(!P)return;T.style.position="relative",T.style.overflow="hidden";const j=em(T);j&&j.classList.add(p);const I=tm(T);I&&I.classList.add(w);const b=()=>{l.current=!1,t.current&&(t.current.style.isolation=""),v&&(v.style.zIndex=""),j&&j.classList.remove(p),I&&I.classList.remove(w),T.style.position="",T.style.overflow="",T.contains(P)&&T.removeChild(P)};P.style.pointerEvents="none",P.style.position="absolute",P.style.overflow="hidden",P.setAttribute("aria-hidden","true");const A=N8(P);A&&(A.style.opacity="0");const N=em(P);N&&(N.classList.add(f?n[hn.caption_before_exit]:n[hn.caption_after_exit]),N.addEventListener("animationend",b));const O=tm(P);O&&O.classList.add(f?n[hn.weeks_before_exit]:n[hn.weeks_after_exit]),T.insertBefore(P,T.firstChild)})}})}function P8(t,e,n,r){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:d,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:w,endOfMonth:_,endOfWeek:x,isAfter:S,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:T}=r,D=l?g(s,r):o?v(s):T(s),P=l?p(i):o?w(_(i)):x(_(i)),j=h(P,D),I=f(i,s)+1,b=[];for(let O=0;O<=j;O++){const k=d(D,O);if(e&&S(k,e))break;b.push(k)}const N=(l?35:42)*I;if(a&&b.length<N){const O=N-b.length;for(let k=0;k<O;k++){const R=d(b[b.length-1],1);b.push(R)}}return b}function D8(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((i,o)=>[...i,...o.days],e);return[...n,...s]},e)}function O8(t,e,n,r){const{numberOfMonths:s=1}=n,i=[];for(let o=0;o<s;o++){const a=r.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function UE(t,e,n,r){const{month:s,defaultMonth:i,today:o=r.today(),numberOfMonths:a=1}=t;let l=s||i||o;const{differenceInCalendarMonths:d,addMonths:h,startOfMonth:f}=r;if(n&&d(n,l)<a-1){const p=-1*(a-1);l=h(n,p)}return e&&d(l,e)<0&&(l=e),f(l)}function j8(t,e,n,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:d,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:w}=r,_=t.reduce((x,S)=>{const g=n.broadcastCalendar?f(S,r):n.ISOWeek?p(S):w(S),v=n.broadcastCalendar?i(S):n.ISOWeek?o(a(S)):l(a(S)),T=e.filter(I=>I>=g&&I<=v),D=n.broadcastCalendar?35:42;if(n.fixedWeeks&&T.length<D){const I=e.filter(b=>{const A=D-T.length;return b>v&&b<=s(v,A)});T.push(...I)}const P=T.reduce((I,b)=>{const A=n.ISOWeek?d(b):h(b),N=I.find(k=>k.weekNumber===A),O=new _N(b,S,r);return N?N.days.push(O):I.push(new bW(A,[O])),I},[]),j=new SW(S,P);return x.push(j),x},[]);return n.reverseMonths?_.reverse():_}function M8(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:d,newDate:h,today:f}=e,{fromYear:p,toYear:w,fromMonth:_,toMonth:x}=t;!n&&_&&(n=_),!n&&p&&(n=e.newDate(p,0,1)),!r&&x&&(r=x),!r&&w&&(r=h(w,11,31));const S=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):p?n=h(p,0,1):!n&&S&&(n=s(l(t.today??f(),-100))),r?r=a(r):w?r=h(w,11,31):!r&&S&&(r=d(t.today??f())),[n&&i(n),r&&i(r)]}function L8(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,d=s?i:1,h=o(t);if(!e)return a(h,d);if(!(l(e,t)<i))return a(h,d)}function V8(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,d=s?i??1:1,h=o(t);if(!e)return a(h,-d);if(!(l(h,e)<=0))return a(h,-d)}function F8(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function jf(t,e){const[n,r]=y.useState(t);return[e===void 0?n:e,r]}function U8(t,e){const[n,r]=M8(t,e),{startOfMonth:s,endOfMonth:i}=e,o=UE(t,n,r,e),[a,l]=jf(o,t.month?o:void 0);y.useEffect(()=>{const j=UE(t,n,r,e);l(j)},[t.timeZone]);const d=O8(a,r,t,e),h=P8(d,t.endMonth?i(t.endMonth):void 0,t,e),f=j8(d,h,t,e),p=F8(f),w=D8(f),_=V8(a,n,t,e),x=L8(a,r,t,e),{disableNavigation:S,onMonthChange:g}=t,v=j=>p.some(I=>I.days.some(b=>b.isEqualTo(j))),T=j=>{if(S)return;let I=s(j);n&&I<s(n)&&(I=s(n)),r&&I>s(r)&&(I=s(r)),l(I),g==null||g(I)};return{months:f,weeks:p,days:w,navStart:n,navEnd:r,previousMonth:_,nextMonth:x,goToMonth:T,goToDay:j=>{v(j)||T(j.date)}}}var ir;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(ir||(ir={}));function BE(t){return!t[Xe.disabled]&&!t[Xe.hidden]&&!t[Xe.outside]}function B8(t,e,n,r){let s,i=-1;for(const o of t){const a=e(o);BE(a)&&(a[Xe.focused]&&i<ir.FocusedModifier?(s=o,i=ir.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<ir.LastFocused?(s=o,i=ir.LastFocused):n(o.date)&&i<ir.Selected?(s=o,i=ir.Selected):a[Xe.today]&&i<ir.Today&&(s=o,i=ir.Today))}return s||(s=t.find(o=>BE(e(o)))),s}function $8(t,e,n,r,s,i,o){const{ISOWeek:a,broadcastCalendar:l}=i,{addDays:d,addMonths:h,addWeeks:f,addYears:p,endOfBroadcastWeek:w,endOfISOWeek:_,endOfWeek:x,max:S,min:g,startOfBroadcastWeek:v,startOfISOWeek:T,startOfWeek:D}=o;let j={day:d,week:f,month:h,year:p,startOfWeek:I=>l?v(I,o):a?T(I):D(I),endOfWeek:I=>l?w(I):a?_(I):x(I)}[t](n,e==="after"?1:-1);return e==="before"&&r?j=S([r,j]):e==="after"&&s&&(j=g([s,j])),j}function RN(t,e,n,r,s,i,o,a=0){if(a>365)return;const l=$8(t,e,n.date,r,s,i,o),d=!!(i.disabled&&$r(l,i.disabled,o)),h=!!(i.hidden&&$r(l,i.hidden,o)),f=l,p=new _N(l,f,o);return!d&&!h?p:RN(t,e,p,r,s,i,o,a+1)}function z8(t,e,n,r,s){const{autoFocus:i}=t,[o,a]=y.useState(),l=B8(e.days,n,r||(()=>!1),o),[d,h]=y.useState(i?l:void 0);return{isFocusTarget:x=>!!(l!=null&&l.isEqualTo(x)),setFocused:h,focused:d,blur:()=>{a(d),h(void 0)},moveFocus:(x,S)=>{if(!d)return;const g=RN(x,S,d,e.navStart,e.navEnd,t,s);g&&(e.goToDay(g),h(g))}}}function W8(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=jf(n,s?n:void 0),a=s?n:i,{isSameDay:l}=e,d=w=>(a==null?void 0:a.some(_=>l(_,w)))??!1,{min:h,max:f}=t;return{selected:a,select:(w,_,x)=>{let S=[...a??[]];if(d(w)){if((a==null?void 0:a.length)===h||r&&(a==null?void 0:a.length)===1)return;S=a==null?void 0:a.filter(g=>!l(g,w))}else(a==null?void 0:a.length)===f?S=[w]:S=[...S,w];return s||o(S),s==null||s(S,w,_,x),S},isSelected:d}}function H8(t,e,n=0,r=0,s=!1,i=Ar){const{from:o,to:a}=e||{},{isSameDay:l,isAfter:d,isBefore:h}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)l(o,t)?s?f={from:o,to:void 0}:f=void 0:h(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(l(o,t)&&l(a,t))s?f={from:o,to:a}:f=void 0;else if(l(o,t))f={from:o,to:n>0?void 0:t};else if(l(a,t))f={from:t,to:n>0?void 0:t};else if(h(t,o))f={from:t,to:a};else if(d(t,o))f={from:o,to:t};else if(d(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const p=i.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:t,to:void 0}:n>1&&p<n&&(f={from:t,to:void 0})}return f}function q8(t,e,n=Ar){const r=Array.isArray(e)?e:[e];let s=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function $E(t,e,n=Ar){return Br(t,e.from,!1,n)||Br(t,e.to,!1,n)||Br(e,t.from,!1,n)||Br(e,t.to,!1,n)}function G8(t,e,n=Ar){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Br(t,a,!1,n):bN(a,n)?a.some(l=>Br(t,l,!1,n)):uw(a)?a.from&&a.to?$E(t,{from:a.from,to:a.to},n):!1:SN(a)?q8(t,a.dayOfWeek,n):xN(a)?n.isAfter(a.before,a.after)?$E(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):$r(t.from,a,n)||$r(t.to,a,n):EN(a)||TN(a)?$r(t.from,a,n)||$r(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=l;d++){if(o.some(h=>h(a)))return!0;a=n.addDays(a,1)}}return!1}function K8(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:i,onSelect:o}=t,[a,l]=jf(s,o?s:void 0),d=o?s:a;return{selected:d,select:(p,w,_)=>{const{min:x,max:S}=t,g=p?H8(p,d,x,S,i,e):void 0;return r&&n&&(g!=null&&g.from)&&g.to&&G8({from:g.from,to:g.to},n,e)&&(g.from=p,g.to=void 0),o||l(g),o==null||o(g,p,w,_),g},isSelected:p=>d&&Br(d,p,!1,e)}}function Y8(t,e){const{selected:n,required:r,onSelect:s}=t,[i,o]=jf(n,s?n:void 0),a=s?n:i,{isSameDay:l}=e;return{selected:a,select:(f,p,w)=>{let _=f;return!r&&a&&a&&l(f,a)&&(_=void 0),s||o(_),s==null||s(_,f,p,w),_},isSelected:f=>a?l(a,f):!1}}function Q8(t,e){const n=Y8(t,e),r=W8(t,e),s=K8(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function X8(t){var ao;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new $t(e.today,e.timeZone)),e.month&&(e.month=new $t(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new $t(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new $t(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new $t(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new $t(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(ao=e.selected)==null?void 0:ao.map(he=>new $t(he,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new $t(e.selected.from,e.timeZone):void 0,to:e.selected.to?new $t(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:i,locale:o,classNames:a}=y.useMemo(()=>{const he={...lw,...e.locale};return{dateLib:new as({locale:he,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:t8(e.components),formatters:d8(e.formatters),labels:{...C8,...e.labels},locale:he,classNames:{...dw(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:d,navLayout:h,numberOfMonths:f=1,onDayBlur:p,onDayClick:w,onDayFocus:_,onDayKeyDown:x,onDayMouseEnter:S,onDayMouseLeave:g,onNextClick:v,onPrevClick:T,showWeekNumber:D,styles:P}=e,{formatCaption:j,formatDay:I,formatMonthDropdown:b,formatWeekNumber:A,formatWeekNumberHeader:N,formatWeekdayName:O,formatYearDropdown:k}=r,R=U8(e,i),{days:H,months:ee,navStart:F,navEnd:G,previousMonth:L,nextMonth:$,goToMonth:Y}=R,ie=IW(H,e,F,G,i),{isSelected:pe,select:Se,selected:Ke}=Q8(e,i)??{},{blur:gt,focused:rt,isFocusTarget:te,moveFocus:Ne,setFocused:Ye}=z8(e,R,ie,pe??(()=>!1),i),{labelDayButton:be,labelGridcell:xe,labelGrid:Ee,labelMonthDropdown:yt,labelNav:Ct,labelPrevious:Mn,labelNext:nr,labelWeekday:kr,labelWeekNumber:ja,labelWeekNumberHeader:Nr,labelYearDropdown:Ma}=s,Kc=y.useMemo(()=>p8(i,e.ISOWeek),[i,e.ISOWeek]),Yc=d!==void 0||w!==void 0,di=y.useCallback(()=>{L&&(Y(L),T==null||T(L))},[L,Y,T]),hi=y.useCallback(()=>{$&&(Y($),v==null||v($))},[Y,$,v]),Qc=y.useCallback((he,Me)=>ye=>{ye.preventDefault(),ye.stopPropagation(),Ye(he),Se==null||Se(he.date,Me,ye),w==null||w(he.date,Me,ye)},[Se,w,Ye]),Tt=y.useCallback((he,Me)=>ye=>{Ye(he),_==null||_(he.date,Me,ye)},[_,Ye]),At=y.useCallback((he,Me)=>ye=>{gt(),p==null||p(he.date,Me,ye)},[gt,p]),oo=y.useCallback((he,Me)=>ye=>{const Sn={ArrowLeft:[ye.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ye.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ye.shiftKey?"year":"week","after"],ArrowUp:[ye.shiftKey?"year":"week","before"],PageUp:[ye.shiftKey?"year":"month","before"],PageDown:[ye.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Sn[ye.key]){ye.preventDefault(),ye.stopPropagation();const[Yt,bn]=Sn[ye.key];Ne(Yt,bn)}x==null||x(he.date,Me,ye)},[Ne,x,e.dir]),Xc=y.useCallback((he,Me)=>ye=>{S==null||S(he.date,Me,ye)},[S]),Jc=y.useCallback((he,Me)=>ye=>{g==null||g(he.date,Me,ye)},[g]),Lf=y.useCallback(he=>Me=>{const ye=Number(Me.target.value),Sn=i.setMonth(i.startOfMonth(he),ye);Y(Sn)},[i,Y]),fi=y.useCallback(he=>Me=>{const ye=Number(Me.target.value),Sn=i.setYear(i.startOfMonth(he),ye);Y(Sn)},[i,Y]),{className:Zc,style:eu}=y.useMemo(()=>({className:[a[ne.Root],e.className].filter(Boolean).join(" "),style:{...P==null?void 0:P[ne.Root],...e.style}}),[a,e.className,e.style,P]),La=n8(e),tu=y.useRef(null);R8(tu,!!e.animate,{classNames:a,months:ee,focused:rt,dateLib:i});const Vf={dayPickerProps:e,selected:Ke,select:Se,isSelected:pe,months:ee,nextMonth:$,previousMonth:L,goToMonth:Y,getModifiers:ie,components:n,classNames:a,styles:P,labels:s,formatters:r};return q.createElement(IN.Provider,{value:Vf},q.createElement(n.Root,{rootRef:e.animate?tu:void 0,className:Zc,style:eu,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...La},q.createElement(n.Months,{className:a[ne.Months],style:P==null?void 0:P[ne.Months]},!e.hideNavigation&&!h&&q.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ne.Nav],style:P==null?void 0:P[ne.Nav],"aria-label":Ct(),onPreviousClick:di,onNextClick:hi,previousMonth:L,nextMonth:$}),ee.map((he,Me)=>{const ye=h8(he.date,F,G,r,i),Sn=m8(F,G,r,i);return q.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[ne.Month],style:P==null?void 0:P[ne.Month],key:Me,displayIndex:Me,calendarMonth:he},h==="around"&&!e.hideNavigation&&Me===0&&q.createElement(n.PreviousMonthButton,{type:"button",className:a[ne.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":Mn(L),onClick:di,"data-animated-button":e.animate?"true":void 0},q.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[ne.Chevron],orientation:e.dir==="rtl"?"right":"left"})),q.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[ne.MonthCaption],style:P==null?void 0:P[ne.MonthCaption],calendarMonth:he,displayIndex:Me},l!=null&&l.startsWith("dropdown")?q.createElement(n.DropdownNav,{className:a[ne.Dropdowns],style:P==null?void 0:P[ne.Dropdowns]},l==="dropdown"||l==="dropdown-months"?q.createElement(n.MonthsDropdown,{className:a[ne.MonthsDropdown],"aria-label":yt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:Lf(he.date),options:ye,style:P==null?void 0:P[ne.Dropdown],value:i.getMonth(he.date)}):q.createElement("span",null,b(he.date,i)),l==="dropdown"||l==="dropdown-years"?q.createElement(n.YearsDropdown,{className:a[ne.YearsDropdown],"aria-label":Ma(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:fi(he.date),options:Sn,style:P==null?void 0:P[ne.Dropdown],value:i.getYear(he.date)}):q.createElement("span",null,k(he.date,i)),q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},j(he.date,i.options,i))):q.createElement(n.CaptionLabel,{className:a[ne.CaptionLabel],role:"status","aria-live":"polite"},j(he.date,i.options,i))),h==="around"&&!e.hideNavigation&&Me===f-1&&q.createElement(n.NextMonthButton,{type:"button",className:a[ne.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":nr($),onClick:hi,"data-animated-button":e.animate?"true":void 0},q.createElement(n.Chevron,{disabled:$?void 0:!0,className:a[ne.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Me===f-1&&h==="after"&&!e.hideNavigation&&q.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[ne.Nav],style:P==null?void 0:P[ne.Nav],"aria-label":Ct(),onPreviousClick:di,onNextClick:hi,previousMonth:L,nextMonth:$}),q.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Ee(he.date,i.options,i)||void 0,className:a[ne.MonthGrid],style:P==null?void 0:P[ne.MonthGrid]},!e.hideWeekdays&&q.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[ne.Weekdays],style:P==null?void 0:P[ne.Weekdays]},D&&q.createElement(n.WeekNumberHeader,{"aria-label":Nr(i.options),className:a[ne.WeekNumberHeader],style:P==null?void 0:P[ne.WeekNumberHeader],scope:"col"},N()),Kc.map((Yt,bn)=>q.createElement(n.Weekday,{"aria-label":kr(Yt,i.options,i),className:a[ne.Weekday],key:bn,style:P==null?void 0:P[ne.Weekday],scope:"col"},O(Yt,i.options,i)))),q.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[ne.Weeks],style:P==null?void 0:P[ne.Weeks]},he.weeks.map((Yt,bn)=>q.createElement(n.Week,{className:a[ne.Week],key:Yt.weekNumber,style:P==null?void 0:P[ne.Week],week:Yt},D&&q.createElement(n.WeekNumber,{week:Yt,style:P==null?void 0:P[ne.WeekNumber],"aria-label":ja(Yt.weekNumber,{locale:o}),className:a[ne.WeekNumber],scope:"row",role:"rowheader"},A(Yt.weekNumber,i)),Yt.days.map(vt=>{const{date:Qt}=vt,Ce=ie(vt);if(Ce[Xe.focused]=!Ce.hidden&&!!(rt!=null&&rt.isEqualTo(vt)),Ce[Wn.selected]=(pe==null?void 0:pe(Qt))||Ce.selected,uw(Ke)){const{from:lo,to:Rr}=Ke;Ce[Wn.range_start]=!!(lo&&Rr&&i.isSameDay(Qt,lo)),Ce[Wn.range_end]=!!(lo&&Rr&&i.isSameDay(Qt,Rr)),Ce[Wn.range_middle]=Br(Ke,Qt,!0,i)}const pi=f8(Ce,P,e.modifiersStyles),nu=CW(Ce,a,e.modifiersClassNames),kt=!Yc&&!Ce.hidden?xe(Qt,Ce,i.options,i):void 0;return q.createElement(n.Day,{key:`${i.format(Qt,"yyyy-MM-dd")}_${i.format(vt.displayMonth,"yyyy-MM")}`,day:vt,modifiers:Ce,className:nu.join(" "),style:pi,role:"gridcell","aria-selected":Ce.selected||void 0,"aria-label":kt,"data-day":i.format(Qt,"yyyy-MM-dd"),"data-month":vt.outside?i.format(Qt,"yyyy-MM"):void 0,"data-selected":Ce.selected||void 0,"data-disabled":Ce.disabled||void 0,"data-hidden":Ce.hidden||void 0,"data-outside":vt.outside||void 0,"data-focused":Ce.focused||void 0,"data-today":Ce.today||void 0},!Ce.hidden&&Yc?q.createElement(n.DayButton,{className:a[ne.DayButton],style:P==null?void 0:P[ne.DayButton],type:"button",day:vt,modifiers:Ce,disabled:Ce.disabled||void 0,tabIndex:te(vt)?0:-1,"aria-label":be(Qt,Ce,i.options,i),onClick:Qc(vt,Ce),onBlur:At(vt,Ce),onFocus:Tt(vt,Ce),onKeyDown:oo(vt,Ce),onMouseEnter:Xc(vt,Ce),onMouseLeave:Jc(vt,Ce)},I(Qt,i.options,i)):!Ce.hidden&&I(vt.date,i.options,i))}))))))})),e.footer&&q.createElement(n.Footer,{className:a[ne.Footer],style:P==null?void 0:P[ne.Footer],role:"status","aria-live":"polite"},e.footer)))}function PN({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:i,components:o,...a}){const l=dw();return c.jsx(X8,{showOutsideDays:n,className:Z("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:Z("w-fit",l.root),months:Z("flex gap-4 flex-col md:flex-row relative",l.months),month:Z("flex flex-col w-full gap-4",l.month),nav:Z("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:Z(Sg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:Z(Sg({variant:s}),"size-[--cell-size] aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:Z("flex items-center justify-center h-[--cell-size] w-full px-[--cell-size]",l.month_caption),dropdowns:Z("w-full flex items-center text-sm font-medium justify-center h-[--cell-size] gap-1.5",l.dropdowns),dropdown_root:Z("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:Z("absolute bg-popover inset-0 opacity-0",l.dropdown),caption_label:Z("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:Z("flex",l.weekdays),weekday:Z("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:Z("flex w-full mt-2",l.week),week_number_header:Z("select-none w-[--cell-size]",l.week_number_header),week_number:Z("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:Z("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:Z("rounded-l-md bg-accent",l.range_start),range_middle:Z("rounded-none",l.range_middle),range_end:Z("rounded-r-md bg-accent",l.range_end),today:Z("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:Z("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:Z("text-muted-foreground opacity-50",l.disabled),hidden:Z("invisible",l.hidden),...e},components:{Root:({className:d,rootRef:h,...f})=>c.jsx("div",{"data-slot":"calendar",ref:h,className:Z(d),...f}),Chevron:({className:d,orientation:h,...f})=>h==="left"?c.jsx(zU,{className:Z("size-4",d),...f}):h==="right"?c.jsx(WU,{className:Z("size-4",d),...f}):c.jsx(Uc,{className:Z("size-4",d),...f}),DayButton:J8,WeekNumber:({children:d,...h})=>c.jsx("td",{...h,children:c.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:d})}),...o},...a})}function J8({className:t,day:e,modifiers:n,...r}){const s=dw(),i=y.useRef(null);return y.useEffect(()=>{var o;n.focused&&((o=i.current)==null||o.focus())},[n.focused]),c.jsx(se,{ref:i,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Z("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square w-full min-w-[--cell-size] flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}var Mf="Popover",[DN,C7]=ai(Mf,[Nf]),Gc=Nf(),[Z8,ui]=DN(Mf),ON=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Gc(e),l=y.useRef(null),[d,h]=y.useState(!1),[f,p]=qi({prop:r,defaultProp:s??!1,onChange:i,caller:Mf});return c.jsx(hk,{...a,children:c.jsx(Z8,{scope:e,contentId:Gr(),triggerRef:l,open:f,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(w=>!w),[p]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};ON.displayName=Mf;var jN="PopoverAnchor",e7=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ui(jN,n),i=Gc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),c.jsx(ow,{...i,...r,ref:e})});e7.displayName=jN;var MN="PopoverTrigger",LN=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ui(MN,n),i=Gc(n),o=$e(e,s.triggerRef),a=c.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$N(s.open),...r,ref:o,onClick:fe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:c.jsx(ow,{asChild:!0,...i,children:a})});LN.displayName=MN;var hw="PopoverPortal",[t7,n7]=DN(hw,{forceMount:void 0}),VN=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=ui(hw,e);return c.jsx(t7,{scope:e,forceMount:n,children:c.jsx(io,{present:n||i.open,children:c.jsx(vf,{asChild:!0,container:s,children:r})})})};VN.displayName=hw;var ma="PopoverContent",FN=y.forwardRef((t,e)=>{const n=n7(ma,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=ui(ma,t.__scopePopover);return c.jsx(io,{present:r||i.open,children:i.modal?c.jsx(s7,{...s,ref:e}):c.jsx(i7,{...s,ref:e})})});FN.displayName=ma;var r7=Wi("PopoverContent.RemoveScroll"),s7=y.forwardRef((t,e)=>{const n=ui(ma,t.__scopePopover),r=y.useRef(null),s=$e(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return $v(o)},[]),c.jsx(_f,{as:r7,allowPinchZoom:!0,children:c.jsx(UN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,d=a.button===2||l;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),i7=y.forwardRef((t,e)=>{const n=ui(ma,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return c.jsx(UN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),UN=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:h,...f}=t,p=ui(ma,n),w=Gc(n);return Bv(),c.jsx(yf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(gf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:c.jsx(fk,{"data-state":$N(p.open),role:"dialog",id:p.contentId,...w,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BN="PopoverClose",o7=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ui(BN,n);return c.jsx(ge.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>s.onOpenChange(!1))})});o7.displayName=BN;var a7="PopoverArrow",l7=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Gc(n);return c.jsx(pk,{...s,...r,ref:e})});l7.displayName=a7;function $N(t){return t?"open":"closed"}var c7=ON,u7=LN,d7=VN,zN=FN;const WN=c7,HN=u7,fw=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>c.jsx(d7,{children:c.jsx(zN,{ref:s,align:e,sideOffset:n,className:Z("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));fw.displayName=zN.displayName;function h7({organization:t,isOpen:e,onClose:n,onSuccess:r}){var P,j,I,b,A,N,O;const[s,i]=y.useState(!1),[o,a]=y.useState(null),[l,d]=y.useState(),[h,f]=y.useState(),[p,w]=y.useState([]),[_,x]=y.useState({organizationId:t.id,title:"",description:"",fullDescription:"",category:"Workshop",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,registrationRequired:!1,eventbriteUrl:"",presaleEnabled:!1,series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),S=(k,R)=>{if(k.startsWith("price.")){const H=k.split(".")[1];x(ee=>({...ee,price:{...ee.price,[H]:R}}))}else if(k.startsWith("series.")){const H=k.split(".")[1];x(ee=>({...ee,series:{...ee.series,[H]:R}}))}else x(H=>({...H,[k]:R}))},g=()=>{w(k=>[...k,{date:"",theme:"",description:""}])},v=(k,R,H)=>{w(ee=>ee.map((F,G)=>G===k?{...F,[R]:H}:F))},T=k=>{w(R=>R.filter((H,ee)=>ee!==k))},D=async k=>{k.preventDefault(),i(!0),a(null);try{if(!l)throw new Error("Please select an event date");const R={..._,date:l,endDate:h,recurringDates:_.isRecurring&&p.length>0?p:void 0},H=await Hi.create(R);r(H),n(),x({organizationId:t.id,title:"",description:"",fullDescription:"",category:"Workshop",time:"",duration:"",location:t.settings.defaultLocation||"",address:t.settings.defaultAddress||"",price:{type:"free",description:"",amount:void 0,advancePrice:void 0},capacity:void 0,registrationRequired:!1,eventbriteUrl:"",presaleEnabled:!1,series:void 0,isRecurring:!1,imageUrl:"",status:"draft"}),d(void 0),f(void 0),w([])}catch(R){console.error("Failed to create event:",R),a(R instanceof Error?R.message:"Failed to create event")}finally{i(!1)}};return c.jsx(qv,{open:e,onOpenChange:n,children:c.jsxs(Ef,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Tf,{children:[c.jsx(Sf,{children:"Create New Event"}),c.jsxs(bf,{children:["Create a new event for ",t.name,". Fill out the details below."]})]}),c.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:c.jsx("p",{className:"text-sm font-medium",children:o})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(J,{htmlFor:"title",children:"Event Title *"}),c.jsx(le,{id:"title",value:_.title,onChange:k=>S("title",k.target.value),placeholder:"Enter event title",required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"category",children:"Category *"}),c.jsxs(Xo,{value:_.category,onValueChange:k=>S("category",k),children:[c.jsx(Ni,{children:c.jsx(Jo,{})}),c.jsxs(Ri,{children:[c.jsx(Qe,{value:"Workshop",children:"Workshop"}),c.jsx(Qe,{value:"Figure Drawing",children:"Figure Drawing"}),c.jsx(Qe,{value:"Social",children:"Social"}),c.jsx(Qe,{value:"Exhibition",children:"Exhibition"}),c.jsx(Qe,{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"status",children:"Status"}),c.jsxs(Xo,{value:_.status,onValueChange:k=>S("status",k),children:[c.jsx(Ni,{children:c.jsx(Jo,{})}),c.jsxs(Ri,{children:[c.jsx(Qe,{value:"draft",children:"Draft"}),c.jsx(Qe,{value:"published",children:"Published"})]})]})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"description",children:"Short Description *"}),c.jsx(Kr,{id:"description",value:_.description,onChange:k=>S("description",k.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"fullDescription",children:"Full Description"}),c.jsx(Kr,{id:"fullDescription",value:_.fullDescription,onChange:k=>S("fullDescription",k.target.value),placeholder:"Detailed description of the event",rows:4})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{children:"Event Date *"}),c.jsxs(WN,{children:[c.jsx(HN,{asChild:!0,children:c.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[c.jsx(xn,{className:"mr-2 h-4 w-4"}),l?cw(l,"PPP"):"Pick a date"]})}),c.jsx(fw,{className:"w-auto p-0",children:c.jsx(PN,{mode:"single",selected:l,onSelect:d,initialFocus:!0})})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"time",children:"Time *"}),c.jsx(le,{id:"time",type:"time",value:_.time,onChange:k=>S("time",k.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"duration",children:"Duration"}),c.jsx(le,{id:"duration",value:_.duration,onChange:k=>S("duration",k.target.value),placeholder:"e.g., 2 hours"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"location",children:"Location *"}),c.jsx(le,{id:"location",value:_.location,onChange:k=>S("location",k.target.value),placeholder:"Venue name",required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"address",children:"Address *"}),c.jsx(le,{id:"address",value:_.address,onChange:k=>S("address",k.target.value),placeholder:"Full address",required:!0})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Pricing"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(J,{children:"Price Type"}),c.jsxs(Xo,{value:(P=_.price)==null?void 0:P.type,onValueChange:k=>S("price.type",k),children:[c.jsx(Ni,{children:c.jsx(Jo,{})}),c.jsxs(Ri,{children:[c.jsx(Qe,{value:"free",children:"Free"}),c.jsx(Qe,{value:"paid",children:"Paid"}),c.jsx(Qe,{value:"donation",children:"Donation"})]})]})]}),((j=_.price)==null?void 0:j.type)==="paid"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"amount",children:"Price Amount"}),c.jsx(le,{id:"amount",type:"number",step:"0.01",value:((I=_.price)==null?void 0:I.amount)||"",onChange:k=>S("price.amount",parseFloat(k.target.value)||void 0),placeholder:"20.00"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"advancePrice",children:"Advance Price"}),c.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((b=_.price)==null?void 0:b.advancePrice)||"",onChange:k=>S("price.advancePrice",parseFloat(k.target.value)||void 0),placeholder:"15.00"})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"priceDescription",children:"Price Description"}),c.jsx(le,{id:"priceDescription",value:(A=_.price)==null?void 0:A.description,onChange:k=>S("price.description",k.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Registration"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pi,{id:"registrationRequired",checked:_.registrationRequired,onCheckedChange:k=>S("registrationRequired",k)}),c.jsx(J,{htmlFor:"registrationRequired",children:"Registration Required"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pi,{id:"presaleEnabled",checked:_.presaleEnabled,onCheckedChange:k=>S("presaleEnabled",k)}),c.jsx(J,{htmlFor:"presaleEnabled",children:"Enable Presale"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"capacity",children:"Capacity"}),c.jsx(le,{id:"capacity",type:"number",value:_.capacity||"",onChange:k=>S("capacity",parseInt(k.target.value)||void 0),placeholder:"Maximum attendees"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"eventbriteUrl",children:"Eventbrite URL"}),c.jsx(le,{id:"eventbriteUrl",value:_.eventbriteUrl,onChange:k=>S("eventbriteUrl",k.target.value),placeholder:"https://eventbrite.com/..."})]})]})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Series (Optional)"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"seriesName",children:"Series Name"}),c.jsx(le,{id:"seriesName",value:((N=_.series)==null?void 0:N.name)||"",onChange:k=>S("series.name",k.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"seriesDescription",children:"Series Description"}),c.jsx(Kr,{id:"seriesDescription",value:((O=_.series)==null?void 0:O.description)||"",onChange:k=>S("series.description",k.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Recurring Event"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pi,{id:"isRecurring",checked:_.isRecurring,onCheckedChange:k=>{S("isRecurring",k),k||w([])}}),c.jsx(J,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),_.isRecurring&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(J,{children:"Recurring Dates & Themes"}),c.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:g,children:[c.jsx(Uv,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),p.map((k,R)=>c.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[c.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:k.date,onChange:H=>v(R,"date",H.target.value)}),c.jsx(le,{placeholder:"Theme",value:k.theme,onChange:H=>v(R,"theme",H.target.value)}),c.jsx(le,{placeholder:"Description",value:k.description,onChange:H=>v(R,"description",H.target.value)})]}),c.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(R),children:c.jsx(Bc,{className:"h-4 w-4"})})]},R))]})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"imageUrl",children:"Image URL"}),c.jsx(le,{id:"imageUrl",value:_.imageUrl,onChange:k=>S("imageUrl",k.target.value),placeholder:"https://example.com/image.jpg"})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t",children:[c.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),c.jsxs(se,{type:"submit",disabled:s,children:[s&&c.jsx(ha,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})]})]})]})})}function f7({event:t,isOpen:e,onClose:n,onSuccess:r,onDelete:s}){var A,N,O,k,R,H,ee;const[i,o]=y.useState(!1),[a,l]=y.useState(!1),[d,h]=y.useState(null),[f,p]=y.useState(),[w,_]=y.useState(),[x,S]=y.useState([]),[g,v]=y.useState({});y.useEffect(()=>{t&&(v({title:t.title,description:t.description,fullDescription:t.fullDescription,category:t.category,time:t.time,duration:t.duration,location:t.location,address:t.address,price:{...t.price},capacity:t.capacity,registrationRequired:t.registrationRequired,eventbriteUrl:t.eventbriteUrl,presaleEnabled:t.presaleEnabled,series:t.series?{...t.series}:void 0,isRecurring:t.isRecurring,imageUrl:t.imageUrl,status:t.status}),p(t.date instanceof Date?t.date:new Date(t.date)),_(t.endDate?t.endDate instanceof Date?t.endDate:new Date(t.endDate):void 0),S(t.recurringDates||[]))},[t]);const T=(F,G)=>{if(F.startsWith("price.")){const L=F.split(".")[1];v($=>({...$,price:{...$.price,[L]:G}}))}else if(F.startsWith("series.")){const L=F.split(".")[1];v($=>({...$,series:{...$.series,[L]:G}}))}else v(L=>({...L,[F]:G}))},D=()=>{S(F=>[...F,{date:"",theme:"",description:""}])},P=(F,G,L)=>{S($=>$.map((Y,ie)=>ie===F?{...Y,[G]:L}:Y))},j=F=>{S(G=>G.filter((L,$)=>$!==F))},I=async F=>{F.preventDefault(),o(!0),h(null);try{if(!f)throw new Error("Please select an event date");const G={...g,date:f,endDate:w,recurringDates:g.isRecurring&&x.length>0?x:void 0},L=await Hi.update(t.id,G);r(L),n()}catch(G){console.error("Failed to update event:",G),h(G instanceof Error?G.message:"Failed to update event")}finally{o(!1)}},b=async()=>{if(!(!s||!window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`))){l(!0),h(null);try{await Hi.delete(t.id),s(t.id),n()}catch(G){console.error("Failed to delete event:",G),h(G instanceof Error?G.message:"Failed to delete event")}finally{l(!1)}}};return c.jsx(qv,{open:e,onOpenChange:n,children:c.jsxs(Ef,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Tf,{children:[c.jsx(Sf,{children:"Edit Event"}),c.jsxs(bf,{children:['Update the details for "',t.title,'".']})]}),c.jsxs("form",{onSubmit:I,className:"space-y-6",children:[d&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:c.jsx("p",{className:"text-sm font-medium",children:d})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(J,{htmlFor:"title",children:"Event Title *"}),c.jsx(le,{id:"title",value:g.title||"",onChange:F=>T("title",F.target.value),placeholder:"Enter event title",required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"category",children:"Category *"}),c.jsxs(Xo,{value:g.category,onValueChange:F=>T("category",F),children:[c.jsx(Ni,{children:c.jsx(Jo,{})}),c.jsxs(Ri,{children:[c.jsx(Qe,{value:"Workshop",children:"Workshop"}),c.jsx(Qe,{value:"Figure Drawing",children:"Figure Drawing"}),c.jsx(Qe,{value:"Social",children:"Social"}),c.jsx(Qe,{value:"Exhibition",children:"Exhibition"}),c.jsx(Qe,{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"status",children:"Status"}),c.jsxs(Xo,{value:g.status,onValueChange:F=>T("status",F),children:[c.jsx(Ni,{children:c.jsx(Jo,{})}),c.jsxs(Ri,{children:[c.jsx(Qe,{value:"draft",children:"Draft"}),c.jsx(Qe,{value:"published",children:"Published"}),c.jsx(Qe,{value:"cancelled",children:"Cancelled"}),c.jsx(Qe,{value:"completed",children:"Completed"})]})]})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"description",children:"Short Description *"}),c.jsx(Kr,{id:"description",value:g.description||"",onChange:F=>T("description",F.target.value),placeholder:"Brief description of the event",rows:2,required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"fullDescription",children:"Full Description"}),c.jsx(Kr,{id:"fullDescription",value:g.fullDescription||"",onChange:F=>T("fullDescription",F.target.value),placeholder:"Detailed description of the event",rows:4})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{children:"Event Date *"}),c.jsxs(WN,{children:[c.jsx(HN,{asChild:!0,children:c.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[c.jsx(xn,{className:"mr-2 h-4 w-4"}),f?cw(f,"PPP"):"Pick a date"]})}),c.jsx(fw,{className:"w-auto p-0",children:c.jsx(PN,{mode:"single",selected:f,onSelect:p,initialFocus:!0})})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"time",children:"Time *"}),c.jsx(le,{id:"time",type:"time",value:g.time||"",onChange:F=>T("time",F.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"duration",children:"Duration"}),c.jsx(le,{id:"duration",value:g.duration||"",onChange:F=>T("duration",F.target.value),placeholder:"e.g., 2 hours"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"location",children:"Location *"}),c.jsx(le,{id:"location",value:g.location||"",onChange:F=>T("location",F.target.value),placeholder:"Venue name",required:!0})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"address",children:"Address *"}),c.jsx(le,{id:"address",value:g.address||"",onChange:F=>T("address",F.target.value),placeholder:"Full address",required:!0})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Pricing"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(J,{children:"Price Type"}),c.jsxs(Xo,{value:(A=g.price)==null?void 0:A.type,onValueChange:F=>T("price.type",F),children:[c.jsx(Ni,{children:c.jsx(Jo,{})}),c.jsxs(Ri,{children:[c.jsx(Qe,{value:"free",children:"Free"}),c.jsx(Qe,{value:"paid",children:"Paid"}),c.jsx(Qe,{value:"donation",children:"Donation"})]})]})]}),((N=g.price)==null?void 0:N.type)==="paid"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"amount",children:"Price Amount"}),c.jsx(le,{id:"amount",type:"number",step:"0.01",value:((O=g.price)==null?void 0:O.amount)||"",onChange:F=>T("price.amount",parseFloat(F.target.value)||void 0),placeholder:"20.00"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"advancePrice",children:"Advance Price"}),c.jsx(le,{id:"advancePrice",type:"number",step:"0.01",value:((k=g.price)==null?void 0:k.advancePrice)||"",onChange:F=>T("price.advancePrice",parseFloat(F.target.value)||void 0),placeholder:"15.00"})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"priceDescription",children:"Price Description"}),c.jsx(le,{id:"priceDescription",value:((R=g.price)==null?void 0:R.description)||"",onChange:F=>T("price.description",F.target.value),placeholder:"e.g., Day of: $20 cash, $25 Venmo"})]})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Registration"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pi,{id:"registrationRequired",checked:g.registrationRequired||!1,onCheckedChange:F=>T("registrationRequired",F)}),c.jsx(J,{htmlFor:"registrationRequired",children:"Registration Required"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pi,{id:"presaleEnabled",checked:g.presaleEnabled||!1,onCheckedChange:F=>T("presaleEnabled",F)}),c.jsx(J,{htmlFor:"presaleEnabled",children:"Enable Presale"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"capacity",children:"Capacity"}),c.jsx(le,{id:"capacity",type:"number",value:g.capacity||"",onChange:F=>T("capacity",parseInt(F.target.value)||void 0),placeholder:"Maximum attendees"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"eventbriteUrl",children:"Eventbrite URL"}),c.jsx(le,{id:"eventbriteUrl",value:g.eventbriteUrl||"",onChange:F=>T("eventbriteUrl",F.target.value),placeholder:"https://eventbrite.com/..."})]})]})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Series (Optional)"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(J,{htmlFor:"seriesName",children:"Series Name"}),c.jsx(le,{id:"seriesName",value:((H=g.series)==null?void 0:H.name)||"",onChange:F=>T("series.name",F.target.value),placeholder:"e.g., Weekly Figure Drawing"})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"seriesDescription",children:"Series Description"}),c.jsx(Kr,{id:"seriesDescription",value:((ee=g.series)==null?void 0:ee.description)||"",onChange:F=>T("series.description",F.target.value),placeholder:"Description of the event series",rows:2})]})]})]}),c.jsxs(Re,{children:[c.jsx(lt,{children:c.jsx(ct,{className:"text-lg",children:"Recurring Event"})}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pi,{id:"isRecurring",checked:g.isRecurring||!1,onCheckedChange:F=>{T("isRecurring",F),F||S([])}}),c.jsx(J,{htmlFor:"isRecurring",children:"This is a recurring event"})]}),g.isRecurring&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(J,{children:"Recurring Dates & Themes"}),c.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:D,children:[c.jsx(Uv,{className:"h-4 w-4 mr-2"}),"Add Date"]})]}),x.map((F,G)=>c.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[c.jsx(le,{placeholder:"Date (e.g., Jan 15)",value:F.date,onChange:L=>P(G,"date",L.target.value)}),c.jsx(le,{placeholder:"Theme",value:F.theme,onChange:L=>P(G,"theme",L.target.value)}),c.jsx(le,{placeholder:"Description",value:F.description,onChange:L=>P(G,"description",L.target.value)})]}),c.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(G),children:c.jsx(Bc,{className:"h-4 w-4"})})]},G))]})]})]}),c.jsxs("div",{children:[c.jsx(J,{htmlFor:"imageUrl",children:"Image URL"}),c.jsx(le,{id:"imageUrl",value:g.imageUrl||"",onChange:F=>T("imageUrl",F.target.value),placeholder:"https://example.com/image.jpg"})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[c.jsx("div",{children:s&&c.jsxs(se,{type:"button",variant:"destructive",onClick:b,disabled:a,children:[a&&c.jsx(ha,{className:"mr-2 h-4 w-4 animate-spin"}),c.jsx(KU,{className:"mr-2 h-4 w-4"}),"Delete Event"]})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),c.jsxs(se,{type:"submit",disabled:i,children:[i&&c.jsx(ha,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})]})]})]})]})})}function p7(){const{orgSlug:t}=wD(),e=fb(),{organization:n,events:r,loading:s,error:i,updateOrganization:o,refreshEvents:a}=xA(t||""),[l,d]=y.useState(!1),[h,f]=y.useState(null),[p,w]=y.useState(!1),[_,x]=y.useState(null),S=wh(),g=Kv("adminControls"),v=async j=>{d(!0),f(null);try{await o(j),f("✅ Organization updated successfully! Changes are now live."),setTimeout(()=>f(null),4e3)}catch(I){console.error("Failed to save organization:",I);const b=I instanceof Error?I.message:"Unknown error occurred";f(`❌ Failed to save changes: ${b}. Please try again.`),setTimeout(()=>f(null),7e3)}finally{d(!1)}},T=j=>{f("✅ Event created successfully!"),setTimeout(()=>f(null),4e3),a()},D=j=>{f("✅ Event updated successfully!"),setTimeout(()=>f(null),4e3),a(),x(null)},P=j=>{f("✅ Event deleted successfully!"),setTimeout(()=>f(null),4e3),a(),x(null)};return g?s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ha,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),c.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):i||!n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested organization could not be found."}),c.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b border-gray-200",children:c.jsxs("div",{className:"container mx-auto px-4 py-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(se,{variant:"outline",size:"sm",onClick:()=>e(`/${t}`),className:"flex items-center gap-2",children:[c.jsx(BU,{className:"h-4 w-4"}),"Back to Public Page"]}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[n.name," Admin"]}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your organization and events"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Gn,{variant:"secondary",className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),S]}),c.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}`,"_blank"),className:"flex items-center gap-2",children:[c.jsx(qU,{className:"h-4 w-4"}),"Preview"]})]})]}),h&&c.jsx("div",{className:`mt-4 p-4 rounded-lg border ${h.includes("✅")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:c.jsx("p",{className:"text-sm font-medium",children:h})})]})}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs(Q9,{defaultValue:"organization",className:"space-y-6",children:[c.jsxs(zA,{className:"grid w-full grid-cols-4",children:[c.jsxs(yl,{value:"organization",className:"flex items-center gap-2",children:[c.jsx(LC,{className:"h-4 w-4"}),"Organization"]}),c.jsxs(yl,{value:"events",className:"flex items-center gap-2",children:[c.jsx(xn,{className:"h-4 w-4"}),"Events"]}),c.jsxs(yl,{value:"registrations",className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-4 w-4"}),"Registrations"]}),c.jsxs(yl,{value:"analytics",className:"flex items-center gap-2",children:[c.jsx(rE,{className:"h-4 w-4"}),"Analytics"]})]}),c.jsx(vl,{value:"organization",children:c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Organization Settings"}),c.jsx(gn,{children:"Update your organization's information, branding, and contact details."})]}),c.jsx(Ve,{children:c.jsx(EA,{organization:n,onSave:v,onCancel:()=>{},isFullPage:!0,isSaving:l})})]})}),c.jsx(vl,{value:"events",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),c.jsx("p",{className:"text-gray-600",children:"Manage your organization's events"})]}),c.jsxs(se,{className:"flex items-center gap-2",onClick:()=>w(!0),children:[c.jsx(Uv,{className:"h-4 w-4"}),"Create Event"]})]}),r.length===0?c.jsx(Re,{children:c.jsxs(Ve,{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(xn,{className:"h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events yet"}),c.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Create your first event to start building your community."}),c.jsx(se,{onClick:()=>w(!0),children:"Create Your First Event"})]})}):c.jsx("div",{className:"space-y-4",children:r.map(j=>c.jsx(Re,{children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.title}),c.jsx(Gn,{variant:j.status==="published"?"default":"secondary",children:j.status})]}),c.jsx("p",{className:"text-gray-600 mb-3",children:j.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[c.jsxs("span",{children:[j.date instanceof Date?j.date.toLocaleDateString():new Date(j.date).toLocaleDateString()," • ",j.time]}),c.jsx("span",{children:j.location}),c.jsx("span",{children:j.price.description})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(se,{variant:"outline",size:"sm",onClick:()=>x(j),children:[c.jsx(bg,{className:"h-4 w-4 mr-2"}),"Edit"]}),c.jsx(se,{variant:"outline",size:"sm",onClick:()=>window.open(`/${t}#events`,"_blank"),children:c.jsx(mf,{className:"h-4 w-4"})})]})]})})},j.id))})]})}),c.jsx(vl,{value:"registrations",children:c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Registrations"}),c.jsx(gn,{children:"View and manage event registrations and attendee information."})]}),c.jsx(Ve,{children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(yh,{className:"h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Registration Management"}),c.jsx("p",{className:"text-gray-600 text-center",children:"Registration management features will be available soon."})]})})]})}),c.jsx(vl,{value:"analytics",children:c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsx(ct,{children:"Analytics"}),c.jsx(gn,{children:"Track your organization's performance and audience engagement."})]}),c.jsx(Ve,{children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(rE,{className:"h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),c.jsx("p",{className:"text-gray-600 text-center",children:"Analytics and insights will be available soon."})]})})]})})]})}),n&&c.jsxs(c.Fragment,{children:[c.jsx(h7,{organization:n,isOpen:p,onClose:()=>w(!1),onSuccess:T}),_&&c.jsx(f7,{event:_,isOpen:!!_,onClose:()=>x(null),onSuccess:D,onDelete:P})]})]}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin Access Disabled"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Admin controls are not available in the ",S," environment."]}),c.jsx(se,{onClick:()=>e("/"),children:"Return Home"})]})})}const m7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEBUG_MODE:"true",VITE_ENVIRONMENT:"development",VITE_EXPERIMENTAL_FEATURES:"true",VITE_FIREBASE_API_KEY:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",VITE_FIREBASE_APP_ID:"1:267601188129:web:ce80873298d39444ac1a60",VITE_FIREBASE_AUTH_DOMAIN:"voxxy-presents.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://voxxy-presents-default-rtdb.firebaseio.com",VITE_FIREBASE_MEASUREMENT_ID:"G-Q74Z0C9R28",VITE_FIREBASE_MESSAGING_SENDER_ID:"267601188129",VITE_FIREBASE_PROJECT_ID:"voxxy-presents",VITE_FIREBASE_STORAGE_BUCKET:"voxxy-presents.firebasestorage.app"};console.log("Environment Variables Debug:");console.log("VITE_FIREBASE_API_KEY:","AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ");console.log("VITE_FIREBASE_PROJECT_ID:","voxxy-presents");console.log("All env vars:",m7);const g7=()=>{const t={apiKey:"AIzaSyA1pznKYQCIaGaL5hChEb-zB2RguENR2FQ",authDomain:"voxxy-presents.firebaseapp.com",projectId:"voxxy-presents"};console.log("Firebase config being used:",t),Object.entries(t).forEach(([e,n])=>{!n||n==="undefined"?console.error(`❌ Missing environment variable for ${e}`):console.log(`✅ ${e}: ${n.substring(0,10)}...`)})};function y7(){const{user:t}=Q3(),[e,n]=y.useState([]),[r,s]=y.useState(!1),[i,o]=y.useState([]);y.useEffect(()=>{g7()},[]);const a=async()=>{s(!0);try{const w=await gl("voxxy-presents-nyc");if(w){o(x=>[...x,`✅ Voxxy Presents NYC found: ${w.name}`]);const _=await kg(w.id);n(_),o(x=>[...x,`✅ Found ${_.length} events for Voxxy Presents NYC`])}else o(_=>[..._,"❌ Voxxy Presents NYC not found - run seed script first"])}catch(w){o(_=>[..._,`❌ Error testing Voxxy Presents NYC: ${w}`])}s(!1)},l=async()=>{s(!0);try{const w=await k9({name:"Brooklyn Hearts Club",slug:"brooklyn-hearts-club",description:"An art club for adults that welcomes everyone",bio:"We aim to bring back whimsy and joy to the process of creating art in a shame-free, judgment-free zone where we can creatively express ourselves.",contactEmail:"info@brooklynheartsclub.com",socialLinks:{instagram:"@brooklynheartsclub",eventbrite:"https://eventbrite.com/brooklyn-hearts-club"},settings:{defaultLocation:"Crystal Lake",defaultAddress:"647 Grand Street, Brooklyn, NY 11211",theme:{primaryColor:"#7c3aed",backgroundColor:"#ffffff"}},ownerId:(t==null?void 0:t.uid)||"test-user"});o(_=>[..._,`✅ Organization created with ID: ${w}`])}catch(w){o(_=>[..._,`❌ Error creating organization: ${w}`])}s(!1)},d=async()=>{s(!0);try{const w=await gl("brooklyn-hearts-club");return w?(o(_=>[..._,`✅ Organization found: ${w.name}`]),w):(o(_=>[..._,"❌ Organization not found"]),null)}catch(w){return o(_=>[..._,`❌ Error retrieving organization: ${w}`]),null}finally{s(!1)}},h=async()=>{s(!0);try{const w=await gl("brooklyn-hearts-club");if(!w){o(x=>[...x,"❌ Need to create organization first"]),s(!1);return}const _=await R9({organizationId:w.id,title:"Sunday Stitch & B!tch",description:"A casual meet up with no strings attached - apart from those you stitch ;)",fullDescription:"Bring your own supplies: yarn, needles, embroidery supplies, etc. Chat up fellow enthusiasts while you work on your latest project.",category:"Workshop",date:new Date("2024-08-03T14:00:00"),time:"2:00 PM - 4:00 PM",location:"Crystal Lake",address:"647 Grand Street, Brooklyn, NY 11211",price:{type:"free",description:"Free"},registrationRequired:!1,presaleEnabled:!1,isRecurring:!1,status:"published"});o(x=>[...x,`✅ Event created with ID: ${_}`])}catch(w){o(_=>[..._,`❌ Error creating event: ${w}`])}s(!1)},f=async()=>{s(!0);try{const w=await gl("brooklyn-hearts-club");if(!w){o(x=>[...x,"❌ Need to create organization first"]),s(!1);return}const _=await kg(w.id);n(_),o(x=>[...x,`✅ Found ${_.length} events`])}catch(w){o(_=>[..._,`❌ Error retrieving events: ${w}`])}s(!1)},p=()=>{o([]),n([])};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b",children:c.jsx("div",{className:"container mx-auto px-4 py-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your events and organizations"})]}),t&&c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Gn,{variant:"secondary",children:t.email}),c.jsx(se,{variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsxs(ct,{className:"flex items-center gap-2",children:[c.jsx(sE,{className:"h-5 w-5"}),"Database Testing"]}),c.jsx(gn,{children:"Test Firebase Firestore connection and basic operations"})]}),c.jsxs(Ve,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(se,{onClick:a,disabled:r,variant:"outline",size:"sm",children:"Test Voxxy NYC"}),c.jsx(se,{onClick:l,disabled:r,variant:"outline",size:"sm",children:"Create Org"}),c.jsx(se,{onClick:d,disabled:r,variant:"outline",size:"sm",children:"Get Org"}),c.jsx(se,{onClick:h,disabled:r,variant:"outline",size:"sm",children:"Create Event"}),c.jsx(se,{onClick:f,disabled:r,variant:"outline",size:"sm",children:"Get Events"})]}),c.jsx(se,{onClick:p,variant:"secondary",size:"sm",className:"w-full",children:"Clear Results"}),c.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto",children:i.length===0?c.jsx("div",{className:"text-gray-500",children:"Ready to test database operations..."}):i.map((w,_)=>c.jsx("div",{className:"mb-1",children:w},_))})]})]}),c.jsxs(Re,{children:[c.jsxs(lt,{children:[c.jsxs(ct,{className:"flex items-center gap-2",children:[c.jsx(xn,{className:"h-5 w-5"}),"Events"]}),c.jsx(gn,{children:"Events retrieved from database"})]}),c.jsx(Ve,{children:e.length===0?c.jsx("div",{className:"text-center py-8 text-gray-500",children:'No events found. Click "Get Events" to load them.'}):c.jsx("div",{className:"space-y-4",children:e.map(w=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:w.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),c.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[c.jsx("span",{children:w.date.toLocaleDateString()}),c.jsx("span",{children:w.time}),c.jsx(Gn,{variant:"secondary",className:"text-xs",children:w.category})]})]}),c.jsx(Gn,{variant:w.status==="published"?"default":"secondary",children:w.status})]})},w.id))})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[c.jsx(Re,{children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(yh,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1"})]})]})})}),c.jsx(Re,{children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"h-8 w-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),c.jsx(Re,{children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(sE,{className:"h-8 w-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Connected"})]})]})})}),c.jsx(Re,{children:c.jsx(Ve,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(LC,{className:"h-8 w-8 text-orange-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Auth Status"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?"Signed In":"Anonymous"})]})]})})})]})]})]})}function v7(){return c.jsx(X3,{children:c.jsx(rO,{children:c.jsxs(OD,{children:[c.jsx(wo,{path:"/",element:c.jsx(YU,{})}),c.jsx(wo,{path:"/brooklyn-hearts-club",element:c.jsx(A9,{})}),c.jsx(wo,{path:"/voxxy-presents-nyc",element:c.jsx(D9,{})}),c.jsx(wo,{path:"/:orgSlug/admin",element:c.jsx(p7,{})}),c.jsx(wo,{path:"/admin",element:c.jsx(y7,{})})]})})})}rb(document.getElementById("root")).render(c.jsx(y.StrictMode,{children:c.jsx(v7,{})}));
